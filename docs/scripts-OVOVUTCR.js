(function(St,Sr){typeof exports=="object"&&typeof module<"u"?Sr(exports):typeof define=="function"&&define.amd?define(["exports"],Sr):Sr((St=typeof globalThis<"u"?globalThis:St||self).marked={})})(this,function(St){"use strict";function Sr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function xn(dr){St.defaults=dr}St.defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};const lr={exec:()=>null};function Ue(dr,he=""){let de=typeof dr=="string"?dr:dr.source;const Ee={replace:(Ae,Ce)=>{let ze=typeof Ce=="string"?Ce:Ce.source;return ze=ze.replace(ht.caret,"$1"),de=de.replace(Ae,ze),Ee},getRegex:()=>new RegExp(de,he)};return Ee}const ht={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:dr=>new RegExp(`^( {0,3}${dr})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:dr=>new RegExp(`^ {0,${Math.min(3,dr-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:dr=>new RegExp(`^ {0,${Math.min(3,dr-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:dr=>new RegExp(`^ {0,${Math.min(3,dr-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:dr=>new RegExp(`^ {0,${Math.min(3,dr-1)}}#`),htmlBeginRegex:dr=>new RegExp(`^ {0,${Math.min(3,dr-1)}}<(?:[a-z].*>|!--)`,"i")},o=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,I=/(?:[*+-]|\d{1,9}[.)])/,Mt=Ue(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,I).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Nt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Hr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ri=Ue(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Hr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),xr=Ue(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,I).getRegex(),Nr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Xr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Je=Ue("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Xr).replace("tag",Nr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ve=Ue(Nt).replace("hr",o).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nr).getRegex(),X={blockquote:Ue(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ve).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:ri,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:o,html:Je,lheading:Mt,list:xr,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:Ve,table:lr,text:/^[^\n]+/},vt=Ue("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",o).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nr).getRegex(),mt={...X,table:vt,paragraph:Ue(Nt).replace("hr",o).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",vt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nr).getRegex()},Ye={...X,html:Ue(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Xr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:lr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ue(Nt).replace("hr",o).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Mt).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Mr=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ut=/^( {2,}|\\)\n(?!\s*$)/,Ot=/[\p{P}\p{S}]/u,qt=/[\s\p{P}\p{S}]/u,er=/[^\s\p{P}\p{S}]/u,Ur=Ue(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,qt).getRegex(),on=Ue(/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,"u").replace(/punct/g,Ot).getRegex(),Br=Ue("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)","gu").replace(/notPunctSpace/g,er).replace(/punctSpace/g,qt).replace(/punct/g,Ot).getRegex(),ln=Ue("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,er).replace(/punctSpace/g,qt).replace(/punct/g,Ot).getRegex(),Ji=Ue(/\\(punct)/,"gu").replace(/punct/g,Ot).getRegex(),pn=Ue(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),vs=Ue(Xr).replace("(?:-->|$)","-->").getRegex(),Ho=Ue("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",vs).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Wo=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,fa=Ue(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Wo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),$p=Ue(/^!?\[(label)\]\[(ref)\]/).replace("label",Wo).replace("ref",Hr).getRegex(),bs=Ue(/^!?\[(ref)\](?:\[\])?/).replace("ref",Hr).getRegex(),Vo={_backpedal:lr,anyPunctuation:Ji,autolink:pn,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:Ut,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:lr,emStrongLDelim:on,emStrongRDelimAst:Br,emStrongRDelimUnd:ln,escape:Mr,link:fa,nolink:bs,punctuation:Ur,reflink:$p,reflinkSearch:Ue("reflink|nolink(?!\\()","g").replace("reflink",$p).replace("nolink",bs).getRegex(),tag:Ho,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:lr},Fl={...Vo,link:Ue(/^!?\[(label)\]\((.*?)\)/).replace("label",Wo).getRegex(),reflink:Ue(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Wo).getRegex()},Xo={...Vo,escape:Ue(Mr).replace("])","~|])").getRegex(),url:Ue(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Nd={...Xo,br:Ue(Ut).replace("{2,}","*").getRegex(),text:Ue(Xo.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ko={normal:X,gfm:mt,pedantic:Ye},fo={normal:Vo,gfm:Xo,breaks:Nd,pedantic:Fl},Nc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fp=dr=>Nc[dr];function ma(dr,he){if(he){if(ht.escapeTest.test(dr))return dr.replace(ht.escapeReplace,Fp)}else if(ht.escapeTestNoEncode.test(dr))return dr.replace(ht.escapeReplaceNoEncode,Fp);return dr}function Kf(dr){try{dr=encodeURI(dr).replace(ht.percentDecode,"%")}catch{return null}return dr}function Zf(dr,he){const de=dr.replace(ht.findPipe,(Ae,Ce,ze)=>{let je=!1,Bt=Ce;for(;--Bt>=0&&ze[Bt]==="\\";)je=!je;return je?"|":" |"}).split(ht.splitPipe);let Ee=0;if(de[0].trim()||de.shift(),de.length>0&&!de.at(-1)?.trim()&&de.pop(),he)if(de.length>he)de.splice(he);else for(;de.length<he;)de.push("");for(;Ee<de.length;Ee++)de[Ee]=de[Ee].trim().replace(ht.slashPipe,"|");return de}function Id(dr,he,de){const Ee=dr.length;if(Ee===0)return"";let Ae=0;for(;Ae<Ee;){const Ce=dr.charAt(Ee-Ae-1);if(Ce!==he||de){if(Ce===he||!de)break;Ae++}else Ae++}return dr.slice(0,Ee-Ae)}function Qf(dr,he,de,Ee,Ae){const Ce=he.href,ze=he.title||null,je=dr[1].replace(Ae.other.outputLinkReplace,"$1");if(dr[0].charAt(0)!=="!"){Ee.state.inLink=!0;const Bt={type:"link",raw:de,href:Ce,title:ze,text:je,tokens:Ee.inlineTokens(je)};return Ee.state.inLink=!1,Bt}return{type:"image",raw:de,href:Ce,title:ze,text:je}}class Zu{options;rules;lexer;constructor(he){this.options=he||St.defaults}space(he){const de=this.rules.block.newline.exec(he);if(de&&de[0].length>0)return{type:"space",raw:de[0]}}code(he){const de=this.rules.block.code.exec(he);if(de){const Ee=de[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:de[0],codeBlockStyle:"indented",text:this.options.pedantic?Ee:Id(Ee,`
`)}}}fences(he){const de=this.rules.block.fences.exec(he);if(de){const Ee=de[0],Ae=function(Ce,ze,je){const Bt=Ce.match(je.other.indentCodeCompensation);if(Bt===null)return ze;const kt=Bt[1];return ze.split(`
`).map(yr=>{const $r=yr.match(je.other.beginningSpace);if($r===null)return yr;const[rn]=$r;return rn.length>=kt.length?yr.slice(kt.length):yr}).join(`
`)}(Ee,de[3]||"",this.rules);return{type:"code",raw:Ee,lang:de[2]?de[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):de[2],text:Ae}}}heading(he){const de=this.rules.block.heading.exec(he);if(de){let Ee=de[2].trim();if(this.rules.other.endingHash.test(Ee)){const Ae=Id(Ee,"#");this.options.pedantic?Ee=Ae.trim():Ae&&!this.rules.other.endingSpaceChar.test(Ae)||(Ee=Ae.trim())}return{type:"heading",raw:de[0],depth:de[1].length,text:Ee,tokens:this.lexer.inline(Ee)}}}hr(he){const de=this.rules.block.hr.exec(he);if(de)return{type:"hr",raw:Id(de[0],`
`)}}blockquote(he){const de=this.rules.block.blockquote.exec(he);if(de){let Ee=Id(de[0],`
`).split(`
`),Ae="",Ce="";const ze=[];for(;Ee.length>0;){let je=!1;const Bt=[];let kt;for(kt=0;kt<Ee.length;kt++)if(this.rules.other.blockquoteStart.test(Ee[kt]))Bt.push(Ee[kt]),je=!0;else{if(je)break;Bt.push(Ee[kt])}Ee=Ee.slice(kt);const yr=Bt.join(`
`),$r=yr.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");Ae=Ae?`${Ae}
${yr}`:yr,Ce=Ce?`${Ce}
${$r}`:$r;const rn=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens($r,ze,!0),this.lexer.state.top=rn,Ee.length===0)break;const gn=ze.at(-1);if(gn?.type==="code")break;if(gn?.type==="blockquote"){const ji=gn,jn=ji.raw+`
`+Ee.join(`
`),zs=this.blockquote(jn);ze[ze.length-1]=zs,Ae=Ae.substring(0,Ae.length-ji.raw.length)+zs.raw,Ce=Ce.substring(0,Ce.length-ji.text.length)+zs.text;break}if(gn?.type==="list"){const ji=gn,jn=ji.raw+`
`+Ee.join(`
`),zs=this.list(jn);ze[ze.length-1]=zs,Ae=Ae.substring(0,Ae.length-gn.raw.length)+zs.raw,Ce=Ce.substring(0,Ce.length-ji.raw.length)+zs.raw,Ee=jn.substring(ze.at(-1).raw.length).split(`
`)}}return{type:"blockquote",raw:Ae,tokens:ze,text:Ce}}}list(he){let de=this.rules.block.list.exec(he);if(de){let Ee=de[1].trim();const Ae=Ee.length>1,Ce={type:"list",raw:"",ordered:Ae,start:Ae?+Ee.slice(0,-1):"",loose:!1,items:[]};Ee=Ae?`\\d{1,9}\\${Ee.slice(-1)}`:`\\${Ee}`,this.options.pedantic&&(Ee=Ae?Ee:"[*+-]");const ze=this.rules.other.listItemRegex(Ee);let je=!1;for(;he;){let kt=!1,yr="",$r="";if(!(de=ze.exec(he))||this.rules.block.hr.test(he))break;yr=de[0],he=he.substring(yr.length);let rn=de[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Ic=>" ".repeat(3*Ic.length)),gn=he.split(`
`,1)[0],ji=!rn.trim(),jn=0;if(this.options.pedantic?(jn=2,$r=rn.trimStart()):ji?jn=de[1].length+1:(jn=de[2].search(this.rules.other.nonSpaceChar),jn=jn>4?1:jn,$r=rn.slice(jn),jn+=de[1].length),ji&&this.rules.other.blankLine.test(gn)&&(yr+=gn+`
`,he=he.substring(gn.length+1),kt=!0),!kt){const Ic=this.rules.other.nextBulletRegex(jn),tm=this.rules.other.hrRegex(jn),rm=this.rules.other.fencesBeginRegex(jn),Dd=this.rules.other.headingBeginRegex(jn),pi=this.rules.other.htmlBeginRegex(jn);for(;he;){const Mc=he.split(`
`,1)[0];let Qo;if(gn=Mc,this.options.pedantic?(gn=gn.replace(this.rules.other.listReplaceNesting,"  "),Qo=gn):Qo=gn.replace(this.rules.other.tabCharGlobal,"    "),rm.test(gn)||Dd.test(gn)||pi.test(gn)||Ic.test(gn)||tm.test(gn))break;if(Qo.search(this.rules.other.nonSpaceChar)>=jn||!gn.trim())$r+=`
`+Qo.slice(jn);else{if(ji||rn.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||rm.test(rn)||Dd.test(rn)||tm.test(rn))break;$r+=`
`+gn}ji||gn.trim()||(ji=!0),yr+=Mc+`
`,he=he.substring(Mc.length+1),rn=Qo.slice(jn)}}Ce.loose||(je?Ce.loose=!0:this.rules.other.doubleBlankLine.test(yr)&&(je=!0));let zs,Zo=null;this.options.gfm&&(Zo=this.rules.other.listIsTask.exec($r),Zo&&(zs=Zo[0]!=="[ ] ",$r=$r.replace(this.rules.other.listReplaceTask,""))),Ce.items.push({type:"list_item",raw:yr,task:!!Zo,checked:zs,loose:!1,text:$r,tokens:[]}),Ce.raw+=yr}const Bt=Ce.items.at(-1);if(!Bt)return;Bt.raw=Bt.raw.trimEnd(),Bt.text=Bt.text.trimEnd(),Ce.raw=Ce.raw.trimEnd();for(let kt=0;kt<Ce.items.length;kt++)if(this.lexer.state.top=!1,Ce.items[kt].tokens=this.lexer.blockTokens(Ce.items[kt].text,[]),!Ce.loose){const yr=Ce.items[kt].tokens.filter(rn=>rn.type==="space"),$r=yr.length>0&&yr.some(rn=>this.rules.other.anyLine.test(rn.raw));Ce.loose=$r}if(Ce.loose)for(let kt=0;kt<Ce.items.length;kt++)Ce.items[kt].loose=!0;return Ce}}html(he){const de=this.rules.block.html.exec(he);if(de)return{type:"html",block:!0,raw:de[0],pre:de[1]==="pre"||de[1]==="script"||de[1]==="style",text:de[0]}}def(he){const de=this.rules.block.def.exec(he);if(de){const Ee=de[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),Ae=de[2]?de[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",Ce=de[3]?de[3].substring(1,de[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):de[3];return{type:"def",tag:Ee,raw:de[0],href:Ae,title:Ce}}}table(he){const de=this.rules.block.table.exec(he);if(!de||!this.rules.other.tableDelimiter.test(de[2]))return;const Ee=Zf(de[1]),Ae=de[2].replace(this.rules.other.tableAlignChars,"").split("|"),Ce=de[3]?.trim()?de[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],ze={type:"table",raw:de[0],header:[],align:[],rows:[]};if(Ee.length===Ae.length){for(const je of Ae)this.rules.other.tableAlignRight.test(je)?ze.align.push("right"):this.rules.other.tableAlignCenter.test(je)?ze.align.push("center"):this.rules.other.tableAlignLeft.test(je)?ze.align.push("left"):ze.align.push(null);for(let je=0;je<Ee.length;je++)ze.header.push({text:Ee[je],tokens:this.lexer.inline(Ee[je]),header:!0,align:ze.align[je]});for(const je of Ce)ze.rows.push(Zf(je,ze.header.length).map((Bt,kt)=>({text:Bt,tokens:this.lexer.inline(Bt),header:!1,align:ze.align[kt]})));return ze}}lheading(he){const de=this.rules.block.lheading.exec(he);if(de)return{type:"heading",raw:de[0],depth:de[2].charAt(0)==="="?1:2,text:de[1],tokens:this.lexer.inline(de[1])}}paragraph(he){const de=this.rules.block.paragraph.exec(he);if(de){const Ee=de[1].charAt(de[1].length-1)===`
`?de[1].slice(0,-1):de[1];return{type:"paragraph",raw:de[0],text:Ee,tokens:this.lexer.inline(Ee)}}}text(he){const de=this.rules.block.text.exec(he);if(de)return{type:"text",raw:de[0],text:de[0],tokens:this.lexer.inline(de[0])}}escape(he){const de=this.rules.inline.escape.exec(he);if(de)return{type:"escape",raw:de[0],text:de[1]}}tag(he){const de=this.rules.inline.tag.exec(he);if(de)return!this.lexer.state.inLink&&this.rules.other.startATag.test(de[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(de[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(de[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(de[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:de[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:de[0]}}link(he){const de=this.rules.inline.link.exec(he);if(de){const Ee=de[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(Ee)){if(!this.rules.other.endAngleBracket.test(Ee))return;const ze=Id(Ee.slice(0,-1),"\\");if((Ee.length-ze.length)%2==0)return}else{const ze=function(je,Bt){if(je.indexOf(Bt[1])===-1)return-1;let kt=0;for(let yr=0;yr<je.length;yr++)if(je[yr]==="\\")yr++;else if(je[yr]===Bt[0])kt++;else if(je[yr]===Bt[1]&&(kt--,kt<0))return yr;return-1}(de[2],"()");if(ze>-1){const je=(de[0].indexOf("!")===0?5:4)+de[1].length+ze;de[2]=de[2].substring(0,ze),de[0]=de[0].substring(0,je).trim(),de[3]=""}}let Ae=de[2],Ce="";if(this.options.pedantic){const ze=this.rules.other.pedanticHrefTitle.exec(Ae);ze&&(Ae=ze[1],Ce=ze[3])}else Ce=de[3]?de[3].slice(1,-1):"";return Ae=Ae.trim(),this.rules.other.startAngleBracket.test(Ae)&&(Ae=this.options.pedantic&&!this.rules.other.endAngleBracket.test(Ee)?Ae.slice(1):Ae.slice(1,-1)),Qf(de,{href:Ae&&Ae.replace(this.rules.inline.anyPunctuation,"$1"),title:Ce&&Ce.replace(this.rules.inline.anyPunctuation,"$1")},de[0],this.lexer,this.rules)}}reflink(he,de){let Ee;if((Ee=this.rules.inline.reflink.exec(he))||(Ee=this.rules.inline.nolink.exec(he))){const Ae=de[(Ee[2]||Ee[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!Ae){const Ce=Ee[0].charAt(0);return{type:"text",raw:Ce,text:Ce}}return Qf(Ee,Ae,Ee[0],this.lexer,this.rules)}}emStrong(he,de,Ee=""){let Ae=this.rules.inline.emStrongLDelim.exec(he);if(Ae&&!(Ae[3]&&Ee.match(this.rules.other.unicodeAlphaNumeric))&&(!(Ae[1]||Ae[2])||!Ee||this.rules.inline.punctuation.exec(Ee))){const Ce=[...Ae[0]].length-1;let ze,je,Bt=Ce,kt=0;const yr=Ae[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(yr.lastIndex=0,de=de.slice(-1*he.length+Ce);(Ae=yr.exec(de))!=null;){if(ze=Ae[1]||Ae[2]||Ae[3]||Ae[4]||Ae[5]||Ae[6],!ze)continue;if(je=[...ze].length,Ae[3]||Ae[4]){Bt+=je;continue}if((Ae[5]||Ae[6])&&Ce%3&&!((Ce+je)%3)){kt+=je;continue}if(Bt-=je,Bt>0)continue;je=Math.min(je,je+Bt+kt);const $r=[...Ae[0]][0].length,rn=he.slice(0,Ce+Ae.index+$r+je);if(Math.min(Ce,je)%2){const ji=rn.slice(1,-1);return{type:"em",raw:rn,text:ji,tokens:this.lexer.inlineTokens(ji)}}const gn=rn.slice(2,-2);return{type:"strong",raw:rn,text:gn,tokens:this.lexer.inlineTokens(gn)}}}}codespan(he){const de=this.rules.inline.code.exec(he);if(de){let Ee=de[2].replace(this.rules.other.newLineCharGlobal," ");const Ae=this.rules.other.nonSpaceChar.test(Ee),Ce=this.rules.other.startingSpaceChar.test(Ee)&&this.rules.other.endingSpaceChar.test(Ee);return Ae&&Ce&&(Ee=Ee.substring(1,Ee.length-1)),{type:"codespan",raw:de[0],text:Ee}}}br(he){const de=this.rules.inline.br.exec(he);if(de)return{type:"br",raw:de[0]}}del(he){const de=this.rules.inline.del.exec(he);if(de)return{type:"del",raw:de[0],text:de[2],tokens:this.lexer.inlineTokens(de[2])}}autolink(he){const de=this.rules.inline.autolink.exec(he);if(de){let Ee,Ae;return de[2]==="@"?(Ee=de[1],Ae="mailto:"+Ee):(Ee=de[1],Ae=Ee),{type:"link",raw:de[0],text:Ee,href:Ae,tokens:[{type:"text",raw:Ee,text:Ee}]}}}url(he){let de;if(de=this.rules.inline.url.exec(he)){let Ee,Ae;if(de[2]==="@")Ee=de[0],Ae="mailto:"+Ee;else{let Ce;do Ce=de[0],de[0]=this.rules.inline._backpedal.exec(de[0])?.[0]??"";while(Ce!==de[0]);Ee=de[0],Ae=de[1]==="www."?"http://"+de[0]:de[0]}return{type:"link",raw:de[0],text:Ee,href:Ae,tokens:[{type:"text",raw:Ee,text:Ee}]}}}inlineText(he){const de=this.rules.inline.text.exec(he);if(de){const Ee=this.lexer.state.inRawBlock;return{type:"text",raw:de[0],text:de[0],escaped:Ee}}}}class Wa{tokens;options;state;tokenizer;inlineQueue;constructor(he){this.tokens=[],this.tokens.links=Object.create(null),this.options=he||St.defaults,this.options.tokenizer=this.options.tokenizer||new Zu,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const de={other:ht,block:Ko.normal,inline:fo.normal};this.options.pedantic?(de.block=Ko.pedantic,de.inline=fo.pedantic):this.options.gfm&&(de.block=Ko.gfm,this.options.breaks?de.inline=fo.breaks:de.inline=fo.gfm),this.tokenizer.rules=de}static get rules(){return{block:Ko,inline:fo}}static lex(he,de){return new Wa(de).lex(he)}static lexInline(he,de){return new Wa(de).inlineTokens(he)}lex(he){he=he.replace(ht.carriageReturn,`
`),this.blockTokens(he,this.tokens);for(let de=0;de<this.inlineQueue.length;de++){const Ee=this.inlineQueue[de];this.inlineTokens(Ee.src,Ee.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(he,de=[],Ee=!1){for(this.options.pedantic&&(he=he.replace(ht.tabCharGlobal,"    ").replace(ht.spaceLine,""));he;){let Ae;if(this.options.extensions?.block?.some(ze=>!!(Ae=ze.call({lexer:this},he,de))&&(he=he.substring(Ae.raw.length),de.push(Ae),!0)))continue;if(Ae=this.tokenizer.space(he)){he=he.substring(Ae.raw.length);const ze=de.at(-1);Ae.raw.length===1&&ze!==void 0?ze.raw+=`
`:de.push(Ae);continue}if(Ae=this.tokenizer.code(he)){he=he.substring(Ae.raw.length);const ze=de.at(-1);ze?.type==="paragraph"||ze?.type==="text"?(ze.raw+=`
`+Ae.raw,ze.text+=`
`+Ae.text,this.inlineQueue.at(-1).src=ze.text):de.push(Ae);continue}if(Ae=this.tokenizer.fences(he)){he=he.substring(Ae.raw.length),de.push(Ae);continue}if(Ae=this.tokenizer.heading(he)){he=he.substring(Ae.raw.length),de.push(Ae);continue}if(Ae=this.tokenizer.hr(he)){he=he.substring(Ae.raw.length),de.push(Ae);continue}if(Ae=this.tokenizer.blockquote(he)){he=he.substring(Ae.raw.length),de.push(Ae);continue}if(Ae=this.tokenizer.list(he)){he=he.substring(Ae.raw.length),de.push(Ae);continue}if(Ae=this.tokenizer.html(he)){he=he.substring(Ae.raw.length),de.push(Ae);continue}if(Ae=this.tokenizer.def(he)){he=he.substring(Ae.raw.length);const ze=de.at(-1);ze?.type==="paragraph"||ze?.type==="text"?(ze.raw+=`
`+Ae.raw,ze.text+=`
`+Ae.raw,this.inlineQueue.at(-1).src=ze.text):this.tokens.links[Ae.tag]||(this.tokens.links[Ae.tag]={href:Ae.href,title:Ae.title});continue}if(Ae=this.tokenizer.table(he)){he=he.substring(Ae.raw.length),de.push(Ae);continue}if(Ae=this.tokenizer.lheading(he)){he=he.substring(Ae.raw.length),de.push(Ae);continue}let Ce=he;if(this.options.extensions?.startBlock){let ze=1/0;const je=he.slice(1);let Bt;this.options.extensions.startBlock.forEach(kt=>{Bt=kt.call({lexer:this},je),typeof Bt=="number"&&Bt>=0&&(ze=Math.min(ze,Bt))}),ze<1/0&&ze>=0&&(Ce=he.substring(0,ze+1))}if(this.state.top&&(Ae=this.tokenizer.paragraph(Ce))){const ze=de.at(-1);Ee&&ze?.type==="paragraph"?(ze.raw+=`
`+Ae.raw,ze.text+=`
`+Ae.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=ze.text):de.push(Ae),Ee=Ce.length!==he.length,he=he.substring(Ae.raw.length)}else if(Ae=this.tokenizer.text(he)){he=he.substring(Ae.raw.length);const ze=de.at(-1);ze?.type==="text"?(ze.raw+=`
`+Ae.raw,ze.text+=`
`+Ae.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=ze.text):de.push(Ae)}else if(he){const ze="Infinite loop on byte: "+he.charCodeAt(0);if(this.options.silent){console.error(ze);break}throw new Error(ze)}}return this.state.top=!0,de}inline(he,de=[]){return this.inlineQueue.push({src:he,tokens:de}),de}inlineTokens(he,de=[]){let Ee=he,Ae=null;if(this.tokens.links){const je=Object.keys(this.tokens.links);if(je.length>0)for(;(Ae=this.tokenizer.rules.inline.reflinkSearch.exec(Ee))!=null;)je.includes(Ae[0].slice(Ae[0].lastIndexOf("[")+1,-1))&&(Ee=Ee.slice(0,Ae.index)+"["+"a".repeat(Ae[0].length-2)+"]"+Ee.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ae=this.tokenizer.rules.inline.blockSkip.exec(Ee))!=null;)Ee=Ee.slice(0,Ae.index)+"["+"a".repeat(Ae[0].length-2)+"]"+Ee.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ae=this.tokenizer.rules.inline.anyPunctuation.exec(Ee))!=null;)Ee=Ee.slice(0,Ae.index)+"++"+Ee.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let Ce=!1,ze="";for(;he;){let je;if(Ce||(ze=""),Ce=!1,this.options.extensions?.inline?.some(kt=>!!(je=kt.call({lexer:this},he,de))&&(he=he.substring(je.raw.length),de.push(je),!0)))continue;if(je=this.tokenizer.escape(he)){he=he.substring(je.raw.length),de.push(je);continue}if(je=this.tokenizer.tag(he)){he=he.substring(je.raw.length),de.push(je);continue}if(je=this.tokenizer.link(he)){he=he.substring(je.raw.length),de.push(je);continue}if(je=this.tokenizer.reflink(he,this.tokens.links)){he=he.substring(je.raw.length);const kt=de.at(-1);je.type==="text"&&kt?.type==="text"?(kt.raw+=je.raw,kt.text+=je.text):de.push(je);continue}if(je=this.tokenizer.emStrong(he,Ee,ze)){he=he.substring(je.raw.length),de.push(je);continue}if(je=this.tokenizer.codespan(he)){he=he.substring(je.raw.length),de.push(je);continue}if(je=this.tokenizer.br(he)){he=he.substring(je.raw.length),de.push(je);continue}if(je=this.tokenizer.del(he)){he=he.substring(je.raw.length),de.push(je);continue}if(je=this.tokenizer.autolink(he)){he=he.substring(je.raw.length),de.push(je);continue}if(!this.state.inLink&&(je=this.tokenizer.url(he))){he=he.substring(je.raw.length),de.push(je);continue}let Bt=he;if(this.options.extensions?.startInline){let kt=1/0;const yr=he.slice(1);let $r;this.options.extensions.startInline.forEach(rn=>{$r=rn.call({lexer:this},yr),typeof $r=="number"&&$r>=0&&(kt=Math.min(kt,$r))}),kt<1/0&&kt>=0&&(Bt=he.substring(0,kt+1))}if(je=this.tokenizer.inlineText(Bt)){he=he.substring(je.raw.length),je.raw.slice(-1)!=="_"&&(ze=je.raw.slice(-1)),Ce=!0;const kt=de.at(-1);kt?.type==="text"?(kt.raw+=je.raw,kt.text+=je.text):de.push(je)}else if(he){const kt="Infinite loop on byte: "+he.charCodeAt(0);if(this.options.silent){console.error(kt);break}throw new Error(kt)}}return de}}class Qu{options;parser;constructor(he){this.options=he||St.defaults}space(he){return""}code({text:he,lang:de,escaped:Ee}){const Ae=(de||"").match(ht.notSpaceStart)?.[0],Ce=he.replace(ht.endingNewline,"")+`
`;return Ae?'<pre><code class="language-'+ma(Ae)+'">'+(Ee?Ce:ma(Ce,!0))+`</code></pre>
`:"<pre><code>"+(Ee?Ce:ma(Ce,!0))+`</code></pre>
`}blockquote({tokens:he}){return`<blockquote>
${this.parser.parse(he)}</blockquote>
`}html({text:he}){return he}heading({tokens:he,depth:de}){return`<h${de}>${this.parser.parseInline(he)}</h${de}>
`}hr(he){return`<hr>
`}list(he){const de=he.ordered,Ee=he.start;let Ae="";for(let ze=0;ze<he.items.length;ze++){const je=he.items[ze];Ae+=this.listitem(je)}const Ce=de?"ol":"ul";return"<"+Ce+(de&&Ee!==1?' start="'+Ee+'"':"")+`>
`+Ae+"</"+Ce+`>
`}listitem(he){let de="";if(he.task){const Ee=this.checkbox({checked:!!he.checked});he.loose?he.tokens[0]?.type==="paragraph"?(he.tokens[0].text=Ee+" "+he.tokens[0].text,he.tokens[0].tokens&&he.tokens[0].tokens.length>0&&he.tokens[0].tokens[0].type==="text"&&(he.tokens[0].tokens[0].text=Ee+" "+ma(he.tokens[0].tokens[0].text),he.tokens[0].tokens[0].escaped=!0)):he.tokens.unshift({type:"text",raw:Ee+" ",text:Ee+" ",escaped:!0}):de+=Ee+" "}return de+=this.parser.parse(he.tokens,!!he.loose),`<li>${de}</li>
`}checkbox({checked:he}){return"<input "+(he?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:he}){return`<p>${this.parser.parseInline(he)}</p>
`}table(he){let de="",Ee="";for(let Ce=0;Ce<he.header.length;Ce++)Ee+=this.tablecell(he.header[Ce]);de+=this.tablerow({text:Ee});let Ae="";for(let Ce=0;Ce<he.rows.length;Ce++){const ze=he.rows[Ce];Ee="";for(let je=0;je<ze.length;je++)Ee+=this.tablecell(ze[je]);Ae+=this.tablerow({text:Ee})}return Ae&&(Ae=`<tbody>${Ae}</tbody>`),`<table>
<thead>
`+de+`</thead>
`+Ae+`</table>
`}tablerow({text:he}){return`<tr>
${he}</tr>
`}tablecell(he){const de=this.parser.parseInline(he.tokens),Ee=he.header?"th":"td";return(he.align?`<${Ee} align="${he.align}">`:`<${Ee}>`)+de+`</${Ee}>
`}strong({tokens:he}){return`<strong>${this.parser.parseInline(he)}</strong>`}em({tokens:he}){return`<em>${this.parser.parseInline(he)}</em>`}codespan({text:he}){return`<code>${ma(he,!0)}</code>`}br(he){return"<br>"}del({tokens:he}){return`<del>${this.parser.parseInline(he)}</del>`}link({href:he,title:de,tokens:Ee}){const Ae=this.parser.parseInline(Ee),Ce=Kf(he);if(Ce===null)return Ae;let ze='<a href="'+(he=Ce)+'"';return de&&(ze+=' title="'+ma(de)+'"'),ze+=">"+Ae+"</a>",ze}image({href:he,title:de,text:Ee}){const Ae=Kf(he);if(Ae===null)return ma(Ee);let Ce=`<img src="${he=Ae}" alt="${Ee}"`;return de&&(Ce+=` title="${ma(de)}"`),Ce+=">",Ce}text(he){return"tokens"in he&&he.tokens?this.parser.parseInline(he.tokens):"escaped"in he&&he.escaped?he.text:ma(he.text)}}class Md{strong({text:he}){return he}em({text:he}){return he}codespan({text:he}){return he}del({text:he}){return he}html({text:he}){return he}text({text:he}){return he}link({text:he}){return""+he}image({text:he}){return""+he}br(){return""}}class Da{options;renderer;textRenderer;constructor(he){this.options=he||St.defaults,this.options.renderer=this.options.renderer||new Qu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Md}static parse(he,de){return new Da(de).parse(he)}static parseInline(he,de){return new Da(de).parseInline(he)}parse(he,de=!0){let Ee="";for(let Ae=0;Ae<he.length;Ae++){const Ce=he[Ae];if(this.options.extensions?.renderers?.[Ce.type]){const je=Ce,Bt=this.options.extensions.renderers[je.type].call({parser:this},je);if(Bt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(je.type)){Ee+=Bt||"";continue}}const ze=Ce;switch(ze.type){case"space":Ee+=this.renderer.space(ze);continue;case"hr":Ee+=this.renderer.hr(ze);continue;case"heading":Ee+=this.renderer.heading(ze);continue;case"code":Ee+=this.renderer.code(ze);continue;case"table":Ee+=this.renderer.table(ze);continue;case"blockquote":Ee+=this.renderer.blockquote(ze);continue;case"list":Ee+=this.renderer.list(ze);continue;case"html":Ee+=this.renderer.html(ze);continue;case"paragraph":Ee+=this.renderer.paragraph(ze);continue;case"text":{let je=ze,Bt=this.renderer.text(je);for(;Ae+1<he.length&&he[Ae+1].type==="text";)je=he[++Ae],Bt+=`
`+this.renderer.text(je);Ee+=de?this.renderer.paragraph({type:"paragraph",raw:Bt,text:Bt,tokens:[{type:"text",raw:Bt,text:Bt,escaped:!0}]}):Bt;continue}default:{const je='Token with "'+ze.type+'" type was not found.';if(this.options.silent)return console.error(je),"";throw new Error(je)}}}return Ee}parseInline(he,de=this.renderer){let Ee="";for(let Ae=0;Ae<he.length;Ae++){const Ce=he[Ae];if(this.options.extensions?.renderers?.[Ce.type]){const je=this.options.extensions.renderers[Ce.type].call({parser:this},Ce);if(je!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ce.type)){Ee+=je||"";continue}}const ze=Ce;switch(ze.type){case"escape":case"text":Ee+=de.text(ze);break;case"html":Ee+=de.html(ze);break;case"link":Ee+=de.link(ze);break;case"image":Ee+=de.image(ze);break;case"strong":Ee+=de.strong(ze);break;case"em":Ee+=de.em(ze);break;case"codespan":Ee+=de.codespan(ze);break;case"br":Ee+=de.br(ze);break;case"del":Ee+=de.del(ze);break;default:{const je='Token with "'+ze.type+'" type was not found.';if(this.options.silent)return console.error(je),"";throw new Error(je)}}}return Ee}}class Ju{options;block;constructor(he){this.options=he||St.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(he){return he}postprocess(he){return he}processAllTokens(he){return he}provideLexer(){return this.block?Wa.lex:Wa.lexInline}provideParser(){return this.block?Da.parse:Da.parseInline}}class $x{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Da;Renderer=Qu;TextRenderer=Md;Lexer=Wa;Tokenizer=Zu;Hooks=Ju;constructor(...he){this.use(...he)}walkTokens(he,de){let Ee=[];for(const Ae of he)switch(Ee=Ee.concat(de.call(this,Ae)),Ae.type){case"table":{const Ce=Ae;for(const ze of Ce.header)Ee=Ee.concat(this.walkTokens(ze.tokens,de));for(const ze of Ce.rows)for(const je of ze)Ee=Ee.concat(this.walkTokens(je.tokens,de));break}case"list":{const Ce=Ae;Ee=Ee.concat(this.walkTokens(Ce.items,de));break}default:{const Ce=Ae;this.defaults.extensions?.childTokens?.[Ce.type]?this.defaults.extensions.childTokens[Ce.type].forEach(ze=>{const je=Ce[ze].flat(1/0);Ee=Ee.concat(this.walkTokens(je,de))}):Ce.tokens&&(Ee=Ee.concat(this.walkTokens(Ce.tokens,de)))}}return Ee}use(...he){const de=this.defaults.extensions||{renderers:{},childTokens:{}};return he.forEach(Ee=>{const Ae={...Ee};if(Ae.async=this.defaults.async||Ae.async||!1,Ee.extensions&&(Ee.extensions.forEach(Ce=>{if(!Ce.name)throw new Error("extension name required");if("renderer"in Ce){const ze=de.renderers[Ce.name];de.renderers[Ce.name]=ze?function(...je){let Bt=Ce.renderer.apply(this,je);return Bt===!1&&(Bt=ze.apply(this,je)),Bt}:Ce.renderer}if("tokenizer"in Ce){if(!Ce.level||Ce.level!=="block"&&Ce.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const ze=de[Ce.level];ze?ze.unshift(Ce.tokenizer):de[Ce.level]=[Ce.tokenizer],Ce.start&&(Ce.level==="block"?de.startBlock?de.startBlock.push(Ce.start):de.startBlock=[Ce.start]:Ce.level==="inline"&&(de.startInline?de.startInline.push(Ce.start):de.startInline=[Ce.start]))}"childTokens"in Ce&&Ce.childTokens&&(de.childTokens[Ce.name]=Ce.childTokens)}),Ae.extensions=de),Ee.renderer){const Ce=this.defaults.renderer||new Qu(this.defaults);for(const ze in Ee.renderer){if(!(ze in Ce))throw new Error(`renderer '${ze}' does not exist`);if(["options","parser"].includes(ze))continue;const je=ze,Bt=Ee.renderer[je],kt=Ce[je];Ce[je]=(...yr)=>{let $r=Bt.apply(Ce,yr);return $r===!1&&($r=kt.apply(Ce,yr)),$r||""}}Ae.renderer=Ce}if(Ee.tokenizer){const Ce=this.defaults.tokenizer||new Zu(this.defaults);for(const ze in Ee.tokenizer){if(!(ze in Ce))throw new Error(`tokenizer '${ze}' does not exist`);if(["options","rules","lexer"].includes(ze))continue;const je=ze,Bt=Ee.tokenizer[je],kt=Ce[je];Ce[je]=(...yr)=>{let $r=Bt.apply(Ce,yr);return $r===!1&&($r=kt.apply(Ce,yr)),$r}}Ae.tokenizer=Ce}if(Ee.hooks){const Ce=this.defaults.hooks||new Ju;for(const ze in Ee.hooks){if(!(ze in Ce))throw new Error(`hook '${ze}' does not exist`);if(["options","block"].includes(ze))continue;const je=ze,Bt=Ee.hooks[je],kt=Ce[je];Ju.passThroughHooks.has(ze)?Ce[je]=yr=>{if(this.defaults.async)return Promise.resolve(Bt.call(Ce,yr)).then(rn=>kt.call(Ce,rn));const $r=Bt.call(Ce,yr);return kt.call(Ce,$r)}:Ce[je]=(...yr)=>{let $r=Bt.apply(Ce,yr);return $r===!1&&($r=kt.apply(Ce,yr)),$r}}Ae.hooks=Ce}if(Ee.walkTokens){const Ce=this.defaults.walkTokens,ze=Ee.walkTokens;Ae.walkTokens=function(je){let Bt=[];return Bt.push(ze.call(this,je)),Ce&&(Bt=Bt.concat(Ce.call(this,je))),Bt}}this.defaults={...this.defaults,...Ae}}),this}setOptions(he){return this.defaults={...this.defaults,...he},this}lexer(he,de){return Wa.lex(he,de??this.defaults)}parser(he,de){return Da.parse(he,de??this.defaults)}parseMarkdown(he){return(de,Ee)=>{const Ae={...Ee},Ce={...this.defaults,...Ae},ze=this.onError(!!Ce.silent,!!Ce.async);if(this.defaults.async===!0&&Ae.async===!1)return ze(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(de==null)return ze(new Error("marked(): input parameter is undefined or null"));if(typeof de!="string")return ze(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(de)+", string expected"));Ce.hooks&&(Ce.hooks.options=Ce,Ce.hooks.block=he);const je=Ce.hooks?Ce.hooks.provideLexer():he?Wa.lex:Wa.lexInline,Bt=Ce.hooks?Ce.hooks.provideParser():he?Da.parse:Da.parseInline;if(Ce.async)return Promise.resolve(Ce.hooks?Ce.hooks.preprocess(de):de).then(kt=>je(kt,Ce)).then(kt=>Ce.hooks?Ce.hooks.processAllTokens(kt):kt).then(kt=>Ce.walkTokens?Promise.all(this.walkTokens(kt,Ce.walkTokens)).then(()=>kt):kt).then(kt=>Bt(kt,Ce)).then(kt=>Ce.hooks?Ce.hooks.postprocess(kt):kt).catch(ze);try{Ce.hooks&&(de=Ce.hooks.preprocess(de));let kt=je(de,Ce);Ce.hooks&&(kt=Ce.hooks.processAllTokens(kt)),Ce.walkTokens&&this.walkTokens(kt,Ce.walkTokens);let yr=Bt(kt,Ce);return Ce.hooks&&(yr=Ce.hooks.postprocess(yr)),yr}catch(kt){return ze(kt)}}}onError(he,de){return Ee=>{if(Ee.message+=`
Please report this to https://github.com/markedjs/marked.`,he){const Ae="<p>An error occurred:</p><pre>"+ma(Ee.message+"",!0)+"</pre>";return de?Promise.resolve(Ae):Ae}if(de)return Promise.reject(Ee);throw Ee}}}const zl=new $x;function cn(dr,he){return zl.parse(dr,he)}cn.options=cn.setOptions=function(dr){return zl.setOptions(dr),cn.defaults=zl.defaults,xn(cn.defaults),cn},cn.getDefaults=Sr,cn.defaults=St.defaults,cn.use=function(...dr){return zl.use(...dr),cn.defaults=zl.defaults,xn(cn.defaults),cn},cn.walkTokens=function(dr,he){return zl.walkTokens(dr,he)},cn.parseInline=zl.parseInline,cn.Parser=Da,cn.parser=Da.parse,cn.Renderer=Qu,cn.TextRenderer=Md,cn.Lexer=Wa,cn.lexer=Wa.lex,cn.Tokenizer=Zu,cn.Hooks=Ju,cn.parse=cn;const o8=cn.options,l8=cn.setOptions,c8=cn.use,u8=cn.walkTokens,h8=cn.parseInline,Jf=cn,zp=Da.parse,em=Wa.lex;St.Hooks=Ju,St.Lexer=Wa,St.Marked=$x,St.Parser=Da,St.Renderer=Qu,St.TextRenderer=Md,St.Tokenizer=Zu,St.getDefaults=Sr,St.lexer=em,St.marked=cn,St.options=o8,St.parse=Jf,St.parseInline=h8,St.parser=zp,St.setOptions=l8,St.use=c8,St.walkTokens=u8});var __esbuild_esm_mermaid=(()=>{var St=Object.create,Sr=Object.defineProperty,xn=Object.getOwnPropertyDescriptor,lr=Object.getOwnPropertyNames,Ue=Object.getPrototypeOf,ht=Object.prototype.hasOwnProperty,o=(e,t)=>Sr(e,"name",{value:t,configurable:!0}),I=(e,t)=>()=>(e&&(t=e(e=0)),t),Mt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Nt=(e,t)=>{for(var r in t)Sr(e,r,{get:t[r],enumerable:!0})},Hr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of lr(t))!ht.call(e,i)&&i!==r&&Sr(e,i,{get:()=>t[i],enumerable:!(n=xn(t,i))||n.enumerable});return e},ri=(e,t,r)=>(Hr(e,t,"default"),r&&Hr(r,t,"default")),xr=(e,t,r)=>(r=e!=null?St(Ue(e)):{},Hr(t||!e||!e.__esModule?Sr(r,"default",{value:e,enumerable:!0}):r,e)),Nr=e=>Hr(Sr({},"__esModule",{value:!0}),e),Xr=Mt((e,t)=>{"use strict";(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=n()})(e,function(){"use strict";var r=1e3,n=6e4,i=36e5,a="millisecond",s="second",l="minute",u="hour",h="day",d="week",p="month",f="quarter",g="year",m="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:o(function(E){var R=["th","st","nd","rd"],O=E%100;return"["+E+(R[(O-20)%10]||R[O]||R[0])+"]"},"ordinal")},k=o(function(E,R,O){var P=String(E);return!P||P.length>=R?E:""+Array(R+1-P.length).join(O)+E},"m"),w={s:k,z:o(function(E){var R=-E.utcOffset(),O=Math.abs(R),P=Math.floor(O/60),A=O%60;return(R<=0?"+":"-")+k(P,2,"0")+":"+k(A,2,"0")},"z"),m:o(function E(R,O){if(R.date()<O.date())return-E(O,R);var P=12*(O.year()-R.year())+(O.month()-R.month()),A=R.clone().add(P,p),$=O-A<0,F=R.clone().add(P+($?-1:1),p);return+(-(P+(O-A)/($?A-F:F-A))||0)},"t"),a:o(function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},"a"),p:o(function(E){return{M:p,y:g,w:d,d:h,D:m,h:u,m:l,s,ms:a,Q:f}[E]||String(E||"").toLowerCase().replace(/s$/,"")},"p"),u:o(function(E){return E===void 0},"u")},_="en",S={};S[_]=x;var C="$isDayjsObject",T=o(function(E){return E instanceof L||!(!E||!E[C])},"S"),N=o(function E(R,O,P){var A;if(!R)return _;if(typeof R=="string"){var $=R.toLowerCase();S[$]&&(A=$),O&&(S[$]=O,A=$);var F=R.split("-");if(!A&&F.length>1)return E(F[0])}else{var G=R.name;S[G]=R,A=G}return!P&&A&&(_=A),A||!P&&_},"t"),D=o(function(E,R){if(T(E))return E.clone();var O=typeof R=="object"?R:{};return O.date=E,O.args=arguments,new L(O)},"O"),M=w;M.l=N,M.i=T,M.w=function(E,R){return D(E,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var L=function(){function E(O){this.$L=N(O.locale,null,!0),this.parse(O),this.$x=this.$x||O.x||{},this[C]=!0}o(E,"M");var R=E.prototype;return R.parse=function(O){this.$d=function(P){var A=P.date,$=P.utc;if(A===null)return new Date(NaN);if(M.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var F=A.match(b);if(F){var G=F[2]-1||0,q=(F[7]||"0").substring(0,3);return $?new Date(Date.UTC(F[1],G,F[3]||1,F[4]||0,F[5]||0,F[6]||0,q)):new Date(F[1],G,F[3]||1,F[4]||0,F[5]||0,F[6]||0,q)}}return new Date(A)}(O),this.init()},R.init=function(){var O=this.$d;this.$y=O.getFullYear(),this.$M=O.getMonth(),this.$D=O.getDate(),this.$W=O.getDay(),this.$H=O.getHours(),this.$m=O.getMinutes(),this.$s=O.getSeconds(),this.$ms=O.getMilliseconds()},R.$utils=function(){return M},R.isValid=function(){return this.$d.toString()!==y},R.isSame=function(O,P){var A=D(O);return this.startOf(P)<=A&&A<=this.endOf(P)},R.isAfter=function(O,P){return D(O)<this.startOf(P)},R.isBefore=function(O,P){return this.endOf(P)<D(O)},R.$g=function(O,P,A){return M.u(O)?this[P]:this.set(A,O)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(O,P){var A=this,$=!!M.u(P)||P,F=M.p(O),G=o(function(V,U){var ne=M.w(A.$u?Date.UTC(A.$y,U,V):new Date(A.$y,U,V),A);return $?ne:ne.endOf(h)},"l"),q=o(function(V,U){return M.w(A.toDate()[V].apply(A.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(U)),A)},"$"),W=this.$W,re=this.$M,oe=this.$D,te="set"+(this.$u?"UTC":"");switch(F){case g:return $?G(1,0):G(31,11);case p:return $?G(1,re):G(0,re+1);case d:var se=this.$locale().weekStart||0,Y=(W<se?W+7:W)-se;return G($?oe-Y:oe+(6-Y),re);case h:case m:return q(te+"Hours",0);case u:return q(te+"Minutes",1);case l:return q(te+"Seconds",2);case s:return q(te+"Milliseconds",3);default:return this.clone()}},R.endOf=function(O){return this.startOf(O,!1)},R.$set=function(O,P){var A,$=M.p(O),F="set"+(this.$u?"UTC":""),G=(A={},A[h]=F+"Date",A[m]=F+"Date",A[p]=F+"Month",A[g]=F+"FullYear",A[u]=F+"Hours",A[l]=F+"Minutes",A[s]=F+"Seconds",A[a]=F+"Milliseconds",A)[$],q=$===h?this.$D+(P-this.$W):P;if($===p||$===g){var W=this.clone().set(m,1);W.$d[G](q),W.init(),this.$d=W.set(m,Math.min(this.$D,W.daysInMonth())).$d}else G&&this.$d[G](q);return this.init(),this},R.set=function(O,P){return this.clone().$set(O,P)},R.get=function(O){return this[M.p(O)]()},R.add=function(O,P){var A,$=this;O=Number(O);var F=M.p(P),G=o(function(re){var oe=D($);return M.w(oe.date(oe.date()+Math.round(re*O)),$)},"y");if(F===p)return this.set(p,this.$M+O);if(F===g)return this.set(g,this.$y+O);if(F===h)return G(1);if(F===d)return G(7);var q=(A={},A[l]=n,A[u]=i,A[s]=r,A)[F]||1,W=this.$d.getTime()+O*q;return M.w(W,this)},R.subtract=function(O,P){return this.add(-1*O,P)},R.format=function(O){var P=this,A=this.$locale();if(!this.isValid())return A.invalidDate||y;var $=O||"YYYY-MM-DDTHH:mm:ssZ",F=M.z(this),G=this.$H,q=this.$m,W=this.$M,re=A.weekdays,oe=A.months,te=A.meridiem,se=o(function(U,ne,K,fe){return U&&(U[ne]||U(P,$))||K[ne].slice(0,fe)},"h"),Y=o(function(U){return M.s(G%12||12,U,"0")},"d"),V=te||function(U,ne,K){var fe=U<12?"AM":"PM";return K?fe.toLowerCase():fe};return $.replace(v,function(U,ne){return ne||function(K){switch(K){case"YY":return String(P.$y).slice(-2);case"YYYY":return M.s(P.$y,4,"0");case"M":return W+1;case"MM":return M.s(W+1,2,"0");case"MMM":return se(A.monthsShort,W,oe,3);case"MMMM":return se(oe,W);case"D":return P.$D;case"DD":return M.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return se(A.weekdaysMin,P.$W,re,2);case"ddd":return se(A.weekdaysShort,P.$W,re,3);case"dddd":return re[P.$W];case"H":return String(G);case"HH":return M.s(G,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return V(G,q,!0);case"A":return V(G,q,!1);case"m":return String(q);case"mm":return M.s(q,2,"0");case"s":return String(P.$s);case"ss":return M.s(P.$s,2,"0");case"SSS":return M.s(P.$ms,3,"0");case"Z":return F}return null}(U)||F.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(O,P,A){var $,F=this,G=M.p(P),q=D(O),W=(q.utcOffset()-this.utcOffset())*n,re=this-q,oe=o(function(){return M.m(F,q)},"D");switch(G){case g:$=oe()/12;break;case p:$=oe();break;case f:$=oe()/3;break;case d:$=(re-W)/6048e5;break;case h:$=(re-W)/864e5;break;case u:$=re/i;break;case l:$=re/n;break;case s:$=re/r;break;default:$=re}return A?$:M.a($)},R.daysInMonth=function(){return this.endOf(p).$D},R.$locale=function(){return S[this.$L]},R.locale=function(O,P){if(!O)return this.$L;var A=this.clone(),$=N(O,P,!0);return $&&(A.$L=$),A},R.clone=function(){return M.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},E}(),B=L.prototype;return D.prototype=B,[["$ms",a],["$s",s],["$m",l],["$H",u],["$W",h],["$M",p],["$y",g],["$D",m]].forEach(function(E){B[E[1]]=function(R){return this.$g(R,E[0],E[1])}}),D.extend=function(E,R){return E.$i||(E(R,L,D),E.$i=!0),D},D.locale=N,D.isDayjs=T,D.unix=function(E){return D(1e3*E)},D.en=S[_],D.Ls=S,D.p={},D})}),Je,Ve,X,vt,mt,Ye=I(()=>{"use strict";Je=xr(Xr(),1),Ve={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},X={trace:o((...e)=>{},"trace"),debug:o((...e)=>{},"debug"),info:o((...e)=>{},"info"),warn:o((...e)=>{},"warn"),error:o((...e)=>{},"error"),fatal:o((...e)=>{},"fatal")},vt=o(function(e="fatal"){let t=Ve.fatal;typeof e=="string"?e.toLowerCase()in Ve&&(t=Ve[e]):typeof e=="number"&&(t=e),X.trace=()=>{},X.debug=()=>{},X.info=()=>{},X.warn=()=>{},X.error=()=>{},X.fatal=()=>{},t<=Ve.fatal&&(X.fatal=console.error?console.error.bind(console,mt("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",mt("FATAL"))),t<=Ve.error&&(X.error=console.error?console.error.bind(console,mt("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",mt("ERROR"))),t<=Ve.warn&&(X.warn=console.warn?console.warn.bind(console,mt("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",mt("WARN"))),t<=Ve.info&&(X.info=console.info?console.info.bind(console,mt("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",mt("INFO"))),t<=Ve.debug&&(X.debug=console.debug?console.debug.bind(console,mt("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",mt("DEBUG"))),t<=Ve.trace&&(X.trace=console.debug?console.debug.bind(console,mt("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",mt("TRACE")))},"setLogLevel"),mt=o(e=>`%c${(0,Je.default)().format("ss.SSS")} : ${e} : `,"format")}),Mr,Ut,Ot,qt,er=I(()=>{"use strict";Mr=Object.freeze({left:0,top:0,width:16,height:16}),Ut=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Ot=Object.freeze({...Mr,...Ut}),qt=Object.freeze({...Ot,body:"",hidden:!1})}),Ur,on,Br=I(()=>{"use strict";er(),Ur=Object.freeze({width:null,height:null}),on=Object.freeze({...Ur,...Ut})}),ln,Ji,pn,vs=I(()=>{"use strict";ln=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ji=o((e,t,r,n="")=>{let i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){let l=i.pop(),u=i.pop(),h={provider:i.length>0?i[0]:n,prefix:u,name:l};return t&&!pn(h)?null:h}let a=i[0],s=a.split("-");if(s.length>1){let l={provider:n,prefix:s.shift(),name:s.join("-")};return t&&!pn(l)?null:l}if(r&&n===""){let l={provider:n,prefix:"",name:a};return t&&!pn(l,r)?null:l}return null},"stringToIcon"),pn=o((e,t)=>e?!!((e.provider===""||e.provider.match(ln))&&(t&&e.prefix===""||e.prefix.match(ln))&&e.name.match(ln)):!1,"validateIconName")});function Ho(e,t){let r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);let n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}var Wo=I(()=>{"use strict";o(Ho,"mergeIconTransformations")});function fa(e,t){let r=Ho(e,t);for(let n in qt)n in Ut?n in e&&!(n in r)&&(r[n]=Ut[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}var $p=I(()=>{"use strict";er(),Wo(),o(fa,"mergeIconData")});function bs(e,t){let r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function a(s){if(r[s])return i[s]=[];if(!(s in i)){i[s]=null;let l=n[s]&&n[s].parent,u=l&&a(l);u&&(i[s]=[l].concat(u))}return i[s]}return o(a,"resolve"),(t||Object.keys(r).concat(Object.keys(n))).forEach(a),i}var Vo=I(()=>{"use strict";o(bs,"getIconsTree")});function Fl(e,t,r){let n=e.icons,i=e.aliases||Object.create(null),a={};function s(l){a=fa(n[l]||i[l],a)}return o(s,"parse"),s(t),r.forEach(s),fa(e,a)}function Xo(e,t){if(e.icons[t])return Fl(e,t,[]);let r=bs(e,[t])[t];return r?Fl(e,t,r):null}var Nd=I(()=>{"use strict";$p(),Vo(),o(Fl,"internalGetIconData"),o(Xo,"getIconData")});function Ko(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;let n=e.split(fo);if(n===null||!n.length)return e;let i=[],a=n.shift(),s=Nc.test(a);for(;;){if(s){let l=parseFloat(a);isNaN(l)?i.push(a):i.push(Math.ceil(l*t*r)/r)}else i.push(a);if(a=n.shift(),a===void 0)return i.join("");s=!s}}var fo,Nc,Fp=I(()=>{"use strict";fo=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Nc=/^-?[0-9.]*[0-9]+[0-9.]*$/g,o(Ko,"calculateSize")});function ma(e,t="defs"){let r="",n=e.indexOf("<"+t);for(;n>=0;){let i=e.indexOf(">",n),a=e.indexOf("</"+t);if(i===-1||a===-1)break;let s=e.indexOf(">",a);if(s===-1)break;r+=e.slice(i+1,a).trim(),e=e.slice(0,n).trim()+e.slice(s+1)}return{defs:r,content:e}}function Kf(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Zf(e,t,r){let n=ma(e);return Kf(n.defs,t+n.content+r)}var Id=I(()=>{"use strict";o(ma,"splitSVGDefs"),o(Kf,"mergeDefsAndContent"),o(Zf,"wrapSVGContent")});function Qf(e,t){let r={...Ot,...e},n={...on,...t},i={left:r.left,top:r.top,width:r.width,height:r.height},a=r.body;[r,n].forEach(y=>{let b=[],v=y.hFlip,x=y.vFlip,k=y.rotate;v?x?k+=2:(b.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),b.push("scale(-1 1)"),i.top=i.left=0):x&&(b.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),b.push("scale(1 -1)"),i.top=i.left=0);let w;switch(k<0&&(k-=Math.floor(k/4)*4),k=k%4,k){case 1:w=i.height/2+i.top,b.unshift("rotate(90 "+w.toString()+" "+w.toString()+")");break;case 2:b.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:w=i.width/2+i.left,b.unshift("rotate(-90 "+w.toString()+" "+w.toString()+")");break}k%2===1&&(i.left!==i.top&&(w=i.left,i.left=i.top,i.top=w),i.width!==i.height&&(w=i.width,i.width=i.height,i.height=w)),b.length&&(a=Zf(a,'<g transform="'+b.join(" ")+'">',"</g>"))});let s=n.width,l=n.height,u=i.width,h=i.height,d,p;s===null?(p=l===null?"1em":l==="auto"?h:l,d=Ko(p,u/h)):(d=s==="auto"?u:s,p=l===null?Ko(d,h/u):l==="auto"?h:l);let f={},g=o((y,b)=>{Zu(b)||(f[y]=b.toString())},"setAttr");g("width",d),g("height",p);let m=[i.left,i.top,u,h];return f.viewBox=m.join(" "),{attributes:f,viewBox:m,body:a}}var Zu,Wa=I(()=>{"use strict";er(),Br(),Fp(),Id(),Zu=o(e=>e==="unset"||e==="undefined"||e==="none","isUnsetKeyword"),o(Qf,"iconToSVG")});function Qu(e,t=Da){let r=[],n;for(;n=Md.exec(e);)r.push(n[1]);if(!r.length)return e;let i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{let s=typeof t=="function"?t(a):t+(Ju++).toString(),l=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}var Md,Da,Ju,$x=I(()=>{"use strict";Md=/\sid="(\S+)"/g,Da="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),Ju=0,o(Qu,"replaceIDs")});function zl(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}var cn=I(()=>{"use strict";o(zl,"iconToHTML")}),o8=Mt((e,t)=>{"use strict";var r=1e3,n=r*60,i=n*60,a=i*24,s=a*7,l=a*365.25;t.exports=function(f,g){g=g||{};var m=typeof f;if(m==="string"&&f.length>0)return u(f);if(m==="number"&&isFinite(f))return g.long?d(f):h(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function u(f){if(f=String(f),!(f.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(g){var m=parseFloat(g[1]),y=(g[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return m*l;case"weeks":case"week":case"w":return m*s;case"days":case"day":case"d":return m*a;case"hours":case"hour":case"hrs":case"hr":case"h":return m*i;case"minutes":case"minute":case"mins":case"min":case"m":return m*n;case"seconds":case"second":case"secs":case"sec":case"s":return m*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}o(u,"parse");function h(f){var g=Math.abs(f);return g>=a?Math.round(f/a)+"d":g>=i?Math.round(f/i)+"h":g>=n?Math.round(f/n)+"m":g>=r?Math.round(f/r)+"s":f+"ms"}o(h,"fmtShort");function d(f){var g=Math.abs(f);return g>=a?p(f,g,a,"day"):g>=i?p(f,g,i,"hour"):g>=n?p(f,g,n,"minute"):g>=r?p(f,g,r,"second"):f+" ms"}o(d,"fmtLong");function p(f,g,m,y){var b=g>=m*1.5;return Math.round(f/m)+" "+y+(b?"s":"")}o(p,"plural")}),l8=Mt((e,t)=>{"use strict";function r(n){a.debug=a,a.default=a,a.coerce=p,a.disable=u,a.enable=l,a.enabled=h,a.humanize=o8(),a.destroy=f,Object.keys(n).forEach(g=>{a[g]=n[g]}),a.names=[],a.skips=[],a.formatters={};function i(g){let m=0;for(let y=0;y<g.length;y++)m=(m<<5)-m+g.charCodeAt(y),m|=0;return a.colors[Math.abs(m)%a.colors.length]}o(i,"selectColor"),a.selectColor=i;function a(g){let m,y=null,b,v;function x(...k){if(!x.enabled)return;let w=x,_=Number(new Date),S=_-(m||_);w.diff=S,w.prev=m,w.curr=_,m=_,k[0]=a.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let C=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(T,N)=>{if(T==="%%")return"%";C++;let D=a.formatters[N];if(typeof D=="function"){let M=k[C];T=D.call(w,M),k.splice(C,1),C--}return T}),a.formatArgs.call(w,k),(w.log||a.log).apply(w,k)}return o(x,"debug"),x.namespace=g,x.useColors=a.useColors(),x.color=a.selectColor(g),x.extend=s,x.destroy=a.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:o(()=>y!==null?y:(b!==a.namespaces&&(b=a.namespaces,v=a.enabled(g)),v),"get"),set:o(k=>{y=k},"set")}),typeof a.init=="function"&&a.init(x),x}o(a,"createDebug");function s(g,m){let y=a(this.namespace+(typeof m>"u"?":":m)+g);return y.log=this.log,y}o(s,"extend");function l(g){a.save(g),a.namespaces=g,a.names=[],a.skips=[];let m,y=(typeof g=="string"?g:"").split(/[\s,]+/),b=y.length;for(m=0;m<b;m++)y[m]&&(g=y[m].replace(/\*/g,".*?"),g[0]==="-"?a.skips.push(new RegExp("^"+g.slice(1)+"$")):a.names.push(new RegExp("^"+g+"$")))}o(l,"enable");function u(){let g=[...a.names.map(d),...a.skips.map(d).map(m=>"-"+m)].join(",");return a.enable(""),g}o(u,"disable");function h(g){if(g[g.length-1]==="*")return!0;let m,y;for(m=0,y=a.skips.length;m<y;m++)if(a.skips[m].test(g))return!1;for(m=0,y=a.names.length;m<y;m++)if(a.names[m].test(g))return!0;return!1}o(h,"enabled");function d(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}o(d,"toNamespace");function p(g){return g instanceof Error?g.stack||g.message:g}o(p,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(f,"destroy"),a.enable(a.load()),a}o(r,"setup"),t.exports=r}),c8=Mt((e,t)=>{"use strict";e.formatArgs=n,e.save=i,e.load=a,e.useColors=r,e.storage=s(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(r,"useColors");function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;u.splice(1,0,h,"color: inherit");let d=0,p=0;u[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(d++,f==="%c"&&(p=d))}),u.splice(p,0,h)}o(n,"formatArgs"),e.log=console.debug||console.log||(()=>{});function i(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}o(i,"save");function a(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=process.env.DEBUG),u}o(a,"load");function s(){try{return localStorage}catch{}}o(s,"localstorage"),t.exports=l8()(e);var{formatters:l}=t.exports;l.j=function(u){try{return JSON.stringify(u)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),u8,h8=I(()=>{"use strict";vs(),Nd(),Wa(),$x(),cn(),u8=xr(c8(),1)}),Jf,zp,em,dr,he,de,Ee=I(()=>{"use strict";Ye(),h8(),Jf={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},zp=new Map,em=new Map,dr=o(e=>{for(let t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(X.debug("Registering icon pack:",t.name),"loader"in t)em.set(t.name,t.loader);else if("icons"in t)zp.set(t.name,t.icons);else throw X.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),he=o(async(e,t)=>{let r=Ji(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);let n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=zp.get(n);if(!i){let s=em.get(n);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await s(),prefix:n},zp.set(n,i)}catch(l){throw X.error(l),new Error(`Failed to load icon set: ${r.prefix}`)}}let a=Xo(i,r.name);if(!a)throw new Error(`Icon not found: ${e}`);return a},"getRegisteredIconData"),de=o(async(e,t)=>{let r;try{r=await he(e,t?.fallbackPrefix)}catch(i){X.error(i),r=Jf}let n=Qf(r,t);return zl(Qu(n.body),n.attributes)},"getIconSVG")});function Ae(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?l.concat(h.map(function(d){var p,f;return(f=(p=d.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&f!==void 0?f:0})):l},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return t.forEach(function(l,u){var h=s.match(/(?:^|\n)( *)$/),d=h?h[1]:"",p=l;typeof l=="string"&&l.includes(`
`)&&(p=String(l).split(`
`).map(function(f,g){return g===0?f:""+d+f}).join(`
`)),s+=p+n[u+1]}),s}var Ce=I(()=>{"use strict";o(Ae,"dedent")}),ze,je,Bt,kt=I(()=>{"use strict";ze=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,je=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Bt=/\s*%%.*\n/gm}),yr,$r=I(()=>{"use strict";yr=class extends Error{static{o(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}}}),rn,gn,ji,jn,zs,Zo=I(()=>{"use strict";Ye(),kt(),$r(),rn={},gn=o(function(e,t){e=e.replace(ze,"").replace(je,"").replace(Bt,`
`);for(let[r,{detector:n}]of Object.entries(rn))if(n(e,t))return r;throw new yr(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),ji=o((...e)=>{for(let{id:t,detector:r,loader:n}of e)jn(t,r,n)},"registerLazyLoadedDiagrams"),jn=o((e,t,r)=>{rn[e]&&X.warn(`Detector with key ${e} already exists. Overwriting.`),rn[e]={detector:t,loader:r},X.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),zs=o(e=>rn[e].loader,"getDiagramLoader")}),Ic,tm,rm=I(()=>{"use strict";Ic=function(){var e=o(function(Ze,H,ge,ce){for(ge=ge||{},ce=Ze.length;ce--;ge[Ze[ce]]=H);return ge},"o"),t=[1,24],r=[1,25],n=[1,26],i=[1,27],a=[1,28],s=[1,63],l=[1,64],u=[1,65],h=[1,66],d=[1,67],p=[1,68],f=[1,69],g=[1,29],m=[1,30],y=[1,31],b=[1,32],v=[1,33],x=[1,34],k=[1,35],w=[1,36],_=[1,37],S=[1,38],C=[1,39],T=[1,40],N=[1,41],D=[1,42],M=[1,43],L=[1,44],B=[1,45],E=[1,46],R=[1,47],O=[1,48],P=[1,50],A=[1,51],$=[1,52],F=[1,53],G=[1,54],q=[1,55],W=[1,56],re=[1,57],oe=[1,58],te=[1,59],se=[1,60],Y=[14,42],V=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],U=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ne=[1,82],K=[1,83],fe=[1,84],Q=[1,85],Te=[12,14,42],ie=[12,14,33,42],Me=[12,14,33,42,76,77,79,80],Le=[12,33],Ie=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],He={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:o(function(Ze,H,ge,ce,ve,J,Pe){var Z=J.length-1;switch(ve){case 3:ce.setDirection("TB");break;case 4:ce.setDirection("BT");break;case 5:ce.setDirection("RL");break;case 6:ce.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:ce.setC4Type(J[Z-3]);break;case 19:ce.setTitle(J[Z].substring(6)),this.$=J[Z].substring(6);break;case 20:ce.setAccDescription(J[Z].substring(15)),this.$=J[Z].substring(15);break;case 21:this.$=J[Z].trim(),ce.setTitle(this.$);break;case 22:case 23:this.$=J[Z].trim(),ce.setAccDescription(this.$);break;case 28:J[Z].splice(2,0,"ENTERPRISE"),ce.addPersonOrSystemBoundary(...J[Z]),this.$=J[Z];break;case 29:J[Z].splice(2,0,"SYSTEM"),ce.addPersonOrSystemBoundary(...J[Z]),this.$=J[Z];break;case 30:ce.addPersonOrSystemBoundary(...J[Z]),this.$=J[Z];break;case 31:J[Z].splice(2,0,"CONTAINER"),ce.addContainerBoundary(...J[Z]),this.$=J[Z];break;case 32:ce.addDeploymentNode("node",...J[Z]),this.$=J[Z];break;case 33:ce.addDeploymentNode("nodeL",...J[Z]),this.$=J[Z];break;case 34:ce.addDeploymentNode("nodeR",...J[Z]),this.$=J[Z];break;case 35:ce.popBoundaryParseStack();break;case 39:ce.addPersonOrSystem("person",...J[Z]),this.$=J[Z];break;case 40:ce.addPersonOrSystem("external_person",...J[Z]),this.$=J[Z];break;case 41:ce.addPersonOrSystem("system",...J[Z]),this.$=J[Z];break;case 42:ce.addPersonOrSystem("system_db",...J[Z]),this.$=J[Z];break;case 43:ce.addPersonOrSystem("system_queue",...J[Z]),this.$=J[Z];break;case 44:ce.addPersonOrSystem("external_system",...J[Z]),this.$=J[Z];break;case 45:ce.addPersonOrSystem("external_system_db",...J[Z]),this.$=J[Z];break;case 46:ce.addPersonOrSystem("external_system_queue",...J[Z]),this.$=J[Z];break;case 47:ce.addContainer("container",...J[Z]),this.$=J[Z];break;case 48:ce.addContainer("container_db",...J[Z]),this.$=J[Z];break;case 49:ce.addContainer("container_queue",...J[Z]),this.$=J[Z];break;case 50:ce.addContainer("external_container",...J[Z]),this.$=J[Z];break;case 51:ce.addContainer("external_container_db",...J[Z]),this.$=J[Z];break;case 52:ce.addContainer("external_container_queue",...J[Z]),this.$=J[Z];break;case 53:ce.addComponent("component",...J[Z]),this.$=J[Z];break;case 54:ce.addComponent("component_db",...J[Z]),this.$=J[Z];break;case 55:ce.addComponent("component_queue",...J[Z]),this.$=J[Z];break;case 56:ce.addComponent("external_component",...J[Z]),this.$=J[Z];break;case 57:ce.addComponent("external_component_db",...J[Z]),this.$=J[Z];break;case 58:ce.addComponent("external_component_queue",...J[Z]),this.$=J[Z];break;case 60:ce.addRel("rel",...J[Z]),this.$=J[Z];break;case 61:ce.addRel("birel",...J[Z]),this.$=J[Z];break;case 62:ce.addRel("rel_u",...J[Z]),this.$=J[Z];break;case 63:ce.addRel("rel_d",...J[Z]),this.$=J[Z];break;case 64:ce.addRel("rel_l",...J[Z]),this.$=J[Z];break;case 65:ce.addRel("rel_r",...J[Z]),this.$=J[Z];break;case 66:ce.addRel("rel_b",...J[Z]),this.$=J[Z];break;case 67:J[Z].splice(0,1),ce.addRel("rel",...J[Z]),this.$=J[Z];break;case 68:ce.updateElStyle("update_el_style",...J[Z]),this.$=J[Z];break;case 69:ce.updateRelStyle("update_rel_style",...J[Z]),this.$=J[Z];break;case 70:ce.updateLayoutConfig("update_layout_config",...J[Z]),this.$=J[Z];break;case 71:this.$=[J[Z]];break;case 72:J[Z].unshift(J[Z-1]),this.$=J[Z];break;case 73:case 75:this.$=J[Z].trim();break;case 74:let Fe={};Fe[J[Z-1].trim()]=J[Z].trim(),this.$=Fe;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:k,51:w,52:_,53:S,54:C,55:T,56:N,57:D,58:M,59:L,60:B,61:E,62:R,63:O,64:P,65:A,66:$,67:F,68:G,69:q,70:W,71:re,72:oe,73:te,74:se},{13:70,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:k,51:w,52:_,53:S,54:C,55:T,56:N,57:D,58:M,59:L,60:B,61:E,62:R,63:O,64:P,65:A,66:$,67:F,68:G,69:q,70:W,71:re,72:oe,73:te,74:se},{13:71,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:k,51:w,52:_,53:S,54:C,55:T,56:N,57:D,58:M,59:L,60:B,61:E,62:R,63:O,64:P,65:A,66:$,67:F,68:G,69:q,70:W,71:re,72:oe,73:te,74:se},{13:72,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:k,51:w,52:_,53:S,54:C,55:T,56:N,57:D,58:M,59:L,60:B,61:E,62:R,63:O,64:P,65:A,66:$,67:F,68:G,69:q,70:W,71:re,72:oe,73:te,74:se},{13:73,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:k,51:w,52:_,53:S,54:C,55:T,56:N,57:D,58:M,59:L,60:B,61:E,62:R,63:O,64:P,65:A,66:$,67:F,68:G,69:q,70:W,71:re,72:oe,73:te,74:se},{14:[1,74]},e(Y,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:l,37:u,38:h,39:d,40:p,41:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k,51:w,52:_,53:S,54:C,55:T,56:N,57:D,58:M,59:L,60:B,61:E,62:R,63:O,64:P,65:A,66:$,67:F,68:G,69:q,70:W,71:re,72:oe,73:te,74:se}),e(Y,[2,14]),e(V,[2,16],{12:[1,76]}),e(Y,[2,36],{12:[1,77]}),e(U,[2,19]),e(U,[2,20]),{25:[1,78]},{27:[1,79]},e(U,[2,23]),{35:80,75:81,76:ne,77:K,79:fe,80:Q},{35:86,75:81,76:ne,77:K,79:fe,80:Q},{35:87,75:81,76:ne,77:K,79:fe,80:Q},{35:88,75:81,76:ne,77:K,79:fe,80:Q},{35:89,75:81,76:ne,77:K,79:fe,80:Q},{35:90,75:81,76:ne,77:K,79:fe,80:Q},{35:91,75:81,76:ne,77:K,79:fe,80:Q},{35:92,75:81,76:ne,77:K,79:fe,80:Q},{35:93,75:81,76:ne,77:K,79:fe,80:Q},{35:94,75:81,76:ne,77:K,79:fe,80:Q},{35:95,75:81,76:ne,77:K,79:fe,80:Q},{35:96,75:81,76:ne,77:K,79:fe,80:Q},{35:97,75:81,76:ne,77:K,79:fe,80:Q},{35:98,75:81,76:ne,77:K,79:fe,80:Q},{35:99,75:81,76:ne,77:K,79:fe,80:Q},{35:100,75:81,76:ne,77:K,79:fe,80:Q},{35:101,75:81,76:ne,77:K,79:fe,80:Q},{35:102,75:81,76:ne,77:K,79:fe,80:Q},{35:103,75:81,76:ne,77:K,79:fe,80:Q},{35:104,75:81,76:ne,77:K,79:fe,80:Q},e(Te,[2,59]),{35:105,75:81,76:ne,77:K,79:fe,80:Q},{35:106,75:81,76:ne,77:K,79:fe,80:Q},{35:107,75:81,76:ne,77:K,79:fe,80:Q},{35:108,75:81,76:ne,77:K,79:fe,80:Q},{35:109,75:81,76:ne,77:K,79:fe,80:Q},{35:110,75:81,76:ne,77:K,79:fe,80:Q},{35:111,75:81,76:ne,77:K,79:fe,80:Q},{35:112,75:81,76:ne,77:K,79:fe,80:Q},{35:113,75:81,76:ne,77:K,79:fe,80:Q},{35:114,75:81,76:ne,77:K,79:fe,80:Q},{35:115,75:81,76:ne,77:K,79:fe,80:Q},{20:116,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:k,51:w,52:_,53:S,54:C,55:T,56:N,57:D,58:M,59:L,60:B,61:E,62:R,63:O,64:P,65:A,66:$,67:F,68:G,69:q,70:W,71:re,72:oe,73:te,74:se},{12:[1,118],33:[1,117]},{35:119,75:81,76:ne,77:K,79:fe,80:Q},{35:120,75:81,76:ne,77:K,79:fe,80:Q},{35:121,75:81,76:ne,77:K,79:fe,80:Q},{35:122,75:81,76:ne,77:K,79:fe,80:Q},{35:123,75:81,76:ne,77:K,79:fe,80:Q},{35:124,75:81,76:ne,77:K,79:fe,80:Q},{35:125,75:81,76:ne,77:K,79:fe,80:Q},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(Y,[2,15]),e(V,[2,17],{21:22,19:130,22:t,23:r,24:n,26:i,28:a}),e(Y,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:n,26:i,28:a,34:s,36:l,37:u,38:h,39:d,40:p,41:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k,51:w,52:_,53:S,54:C,55:T,56:N,57:D,58:M,59:L,60:B,61:E,62:R,63:O,64:P,65:A,66:$,67:F,68:G,69:q,70:W,71:re,72:oe,73:te,74:se}),e(U,[2,21]),e(U,[2,22]),e(Te,[2,39]),e(ie,[2,71],{75:81,35:132,76:ne,77:K,79:fe,80:Q}),e(Me,[2,73]),{78:[1,133]},e(Me,[2,75]),e(Me,[2,76]),e(Te,[2,40]),e(Te,[2,41]),e(Te,[2,42]),e(Te,[2,43]),e(Te,[2,44]),e(Te,[2,45]),e(Te,[2,46]),e(Te,[2,47]),e(Te,[2,48]),e(Te,[2,49]),e(Te,[2,50]),e(Te,[2,51]),e(Te,[2,52]),e(Te,[2,53]),e(Te,[2,54]),e(Te,[2,55]),e(Te,[2,56]),e(Te,[2,57]),e(Te,[2,58]),e(Te,[2,60]),e(Te,[2,61]),e(Te,[2,62]),e(Te,[2,63]),e(Te,[2,64]),e(Te,[2,65]),e(Te,[2,66]),e(Te,[2,67]),e(Te,[2,68]),e(Te,[2,69]),e(Te,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(Le,[2,28]),e(Le,[2,29]),e(Le,[2,30]),e(Le,[2,31]),e(Le,[2,32]),e(Le,[2,33]),e(Le,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(V,[2,18]),e(Y,[2,38]),e(ie,[2,72]),e(Me,[2,74]),e(Te,[2,24]),e(Te,[2,35]),e(Ie,[2,25]),e(Ie,[2,26],{12:[1,138]}),e(Ie,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:o(function(Ze,H){if(H.recoverable)this.trace(Ze);else{var ge=new Error(Ze);throw ge.hash=H,ge}},"parseError"),parse:o(function(Ze){var H=this,ge=[0],ce=[],ve=[null],J=[],Pe=this.table,Z="",Fe=0,ae=0,pe=0,_e=2,Se=1,Re=J.slice.call(arguments,1),ke=Object.create(this.lexer),Xe={yy:{}};for(var Oe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Oe)&&(Xe.yy[Oe]=this.yy[Oe]);ke.setInput(Ze,Xe.yy),Xe.yy.lexer=ke,Xe.yy.parser=this,typeof ke.yylloc>"u"&&(ke.yylloc={});var lt=ke.yylloc;J.push(lt);var Dt=ke.options&&ke.options.ranges;typeof Xe.yy.parseError=="function"?this.parseError=Xe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _t(Tt){ge.length=ge.length-2*Tt,ve.length=ve.length-Tt,J.length=J.length-Tt}o(_t,"popStack");function gt(){var Tt;return Tt=ce.pop()||ke.lex()||Se,typeof Tt!="number"&&(Tt instanceof Array&&(ce=Tt,Tt=ce.pop()),Tt=H.symbols_[Tt]||Tt),Tt}o(gt,"lex");for(var Pt,st,Qe,Ke,It,tt,Zt={},jt,pt,dt,it;;){if(Qe=ge[ge.length-1],this.defaultActions[Qe]?Ke=this.defaultActions[Qe]:((Pt===null||typeof Pt>"u")&&(Pt=gt()),Ke=Pe[Qe]&&Pe[Qe][Pt]),typeof Ke>"u"||!Ke.length||!Ke[0]){var Gt="";it=[];for(jt in Pe[Qe])this.terminals_[jt]&&jt>_e&&it.push("'"+this.terminals_[jt]+"'");ke.showPosition?Gt="Parse error on line "+(Fe+1)+`:
`+ke.showPosition()+`
Expecting `+it.join(", ")+", got '"+(this.terminals_[Pt]||Pt)+"'":Gt="Parse error on line "+(Fe+1)+": Unexpected "+(Pt==Se?"end of input":"'"+(this.terminals_[Pt]||Pt)+"'"),this.parseError(Gt,{text:ke.match,token:this.terminals_[Pt]||Pt,line:ke.yylineno,loc:lt,expected:it})}if(Ke[0]instanceof Array&&Ke.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Qe+", token: "+Pt);switch(Ke[0]){case 1:ge.push(Pt),ve.push(ke.yytext),J.push(ke.yylloc),ge.push(Ke[1]),Pt=null,st?(Pt=st,st=null):(ae=ke.yyleng,Z=ke.yytext,Fe=ke.yylineno,lt=ke.yylloc,pe>0&&pe--);break;case 2:if(pt=this.productions_[Ke[1]][1],Zt.$=ve[ve.length-pt],Zt._$={first_line:J[J.length-(pt||1)].first_line,last_line:J[J.length-1].last_line,first_column:J[J.length-(pt||1)].first_column,last_column:J[J.length-1].last_column},Dt&&(Zt._$.range=[J[J.length-(pt||1)].range[0],J[J.length-1].range[1]]),tt=this.performAction.apply(Zt,[Z,ae,Fe,Xe.yy,Ke[1],ve,J].concat(Re)),typeof tt<"u")return tt;pt&&(ge=ge.slice(0,-1*pt*2),ve=ve.slice(0,-1*pt),J=J.slice(0,-1*pt)),ge.push(this.productions_[Ke[1]][0]),ve.push(Zt.$),J.push(Zt._$),dt=Pe[ge[ge.length-2]][ge[ge.length-1]],ge.push(dt);break;case 3:return!0}}return!0},"parse")},We=function(){var Ze={EOF:1,parseError:o(function(H,ge){if(this.yy.parser)this.yy.parser.parseError(H,ge);else throw new Error(H)},"parseError"),setInput:o(function(H,ge){return this.yy=ge||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var ge=H.match(/(?:\r\n?|\n).*/g);return ge?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},"input"),unput:o(function(H){var ge=H.length,ce=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ge),this.offset-=ge;var ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ce.length-1&&(this.yylineno-=ce.length-1);var J=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ce?(ce.length===ve.length?this.yylloc.first_column:0)+ve[ve.length-ce.length].length-ce[0].length:this.yylloc.first_column-ge},this.options.ranges&&(this.yylloc.range=[J[0],J[0]+this.yyleng-ge]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(H){this.unput(this.match.slice(H))},"less"),pastInput:o(function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var H=this.pastInput(),ge=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+ge+"^"},"showPosition"),test_match:o(function(H,ge){var ce,ve,J;if(this.options.backtrack_lexer&&(J={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(J.yylloc.range=this.yylloc.range.slice(0))),ve=H[0].match(/(?:\r\n?|\n).*/g),ve&&(this.yylineno+=ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ve?ve[ve.length-1].length-ve[ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],ce=this.performAction.call(this,this.yy,this,ge,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ce)return ce;if(this._backtrack){for(var Pe in J)this[Pe]=J[Pe];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,ge,ce,ve;this._more||(this.yytext="",this.match="");for(var J=this._currentRules(),Pe=0;Pe<J.length;Pe++)if(ce=this._input.match(this.rules[J[Pe]]),ce&&(!ge||ce[0].length>ge[0].length)){if(ge=ce,ve=Pe,this.options.backtrack_lexer){if(H=this.test_match(ce,J[Pe]),H!==!1)return H;if(this._backtrack){ge=!1;continue}else return!1}else if(!this.options.flex)break}return ge?(H=this.test_match(ge,J[ve]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var H=this.next();return H||this.lex()},"lex"),begin:o(function(H){this.conditionStack.push(H)},"begin"),popState:o(function(){var H=this.conditionStack.length-1;return H>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(H){return H=this.conditionStack.length-1-Math.abs(H||0),H>=0?this.conditionStack[H]:"INITIAL"},"topState"),pushState:o(function(H){this.begin(H)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(H,ge,ce,ve){var J=ve;switch(ce){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Ze}();He.lexer=We;function et(){this.yy={}}return o(et,"Parser"),et.prototype=He,He.Parser=et,new et}(),Ic.parser=Ic,tm=Ic}),Dd,pi,Mc=I(()=>{"use strict";Dd=o((e,t,{depth:r=2,clobber:n=!1}={})=>{let i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>Dd(e,a,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=Dd(e[a],t[a],{depth:r-1,clobber:n})):(n||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},"assignWithDepth"),pi=Dd}),Qo,Kj,Bqe=I(()=>{"use strict";Qo={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:o(e=>e>=255?255:e<0?0:e,"r"),g:o(e=>e>=255?255:e<0?0:e,"g"),b:o(e=>e>=255?255:e<0?0:e,"b"),h:o(e=>e%360,"h"),s:o(e=>e>=100?100:e<0?0:e,"s"),l:o(e=>e>=100?100:e<0?0:e,"l"),a:o(e=>e>=1?1:e<0?0:e,"a")},toLinear:o(e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},"toLinear"),hue2rgb:o((e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*6*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e),"hue2rgb"),hsl2rgb:o(({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;let i=r<.5?r*(1+t):r+t-r*t,a=2*r-i;switch(n){case"r":return Qo.hue2rgb(a,i,e+.3333333333333333)*255;case"g":return Qo.hue2rgb(a,i,e)*255;case"b":return Qo.hue2rgb(a,i,e-.3333333333333333)*255}},"hsl2rgb"),rgb2hsl:o(({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;let i=Math.max(e,t,r),a=Math.min(e,t,r),s=(i+a)/2;if(n==="l")return s*100;if(i===a)return 0;let l=i-a,u=s>.5?l/(2-i-a):l/(i+a);if(n==="s")return u*100;switch(i){case e:return((t-r)/l+(t<r?6:0))*60;case t:return((r-e)/l+2)*60;case r:return((e-t)/l+4)*60;default:return-1}},"rgb2hsl")},Kj=Qo}),Zj,Qj,$qe=I(()=>{"use strict";Zj={clamp:o((e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),"clamp"),round:o(e=>Math.round(e*1e10)/1e10,"round")},Qj=Zj}),Jj,eY,Fqe=I(()=>{"use strict";Jj={dec2hex:o(e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`},"dec2hex")},eY=Jj}),tY,kr,Dc=I(()=>{"use strict";Bqe(),$qe(),Fqe(),tY={channel:Kj,lang:Qj,unit:eY},kr=tY}),Rc,ya,Fx=I(()=>{"use strict";Dc(),Rc={};for(let e=0;e<=255;e++)Rc[e]=kr.unit.dec2hex(e);ya={ALL:0,RGB:1,HSL:2}}),rY,nY,zqe=I(()=>{"use strict";Fx(),rY=class{static{o(this,"Type")}constructor(){this.type=ya.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=ya.ALL}is(e){return this.type===e}},nY=rY}),iY,aY,Gqe=I(()=>{"use strict";Dc(),zqe(),Fx(),iY=class{static{o(this,"Channels")}constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new nY}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=ya.ALL,this}_ensureHSL(){let e=this.data,{h:t,s:r,l:n}=e;t===void 0&&(e.h=kr.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=kr.channel.rgb2hsl(e,"s")),n===void 0&&(e.l=kr.channel.rgb2hsl(e,"l"))}_ensureRGB(){let e=this.data,{r:t,g:r,b:n}=e;t===void 0&&(e.r=kr.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=kr.channel.hsl2rgb(e,"g")),n===void 0&&(e.b=kr.channel.hsl2rgb(e,"b"))}get r(){let e=this.data,t=e.r;return!this.type.is(ya.HSL)&&t!==void 0?t:(this._ensureHSL(),kr.channel.hsl2rgb(e,"r"))}get g(){let e=this.data,t=e.g;return!this.type.is(ya.HSL)&&t!==void 0?t:(this._ensureHSL(),kr.channel.hsl2rgb(e,"g"))}get b(){let e=this.data,t=e.b;return!this.type.is(ya.HSL)&&t!==void 0?t:(this._ensureHSL(),kr.channel.hsl2rgb(e,"b"))}get h(){let e=this.data,t=e.h;return!this.type.is(ya.RGB)&&t!==void 0?t:(this._ensureRGB(),kr.channel.rgb2hsl(e,"h"))}get s(){let e=this.data,t=e.s;return!this.type.is(ya.RGB)&&t!==void 0?t:(this._ensureRGB(),kr.channel.rgb2hsl(e,"s"))}get l(){let e=this.data,t=e.l;return!this.type.is(ya.RGB)&&t!==void 0?t:(this._ensureRGB(),kr.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(ya.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(ya.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(ya.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(ya.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(ya.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(ya.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},aY=iY}),sY,nm,zx=I(()=>{"use strict";Gqe(),sY=new aY({r:0,g:0,b:0,a:0},"transparent"),nm=sY}),d8,Gp,oY=I(()=>{"use strict";zx(),Fx(),d8={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:o(e=>{if(e.charCodeAt(0)!==35)return;let t=e.match(d8.re);if(!t)return;let r=t[1],n=parseInt(r,16),i=r.length,a=i%4===0,s=i>4,l=s?1:17,u=s?8:4,h=a?0:-1,d=s?255:15;return nm.set({r:(n>>u*(h+3)&d)*l,g:(n>>u*(h+2)&d)*l,b:(n>>u*(h+1)&d)*l,a:a?(n&d)*l/255:1},e)},"parse"),stringify:o(e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`#${Rc[Math.round(t)]}${Rc[Math.round(r)]}${Rc[Math.round(n)]}${Rc[Math.round(i*255)]}`:`#${Rc[Math.round(t)]}${Rc[Math.round(r)]}${Rc[Math.round(n)]}`},"stringify")},Gp=d8}),im,am,qqe=I(()=>{"use strict";Dc(),zx(),im={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:o(e=>{let t=e.match(im.hueRe);if(t){let[,r,n]=t;switch(n){case"grad":return kr.channel.clamp.h(parseFloat(r)*.9);case"rad":return kr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return kr.channel.clamp.h(parseFloat(r)*360)}}return kr.channel.clamp.h(parseFloat(e))},"_hue2deg"),parse:o(e=>{let t=e.charCodeAt(0);if(t!==104&&t!==72)return;let r=e.match(im.re);if(!r)return;let[,n,i,a,s,l]=r;return nm.set({h:im._hue2deg(n),s:kr.channel.clamp.s(parseFloat(i)),l:kr.channel.clamp.l(parseFloat(a)),a:s?kr.channel.clamp.a(l?parseFloat(s)/100:parseFloat(s)):1},e)},"parse"),stringify:o(e=>{let{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${kr.lang.round(t)}, ${kr.lang.round(r)}%, ${kr.lang.round(n)}%, ${i})`:`hsl(${kr.lang.round(t)}, ${kr.lang.round(r)}%, ${kr.lang.round(n)}%)`},"stringify")},am=im}),sm,p8,jqe=I(()=>{"use strict";oY(),sm={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:o(e=>{e=e.toLowerCase();let t=sm.colors[e];if(t)return Gp.parse(t)},"parse"),stringify:o(e=>{let t=Gp.stringify(e);for(let r in sm.colors)if(sm.colors[r]===t)return r},"stringify")},p8=sm}),g8,om,Yqe=I(()=>{"use strict";Dc(),zx(),g8={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:o(e=>{let t=e.charCodeAt(0);if(t!==114&&t!==82)return;let r=e.match(g8.re);if(!r)return;let[,n,i,a,s,l,u,h,d]=r;return nm.set({r:kr.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:kr.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:kr.channel.clamp.b(u?parseFloat(l)*2.55:parseFloat(l)),a:h?kr.channel.clamp.a(d?parseFloat(h)/100:parseFloat(h)):1},e)},"parse"),stringify:o(e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${kr.lang.round(t)}, ${kr.lang.round(r)}, ${kr.lang.round(n)}, ${kr.lang.round(i)})`:`rgb(${kr.lang.round(t)}, ${kr.lang.round(r)}, ${kr.lang.round(n)})`},"stringify")},om=g8}),lY,mo,eh=I(()=>{"use strict";oY(),qqe(),jqe(),Yqe(),Fx(),lY={format:{keyword:p8,hex:Gp,rgb:om,rgba:om,hsl:am,hsla:am},parse:o(e=>{if(typeof e!="string")return e;let t=Gp.parse(e)||om.parse(e)||am.parse(e)||p8.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},"parse"),stringify:o(e=>!e.changed&&e.color?e.color:e.type.is(ya.HSL)||e.data.r===void 0?am.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?om.stringify(e):Gp.stringify(e),"stringify")},mo=lY}),cY,f8,uY=I(()=>{"use strict";Dc(),eh(),cY=o((e,t)=>{let r=mo.parse(e);for(let n in t)r[n]=kr.channel.clamp[n](t[n]);return mo.stringify(r)},"change"),f8=cY}),hY,th,dY=I(()=>{"use strict";Dc(),zx(),eh(),uY(),hY=o((e,t,r=0,n=1)=>{if(typeof e!="number")return f8(e,{a:t});let i=nm.set({r:kr.channel.clamp.r(e),g:kr.channel.clamp.g(t),b:kr.channel.clamp.b(r),a:kr.channel.clamp.a(n)});return mo.stringify(i)},"rgba"),th=hY}),pY,m8,Uqe=I(()=>{"use strict";Dc(),eh(),pY=o((e,t)=>kr.lang.round(mo.parse(e)[t]),"channel"),m8=pY}),gY,fY,Hqe=I(()=>{"use strict";Dc(),eh(),gY=o(e=>{let{r:t,g:r,b:n}=mo.parse(e),i=.2126*kr.channel.toLinear(t)+.7152*kr.channel.toLinear(r)+.0722*kr.channel.toLinear(n);return kr.lang.round(i)},"luminance"),fY=gY}),mY,yY,Wqe=I(()=>{"use strict";Hqe(),mY=o(e=>fY(e)>=.5,"isLight"),yY=mY}),vY,Oc,Vqe=I(()=>{"use strict";Wqe(),vY=o(e=>!yY(e),"isDark"),Oc=vY}),bY,y8,xY=I(()=>{"use strict";Dc(),eh(),bY=o((e,t,r)=>{let n=mo.parse(e),i=n[t],a=kr.channel.clamp[t](i+r);return i!==a&&(n[t]=a),mo.stringify(n)},"adjustChannel"),y8=bY}),kY,Vt,Xqe=I(()=>{"use strict";xY(),kY=o((e,t)=>y8(e,"l",t),"lighten"),Vt=kY}),wY,ir,Kqe=I(()=>{"use strict";xY(),wY=o((e,t)=>y8(e,"l",-t),"darken"),ir=wY}),TY,$e,Zqe=I(()=>{"use strict";eh(),uY(),TY=o((e,t)=>{let r=mo.parse(e),n={};for(let i in t)t[i]&&(n[i]=r[i]+t[i]);return f8(e,n)},"adjust"),$e=TY}),EY,_Y,Qqe=I(()=>{"use strict";eh(),dY(),EY=o((e,t,r=50)=>{let{r:n,g:i,b:a,a:s}=mo.parse(e),{r:l,g:u,b:h,a:d}=mo.parse(t),p=r/100,f=p*2-1,g=s-d,m=((f*g===-1?f:(f+g)/(1+f*g))+1)/2,y=1-m,b=n*m+l*y,v=i*m+u*y,x=a*m+h*y,k=s*p+d*(1-p);return th(b,v,x,k)},"mix"),_Y=EY}),CY,At,Jqe=I(()=>{"use strict";eh(),Qqe(),CY=o((e,t=100)=>{let r=mo.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,_Y(r,e,t)},"invert"),At=CY}),eje=I(()=>{"use strict";dY(),Uqe(),Vqe(),Xqe(),Kqe(),Zqe(),Jqe()}),Jo=I(()=>{"use strict";eje()}),lm,cm,Gx=I(()=>{"use strict";lm="#ffffff",cm="#f2f2f2"}),Ra,um=I(()=>{"use strict";Jo(),Ra=o((e,t)=>t?$e(e,{s:-40,l:10}):$e(e,{s:-40,l:-10}),"mkBorder")}),SY,AY,tje=I(()=>{"use strict";Jo(),Gx(),um(),SY=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||$e(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||$e(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ra(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ra(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ra(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ra(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||At(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||At(this.tertiaryColor),this.lineColor=this.lineColor||At(this.background),this.arrowheadColor=this.arrowheadColor||At(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?ir(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||ir(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||At(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Vt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||$e(this.primaryColor,{h:30}),this.cScale4=this.cScale4||$e(this.primaryColor,{h:60}),this.cScale5=this.cScale5||$e(this.primaryColor,{h:90}),this.cScale6=this.cScale6||$e(this.primaryColor,{h:120}),this.cScale7=this.cScale7||$e(this.primaryColor,{h:150}),this.cScale8=this.cScale8||$e(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||$e(this.primaryColor,{h:270}),this.cScale10=this.cScale10||$e(this.primaryColor,{h:300}),this.cScale11=this.cScale11||$e(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=ir(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=ir(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||At(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||Vt(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||ir(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;let e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||$e(this.mainBkg,{h:180,s:-15,l:e*(5+t*3)}),this["surfacePeer"+t]=this["surfacePeer"+t]||$e(this.mainBkg,{h:180,s:-15,l:e*(8+t*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||$e(this.primaryColor,{h:64}),this.fillType3=this.fillType3||$e(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||$e(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||$e(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||$e(this.primaryColor,{h:128}),this.fillType7=this.fillType7||$e(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||$e(this.primaryColor,{l:-10}),this.pie5=this.pie5||$e(this.secondaryColor,{l:-10}),this.pie6=this.pie6||$e(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||$e(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||$e(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||$e(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||$e(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||$e(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||$e(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$e(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$e(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$e(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$e(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$e(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$e(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Oc(this.quadrant1Fill)?Vt(this.quadrant1Fill):ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ir(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||$e(this.primaryColor,{h:-30}),this.git4=this.git4||$e(this.primaryColor,{h:-60}),this.git5=this.git5||$e(this.primaryColor,{h:-90}),this.git6=this.git6||$e(this.primaryColor,{h:60}),this.git7=this.git7||$e(this.primaryColor,{h:120}),this.darkMode?(this.git0=Vt(this.git0,25),this.git1=Vt(this.git1,25),this.git2=Vt(this.git2,25),this.git3=Vt(this.git3,25),this.git4=Vt(this.git4,25),this.git5=Vt(this.git5,25),this.git6=Vt(this.git6,25),this.git7=Vt(this.git7,25)):(this.git0=ir(this.git0,25),this.git1=ir(this.git1,25),this.git2=ir(this.git2,25),this.git3=ir(this.git3,25),this.git4=ir(this.git4,25),this.git5=ir(this.git5,25),this.git6=ir(this.git6,25),this.git7=ir(this.git7,25)),this.gitInv0=this.gitInv0||At(this.git0),this.gitInv1=this.gitInv1||At(this.git1),this.gitInv2=this.gitInv2||At(this.git2),this.gitInv3=this.gitInv3||At(this.git3),this.gitInv4=this.gitInv4||At(this.git4),this.gitInv5=this.gitInv5||At(this.git5),this.gitInv6=this.gitInv6||At(this.git6),this.gitInv7=this.gitInv7||At(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||cm}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},AY=o(e=>{let t=new SY;return t.calculate(e),t},"getThemeVariables")}),LY,NY,rje=I(()=>{"use strict";Jo(),um(),LY=class{static{o(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Vt(this.primaryColor,16),this.tertiaryColor=$e(this.primaryColor,{h:-160}),this.primaryBorderColor=At(this.background),this.secondaryBorderColor=Ra(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ra(this.tertiaryColor,this.darkMode),this.primaryTextColor=At(this.primaryColor),this.secondaryTextColor=At(this.secondaryColor),this.tertiaryTextColor=At(this.tertiaryColor),this.lineColor=At(this.background),this.textColor=At(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Vt(At("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=th(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=ir("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=ir(this.sectionBkgColor,10),this.taskBorderColor=th(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=th(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Vt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Vt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Vt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=$e(this.primaryColor,{h:64}),this.fillType3=$e(this.secondaryColor,{h:64}),this.fillType4=$e(this.primaryColor,{h:-64}),this.fillType5=$e(this.secondaryColor,{h:-64}),this.fillType6=$e(this.primaryColor,{h:128}),this.fillType7=$e(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||$e(this.primaryColor,{h:30}),this.cScale4=this.cScale4||$e(this.primaryColor,{h:60}),this.cScale5=this.cScale5||$e(this.primaryColor,{h:90}),this.cScale6=this.cScale6||$e(this.primaryColor,{h:120}),this.cScale7=this.cScale7||$e(this.primaryColor,{h:150}),this.cScale8=this.cScale8||$e(this.primaryColor,{h:210}),this.cScale9=this.cScale9||$e(this.primaryColor,{h:270}),this.cScale10=this.cScale10||$e(this.primaryColor,{h:300}),this.cScale11=this.cScale11||$e(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||At(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||Vt(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||$e(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||$e(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$e(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$e(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$e(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$e(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$e(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$e(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Oc(this.quadrant1Fill)?Vt(this.quadrant1Fill):ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ir(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Vt(this.secondaryColor,20),this.git1=Vt(this.pie2||this.secondaryColor,20),this.git2=Vt(this.pie3||this.tertiaryColor,20),this.git3=Vt(this.pie4||$e(this.primaryColor,{h:-30}),20),this.git4=Vt(this.pie5||$e(this.primaryColor,{h:-60}),20),this.git5=Vt(this.pie6||$e(this.primaryColor,{h:-90}),10),this.git6=Vt(this.pie7||$e(this.primaryColor,{h:60}),10),this.git7=Vt(this.pie8||$e(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||At(this.git0),this.gitInv1=this.gitInv1||At(this.git1),this.gitInv2=this.gitInv2||At(this.git2),this.gitInv3=this.gitInv3||At(this.git3),this.gitInv4=this.gitInv4||At(this.git4),this.gitInv5=this.gitInv5||At(this.git5),this.gitInv6=this.gitInv6||At(this.git6),this.gitInv7=this.gitInv7||At(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||At(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||At(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Vt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Vt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},NY=o(e=>{let t=new LY;return t.calculate(e),t},"getThemeVariables")}),IY,qx,v8=I(()=>{"use strict";Jo(),um(),Gx(),IY=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=$e(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=$e(this.primaryColor,{h:-160}),this.primaryBorderColor=Ra(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ra(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ra(this.tertiaryColor,this.darkMode),this.primaryTextColor=At(this.primaryColor),this.secondaryTextColor=At(this.secondaryColor),this.tertiaryTextColor=At(this.tertiaryColor),this.lineColor=At(this.background),this.textColor=At(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=th(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||$e(this.primaryColor,{h:30}),this.cScale4=this.cScale4||$e(this.primaryColor,{h:60}),this.cScale5=this.cScale5||$e(this.primaryColor,{h:90}),this.cScale6=this.cScale6||$e(this.primaryColor,{h:120}),this.cScale7=this.cScale7||$e(this.primaryColor,{h:150}),this.cScale8=this.cScale8||$e(this.primaryColor,{h:210}),this.cScale9=this.cScale9||$e(this.primaryColor,{h:270}),this.cScale10=this.cScale10||$e(this.primaryColor,{h:300}),this.cScale11=this.cScale11||$e(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ir(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ir(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=ir(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||ir(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||$e(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||$e(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||$e(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||At(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||At(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Vt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=$e(this.primaryColor,{h:64}),this.fillType3=$e(this.secondaryColor,{h:64}),this.fillType4=$e(this.primaryColor,{h:-64}),this.fillType5=$e(this.secondaryColor,{h:-64}),this.fillType6=$e(this.primaryColor,{h:128}),this.fillType7=$e(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||$e(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||$e(this.primaryColor,{l:-10}),this.pie5=this.pie5||$e(this.secondaryColor,{l:-30}),this.pie6=this.pie6||$e(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||$e(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||$e(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||$e(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||$e(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||$e(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||$e(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$e(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$e(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$e(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$e(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$e(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$e(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Oc(this.quadrant1Fill)?Vt(this.quadrant1Fill):ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||$e(this.primaryColor,{h:-30}),this.git4=this.git4||$e(this.primaryColor,{h:-60}),this.git5=this.git5||$e(this.primaryColor,{h:-90}),this.git6=this.git6||$e(this.primaryColor,{h:60}),this.git7=this.git7||$e(this.primaryColor,{h:120}),this.darkMode?(this.git0=Vt(this.git0,25),this.git1=Vt(this.git1,25),this.git2=Vt(this.git2,25),this.git3=Vt(this.git3,25),this.git4=Vt(this.git4,25),this.git5=Vt(this.git5,25),this.git6=Vt(this.git6,25),this.git7=Vt(this.git7,25)):(this.git0=ir(this.git0,25),this.git1=ir(this.git1,25),this.git2=ir(this.git2,25),this.git3=ir(this.git3,25),this.git4=ir(this.git4,25),this.git5=ir(this.git5,25),this.git6=ir(this.git6,25),this.git7=ir(this.git7,25)),this.gitInv0=this.gitInv0||ir(At(this.git0),25),this.gitInv1=this.gitInv1||At(this.git1),this.gitInv2=this.gitInv2||At(this.git2),this.gitInv3=this.gitInv3||At(this.git3),this.gitInv4=this.gitInv4||At(this.git4),this.gitInv5=this.gitInv5||At(this.git5),this.gitInv6=this.gitInv6||At(this.git6),this.gitInv7=this.gitInv7||At(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||At(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||At(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||cm}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},qx=o(e=>{let t=new IY;return t.calculate(e),t},"getThemeVariables")}),MY,DY,nje=I(()=>{"use strict";Jo(),Gx(),um(),MY=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Vt("#cde498",10),this.primaryBorderColor=Ra(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ra(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ra(this.tertiaryColor,this.darkMode),this.primaryTextColor=At(this.primaryColor),this.secondaryTextColor=At(this.secondaryColor),this.tertiaryTextColor=At(this.primaryColor),this.lineColor=At(this.background),this.textColor=At(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=ir(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||$e(this.primaryColor,{h:30}),this.cScale4=this.cScale4||$e(this.primaryColor,{h:60}),this.cScale5=this.cScale5||$e(this.primaryColor,{h:90}),this.cScale6=this.cScale6||$e(this.primaryColor,{h:120}),this.cScale7=this.cScale7||$e(this.primaryColor,{h:150}),this.cScale8=this.cScale8||$e(this.primaryColor,{h:210}),this.cScale9=this.cScale9||$e(this.primaryColor,{h:270}),this.cScale10=this.cScale10||$e(this.primaryColor,{h:300}),this.cScale11=this.cScale11||$e(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ir(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ir(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=ir(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||ir(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||$e(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||$e(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||$e(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=$e(this.primaryColor,{h:64}),this.fillType3=$e(this.secondaryColor,{h:64}),this.fillType4=$e(this.primaryColor,{h:-64}),this.fillType5=$e(this.secondaryColor,{h:-64}),this.fillType6=$e(this.primaryColor,{h:128}),this.fillType7=$e(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||$e(this.primaryColor,{l:-30}),this.pie5=this.pie5||$e(this.secondaryColor,{l:-30}),this.pie6=this.pie6||$e(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||$e(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||$e(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||$e(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||$e(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||$e(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||$e(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$e(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$e(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$e(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$e(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$e(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$e(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Oc(this.quadrant1Fill)?Vt(this.quadrant1Fill):ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||$e(this.primaryColor,{h:-30}),this.git4=this.git4||$e(this.primaryColor,{h:-60}),this.git5=this.git5||$e(this.primaryColor,{h:-90}),this.git6=this.git6||$e(this.primaryColor,{h:60}),this.git7=this.git7||$e(this.primaryColor,{h:120}),this.darkMode?(this.git0=Vt(this.git0,25),this.git1=Vt(this.git1,25),this.git2=Vt(this.git2,25),this.git3=Vt(this.git3,25),this.git4=Vt(this.git4,25),this.git5=Vt(this.git5,25),this.git6=Vt(this.git6,25),this.git7=Vt(this.git7,25)):(this.git0=ir(this.git0,25),this.git1=ir(this.git1,25),this.git2=ir(this.git2,25),this.git3=ir(this.git3,25),this.git4=ir(this.git4,25),this.git5=ir(this.git5,25),this.git6=ir(this.git6,25),this.git7=ir(this.git7,25)),this.gitInv0=this.gitInv0||At(this.git0),this.gitInv1=this.gitInv1||At(this.git1),this.gitInv2=this.gitInv2||At(this.git2),this.gitInv3=this.gitInv3||At(this.git3),this.gitInv4=this.gitInv4||At(this.git4),this.gitInv5=this.gitInv5||At(this.git5),this.gitInv6=this.gitInv6||At(this.git6),this.gitInv7=this.gitInv7||At(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||At(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||At(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||cm}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},DY=o(e=>{let t=new MY;return t.calculate(e),t},"getThemeVariables")}),RY,OY,ije=I(()=>{"use strict";Jo(),um(),Gx(),RY=class{static{o(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Vt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=$e(this.primaryColor,{h:-160}),this.primaryBorderColor=Ra(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ra(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ra(this.tertiaryColor,this.darkMode),this.primaryTextColor=At(this.primaryColor),this.secondaryTextColor=At(this.secondaryColor),this.tertiaryTextColor=At(this.tertiaryColor),this.lineColor=At(this.background),this.textColor=At(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Vt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Vt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||At(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Vt(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||ir(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||$e(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||$e(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Vt(this.contrast,30),this.sectionBkgColor2=Vt(this.contrast,30),this.taskBorderColor=ir(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Vt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=ir(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=$e(this.primaryColor,{h:64}),this.fillType3=$e(this.secondaryColor,{h:64}),this.fillType4=$e(this.primaryColor,{h:-64}),this.fillType5=$e(this.secondaryColor,{h:-64}),this.fillType6=$e(this.primaryColor,{h:128}),this.fillType7=$e(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$e(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$e(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$e(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$e(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$e(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$e(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Oc(this.quadrant1Fill)?Vt(this.quadrant1Fill):ir(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ir(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||$e(this.primaryColor,{h:-30}),this.git4=this.pie5||$e(this.primaryColor,{h:-60}),this.git5=this.pie6||$e(this.primaryColor,{h:-90}),this.git6=this.pie7||$e(this.primaryColor,{h:60}),this.git7=this.pie8||$e(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||At(this.git0),this.gitInv1=this.gitInv1||At(this.git1),this.gitInv2=this.gitInv2||At(this.git2),this.gitInv3=this.gitInv3||At(this.git3),this.gitInv4=this.gitInv4||At(this.git4),this.gitInv5=this.gitInv5||At(this.git5),this.gitInv6=this.gitInv6||At(this.git6),this.gitInv7=this.gitInv7||At(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||cm}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},OY=o(e=>{let t=new RY;return t.calculate(e),t},"getThemeVariables")}),Gl,b8=I(()=>{"use strict";tje(),rje(),v8(),nje(),ije(),Gl={base:{getThemeVariables:AY},dark:{getThemeVariables:NY},default:{getThemeVariables:qx},forest:{getThemeVariables:DY},neutral:{getThemeVariables:OY}}}),Pc,aje=I(()=>{"use strict";Pc={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1}}),x8,k8,PY,Kr,Gs=I(()=>{"use strict";b8(),aje(),x8={...Pc,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Gl.default.getThemeVariables(),sequence:{...Pc.sequence,messageFont:o(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:o(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:o(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Pc.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Pc.c4,useWidth:void 0,personFont:o(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:o(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:o(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:o(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:o(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:o(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:o(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:o(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:o(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:o(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:o(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:o(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:o(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:o(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:o(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:o(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:o(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:o(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:o(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:o(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:o(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:o(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Pc.pie,useWidth:984},xyChart:{...Pc.xyChart,useWidth:void 0},requirement:{...Pc.requirement,useWidth:void 0},packet:{...Pc.packet}},k8=o((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...k8(e[n],"")]:[...r,t+n],[]),"keyify"),PY=new Set(k8(x8,"")),Kr=x8}),hm,BY,$Y=I(()=>{"use strict";Gs(),Ye(),hm=o(e=>{if(X.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>hm(t));return}for(let t of Object.keys(e)){if(X.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!PY.has(t)||e[t]==null){X.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){X.debug("sanitizing object",t),hm(e[t]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let n of r)t.includes(n)&&(X.debug("sanitizing css option",t),e[t]=BY(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}X.debug("After sanitization",e)}},"sanitizeDirective"),BY=o(e=>{let t=0,r=0;for(let n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss")}),Rd,Va,FY,Od,qp,dm,zY,GY,qY,w8,T8,Yn,E8,jY,pm,YY,_8,UY,C8,xs=I(()=>{"use strict";Mc(),Ye(),b8(),Gs(),$Y(),Rd=Object.freeze(Kr),Va=pi({},Rd),Od=[],qp=pi({},Rd),dm=o((e,t)=>{let r=pi({},e),n={};for(let i of t)E8(i),n=pi(n,i);if(r=pi(r,n),n.theme&&n.theme in Gl){let i=pi({},FY),a=pi(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Gl&&(r.themeVariables=Gl[r.theme].getThemeVariables(a))}return qp=r,C8(qp),qp},"updateCurrentConfig"),zY=o(e=>(Va=pi({},Rd),Va=pi(Va,e),e.theme&&Gl[e.theme]&&(Va.themeVariables=Gl[e.theme].getThemeVariables(e.themeVariables)),dm(Va,Od),Va),"setSiteConfig"),GY=o(e=>{FY=pi({},e)},"saveConfigFromInitialize"),qY=o(e=>(Va=pi(Va,e),dm(Va,Od),Va),"updateSiteConfig"),w8=o(()=>pi({},Va),"getSiteConfig"),T8=o(e=>(C8(e),pi(qp,e),Yn()),"setConfig"),Yn=o(()=>pi({},qp),"getConfig"),E8=o(e=>{e&&(["secure",...Va.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(X.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&E8(e[t])}))},"sanitize"),jY=o(e=>{hm(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Od.push(e),dm(Va,Od)},"addDirective"),pm=o((e=Va)=>{Od=[],dm(e,Od)},"reset"),YY={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},_8={},UY=o(e=>{_8[e]||(X.warn(YY[e]),_8[e]=!0)},"issueWarning"),C8=o(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&UY("LAZY_LOAD_DEPRECATED")},"checkConfig")});function ks(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return jx(e,t,n)}}function HY(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Yx(e,r)}}function qr(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fm;L8&&L8(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){let a=r(i);a!==i&&(VY(t)||(t[n]=a),i=a)}e[i]=!0}return e}function WY(e){for(let t=0;t<e.length;t++)yo(e,t)||(e[t]=null);return e}function rh(e){let t=N8(null);for(let[r,n]of A8(e))yo(e,r)&&(Array.isArray(n)?t[r]=WY(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=rh(n):t[r]=n);return t}function jp(e,t){for(;e!==null;){let n=KY(e,t);if(n){if(n.get)return ks(n.get);if(typeof n.value=="function")return ks(n.value)}e=XY(e)}function r(){return null}return o(r,"fallbackValue"),r}function S8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cU(),t=o(ye=>S8(ye),"DOMPurify");if(t.version="3.2.1",t.removed=[],!e||!e.document||e.document.nodeType!==Wp.document)return t.isSupported=!1,t;let{document:r}=e,n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:u,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:g}=e,m=u.prototype,y=jp(m,"cloneNode"),b=jp(m,"remove"),v=jp(m,"nextSibling"),x=jp(m,"childNodes"),k=jp(m,"parentNode");if(typeof s=="function"){let ye=r.createElement("template");ye.content&&ye.content.ownerDocument&&(r=ye.content.ownerDocument)}let w,_="",{implementation:S,createNodeIterator:C,createDocumentFragment:T,getElementsByTagName:N}=r,{importNode:D}=n,M={};t.isSupported=typeof A8=="function"&&typeof k=="function"&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:L,ERB_EXPR:B,TMPLIT_EXPR:E,DATA_ATTR:R,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:A,CUSTOM_ELEMENT:$}=F8,{IS_ALLOWED_URI:F}=F8,G=null,q=qr({},[...D8,...Hx,...Wx,...Vx,...R8]),W=null,re=qr({},[...O8,...Xx,...P8,...mm]),oe=Object.seal(N8(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,se=null,Y=!0,V=!0,U=!1,ne=!0,K=!1,fe=!0,Q=!1,Te=!1,ie=!1,Me=!1,Le=!1,Ie=!1,He=!0,We=!1,et="user-content-",Ze=!0,H=!1,ge={},ce=null,ve=qr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),J=null,Pe=qr({},["audio","video","img","source","image","track"]),Z=null,Fe=qr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ae="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",_e="http://www.w3.org/1999/xhtml",Se=_e,Re=!1,ke=null,Xe=qr({},[ae,pe,_e],Ux),Oe=qr({},["mi","mo","mn","ms","mtext"]),lt=qr({},["annotation-xml"]),Dt=qr({},["title","style","font","a","script"]),_t=null,gt=["application/xhtml+xml","text/html"],Pt="text/html",st=null,Qe=null,Ke=r.createElement("form"),It=o(function(ye){return ye instanceof RegExp||ye instanceof Function},"isRegexOrFunction"),tt=o(function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qe&&Qe===ye)){if((!ye||typeof ye!="object")&&(ye={}),ye=rh(ye),_t=gt.indexOf(ye.PARSER_MEDIA_TYPE)===-1?Pt:ye.PARSER_MEDIA_TYPE,st=_t==="application/xhtml+xml"?Ux:fm,G=yo(ye,"ALLOWED_TAGS")?qr({},ye.ALLOWED_TAGS,st):q,W=yo(ye,"ALLOWED_ATTR")?qr({},ye.ALLOWED_ATTR,st):re,ke=yo(ye,"ALLOWED_NAMESPACES")?qr({},ye.ALLOWED_NAMESPACES,Ux):Xe,Z=yo(ye,"ADD_URI_SAFE_ATTR")?qr(rh(Fe),ye.ADD_URI_SAFE_ATTR,st):Fe,J=yo(ye,"ADD_DATA_URI_TAGS")?qr(rh(Pe),ye.ADD_DATA_URI_TAGS,st):Pe,ce=yo(ye,"FORBID_CONTENTS")?qr({},ye.FORBID_CONTENTS,st):ve,te=yo(ye,"FORBID_TAGS")?qr({},ye.FORBID_TAGS,st):{},se=yo(ye,"FORBID_ATTR")?qr({},ye.FORBID_ATTR,st):{},ge=yo(ye,"USE_PROFILES")?ye.USE_PROFILES:!1,Y=ye.ALLOW_ARIA_ATTR!==!1,V=ye.ALLOW_DATA_ATTR!==!1,U=ye.ALLOW_UNKNOWN_PROTOCOLS||!1,ne=ye.ALLOW_SELF_CLOSE_IN_ATTR!==!1,K=ye.SAFE_FOR_TEMPLATES||!1,fe=ye.SAFE_FOR_XML!==!1,Q=ye.WHOLE_DOCUMENT||!1,Me=ye.RETURN_DOM||!1,Le=ye.RETURN_DOM_FRAGMENT||!1,Ie=ye.RETURN_TRUSTED_TYPE||!1,ie=ye.FORCE_BODY||!1,He=ye.SANITIZE_DOM!==!1,We=ye.SANITIZE_NAMED_PROPS||!1,Ze=ye.KEEP_CONTENT!==!1,H=ye.IN_PLACE||!1,F=ye.ALLOWED_URI_REGEXP||B8,Se=ye.NAMESPACE||_e,Oe=ye.MATHML_TEXT_INTEGRATION_POINTS||Oe,lt=ye.HTML_INTEGRATION_POINTS||lt,oe=ye.CUSTOM_ELEMENT_HANDLING||{},ye.CUSTOM_ELEMENT_HANDLING&&It(ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(oe.tagNameCheck=ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&It(ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(oe.attributeNameCheck=ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&typeof ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(oe.allowCustomizedBuiltInElements=ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(V=!1),Le&&(Me=!0),ge&&(G=qr({},R8),W=[],ge.html===!0&&(qr(G,D8),qr(W,O8)),ge.svg===!0&&(qr(G,Hx),qr(W,Xx),qr(W,mm)),ge.svgFilters===!0&&(qr(G,Wx),qr(W,Xx),qr(W,mm)),ge.mathMl===!0&&(qr(G,Vx),qr(W,P8),qr(W,mm))),ye.ADD_TAGS&&(G===q&&(G=rh(G)),qr(G,ye.ADD_TAGS,st)),ye.ADD_ATTR&&(W===re&&(W=rh(W)),qr(W,ye.ADD_ATTR,st)),ye.ADD_URI_SAFE_ATTR&&qr(Z,ye.ADD_URI_SAFE_ATTR,st),ye.FORBID_CONTENTS&&(ce===ve&&(ce=rh(ce)),qr(ce,ye.FORBID_CONTENTS,st)),Ze&&(G["#text"]=!0),Q&&qr(G,["html","head","body"]),G.table&&(qr(G,["tbody"]),delete te.tbody),ye.TRUSTED_TYPES_POLICY){if(typeof ye.TRUSTED_TYPES_POLICY.createHTML!="function")throw Hp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ye.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Hp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=ye.TRUSTED_TYPES_POLICY,_=w.createHTML("")}else w===void 0&&(w=uU(g,i)),w!==null&&typeof _=="string"&&(_=w.createHTML(""));Oa&&Oa(ye),Qe=ye}},"_parseConfig"),Zt=qr({},[...Hx,...Wx,...JY]),jt=qr({},[...Vx,...eU]),pt=o(function(ye){let xt=k(ye);(!xt||!xt.tagName)&&(xt={namespaceURI:Se,tagName:"template"});let bt=fm(ye.tagName),Yr=fm(xt.tagName);return ke[ye.namespaceURI]?ye.namespaceURI===pe?xt.namespaceURI===_e?bt==="svg":xt.namespaceURI===ae?bt==="svg"&&(Yr==="annotation-xml"||Oe[Yr]):!!Zt[bt]:ye.namespaceURI===ae?xt.namespaceURI===_e?bt==="math":xt.namespaceURI===pe?bt==="math"&&lt[Yr]:!!jt[bt]:ye.namespaceURI===_e?xt.namespaceURI===pe&&!lt[Yr]||xt.namespaceURI===ae&&!Oe[Yr]?!1:!jt[bt]&&(Dt[bt]||!Zt[bt]):!!(_t==="application/xhtml+xml"&&ke[ye.namespaceURI]):!1},"_checkValidNamespace"),dt=o(function(ye){Yp(t.removed,{element:ye});try{k(ye).removeChild(ye)}catch{b(ye)}},"_forceRemove"),it=o(function(ye,xt){try{Yp(t.removed,{attribute:xt.getAttributeNode(ye),from:xt})}catch{Yp(t.removed,{attribute:null,from:xt})}if(xt.removeAttribute(ye),ye==="is"&&!W[ye])if(Me||Le)try{dt(xt)}catch{}else try{xt.setAttribute(ye,"")}catch{}},"_removeAttribute"),Gt=o(function(ye){let xt=null,bt=null;if(ie)ye="<remove></remove>"+ye;else{let An=M8(ye,/^[\r\n\t ]+/);bt=An&&An[0]}_t==="application/xhtml+xml"&&Se===_e&&(ye='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ye+"</body></html>");let Yr=w?w.createHTML(ye):ye;if(Se===_e)try{xt=new f().parseFromString(Yr,_t)}catch{}if(!xt||!xt.documentElement){xt=S.createDocument(Se,"template",null);try{xt.documentElement.innerHTML=Re?_:Yr}catch{}}let Vr=xt.body||xt.documentElement;return ye&&bt&&Vr.insertBefore(r.createTextNode(bt),Vr.childNodes[0]||null),Se===_e?N.call(xt,Q?"html":"body")[0]:Q?xt.documentElement:Vr},"_initDocument"),Tt=o(function(ye){return C.call(ye.ownerDocument||ye,ye,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),hn=o(function(ye){return ye instanceof p&&(typeof ye.nodeName!="string"||typeof ye.textContent!="string"||typeof ye.removeChild!="function"||!(ye.attributes instanceof d)||typeof ye.removeAttribute!="function"||typeof ye.setAttribute!="function"||typeof ye.namespaceURI!="string"||typeof ye.insertBefore!="function"||typeof ye.hasChildNodes!="function")},"_isClobbered"),Ir=o(function(ye){return typeof l=="function"&&ye instanceof l},"_isNode");function Gr(ye,xt,bt){M[ye]&&gm(M[ye],Yr=>{Yr.call(t,xt,bt,Qe)})}o(Gr,"_executeHook");let Xn=o(function(ye){let xt=null;if(Gr("beforeSanitizeElements",ye,null),hn(ye))return dt(ye),!0;let bt=st(ye.nodeName);if(Gr("uponSanitizeElement",ye,{tagName:bt,allowedTags:G}),ye.hasChildNodes()&&!Ir(ye.firstElementChild)&&Pa(/<[/\w]/g,ye.innerHTML)&&Pa(/<[/\w]/g,ye.textContent)||ye.nodeType===Wp.progressingInstruction||fe&&ye.nodeType===Wp.comment&&Pa(/<[/\w]/g,ye.data))return dt(ye),!0;if(!G[bt]||te[bt]){if(!te[bt]&&ei(bt)&&(oe.tagNameCheck instanceof RegExp&&Pa(oe.tagNameCheck,bt)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(bt)))return!1;if(Ze&&!ce[bt]){let Yr=k(ye)||ye.parentNode,Vr=x(ye)||ye.childNodes;if(Vr&&Yr){let An=Vr.length;for(let Fn=An-1;Fn>=0;--Fn){let di=y(Vr[Fn],!0);di.__removalCount=(ye.__removalCount||0)+1,Yr.insertBefore(di,v(ye))}}}return dt(ye),!0}return ye instanceof u&&!pt(ye)||(bt==="noscript"||bt==="noembed"||bt==="noframes")&&Pa(/<\/no(script|embed|frames)/i,ye.innerHTML)?(dt(ye),!0):(K&&ye.nodeType===Wp.text&&(xt=ye.textContent,gm([L,B,E],Yr=>{xt=Up(xt,Yr," ")}),ye.textContent!==xt&&(Yp(t.removed,{element:ye.cloneNode()}),ye.textContent=xt)),Gr("afterSanitizeElements",ye,null),!1)},"_sanitizeElements"),bn=o(function(ye,xt,bt){if(He&&(xt==="id"||xt==="name")&&(bt in r||bt in Ke))return!1;if(!(V&&!se[xt]&&Pa(R,xt))&&!(Y&&Pa(O,xt))){if(!W[xt]||se[xt]){if(!(ei(ye)&&(oe.tagNameCheck instanceof RegExp&&Pa(oe.tagNameCheck,ye)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(ye))&&(oe.attributeNameCheck instanceof RegExp&&Pa(oe.attributeNameCheck,xt)||oe.attributeNameCheck instanceof Function&&oe.attributeNameCheck(xt))||xt==="is"&&oe.allowCustomizedBuiltInElements&&(oe.tagNameCheck instanceof RegExp&&Pa(oe.tagNameCheck,bt)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(bt))))return!1}else if(!Z[xt]&&!Pa(F,Up(bt,A,""))&&!((xt==="src"||xt==="xlink:href"||xt==="href")&&ye!=="script"&&ZY(bt,"data:")===0&&J[ye])&&!(U&&!Pa(P,Up(bt,A,"")))&&bt)return!1}return!0},"_isValidAttribute"),ei=o(function(ye){return ye!=="annotation-xml"&&M8(ye,$)},"_isBasicCustomElement"),$n=o(function(ye){Gr("beforeSanitizeAttributes",ye,null);let{attributes:xt}=ye;if(!xt)return;let bt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0},Yr=xt.length;for(;Yr--;){let Vr=xt[Yr],{name:An,namespaceURI:Fn,value:di}=Vr,Mn=st(An),ft=An==="value"?di:QY(di);if(bt.attrName=Mn,bt.attrValue=ft,bt.keepAttr=!0,bt.forceKeepAttr=void 0,Gr("uponSanitizeAttribute",ye,bt),ft=bt.attrValue,We&&(Mn==="id"||Mn==="name")&&(it(An,ye),ft=et+ft),fe&&Pa(/((--!?|])>)|<\/(style|title)/i,ft)){it(An,ye);continue}if(bt.forceKeepAttr||(it(An,ye),!bt.keepAttr))continue;if(!ne&&Pa(/\/>/i,ft)){it(An,ye);continue}K&&gm([L,B,E],ut=>{ft=Up(ft,ut," ")});let zt=st(ye.nodeName);if(bn(zt,Mn,ft)){if(w&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Fn)switch(g.getAttributeType(zt,Mn)){case"TrustedHTML":{ft=w.createHTML(ft);break}case"TrustedScriptURL":{ft=w.createScriptURL(ft);break}}try{Fn?ye.setAttributeNS(Fn,An,ft):ye.setAttribute(An,ft),hn(ye)?dt(ye):I8(t.removed)}catch{}}}Gr("afterSanitizeAttributes",ye,null)},"_sanitizeAttributes"),ti=o(function ye(xt){let bt=null,Yr=Tt(xt);for(Gr("beforeSanitizeShadowDOM",xt,null);bt=Yr.nextNode();)Gr("uponSanitizeShadowNode",bt,null),!Xn(bt)&&(bt.content instanceof a&&ye(bt.content),$n(bt));Gr("afterSanitizeShadowDOM",xt,null)},"_sanitizeShadowDOM");return t.sanitize=function(ye){let xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bt=null,Yr=null,Vr=null,An=null;if(Re=!ye,Re&&(ye="<!-->"),typeof ye!="string"&&!Ir(ye))if(typeof ye.toString=="function"){if(ye=ye.toString(),typeof ye!="string")throw Hp("dirty is not a string, aborting")}else throw Hp("toString is not a function");if(!t.isSupported)return ye;if(Te||tt(xt),t.removed=[],typeof ye=="string"&&(H=!1),H){if(ye.nodeName){let Mn=st(ye.nodeName);if(!G[Mn]||te[Mn])throw Hp("root node is forbidden and cannot be sanitized in-place")}}else if(ye instanceof l)bt=Gt("<!---->"),Yr=bt.ownerDocument.importNode(ye,!0),Yr.nodeType===Wp.element&&Yr.nodeName==="BODY"||Yr.nodeName==="HTML"?bt=Yr:bt.appendChild(Yr);else{if(!Me&&!K&&!Q&&ye.indexOf("<")===-1)return w&&Ie?w.createHTML(ye):ye;if(bt=Gt(ye),!bt)return Me?null:Ie?_:""}bt&&ie&&dt(bt.firstChild);let Fn=Tt(H?ye:bt);for(;Vr=Fn.nextNode();)Xn(Vr)||(Vr.content instanceof a&&ti(Vr.content),$n(Vr));if(H)return ye;if(Me){if(Le)for(An=T.call(bt.ownerDocument);bt.firstChild;)An.appendChild(bt.firstChild);else An=bt;return(W.shadowroot||W.shadowrootmode)&&(An=D.call(n,An,!0)),An}let di=Q?bt.outerHTML:bt.innerHTML;return Q&&G["!doctype"]&&bt.ownerDocument&&bt.ownerDocument.doctype&&bt.ownerDocument.doctype.name&&Pa($8,bt.ownerDocument.doctype.name)&&(di="<!DOCTYPE "+bt.ownerDocument.doctype.name+`>
`+di),K&&gm([L,B,E],Mn=>{di=Up(di,Mn," ")}),w&&Ie?w.createHTML(di):di},t.setConfig=function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tt(ye),Te=!0},t.clearConfig=function(){Qe=null,Te=!1},t.isValidAttribute=function(ye,xt,bt){Qe||tt({});let Yr=st(ye),Vr=st(xt);return bn(Yr,Vr,bt)},t.addHook=function(ye,xt){typeof xt=="function"&&(M[ye]=M[ye]||[],Yp(M[ye],xt))},t.removeHook=function(ye){if(M[ye])return I8(M[ye])},t.removeHooks=function(ye){M[ye]&&(M[ye]=[])},t.removeAllHooks=function(){M={}},t}var A8,L8,VY,XY,KY,Oa,qs,N8,jx,Yx,gm,I8,Yp,fm,Ux,M8,Up,ZY,QY,yo,Pa,Hp,D8,Hx,Wx,JY,Vx,eU,R8,O8,Xx,P8,mm,tU,rU,nU,iU,aU,B8,sU,oU,$8,lU,F8,Wp,cU,uU,Pd,hU=I(()=>{"use strict";({entries:A8,setPrototypeOf:L8,isFrozen:VY,getPrototypeOf:XY,getOwnPropertyDescriptor:KY}=Object),{freeze:Oa,seal:qs,create:N8}=Object,{apply:jx,construct:Yx}=typeof Reflect<"u"&&Reflect,Oa||(Oa=o(function(e){return e},"freeze")),qs||(qs=o(function(e){return e},"seal")),jx||(jx=o(function(e,t,r){return e.apply(t,r)},"apply")),Yx||(Yx=o(function(e,t){return new e(...t)},"construct")),gm=ks(Array.prototype.forEach),I8=ks(Array.prototype.pop),Yp=ks(Array.prototype.push),fm=ks(String.prototype.toLowerCase),Ux=ks(String.prototype.toString),M8=ks(String.prototype.match),Up=ks(String.prototype.replace),ZY=ks(String.prototype.indexOf),QY=ks(String.prototype.trim),yo=ks(Object.prototype.hasOwnProperty),Pa=ks(RegExp.prototype.test),Hp=HY(TypeError),o(ks,"unapply"),o(HY,"unconstruct"),o(qr,"addToSet"),o(WY,"cleanArray"),o(rh,"clone"),o(jp,"lookupGetter"),D8=Oa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Hx=Oa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Wx=Oa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),JY=Oa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vx=Oa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),eU=Oa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R8=Oa(["#text"]),O8=Oa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Xx=Oa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P8=Oa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mm=Oa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tU=qs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),rU=qs(/<%[\w\W]*|[\w\W]*%>/gm),nU=qs(/\${[\w\W]*}/gm),iU=qs(/^data-[\-\w.\u00B7-\uFFFF]/),aU=qs(/^aria-[\-\w]+$/),B8=qs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sU=qs(/^(?:\w+script|data):/i),oU=qs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$8=qs(/^html$/i),lU=qs(/^[a-z][.\w]*(-[.\w]+)+$/i),F8=Object.freeze({__proto__:null,ARIA_ATTR:aU,ATTR_WHITESPACE:oU,CUSTOM_ELEMENT:lU,DATA_ATTR:iU,DOCTYPE_NAME:$8,ERB_EXPR:rU,IS_ALLOWED_URI:B8,IS_SCRIPT_OR_DATA:sU,MUSTACHE_EXPR:tU,TMPLIT_EXPR:nU}),Wp={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},cU=o(function(){return typeof window>"u"?null:window},"getGlobal"),uU=o(function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));let i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},"_createTrustedTypesPolicy"),o(S8,"createDOMPurify"),Pd=S8()}),dU={};Nt(dU,{default:()=>uW});function pU(e){return String(e).replace(CU,t=>_U[t])}function gU(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function fU(e){for(var t=0;t<n4.length;t++)for(var r=n4[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}function z8(e){for(var t=0;t<wm.length;t+=2)if(e>=wm[t]&&e<=wm[t+1])return!0;return!1}function mU(e,t){nl[e]=t}function Kx(e,t,r){if(!nl[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=nl[t][n];if(!i&&e[0]in Z8&&(n=Z8[e[0]].charCodeAt(0),i=nl[t][n]),!i&&r==="text"&&z8(n)&&(i=nl[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}function yU(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!i4[t]){var r=i4[t]={cssEmPerMu:Tm.quad[t]/18};for(var n in Tm)Tm.hasOwnProperty(n)&&(r[n]=Tm[n][t])}return i4[t]}function G8(e){if(e instanceof Ys)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function vU(e){if(e instanceof Kp)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}function z(e,t,r,n,i,a){Dn[e][i]={font:t,group:r,replace:n},a&&n&&(Dn[e][n]=Dn[e][i])}function Rt(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,l={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},u=0;u<r.length;++u)f_[r[u]]=l;t&&(a&&(Im[t]=a),s&&(Mm[t]=s))}function nh(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;Rt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}function ym(e,t){var r=Hl(["base"],e,t),n=Hl(["strut"]);return n.style.height=Et(r.height+r.depth),r.depth&&(n.style.verticalAlign=Et(-r.depth)),r.children.unshift(n),r}function Zx(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=Si(e,t,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],s=[],l=0;l<n.length;l++)if(s.push(n[l]),n[l].hasClass("mbin")||n[l].hasClass("mrel")||n[l].hasClass("allowbreak")){for(var u=!1;l<n.length-1&&n[l+1].hasClass("mspace")&&!n[l+1].hasClass("newline");)l++,s.push(n[l]),n[l].hasClass("nobreak")&&(u=!0);u||(a.push(ym(s,t)),s=[])}else n[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(ym(s,t)),s=[]),a.push(n[l]));s.length>0&&a.push(ym(s,t));var h;r?(h=ym(Si(r,t,!0)),h.classes=["tag"],a.push(h)):i&&a.push(i);var d=Hl(["katex-html"],a);if(d.setAttribute("aria-hidden","true"),h){var p=h.children[0];p.style.height=Et(d.height+d.depth),d.depth&&(p.style.verticalAlign=Et(-d.depth))}return d}function q8(e){return new Xp(e)}function j8(e,t,r,n,i){var a=Ka(e,r),s;a.length===1&&a[0]instanceof Us&&pr.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new ct.MathNode("mrow",a);var l=new ct.MathNode("annotation",[new ct.TextNode(t)]);l.setAttribute("encoding","application/x-tex");var u=new ct.MathNode("semantics",[s,l]),h=new ct.MathNode("math",[u]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&h.setAttribute("display","block");var d=i?"katex":"katex-mathml";return Ge.makeSpan([d],[h])}function Or(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Qx(e){var t=vm(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function vm(e){return e&&(e.type==="atom"||ZU.hasOwnProperty(e.type))?e:null}function Y8(e,t){var r=Si(e.body,t,!0);return AH([e.mclass],r,t)}function U8(e,t){var r,n=Ka(e.body,t);return e.mclass==="minner"?r=new ct.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new ct.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new ct.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}function bU(e,t,r){var n=LH[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),l=r.callFunction("\\\\cdright",[t[1]],[]),u={type:"ordgroup",mode:"math",body:[i,s,l]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function xU(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new yt("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],i=[n],a=0;a<t.length;a++){for(var s=t[a],l=k_(),u=0;u<s.length;u++)if(!w_(s[u]))l.body.push(s[u]);else{n.push(l),u+=1;var h=Qx(s[u]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var p=0;p<2;p++){for(var f=!0,g=u+1;g<s.length;g++){if(NH(s[g],h)){f=!1,u=g;break}if(w_(s[g]))throw new yt("Missing a "+h+" character to complete a CD arrow.",s[g]);d[p].body.push(s[g])}if(f)throw new yt("Missing a "+h+" character to complete a CD arrow.",s[u])}else throw new yt('Expected one of "<>AV=|." after @',s[u]);var m=bU(h,d,e),y={type:"styling",body:[m],mode:"math",style:"display"};n.push(y),l=k_()}a%2===0?n.push(l):n.shift(),n=[],i.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}function bm(e,t){var r=vm(e);if(r&&pr.contains(jH,r.text))return r;throw r?new yt("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new yt("Invalid delimiter type '"+e.type+"'",e)}function H8(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function el(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,l={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<r.length;++u)P_[r[u]]=l;a&&(Im[t]=a),s&&(Mm[t]=s)}function le(e,t){B_[e]=t}function W8(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}function Jx(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Bc(e,t,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:l,autoTag:u,singleRow:h,emptySingleRow:d,maxNumCols:p,leqno:f}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var g=e.gullet.expandMacroAsText("\\arraystretch");if(g==null)s=1;else if(s=parseFloat(g),!s||s<0)throw new yt("Invalid \\arraystretch: "+g)}e.gullet.beginGroup();var m=[],y=[m],b=[],v=[],x=u!=null?[]:void 0;function k(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}o(k,"beginRow");function w(){x&&(e.gullet.macros.get("\\df@tag")?(x.push(e.subparse([new tl("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(o(w,"endRow"),k(),v.push(W8(e));;){var _=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),_={type:"ordgroup",mode:e.mode,body:_},r&&(_={type:"styling",mode:e.mode,style:r,body:[_]}),m.push(_);var S=e.fetch().text;if(S==="&"){if(p&&m.length===p){if(h||l)throw new yt("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(S==="\\end"){w(),m.length===1&&_.type==="styling"&&_.body[0].body.length===0&&(y.length>1||!d)&&y.pop(),v.length<y.length+1&&v.push([]);break}else if(S==="\\\\"){e.consume();var C=void 0;e.gullet.future().text!==" "&&(C=e.parseSizeGroup(!0)),b.push(C?C.value:null),w(),v.push(W8(e)),m=[],y.push(m),k()}else throw new yt("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:y,cols:a,rowGaps:b,hskipBeforeAndAfter:n,hLinesBeforeRow:v,colSeparationType:l,tags:x,leqno:f}}function e4(e){return e.slice(0,1)==="d"?"display":"text"}function V8(e,t,r){for(var n=Si(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,t.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+t.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return Ge.makeFragment(n)}var vo,tl,yt,kU,wU,TU,EU,_U,CU,X8,SU,AU,LU,pr,xm,t4,$c,r4,km,Bd,ql,Vp,js,$d,Ba,rl,NU,IU,MU,DU,RU,OU,fr,n4,wm,Fd,PU,BU,$U,FU,zU,GU,qU,jU,YU,K8,UU,Xp,nl,Tm,Z8,i4,HU,Q8,J8,e_,a4,WU,t_,Zn,Et,Fc,r_,n_,i_,Kp,s4,VU,XU,Ys,jl,zc,o4,KU,ZU,Dn,j,at,ee,be,Un,$t,$a,zd,mr,ki,ws,Em,xe,Yl,Ne,a_,s_,o_,l4,l_,c_,c4,_m,Cm,u4,wr,ni,Fa,Gc,ih,h4,Sm,d4,Am,u_,QU,Lm,bo,JU,eH,tH,rH,nH,p4,Xa,h_,iH,aH,d_,sH,oH,lH,cH,Nm,p_,g_,uH,Ge,Qn,ah,Ul,hH,dH,f_,Im,Mm,Dm,gi,Hl,pH,gH,fH,mH,Si,m_,y_,yH,g4,Zp,Zr,Us,Qp,vH,ct,Hs,f4,m4,Ka,qc,Ln,v_,b_,bH,xH,kH,wH,TH,EH,_H,CH,Wl,y4,x_,SH,Rm,AH,Om,LH,k_,w_,NH,T_,E_,v4,__,IH,C_,Jp,b4,S_,MH,DH,A_,x4,k4,w4,Pm,RH,OH,L_,T4,E4,_4,PH,N_,BH,I_,e1,$H,FH,zH,M_,GH,D_,R_,qH,Vl,O_,jH,C4,S4,P_,B_,Bm,il,YH,al,$_,F_,z_,G_,q_,j_,A4,L4,Y_,U_,H_,UH,N4,W_,V_,X_,Gd,t1,HH,WH,K_,VH,Z_,XH,Q_,KH,J_,I4,M4,eC,tC,rC,ZH,nC,iC,jc,aC,QH,JH,eW,tW,D4,rW,nW,sC,iW,aW,oC,R4,lC,O4,cC,uC,hC,sW,dC,$m,P4,pC,gC,B4,fC,oW,lW,mC,$4,cW,uW,sje=I(()=>{"use strict";for(vo=class Lqe{static{o(this,"SourceLocation")}constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new Lqe(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}},tl=class Nqe{static{o(this,"Token")}constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new Nqe(r,vo.range(this,t))}},yt=class Iqe{static{o(this,"ParseError")}constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,i,a,s=r&&r.loc;if(s&&s.start<=s.end){var l=s.lexer.input;i=s.start,a=s.end,i===l.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var u=l.slice(i,a).replace(/[^]/g,"$&\u0332"),h;i>15?h="\u2026"+l.slice(i-15,i):h=l.slice(0,i);var d;a+15<l.length?d=l.slice(a,a+15)+"\u2026":d=l.slice(a),n+=h+u+d}var p=new Error(n);return p.name="ParseError",p.__proto__=Iqe.prototype,p.position=i,i!=null&&a!=null&&(p.length=a-i),p.rawMessage=t,p}},yt.prototype.__proto__=Error.prototype,kU=o(function(e,t){return e.indexOf(t)!==-1},"contains"),wU=o(function(e,t){return e===void 0?t:e},"deflt"),TU=/([A-Z])/g,EU=o(function(e){return e.replace(TU,"-$1").toLowerCase()},"hyphenate"),_U={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},CU=/[&><"']/g,o(pU,"escape"),X8=o(function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},"getBaseElem"),SU=o(function(e){var t=X8(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},"isCharacterBox"),AU=o(function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},"assert"),LU=o(function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},"protocolFromUrl"),pr={contains:kU,deflt:wU,escape:pU,hyphenate:EU,getBaseElem:X8,isCharacterBox:SU,protocolFromUrl:LU},xm={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:o(e=>"#"+e,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:o((e,t)=>(t.push(e),t),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:o(e=>Math.max(0,e),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:o(e=>Math.max(0,e),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:o(e=>Math.max(0,e),"processor"),cli:"-e, --max-expand <n>",cliProcessor:o(e=>e==="Infinity"?1/0:parseInt(e),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}},o(gU,"getDefaultValue"),t4=class{static{o(this,"Settings")}constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in xm)if(xm.hasOwnProperty(t)){var r=xm[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:gU(r)}}reportNonstrict(e,t,r){var n=this.strict;if(typeof n=="function"&&(n=n(e,t,r)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new yt("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var n=this.strict;if(typeof n=="function")try{n=n(e,t,r)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=pr.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}},$c=class{static{o(this,"Style")}constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return rl[NU[this.id]]}sub(){return rl[IU[this.id]]}fracNum(){return rl[MU[this.id]]}fracDen(){return rl[DU[this.id]]}cramp(){return rl[RU[this.id]]}text(){return rl[OU[this.id]]}isTight(){return this.size>=2}},r4=0,km=1,Bd=2,ql=3,Vp=4,js=5,$d=6,Ba=7,rl=[new $c(r4,0,!1),new $c(km,0,!0),new $c(Bd,1,!1),new $c(ql,1,!0),new $c(Vp,2,!1),new $c(js,2,!0),new $c($d,3,!1),new $c(Ba,3,!0)],NU=[Vp,js,Vp,js,$d,Ba,$d,Ba],IU=[js,js,js,js,Ba,Ba,Ba,Ba],MU=[Bd,ql,Vp,js,$d,Ba,$d,Ba],DU=[ql,ql,js,js,Ba,Ba,Ba,Ba],RU=[km,km,ql,ql,js,js,Ba,Ba],OU=[r4,km,Bd,ql,Bd,ql,Bd,ql],fr={DISPLAY:rl[r4],TEXT:rl[Bd],SCRIPT:rl[Vp],SCRIPTSCRIPT:rl[$d]},n4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],o(fU,"scriptFromCodepoint"),wm=[],n4.forEach(e=>e.blocks.forEach(t=>wm.push(...t))),o(z8,"supportedCodepoint"),Fd=80,PU=o(function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtMain"),BU=o(function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize1"),$U=o(function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize2"),FU=o(function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},"sqrtSize3"),zU=o(function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},"sqrtSize4"),GU=o(function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},"phasePath"),qU=o(function(e,t,r){var n=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},"sqrtTall"),jU=o(function(e,t,r){t=1e3*t;var n="";switch(e){case"sqrtMain":n=PU(t,Fd);break;case"sqrtSize1":n=BU(t,Fd);break;case"sqrtSize2":n=$U(t,Fd);break;case"sqrtSize3":n=FU(t,Fd);break;case"sqrtSize4":n=zU(t,Fd);break;case"sqrtTall":n=qU(t,Fd,r)}return n},"sqrtPath"),YU=o(function(e,t){switch(e){case"\u239C":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"\u2223":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"\u2225":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"\u239F":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"\u23A2":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"\u23A5":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"\u23AA":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"\u23D0":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"\u2016":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},"innerPath"),K8={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},UU=o(function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim"),Xp=class{static{o(this,"DocumentFragment")}constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return pr.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=o(t=>t.toText(),"toText");return this.children.map(e).join("")}},nl={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Tm={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Z8={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"},o(mU,"setFontMetrics"),o(Kx,"getCharacterMetrics"),i4={},o(yU,"getGlobalMetrics"),HU=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Q8=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],J8=o(function(e,t){return t.size<2?e:HU[e-1][t.size-1]},"sizeAtStyle"),e_=class Bp{static{o(this,"Options")}constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Bp.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Q8[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new Bp(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:J8(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:Q8[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=J8(Bp.BASESIZE,t);return this.size===r&&this.textSize===Bp.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Bp.BASESIZE?["sizing","reset-size"+this.size,"size"+Bp.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=yU(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}},e_.BASESIZE=6,a4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},WU={ex:!0,em:!0,mu:!0},t_=o(function(e){return typeof e!="string"&&(e=e.unit),e in a4||e in WU||e==="ex"},"validUnit"),Zn=o(function(e,t){var r;if(e.unit in a4)r=a4[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var n;if(t.style.isTight()?n=t.havingStyle(t.style.text()):n=t,e.unit==="ex")r=n.fontMetrics().xHeight;else if(e.unit==="em")r=n.fontMetrics().quad;else throw new yt("Invalid unit: '"+e.unit+"'");n!==t&&(r*=n.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},"calculateSize"),Et=o(function(e){return+e.toFixed(4)+"em"},"makeEm"),Fc=o(function(e){return e.filter(t=>t).join(" ")},"createClass"),r_=o(function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},"initNode"),n_=o(function(e){var t=document.createElement(e);t.className=Fc(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},"toNode"),i_=o(function(e){var t="<"+e;this.classes.length&&(t+=' class="'+pr.escape(Fc(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=pr.hyphenate(n)+":"+this.style[n]+";");r&&(t+=' style="'+pr.escape(r)+'"');for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+pr.escape(this.attributes[i])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+e+">",t},"toMarkup"),Kp=class{static{o(this,"Span")}constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,r_.call(this,e,r,n),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return pr.contains(this.classes,e)}toNode(){return n_.call(this,"span")}toMarkup(){return i_.call(this,"span")}},s4=class{static{o(this,"Anchor")}constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,r_.call(this,t,n),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return pr.contains(this.classes,e)}toNode(){return n_.call(this,"a")}toMarkup(){return i_.call(this,"a")}},VU=class{static{o(this,"Img")}constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return pr.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+pr.escape(this.src)+'"'+(' alt="'+pr.escape(this.alt)+'"'),t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=pr.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+pr.escape(t)+'"'),e+="'/>",e}},XU={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"},Ys=class{static{o(this,"SymbolNode")}constructor(e,t,r,n,i,a,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=n||0,this.skew=i||0,this.width=a||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var u=fU(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=XU[this.text])}hasClass(e){return pr.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=Et(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=Fc(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=pr.escape(Fc(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=pr.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+pr.escape(r)+'"');var i=pr.escape(this.text);return e?(t+=">",t+=i,t+="</span>",t):i}},jl=class{static{o(this,"SvgNode")}constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+pr.escape(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}},zc=class{static{o(this,"PathNode")}constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",K8[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+pr.escape(this.alternate)+'"/>':'<path d="'+pr.escape(K8[this.pathName])+'"/>'}},o4=class{static{o(this,"LineNode")}constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+pr.escape(this.attributes[t])+'"');return e+="/>",e}},o(G8,"assertSymbolDomNode"),o(vU,"assertSpan"),KU={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ZU={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Dn={math:{},text:{}},o(z,"defineSymbol"),j="math",at="text",ee="main",be="ams",Un="accent-token",$t="bin",$a="close",zd="inner",mr="mathord",ki="op-token",ws="open",Em="punct",xe="rel",Yl="spacing",Ne="textord",z(j,ee,xe,"\u2261","\\equiv",!0),z(j,ee,xe,"\u227A","\\prec",!0),z(j,ee,xe,"\u227B","\\succ",!0),z(j,ee,xe,"\u223C","\\sim",!0),z(j,ee,xe,"\u22A5","\\perp"),z(j,ee,xe,"\u2AAF","\\preceq",!0),z(j,ee,xe,"\u2AB0","\\succeq",!0),z(j,ee,xe,"\u2243","\\simeq",!0),z(j,ee,xe,"\u2223","\\mid",!0),z(j,ee,xe,"\u226A","\\ll",!0),z(j,ee,xe,"\u226B","\\gg",!0),z(j,ee,xe,"\u224D","\\asymp",!0),z(j,ee,xe,"\u2225","\\parallel"),z(j,ee,xe,"\u22C8","\\bowtie",!0),z(j,ee,xe,"\u2323","\\smile",!0),z(j,ee,xe,"\u2291","\\sqsubseteq",!0),z(j,ee,xe,"\u2292","\\sqsupseteq",!0),z(j,ee,xe,"\u2250","\\doteq",!0),z(j,ee,xe,"\u2322","\\frown",!0),z(j,ee,xe,"\u220B","\\ni",!0),z(j,ee,xe,"\u221D","\\propto",!0),z(j,ee,xe,"\u22A2","\\vdash",!0),z(j,ee,xe,"\u22A3","\\dashv",!0),z(j,ee,xe,"\u220B","\\owns"),z(j,ee,Em,".","\\ldotp"),z(j,ee,Em,"\u22C5","\\cdotp"),z(j,ee,Ne,"#","\\#"),z(at,ee,Ne,"#","\\#"),z(j,ee,Ne,"&","\\&"),z(at,ee,Ne,"&","\\&"),z(j,ee,Ne,"\u2135","\\aleph",!0),z(j,ee,Ne,"\u2200","\\forall",!0),z(j,ee,Ne,"\u210F","\\hbar",!0),z(j,ee,Ne,"\u2203","\\exists",!0),z(j,ee,Ne,"\u2207","\\nabla",!0),z(j,ee,Ne,"\u266D","\\flat",!0),z(j,ee,Ne,"\u2113","\\ell",!0),z(j,ee,Ne,"\u266E","\\natural",!0),z(j,ee,Ne,"\u2663","\\clubsuit",!0),z(j,ee,Ne,"\u2118","\\wp",!0),z(j,ee,Ne,"\u266F","\\sharp",!0),z(j,ee,Ne,"\u2662","\\diamondsuit",!0),z(j,ee,Ne,"\u211C","\\Re",!0),z(j,ee,Ne,"\u2661","\\heartsuit",!0),z(j,ee,Ne,"\u2111","\\Im",!0),z(j,ee,Ne,"\u2660","\\spadesuit",!0),z(j,ee,Ne,"\xA7","\\S",!0),z(at,ee,Ne,"\xA7","\\S"),z(j,ee,Ne,"\xB6","\\P",!0),z(at,ee,Ne,"\xB6","\\P"),z(j,ee,Ne,"\u2020","\\dag"),z(at,ee,Ne,"\u2020","\\dag"),z(at,ee,Ne,"\u2020","\\textdagger"),z(j,ee,Ne,"\u2021","\\ddag"),z(at,ee,Ne,"\u2021","\\ddag"),z(at,ee,Ne,"\u2021","\\textdaggerdbl"),z(j,ee,$a,"\u23B1","\\rmoustache",!0),z(j,ee,ws,"\u23B0","\\lmoustache",!0),z(j,ee,$a,"\u27EF","\\rgroup",!0),z(j,ee,ws,"\u27EE","\\lgroup",!0),z(j,ee,$t,"\u2213","\\mp",!0),z(j,ee,$t,"\u2296","\\ominus",!0),z(j,ee,$t,"\u228E","\\uplus",!0),z(j,ee,$t,"\u2293","\\sqcap",!0),z(j,ee,$t,"\u2217","\\ast"),z(j,ee,$t,"\u2294","\\sqcup",!0),z(j,ee,$t,"\u25EF","\\bigcirc",!0),z(j,ee,$t,"\u2219","\\bullet",!0),z(j,ee,$t,"\u2021","\\ddagger"),z(j,ee,$t,"\u2240","\\wr",!0),z(j,ee,$t,"\u2A3F","\\amalg"),z(j,ee,$t,"&","\\And"),z(j,ee,xe,"\u27F5","\\longleftarrow",!0),z(j,ee,xe,"\u21D0","\\Leftarrow",!0),z(j,ee,xe,"\u27F8","\\Longleftarrow",!0),z(j,ee,xe,"\u27F6","\\longrightarrow",!0),z(j,ee,xe,"\u21D2","\\Rightarrow",!0),z(j,ee,xe,"\u27F9","\\Longrightarrow",!0),z(j,ee,xe,"\u2194","\\leftrightarrow",!0),z(j,ee,xe,"\u27F7","\\longleftrightarrow",!0),z(j,ee,xe,"\u21D4","\\Leftrightarrow",!0),z(j,ee,xe,"\u27FA","\\Longleftrightarrow",!0),z(j,ee,xe,"\u21A6","\\mapsto",!0),z(j,ee,xe,"\u27FC","\\longmapsto",!0),z(j,ee,xe,"\u2197","\\nearrow",!0),z(j,ee,xe,"\u21A9","\\hookleftarrow",!0),z(j,ee,xe,"\u21AA","\\hookrightarrow",!0),z(j,ee,xe,"\u2198","\\searrow",!0),z(j,ee,xe,"\u21BC","\\leftharpoonup",!0),z(j,ee,xe,"\u21C0","\\rightharpoonup",!0),z(j,ee,xe,"\u2199","\\swarrow",!0),z(j,ee,xe,"\u21BD","\\leftharpoondown",!0),z(j,ee,xe,"\u21C1","\\rightharpoondown",!0),z(j,ee,xe,"\u2196","\\nwarrow",!0),z(j,ee,xe,"\u21CC","\\rightleftharpoons",!0),z(j,be,xe,"\u226E","\\nless",!0),z(j,be,xe,"\uE010","\\@nleqslant"),z(j,be,xe,"\uE011","\\@nleqq"),z(j,be,xe,"\u2A87","\\lneq",!0),z(j,be,xe,"\u2268","\\lneqq",!0),z(j,be,xe,"\uE00C","\\@lvertneqq"),z(j,be,xe,"\u22E6","\\lnsim",!0),z(j,be,xe,"\u2A89","\\lnapprox",!0),z(j,be,xe,"\u2280","\\nprec",!0),z(j,be,xe,"\u22E0","\\npreceq",!0),z(j,be,xe,"\u22E8","\\precnsim",!0),z(j,be,xe,"\u2AB9","\\precnapprox",!0),z(j,be,xe,"\u2241","\\nsim",!0),z(j,be,xe,"\uE006","\\@nshortmid"),z(j,be,xe,"\u2224","\\nmid",!0),z(j,be,xe,"\u22AC","\\nvdash",!0),z(j,be,xe,"\u22AD","\\nvDash",!0),z(j,be,xe,"\u22EA","\\ntriangleleft"),z(j,be,xe,"\u22EC","\\ntrianglelefteq",!0),z(j,be,xe,"\u228A","\\subsetneq",!0),z(j,be,xe,"\uE01A","\\@varsubsetneq"),z(j,be,xe,"\u2ACB","\\subsetneqq",!0),z(j,be,xe,"\uE017","\\@varsubsetneqq"),z(j,be,xe,"\u226F","\\ngtr",!0),z(j,be,xe,"\uE00F","\\@ngeqslant"),z(j,be,xe,"\uE00E","\\@ngeqq"),z(j,be,xe,"\u2A88","\\gneq",!0),z(j,be,xe,"\u2269","\\gneqq",!0),z(j,be,xe,"\uE00D","\\@gvertneqq"),z(j,be,xe,"\u22E7","\\gnsim",!0),z(j,be,xe,"\u2A8A","\\gnapprox",!0),z(j,be,xe,"\u2281","\\nsucc",!0),z(j,be,xe,"\u22E1","\\nsucceq",!0),z(j,be,xe,"\u22E9","\\succnsim",!0),z(j,be,xe,"\u2ABA","\\succnapprox",!0),z(j,be,xe,"\u2246","\\ncong",!0),z(j,be,xe,"\uE007","\\@nshortparallel"),z(j,be,xe,"\u2226","\\nparallel",!0),z(j,be,xe,"\u22AF","\\nVDash",!0),z(j,be,xe,"\u22EB","\\ntriangleright"),z(j,be,xe,"\u22ED","\\ntrianglerighteq",!0),z(j,be,xe,"\uE018","\\@nsupseteqq"),z(j,be,xe,"\u228B","\\supsetneq",!0),z(j,be,xe,"\uE01B","\\@varsupsetneq"),z(j,be,xe,"\u2ACC","\\supsetneqq",!0),z(j,be,xe,"\uE019","\\@varsupsetneqq"),z(j,be,xe,"\u22AE","\\nVdash",!0),z(j,be,xe,"\u2AB5","\\precneqq",!0),z(j,be,xe,"\u2AB6","\\succneqq",!0),z(j,be,xe,"\uE016","\\@nsubseteqq"),z(j,be,$t,"\u22B4","\\unlhd"),z(j,be,$t,"\u22B5","\\unrhd"),z(j,be,xe,"\u219A","\\nleftarrow",!0),z(j,be,xe,"\u219B","\\nrightarrow",!0),z(j,be,xe,"\u21CD","\\nLeftarrow",!0),z(j,be,xe,"\u21CF","\\nRightarrow",!0),z(j,be,xe,"\u21AE","\\nleftrightarrow",!0),z(j,be,xe,"\u21CE","\\nLeftrightarrow",!0),z(j,be,xe,"\u25B3","\\vartriangle"),z(j,be,Ne,"\u210F","\\hslash"),z(j,be,Ne,"\u25BD","\\triangledown"),z(j,be,Ne,"\u25CA","\\lozenge"),z(j,be,Ne,"\u24C8","\\circledS"),z(j,be,Ne,"\xAE","\\circledR"),z(at,be,Ne,"\xAE","\\circledR"),z(j,be,Ne,"\u2221","\\measuredangle",!0),z(j,be,Ne,"\u2204","\\nexists"),z(j,be,Ne,"\u2127","\\mho"),z(j,be,Ne,"\u2132","\\Finv",!0),z(j,be,Ne,"\u2141","\\Game",!0),z(j,be,Ne,"\u2035","\\backprime"),z(j,be,Ne,"\u25B2","\\blacktriangle"),z(j,be,Ne,"\u25BC","\\blacktriangledown"),z(j,be,Ne,"\u25A0","\\blacksquare"),z(j,be,Ne,"\u29EB","\\blacklozenge"),z(j,be,Ne,"\u2605","\\bigstar"),z(j,be,Ne,"\u2222","\\sphericalangle",!0),z(j,be,Ne,"\u2201","\\complement",!0),z(j,be,Ne,"\xF0","\\eth",!0),z(at,ee,Ne,"\xF0","\xF0"),z(j,be,Ne,"\u2571","\\diagup"),z(j,be,Ne,"\u2572","\\diagdown"),z(j,be,Ne,"\u25A1","\\square"),z(j,be,Ne,"\u25A1","\\Box"),z(j,be,Ne,"\u25CA","\\Diamond"),z(j,be,Ne,"\xA5","\\yen",!0),z(at,be,Ne,"\xA5","\\yen",!0),z(j,be,Ne,"\u2713","\\checkmark",!0),z(at,be,Ne,"\u2713","\\checkmark"),z(j,be,Ne,"\u2136","\\beth",!0),z(j,be,Ne,"\u2138","\\daleth",!0),z(j,be,Ne,"\u2137","\\gimel",!0),z(j,be,Ne,"\u03DD","\\digamma",!0),z(j,be,Ne,"\u03F0","\\varkappa"),z(j,be,ws,"\u250C","\\@ulcorner",!0),z(j,be,$a,"\u2510","\\@urcorner",!0),z(j,be,ws,"\u2514","\\@llcorner",!0),z(j,be,$a,"\u2518","\\@lrcorner",!0),z(j,be,xe,"\u2266","\\leqq",!0),z(j,be,xe,"\u2A7D","\\leqslant",!0),z(j,be,xe,"\u2A95","\\eqslantless",!0),z(j,be,xe,"\u2272","\\lesssim",!0),z(j,be,xe,"\u2A85","\\lessapprox",!0),z(j,be,xe,"\u224A","\\approxeq",!0),z(j,be,$t,"\u22D6","\\lessdot"),z(j,be,xe,"\u22D8","\\lll",!0),z(j,be,xe,"\u2276","\\lessgtr",!0),z(j,be,xe,"\u22DA","\\lesseqgtr",!0),z(j,be,xe,"\u2A8B","\\lesseqqgtr",!0),z(j,be,xe,"\u2251","\\doteqdot"),z(j,be,xe,"\u2253","\\risingdotseq",!0),z(j,be,xe,"\u2252","\\fallingdotseq",!0),z(j,be,xe,"\u223D","\\backsim",!0),z(j,be,xe,"\u22CD","\\backsimeq",!0),z(j,be,xe,"\u2AC5","\\subseteqq",!0),z(j,be,xe,"\u22D0","\\Subset",!0),z(j,be,xe,"\u228F","\\sqsubset",!0),z(j,be,xe,"\u227C","\\preccurlyeq",!0),z(j,be,xe,"\u22DE","\\curlyeqprec",!0),z(j,be,xe,"\u227E","\\precsim",!0),z(j,be,xe,"\u2AB7","\\precapprox",!0),z(j,be,xe,"\u22B2","\\vartriangleleft"),z(j,be,xe,"\u22B4","\\trianglelefteq"),z(j,be,xe,"\u22A8","\\vDash",!0),z(j,be,xe,"\u22AA","\\Vvdash",!0),z(j,be,xe,"\u2323","\\smallsmile"),z(j,be,xe,"\u2322","\\smallfrown"),z(j,be,xe,"\u224F","\\bumpeq",!0),z(j,be,xe,"\u224E","\\Bumpeq",!0),z(j,be,xe,"\u2267","\\geqq",!0),z(j,be,xe,"\u2A7E","\\geqslant",!0),z(j,be,xe,"\u2A96","\\eqslantgtr",!0),z(j,be,xe,"\u2273","\\gtrsim",!0),z(j,be,xe,"\u2A86","\\gtrapprox",!0),z(j,be,$t,"\u22D7","\\gtrdot"),z(j,be,xe,"\u22D9","\\ggg",!0),z(j,be,xe,"\u2277","\\gtrless",!0),z(j,be,xe,"\u22DB","\\gtreqless",!0),z(j,be,xe,"\u2A8C","\\gtreqqless",!0),z(j,be,xe,"\u2256","\\eqcirc",!0),z(j,be,xe,"\u2257","\\circeq",!0),z(j,be,xe,"\u225C","\\triangleq",!0),z(j,be,xe,"\u223C","\\thicksim"),z(j,be,xe,"\u2248","\\thickapprox"),z(j,be,xe,"\u2AC6","\\supseteqq",!0),z(j,be,xe,"\u22D1","\\Supset",!0),z(j,be,xe,"\u2290","\\sqsupset",!0),z(j,be,xe,"\u227D","\\succcurlyeq",!0),z(j,be,xe,"\u22DF","\\curlyeqsucc",!0),z(j,be,xe,"\u227F","\\succsim",!0),z(j,be,xe,"\u2AB8","\\succapprox",!0),z(j,be,xe,"\u22B3","\\vartriangleright"),z(j,be,xe,"\u22B5","\\trianglerighteq"),z(j,be,xe,"\u22A9","\\Vdash",!0),z(j,be,xe,"\u2223","\\shortmid"),z(j,be,xe,"\u2225","\\shortparallel"),z(j,be,xe,"\u226C","\\between",!0),z(j,be,xe,"\u22D4","\\pitchfork",!0),z(j,be,xe,"\u221D","\\varpropto"),z(j,be,xe,"\u25C0","\\blacktriangleleft"),z(j,be,xe,"\u2234","\\therefore",!0),z(j,be,xe,"\u220D","\\backepsilon"),z(j,be,xe,"\u25B6","\\blacktriangleright"),z(j,be,xe,"\u2235","\\because",!0),z(j,be,xe,"\u22D8","\\llless"),z(j,be,xe,"\u22D9","\\gggtr"),z(j,be,$t,"\u22B2","\\lhd"),z(j,be,$t,"\u22B3","\\rhd"),z(j,be,xe,"\u2242","\\eqsim",!0),z(j,ee,xe,"\u22C8","\\Join"),z(j,be,xe,"\u2251","\\Doteq",!0),z(j,be,$t,"\u2214","\\dotplus",!0),z(j,be,$t,"\u2216","\\smallsetminus"),z(j,be,$t,"\u22D2","\\Cap",!0),z(j,be,$t,"\u22D3","\\Cup",!0),z(j,be,$t,"\u2A5E","\\doublebarwedge",!0),z(j,be,$t,"\u229F","\\boxminus",!0),z(j,be,$t,"\u229E","\\boxplus",!0),z(j,be,$t,"\u22C7","\\divideontimes",!0),z(j,be,$t,"\u22C9","\\ltimes",!0),z(j,be,$t,"\u22CA","\\rtimes",!0),z(j,be,$t,"\u22CB","\\leftthreetimes",!0),z(j,be,$t,"\u22CC","\\rightthreetimes",!0),z(j,be,$t,"\u22CF","\\curlywedge",!0),z(j,be,$t,"\u22CE","\\curlyvee",!0),z(j,be,$t,"\u229D","\\circleddash",!0),z(j,be,$t,"\u229B","\\circledast",!0),z(j,be,$t,"\u22C5","\\centerdot"),z(j,be,$t,"\u22BA","\\intercal",!0),z(j,be,$t,"\u22D2","\\doublecap"),z(j,be,$t,"\u22D3","\\doublecup"),z(j,be,$t,"\u22A0","\\boxtimes",!0),z(j,be,xe,"\u21E2","\\dashrightarrow",!0),z(j,be,xe,"\u21E0","\\dashleftarrow",!0),z(j,be,xe,"\u21C7","\\leftleftarrows",!0),z(j,be,xe,"\u21C6","\\leftrightarrows",!0),z(j,be,xe,"\u21DA","\\Lleftarrow",!0),z(j,be,xe,"\u219E","\\twoheadleftarrow",!0),z(j,be,xe,"\u21A2","\\leftarrowtail",!0),z(j,be,xe,"\u21AB","\\looparrowleft",!0),z(j,be,xe,"\u21CB","\\leftrightharpoons",!0),z(j,be,xe,"\u21B6","\\curvearrowleft",!0),z(j,be,xe,"\u21BA","\\circlearrowleft",!0),z(j,be,xe,"\u21B0","\\Lsh",!0),z(j,be,xe,"\u21C8","\\upuparrows",!0),z(j,be,xe,"\u21BF","\\upharpoonleft",!0),z(j,be,xe,"\u21C3","\\downharpoonleft",!0),z(j,ee,xe,"\u22B6","\\origof",!0),z(j,ee,xe,"\u22B7","\\imageof",!0),z(j,be,xe,"\u22B8","\\multimap",!0),z(j,be,xe,"\u21AD","\\leftrightsquigarrow",!0),z(j,be,xe,"\u21C9","\\rightrightarrows",!0),z(j,be,xe,"\u21C4","\\rightleftarrows",!0),z(j,be,xe,"\u21A0","\\twoheadrightarrow",!0),z(j,be,xe,"\u21A3","\\rightarrowtail",!0),z(j,be,xe,"\u21AC","\\looparrowright",!0),z(j,be,xe,"\u21B7","\\curvearrowright",!0),z(j,be,xe,"\u21BB","\\circlearrowright",!0),z(j,be,xe,"\u21B1","\\Rsh",!0),z(j,be,xe,"\u21CA","\\downdownarrows",!0),z(j,be,xe,"\u21BE","\\upharpoonright",!0),z(j,be,xe,"\u21C2","\\downharpoonright",!0),z(j,be,xe,"\u21DD","\\rightsquigarrow",!0),z(j,be,xe,"\u21DD","\\leadsto"),z(j,be,xe,"\u21DB","\\Rrightarrow",!0),z(j,be,xe,"\u21BE","\\restriction"),z(j,ee,Ne,"\u2018","`"),z(j,ee,Ne,"$","\\$"),z(at,ee,Ne,"$","\\$"),z(at,ee,Ne,"$","\\textdollar"),z(j,ee,Ne,"%","\\%"),z(at,ee,Ne,"%","\\%"),z(j,ee,Ne,"_","\\_"),z(at,ee,Ne,"_","\\_"),z(at,ee,Ne,"_","\\textunderscore"),z(j,ee,Ne,"\u2220","\\angle",!0),z(j,ee,Ne,"\u221E","\\infty",!0),z(j,ee,Ne,"\u2032","\\prime"),z(j,ee,Ne,"\u25B3","\\triangle"),z(j,ee,Ne,"\u0393","\\Gamma",!0),z(j,ee,Ne,"\u0394","\\Delta",!0),z(j,ee,Ne,"\u0398","\\Theta",!0),z(j,ee,Ne,"\u039B","\\Lambda",!0),z(j,ee,Ne,"\u039E","\\Xi",!0),z(j,ee,Ne,"\u03A0","\\Pi",!0),z(j,ee,Ne,"\u03A3","\\Sigma",!0),z(j,ee,Ne,"\u03A5","\\Upsilon",!0),z(j,ee,Ne,"\u03A6","\\Phi",!0),z(j,ee,Ne,"\u03A8","\\Psi",!0),z(j,ee,Ne,"\u03A9","\\Omega",!0),z(j,ee,Ne,"A","\u0391"),z(j,ee,Ne,"B","\u0392"),z(j,ee,Ne,"E","\u0395"),z(j,ee,Ne,"Z","\u0396"),z(j,ee,Ne,"H","\u0397"),z(j,ee,Ne,"I","\u0399"),z(j,ee,Ne,"K","\u039A"),z(j,ee,Ne,"M","\u039C"),z(j,ee,Ne,"N","\u039D"),z(j,ee,Ne,"O","\u039F"),z(j,ee,Ne,"P","\u03A1"),z(j,ee,Ne,"T","\u03A4"),z(j,ee,Ne,"X","\u03A7"),z(j,ee,Ne,"\xAC","\\neg",!0),z(j,ee,Ne,"\xAC","\\lnot"),z(j,ee,Ne,"\u22A4","\\top"),z(j,ee,Ne,"\u22A5","\\bot"),z(j,ee,Ne,"\u2205","\\emptyset"),z(j,be,Ne,"\u2205","\\varnothing"),z(j,ee,mr,"\u03B1","\\alpha",!0),z(j,ee,mr,"\u03B2","\\beta",!0),z(j,ee,mr,"\u03B3","\\gamma",!0),z(j,ee,mr,"\u03B4","\\delta",!0),z(j,ee,mr,"\u03F5","\\epsilon",!0),z(j,ee,mr,"\u03B6","\\zeta",!0),z(j,ee,mr,"\u03B7","\\eta",!0),z(j,ee,mr,"\u03B8","\\theta",!0),z(j,ee,mr,"\u03B9","\\iota",!0),z(j,ee,mr,"\u03BA","\\kappa",!0),z(j,ee,mr,"\u03BB","\\lambda",!0),z(j,ee,mr,"\u03BC","\\mu",!0),z(j,ee,mr,"\u03BD","\\nu",!0),z(j,ee,mr,"\u03BE","\\xi",!0),z(j,ee,mr,"\u03BF","\\omicron",!0),z(j,ee,mr,"\u03C0","\\pi",!0),z(j,ee,mr,"\u03C1","\\rho",!0),z(j,ee,mr,"\u03C3","\\sigma",!0),z(j,ee,mr,"\u03C4","\\tau",!0),z(j,ee,mr,"\u03C5","\\upsilon",!0),z(j,ee,mr,"\u03D5","\\phi",!0),z(j,ee,mr,"\u03C7","\\chi",!0),z(j,ee,mr,"\u03C8","\\psi",!0),z(j,ee,mr,"\u03C9","\\omega",!0),z(j,ee,mr,"\u03B5","\\varepsilon",!0),z(j,ee,mr,"\u03D1","\\vartheta",!0),z(j,ee,mr,"\u03D6","\\varpi",!0),z(j,ee,mr,"\u03F1","\\varrho",!0),z(j,ee,mr,"\u03C2","\\varsigma",!0),z(j,ee,mr,"\u03C6","\\varphi",!0),z(j,ee,$t,"\u2217","*",!0),z(j,ee,$t,"+","+"),z(j,ee,$t,"\u2212","-",!0),z(j,ee,$t,"\u22C5","\\cdot",!0),z(j,ee,$t,"\u2218","\\circ",!0),z(j,ee,$t,"\xF7","\\div",!0),z(j,ee,$t,"\xB1","\\pm",!0),z(j,ee,$t,"\xD7","\\times",!0),z(j,ee,$t,"\u2229","\\cap",!0),z(j,ee,$t,"\u222A","\\cup",!0),z(j,ee,$t,"\u2216","\\setminus",!0),z(j,ee,$t,"\u2227","\\land"),z(j,ee,$t,"\u2228","\\lor"),z(j,ee,$t,"\u2227","\\wedge",!0),z(j,ee,$t,"\u2228","\\vee",!0),z(j,ee,Ne,"\u221A","\\surd"),z(j,ee,ws,"\u27E8","\\langle",!0),z(j,ee,ws,"\u2223","\\lvert"),z(j,ee,ws,"\u2225","\\lVert"),z(j,ee,$a,"?","?"),z(j,ee,$a,"!","!"),z(j,ee,$a,"\u27E9","\\rangle",!0),z(j,ee,$a,"\u2223","\\rvert"),z(j,ee,$a,"\u2225","\\rVert"),z(j,ee,xe,"=","="),z(j,ee,xe,":",":"),z(j,ee,xe,"\u2248","\\approx",!0),z(j,ee,xe,"\u2245","\\cong",!0),z(j,ee,xe,"\u2265","\\ge"),z(j,ee,xe,"\u2265","\\geq",!0),z(j,ee,xe,"\u2190","\\gets"),z(j,ee,xe,">","\\gt",!0),z(j,ee,xe,"\u2208","\\in",!0),z(j,ee,xe,"\uE020","\\@not"),z(j,ee,xe,"\u2282","\\subset",!0),z(j,ee,xe,"\u2283","\\supset",!0),z(j,ee,xe,"\u2286","\\subseteq",!0),z(j,ee,xe,"\u2287","\\supseteq",!0),z(j,be,xe,"\u2288","\\nsubseteq",!0),z(j,be,xe,"\u2289","\\nsupseteq",!0),z(j,ee,xe,"\u22A8","\\models"),z(j,ee,xe,"\u2190","\\leftarrow",!0),z(j,ee,xe,"\u2264","\\le"),z(j,ee,xe,"\u2264","\\leq",!0),z(j,ee,xe,"<","\\lt",!0),z(j,ee,xe,"\u2192","\\rightarrow",!0),z(j,ee,xe,"\u2192","\\to"),z(j,be,xe,"\u2271","\\ngeq",!0),z(j,be,xe,"\u2270","\\nleq",!0),z(j,ee,Yl,"\xA0","\\ "),z(j,ee,Yl,"\xA0","\\space"),z(j,ee,Yl,"\xA0","\\nobreakspace"),z(at,ee,Yl,"\xA0","\\ "),z(at,ee,Yl,"\xA0"," "),z(at,ee,Yl,"\xA0","\\space"),z(at,ee,Yl,"\xA0","\\nobreakspace"),z(j,ee,Yl,null,"\\nobreak"),z(j,ee,Yl,null,"\\allowbreak"),z(j,ee,Em,",",","),z(j,ee,Em,";",";"),z(j,be,$t,"\u22BC","\\barwedge",!0),z(j,be,$t,"\u22BB","\\veebar",!0),z(j,ee,$t,"\u2299","\\odot",!0),z(j,ee,$t,"\u2295","\\oplus",!0),z(j,ee,$t,"\u2297","\\otimes",!0),z(j,ee,Ne,"\u2202","\\partial",!0),z(j,ee,$t,"\u2298","\\oslash",!0),z(j,be,$t,"\u229A","\\circledcirc",!0),z(j,be,$t,"\u22A1","\\boxdot",!0),z(j,ee,$t,"\u25B3","\\bigtriangleup"),z(j,ee,$t,"\u25BD","\\bigtriangledown"),z(j,ee,$t,"\u2020","\\dagger"),z(j,ee,$t,"\u22C4","\\diamond"),z(j,ee,$t,"\u22C6","\\star"),z(j,ee,$t,"\u25C3","\\triangleleft"),z(j,ee,$t,"\u25B9","\\triangleright"),z(j,ee,ws,"{","\\{"),z(at,ee,Ne,"{","\\{"),z(at,ee,Ne,"{","\\textbraceleft"),z(j,ee,$a,"}","\\}"),z(at,ee,Ne,"}","\\}"),z(at,ee,Ne,"}","\\textbraceright"),z(j,ee,ws,"{","\\lbrace"),z(j,ee,$a,"}","\\rbrace"),z(j,ee,ws,"[","\\lbrack",!0),z(at,ee,Ne,"[","\\lbrack",!0),z(j,ee,$a,"]","\\rbrack",!0),z(at,ee,Ne,"]","\\rbrack",!0),z(j,ee,ws,"(","\\lparen",!0),z(j,ee,$a,")","\\rparen",!0),z(at,ee,Ne,"<","\\textless",!0),z(at,ee,Ne,">","\\textgreater",!0),z(j,ee,ws,"\u230A","\\lfloor",!0),z(j,ee,$a,"\u230B","\\rfloor",!0),z(j,ee,ws,"\u2308","\\lceil",!0),z(j,ee,$a,"\u2309","\\rceil",!0),z(j,ee,Ne,"\\","\\backslash"),z(j,ee,Ne,"\u2223","|"),z(j,ee,Ne,"\u2223","\\vert"),z(at,ee,Ne,"|","\\textbar",!0),z(j,ee,Ne,"\u2225","\\|"),z(j,ee,Ne,"\u2225","\\Vert"),z(at,ee,Ne,"\u2225","\\textbardbl"),z(at,ee,Ne,"~","\\textasciitilde"),z(at,ee,Ne,"\\","\\textbackslash"),z(at,ee,Ne,"^","\\textasciicircum"),z(j,ee,xe,"\u2191","\\uparrow",!0),z(j,ee,xe,"\u21D1","\\Uparrow",!0),z(j,ee,xe,"\u2193","\\downarrow",!0),z(j,ee,xe,"\u21D3","\\Downarrow",!0),z(j,ee,xe,"\u2195","\\updownarrow",!0),z(j,ee,xe,"\u21D5","\\Updownarrow",!0),z(j,ee,ki,"\u2210","\\coprod"),z(j,ee,ki,"\u22C1","\\bigvee"),z(j,ee,ki,"\u22C0","\\bigwedge"),z(j,ee,ki,"\u2A04","\\biguplus"),z(j,ee,ki,"\u22C2","\\bigcap"),z(j,ee,ki,"\u22C3","\\bigcup"),z(j,ee,ki,"\u222B","\\int"),z(j,ee,ki,"\u222B","\\intop"),z(j,ee,ki,"\u222C","\\iint"),z(j,ee,ki,"\u222D","\\iiint"),z(j,ee,ki,"\u220F","\\prod"),z(j,ee,ki,"\u2211","\\sum"),z(j,ee,ki,"\u2A02","\\bigotimes"),z(j,ee,ki,"\u2A01","\\bigoplus"),z(j,ee,ki,"\u2A00","\\bigodot"),z(j,ee,ki,"\u222E","\\oint"),z(j,ee,ki,"\u222F","\\oiint"),z(j,ee,ki,"\u2230","\\oiiint"),z(j,ee,ki,"\u2A06","\\bigsqcup"),z(j,ee,ki,"\u222B","\\smallint"),z(at,ee,zd,"\u2026","\\textellipsis"),z(j,ee,zd,"\u2026","\\mathellipsis"),z(at,ee,zd,"\u2026","\\ldots",!0),z(j,ee,zd,"\u2026","\\ldots",!0),z(j,ee,zd,"\u22EF","\\@cdots",!0),z(j,ee,zd,"\u22F1","\\ddots",!0),z(j,ee,Ne,"\u22EE","\\varvdots"),z(j,ee,Un,"\u02CA","\\acute"),z(j,ee,Un,"\u02CB","\\grave"),z(j,ee,Un,"\xA8","\\ddot"),z(j,ee,Un,"~","\\tilde"),z(j,ee,Un,"\u02C9","\\bar"),z(j,ee,Un,"\u02D8","\\breve"),z(j,ee,Un,"\u02C7","\\check"),z(j,ee,Un,"^","\\hat"),z(j,ee,Un,"\u20D7","\\vec"),z(j,ee,Un,"\u02D9","\\dot"),z(j,ee,Un,"\u02DA","\\mathring"),z(j,ee,mr,"\uE131","\\@imath"),z(j,ee,mr,"\uE237","\\@jmath"),z(j,ee,Ne,"\u0131","\u0131"),z(j,ee,Ne,"\u0237","\u0237"),z(at,ee,Ne,"\u0131","\\i",!0),z(at,ee,Ne,"\u0237","\\j",!0),z(at,ee,Ne,"\xDF","\\ss",!0),z(at,ee,Ne,"\xE6","\\ae",!0),z(at,ee,Ne,"\u0153","\\oe",!0),z(at,ee,Ne,"\xF8","\\o",!0),z(at,ee,Ne,"\xC6","\\AE",!0),z(at,ee,Ne,"\u0152","\\OE",!0),z(at,ee,Ne,"\xD8","\\O",!0),z(at,ee,Un,"\u02CA","\\'"),z(at,ee,Un,"\u02CB","\\`"),z(at,ee,Un,"\u02C6","\\^"),z(at,ee,Un,"\u02DC","\\~"),z(at,ee,Un,"\u02C9","\\="),z(at,ee,Un,"\u02D8","\\u"),z(at,ee,Un,"\u02D9","\\."),z(at,ee,Un,"\xB8","\\c"),z(at,ee,Un,"\u02DA","\\r"),z(at,ee,Un,"\u02C7","\\v"),z(at,ee,Un,"\xA8",'\\"'),z(at,ee,Un,"\u02DD","\\H"),z(at,ee,Un,"\u25EF","\\textcircled"),a_={"--":!0,"---":!0,"``":!0,"''":!0},z(at,ee,Ne,"\u2013","--",!0),z(at,ee,Ne,"\u2013","\\textendash"),z(at,ee,Ne,"\u2014","---",!0),z(at,ee,Ne,"\u2014","\\textemdash"),z(at,ee,Ne,"\u2018","`",!0),z(at,ee,Ne,"\u2018","\\textquoteleft"),z(at,ee,Ne,"\u2019","'",!0),z(at,ee,Ne,"\u2019","\\textquoteright"),z(at,ee,Ne,"\u201C","``",!0),z(at,ee,Ne,"\u201C","\\textquotedblleft"),z(at,ee,Ne,"\u201D","''",!0),z(at,ee,Ne,"\u201D","\\textquotedblright"),z(j,ee,Ne,"\xB0","\\degree",!0),z(at,ee,Ne,"\xB0","\\degree"),z(at,ee,Ne,"\xB0","\\textdegree",!0),z(j,ee,Ne,"\xA3","\\pounds"),z(j,ee,Ne,"\xA3","\\mathsterling",!0),z(at,ee,Ne,"\xA3","\\pounds"),z(at,ee,Ne,"\xA3","\\textsterling",!0),z(j,be,Ne,"\u2720","\\maltese"),z(at,be,Ne,"\u2720","\\maltese"),s_='0123456789/@."',l4=0;l4<s_.length;l4++)o_=s_.charAt(l4),z(j,ee,Ne,o_,o_);for(l_='0123456789!@*()-=+";:?/.,',c4=0;c4<l_.length;c4++)c_=l_.charAt(c4),z(at,ee,Ne,c_,c_);for(_m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u4=0;u4<_m.length;u4++)Cm=_m.charAt(u4),z(j,ee,mr,Cm,Cm),z(at,ee,Ne,Cm,Cm);for(z(j,be,Ne,"C","\u2102"),z(at,be,Ne,"C","\u2102"),z(j,be,Ne,"H","\u210D"),z(at,be,Ne,"H","\u210D"),z(j,be,Ne,"N","\u2115"),z(at,be,Ne,"N","\u2115"),z(j,be,Ne,"P","\u2119"),z(at,be,Ne,"P","\u2119"),z(j,be,Ne,"Q","\u211A"),z(at,be,Ne,"Q","\u211A"),z(j,be,Ne,"R","\u211D"),z(at,be,Ne,"R","\u211D"),z(j,be,Ne,"Z","\u2124"),z(at,be,Ne,"Z","\u2124"),z(j,ee,mr,"h","\u210E"),z(at,ee,mr,"h","\u210E"),wr="",Fa=0;Fa<_m.length;Fa++)ni=_m.charAt(Fa),wr=String.fromCharCode(55349,56320+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),wr=String.fromCharCode(55349,56372+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),wr=String.fromCharCode(55349,56424+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),wr=String.fromCharCode(55349,56580+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),wr=String.fromCharCode(55349,56684+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),wr=String.fromCharCode(55349,56736+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),wr=String.fromCharCode(55349,56788+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),wr=String.fromCharCode(55349,56840+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),wr=String.fromCharCode(55349,56944+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),Fa<26&&(wr=String.fromCharCode(55349,56632+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr),wr=String.fromCharCode(55349,56476+Fa),z(j,ee,mr,ni,wr),z(at,ee,Ne,ni,wr));for(wr="\u{1D55C}",z(j,ee,mr,"k",wr),z(at,ee,Ne,"k",wr),ih=0;ih<10;ih++)Gc=ih.toString(),wr=String.fromCharCode(55349,57294+ih),z(j,ee,mr,Gc,wr),z(at,ee,Ne,Gc,wr),wr=String.fromCharCode(55349,57314+ih),z(j,ee,mr,Gc,wr),z(at,ee,Ne,Gc,wr),wr=String.fromCharCode(55349,57324+ih),z(j,ee,mr,Gc,wr),z(at,ee,Ne,Gc,wr),wr=String.fromCharCode(55349,57334+ih),z(j,ee,mr,Gc,wr),z(at,ee,Ne,Gc,wr);for(h4="\xD0\xDE\xFE",d4=0;d4<h4.length;d4++)Sm=h4.charAt(d4),z(j,ee,mr,Sm,Sm),z(at,ee,Ne,Sm,Sm);Am=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],u_=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],QU=o(function(e,t){var r=e.charCodeAt(0),n=e.charCodeAt(1),i=(r-55296)*1024+(n-56320)+65536,a=t==="math"?0:1;if(119808<=i&&i<120484){var s=Math.floor((i-119808)/26);return[Am[s][2],Am[s][a]]}else if(120782<=i&&i<=120831){var l=Math.floor((i-120782)/10);return[u_[l][2],u_[l][a]]}else{if(i===120485||i===120486)return[Am[0][2],Am[0][a]];if(120486<i&&i<120782)return["",""];throw new yt("Unsupported character: "+e)}},"wideCharacterFont"),Lm=o(function(e,t,r){return Dn[r][e]&&Dn[r][e].replace&&(e=Dn[r][e].replace),{value:e,metrics:Kx(e,t,r)}},"lookupSymbol"),bo=o(function(e,t,r,n,i){var a=Lm(e,t,r),s=a.metrics;e=a.value;var l;if(s){var u=s.italic;(r==="text"||n&&n.font==="mathit")&&(u=0),l=new Ys(e,s.height,s.depth,u,s.skew,s.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),l=new Ys(e,0,0,0,0,0,i);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var h=n.getColor();h&&(l.style.color=h)}return l},"makeSymbol"),JU=o(function(e,t,r,n){return n===void 0&&(n=[]),r.font==="boldsymbol"&&Lm(e,"Main-Bold",t).metrics?bo(e,"Main-Bold",t,r,n.concat(["mathbf"])):e==="\\"||Dn[t][e].font==="main"?bo(e,"Main-Regular",t,r,n):bo(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},"mathsym"),eH=o(function(e,t,r,n,i){return i!=="textord"&&Lm(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol"),tH=o(function(e,t,r){var n=e.mode,i=e.text,a=["mord"],s=n==="math"||n==="text"&&t.font,l=s?t.font:t.fontFamily,u="",h="";if(i.charCodeAt(0)===55349&&([u,h]=QU(i,n)),u.length>0)return bo(i,u,n,t,a.concat(h));if(l){var d,p;if(l==="boldsymbol"){var f=eH(i,n,t,a,r);d=f.fontName,p=[f.fontClass]}else s?(d=p_[l].fontName,p=[l]):(d=Nm(l,t.fontWeight,t.fontShape),p=[l,t.fontWeight,t.fontShape]);if(Lm(i,d,n).metrics)return bo(i,d,n,t,a.concat(p));if(a_.hasOwnProperty(i)&&d.slice(0,10)==="Typewriter"){for(var g=[],m=0;m<i.length;m++)g.push(bo(i[m],d,n,t,a.concat(p)));return d_(g)}}if(r==="mathord")return bo(i,"Math-Italic",n,t,a.concat(["mathnormal"]));if(r==="textord"){var y=Dn[n][i]&&Dn[n][i].font;if(y==="ams"){var b=Nm("amsrm",t.fontWeight,t.fontShape);return bo(i,b,n,t,a.concat("amsrm",t.fontWeight,t.fontShape))}else if(y==="main"||!y){var v=Nm("textrm",t.fontWeight,t.fontShape);return bo(i,v,n,t,a.concat(t.fontWeight,t.fontShape))}else{var x=Nm(y,t.fontWeight,t.fontShape);return bo(i,x,n,t,a.concat(x,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},"makeOrd"),rH=o((e,t)=>{if(Fc(e.classes)!==Fc(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},"canCombine"),nH=o(e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof Ys&&n instanceof Ys&&rH(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},"tryCombineChars"),p4=o(function(e){for(var t=0,r=0,n=0,i=0;i<e.children.length;i++){var a=e.children[i];a.height>t&&(t=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>n&&(n=a.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=n},"sizeElementFromChildren"),Xa=o(function(e,t,r,n){var i=new Kp(e,t,r,n);return p4(i),i},"makeSpan"),h_=o((e,t,r,n)=>new Kp(e,t,r,n),"makeSvgSpan"),iH=o(function(e,t,r){var n=Xa([e],[],t);return n.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),n.style.borderBottomWidth=Et(n.height),n.maxFontSize=1,n},"makeLineSpan"),aH=o(function(e,t,r,n){var i=new s4(e,t,r,n);return p4(i),i},"makeAnchor"),d_=o(function(e){var t=new Xp(e);return p4(t),t},"makeFragment"),sH=o(function(e,t){return e instanceof Xp?Xa([],[e],t):e},"wrapFragment"),oH=o(function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],n=-t[0].shift-t[0].elem.depth,i=n,a=1;a<t.length;a++){var s=-t[a].shift-i-t[a].elem.depth,l=s-(t[a-1].elem.height+t[a-1].elem.depth);i=i+s,r.push({type:"kern",size:l}),r.push(t[a])}return{children:r,depth:n}}var u;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var p=e.children[d];h-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},"getVListChildrenAndDepth"),lH=o(function(e,t){for(var{children:r,depth:n}=oH(e),i=0,a=0;a<r.length;a++){var s=r[a];if(s.type==="elem"){var l=s.elem;i=Math.max(i,l.maxFontSize,l.height)}}i+=2;var u=Xa(["pstrut"],[]);u.style.height=Et(i);for(var h=[],d=n,p=n,f=n,g=0;g<r.length;g++){var m=r[g];if(m.type==="kern")f+=m.size;else{var y=m.elem,b=m.wrapperClasses||[],v=m.wrapperStyle||{},x=Xa(b,[u,y],void 0,v);x.style.top=Et(-i-f-y.depth),m.marginLeft&&(x.style.marginLeft=m.marginLeft),m.marginRight&&(x.style.marginRight=m.marginRight),h.push(x),f+=y.height+y.depth}d=Math.min(d,f),p=Math.max(p,f)}var k=Xa(["vlist"],h);k.style.height=Et(p);var w;if(d<0){var _=Xa([],[]),S=Xa(["vlist"],[_]);S.style.height=Et(-d);var C=Xa(["vlist-s"],[new Ys("\u200B")]);w=[Xa(["vlist-r"],[k,C]),Xa(["vlist-r"],[S])]}else w=[Xa(["vlist-r"],[k])];var T=Xa(["vlist-t"],w);return w.length===2&&T.classes.push("vlist-t2"),T.height=p,T.depth=-d,T},"makeVList"),cH=o((e,t)=>{var r=Xa(["mspace"],[],t),n=Zn(e,t);return r.style.marginRight=Et(n),r},"makeGlue"),Nm=o(function(e,t,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}var i;return t==="textbf"&&r==="textit"?i="BoldItalic":t==="textbf"?i="Bold":t==="textit"?i="Italic":i="Regular",n+"-"+i},"retrieveTextFontName"),p_={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},g_={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},uH=o(function(e,t){var[r,n,i]=g_[e],a=new zc(r),s=new jl([a],{width:Et(n),height:Et(i),style:"width:"+Et(n),viewBox:"0 0 "+1e3*n+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),l=h_(["overlay"],[s],t);return l.height=i,l.style.height=Et(i),l.style.width=Et(n),l},"staticSvg"),Ge={fontMap:p_,makeSymbol:bo,mathsym:JU,makeSpan:Xa,makeSvgSpan:h_,makeLineSpan:iH,makeAnchor:aH,makeFragment:d_,wrapFragment:sH,makeVList:lH,makeOrd:tH,makeGlue:cH,staticSvg:uH,svgData:g_,tryCombineChars:nH},Qn={number:3,unit:"mu"},ah={number:4,unit:"mu"},Ul={number:5,unit:"mu"},hH={mord:{mop:Qn,mbin:ah,mrel:Ul,minner:Qn},mop:{mord:Qn,mop:Qn,mrel:Ul,minner:Qn},mbin:{mord:ah,mop:ah,mopen:ah,minner:ah},mrel:{mord:Ul,mop:Ul,mopen:Ul,minner:Ul},mopen:{},mclose:{mop:Qn,mbin:ah,mrel:Ul,minner:Qn},mpunct:{mord:Qn,mop:Qn,mrel:Ul,mopen:Qn,mclose:Qn,mpunct:Qn,minner:Qn},minner:{mord:Qn,mop:Qn,mbin:ah,mrel:Ul,mopen:Qn,mpunct:Qn,minner:Qn}},dH={mord:{mop:Qn},mop:{mord:Qn,mop:Qn},mbin:{},mrel:{},mopen:{},mclose:{mop:Qn},mpunct:{},minner:{mop:Qn}},f_={},Im={},Mm={},o(Rt,"defineFunction"),o(nh,"defineFunctionBuilders"),Dm=o(function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},"normalizeArgument"),gi=o(function(e){return e.type==="ordgroup"?e.body:[e]},"ordargument"),Hl=Ge.makeSpan,pH=["leftmost","mbin","mopen","mrel","mop","mpunct"],gH=["rightmost","mrel","mclose","mpunct"],fH={display:fr.DISPLAY,text:fr.TEXT,script:fr.SCRIPT,scriptscript:fr.SCRIPTSCRIPT},mH={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Si=o(function(e,t,r,n){n===void 0&&(n=[null,null]);for(var i=[],a=0;a<e.length;a++){var s=Zr(e[a],t);if(s instanceof Xp){var l=s.children;i.push(...l)}else i.push(s)}if(Ge.tryCombineChars(i),!r)return i;var u=t;if(e.length===1){var h=e[0];h.type==="sizing"?u=t.havingSize(h.size):h.type==="styling"&&(u=t.havingStyle(fH[h.style]))}var d=Hl([n[0]||"leftmost"],[],t),p=Hl([n[1]||"rightmost"],[],t),f=r==="root";return m_(i,(g,m)=>{var y=m.classes[0],b=g.classes[0];y==="mbin"&&pr.contains(gH,b)?m.classes[0]="mord":b==="mbin"&&pr.contains(pH,y)&&(g.classes[0]="mord")},{node:d},p,f),m_(i,(g,m)=>{var y=g4(m),b=g4(g),v=y&&b?g.hasClass("mtight")?dH[y][b]:hH[y][b]:null;if(v)return Ge.makeGlue(v,u)},{node:d},p,f),i},"buildExpression"),m_=o(function e(t,r,n,i,a){i&&t.push(i);for(var s=0;s<t.length;s++){var l=t[s],u=y_(l);if(u){e(u.children,r,n,null,a);continue}var h=!l.hasClass("mspace");if(h){var d=r(l,n.node);d&&(n.insertAfter?n.insertAfter(d):(t.unshift(d),s++))}h?n.node=l:a&&l.hasClass("newline")&&(n.node=Hl(["leftmost"])),n.insertAfter=(p=>f=>{t.splice(p+1,0,f),s++})(s)}i&&t.pop()},"traverseNonSpaceNodes"),y_=o(function(e){return e instanceof Xp||e instanceof s4||e instanceof Kp&&e.hasClass("enclosing")?e:null},"checkPartialGroup"),yH=o(function e(t,r){var n=y_(t);if(n){var i=n.children;if(i.length){if(r==="right")return e(i[i.length-1],"right");if(r==="left")return e(i[0],"left")}}return t},"getOutermostNode"),g4=o(function(e,t){return e?(t&&(e=yH(e,t)),mH[e.classes[0]]||null):null},"getTypeOfDomTree"),Zp=o(function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Hl(t.concat(r))},"makeNullDelimiter"),Zr=o(function(e,t,r){if(!e)return Hl();if(Im[e.type]){var n=Im[e.type](e,t);if(r&&t.size!==r.size){n=Hl(t.sizingClasses(r),[n],t);var i=t.sizeMultiplier/r.sizeMultiplier;n.height*=i,n.depth*=i}return n}else throw new yt("Got group of unknown type: '"+e.type+"'")},"buildGroup"),o(ym,"buildHTMLUnbreakable"),o(Zx,"buildHTML"),o(q8,"newDocumentFragment"),Us=class{static{o(this,"MathNode")}constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=Fc(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=pr.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+pr.escape(Fc(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Qp=class{static{o(this,"TextNode")}constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return pr.escape(this.toText())}toText(){return this.text}},vH=class{static{o(this,"SpaceNode")}constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Et(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Et(this.width)+'"/>'}toText(){return this.character?this.character:" "}},ct={MathNode:Us,TextNode:Qp,SpaceNode:vH,newDocumentFragment:q8},Hs=o(function(e,t,r){return Dn[t][e]&&Dn[t][e].replace&&e.charCodeAt(0)!==55349&&!(a_.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Dn[t][e].replace),new ct.TextNode(e)},"makeText"),f4=o(function(e){return e.length===1?e[0]:new ct.MathNode("mrow",e)},"makeRow"),m4=o(function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var n=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var i=e.text;if(pr.contains(["\\imath","\\jmath"],i))return null;Dn[n][i]&&Dn[n][i].replace&&(i=Dn[n][i].replace);var a=Ge.fontMap[r].fontName;return Kx(i,a,n)?Ge.fontMap[r].variant:null},"getVariant"),Ka=o(function(e,t,r){if(e.length===1){var n=Ln(e[0],t);return r&&n instanceof Us&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var i=[],a,s=0;s<e.length;s++){var l=Ln(e[s],t);if(l instanceof Us&&a instanceof Us){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var u=l.children[0];if(u instanceof Qp&&u.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var h=a.children[0];if(h instanceof Qp&&h.text==="\u0338"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof Qp&&d.text.length>0&&(d.text=d.text.slice(0,1)+"\u0338"+d.text.slice(1),i.pop())}}}i.push(l),a=l}return i},"buildExpression"),qc=o(function(e,t,r){return f4(Ka(e,t,r))},"buildExpressionRow"),Ln=o(function(e,t){if(!e)return new ct.MathNode("mrow");if(Mm[e.type]){var r=Mm[e.type](e,t);return r}else throw new yt("Got group of unknown type: '"+e.type+"'")},"buildGroup"),o(j8,"buildMathML"),v_=o(function(e){return new e_({style:e.displayMode?fr.DISPLAY:fr.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},"optionsFromSettings"),b_=o(function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=Ge.makeSpan(r,[e])}return e},"displayWrap"),bH=o(function(e,t,r){var n=v_(r),i;if(r.output==="mathml")return j8(e,t,n,r.displayMode,!0);if(r.output==="html"){var a=Zx(e,n);i=Ge.makeSpan(["katex"],[a])}else{var s=j8(e,t,n,r.displayMode,!1),l=Zx(e,n);i=Ge.makeSpan(["katex"],[s,l])}return b_(i,r)},"buildTree"),xH=o(function(e,t,r){var n=v_(r),i=Zx(e,n),a=Ge.makeSpan(["katex"],[i]);return b_(a,r)},"buildHTMLTree"),kH={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},wH=o(function(e){var t=new ct.MathNode("mo",[new ct.TextNode(kH[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},"mathMLnode"),TH={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},EH=o(function(e){return e.type==="ordgroup"?e.body.length:1},"groupLength"),_H=o(function(e,t){function r(){var s=4e5,l=e.label.slice(1);if(pr.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,h=EH(u.base),d,p,f;if(h>5)l==="widehat"||l==="widecheck"?(d=420,s=2364,f=.42,p=l+"4"):(d=312,s=2340,f=.34,p="tilde4");else{var g=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(s=[0,1062,2364,2364,2364][g],d=[0,239,300,360,420][g],f=[0,.24,.3,.3,.36,.42][g],p=l+g):(s=[0,600,1033,2339,2340][g],d=[0,260,286,306,312][g],f=[0,.26,.286,.3,.306,.34][g],p="tilde"+g)}var m=new zc(p),y=new jl([m],{width:"100%",height:Et(f),viewBox:"0 0 "+s+" "+d,preserveAspectRatio:"none"});return{span:Ge.makeSvgSpan([],[y],t),minWidth:0,height:f}}else{var b=[],v=TH[l],[x,k,w]=v,_=w/1e3,S=x.length,C,T;if(S===1){var N=v[3];C=["hide-tail"],T=[N]}else if(S===2)C=["halfarrow-left","halfarrow-right"],T=["xMinYMin","xMaxYMin"];else if(S===3)C=["brace-left","brace-center","brace-right"],T=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+S+" children.");for(var D=0;D<S;D++){var M=new zc(x[D]),L=new jl([M],{width:"400em",height:Et(_),viewBox:"0 0 "+s+" "+w,preserveAspectRatio:T[D]+" slice"}),B=Ge.makeSvgSpan([C[D]],[L],t);if(S===1)return{span:B,minWidth:k,height:_};B.style.height=Et(_),b.push(B)}return{span:Ge.makeSpan(["stretchy"],b,t),minWidth:k,height:_}}}o(r,"buildSvgSpan_");var{span:n,minWidth:i,height:a}=r();return n.height=a,n.style.height=Et(a),i>0&&(n.style.minWidth=Et(i)),n},"svgSpan"),CH=o(function(e,t,r,n,i){var a,s=e.height+e.depth+r+n;if(/fbox|color|angl/.test(t)){if(a=Ge.makeSpan(["stretchy",t],[],i),t==="fbox"){var l=i.color&&i.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new o4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new o4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new jl(u,{width:"100%",height:Et(s)});a=Ge.makeSvgSpan([],[h],i)}return a.height=s,a.style.height=Et(s),a},"encloseSpan"),Wl={encloseSpan:CH,mathMLnode:wH,svgSpan:_H},o(Or,"assertNodeType"),o(Qx,"assertSymbolNodeType"),o(vm,"checkSymbolNodeType"),y4=o((e,t)=>{var r,n,i;e&&e.type==="supsub"?(n=Or(e.base,"accent"),r=n.base,e.base=r,i=vU(Zr(e,t)),e.base=n):(n=Or(e,"accent"),r=n.base);var a=Zr(r,t.havingCrampedStyle()),s=n.isShifty&&pr.isCharacterBox(r),l=0;if(s){var u=pr.getBaseElem(r),h=Zr(u,t.havingCrampedStyle());l=G8(h).skew}var d=n.label==="\\c",p=d?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),f;if(n.isStretchy)f=Wl.svgSpan(n,t),f=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+Et(2*l)+")",marginLeft:Et(2*l)}:void 0}]},t);else{var g,m;n.label==="\\vec"?(g=Ge.staticSvg("vec",t),m=Ge.svgData.vec[1]):(g=Ge.makeOrd({mode:n.mode,text:n.label},t,"textord"),g=G8(g),g.italic=0,m=g.width,d&&(p+=g.depth)),f=Ge.makeSpan(["accent-body"],[g]);var y=n.label==="\\textcircled";y&&(f.classes.push("accent-full"),p=a.height);var b=l;y||(b-=m/2),f.style.left=Et(b),n.label==="\\textcircled"&&(f.style.top=".2em"),f=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-p},{type:"elem",elem:f}]},t)}var v=Ge.makeSpan(["mord","accent"],[f],t);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},"htmlBuilder$a"),x_=o((e,t)=>{var r=e.isStretchy?Wl.mathMLnode(e.label):new ct.MathNode("mo",[Hs(e.label,e.mode)]),n=new ct.MathNode("mover",[Ln(e.base,t),r]);return n.setAttribute("accent","true"),n},"mathmlBuilder$9"),SH=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|")),Rt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:o((e,t)=>{var r=Dm(t[0]),n=!SH.test(e.funcName),i=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},"handler"),htmlBuilder:y4,mathmlBuilder:x_}),Rt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:o((e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},"handler"),htmlBuilder:y4,mathmlBuilder:x_}),Rt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},"handler"),htmlBuilder:o((e,t)=>{var r=Zr(e.base,t),n=Wl.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,a=Ge.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return Ge.makeSpan(["mord","accentunder"],[a],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=Wl.mathMLnode(e.label),n=new ct.MathNode("munder",[Ln(e.base,t),r]);return n.setAttribute("accentunder","true"),n},"mathmlBuilder")}),Rm=o(e=>{var t=new ct.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t},"paddedNode"),Rt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),i=Ge.wrapFragment(Zr(e.body,n,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;e.below&&(n=t.havingStyle(r.sub()),s=Ge.wrapFragment(Zr(e.below,n,t),t),s.classes.push(a+"-arrow-pad"));var l=Wl.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*l.height,h=-t.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(h-=i.depth);var d;if(s){var p=-t.fontMetrics().axisHeight+s.height+.5*l.height+.111;d=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:h},{type:"elem",elem:l,shift:u},{type:"elem",elem:s,shift:p}]},t)}else d=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:h},{type:"elem",elem:l,shift:u}]},t);return d.children[0].children[0].children[1].classes.push("svg-align"),Ge.makeSpan(["mrel","x-arrow"],[d],t)},mathmlBuilder(e,t){var r=Wl.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var i=Rm(Ln(e.body,t));if(e.below){var a=Rm(Ln(e.below,t));n=new ct.MathNode("munderover",[r,a,i])}else n=new ct.MathNode("mover",[r,i])}else if(e.below){var s=Rm(Ln(e.below,t));n=new ct.MathNode("munder",[r,s])}else n=Rm(),n=new ct.MathNode("mover",[r,n]);return n}}),AH=Ge.makeSpan,o(Y8,"htmlBuilder$9"),o(U8,"mathmlBuilder$8"),Rt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:gi(i),isCharacterBox:pr.isCharacterBox(i)}},htmlBuilder:Y8,mathmlBuilder:U8}),Om=o(e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"},"binrelClass"),Rt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:Om(t[0]),body:gi(t[1]),isCharacterBox:pr.isCharacterBox(t[1])}}}),Rt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,i=t[1],a=t[0],s;n!=="\\stackrel"?s=Om(i):s="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:gi(i)},u={type:"supsub",mode:a.mode,base:l,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[u],isCharacterBox:pr.isCharacterBox(u)}},htmlBuilder:Y8,mathmlBuilder:U8}),Rt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:Om(t[0]),body:gi(t[0])}},htmlBuilder(e,t){var r=Si(e.body,t,!0),n=Ge.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=Ka(e.body,t),n=new ct.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}}),LH={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},k_=o(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),w_=o(e=>e.type==="textord"&&e.text==="@","isStartOfArrow"),NH=o((e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t,"isLabelEnd"),o(bU,"cdArrow"),o(xU,"parseCD"),Rt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=Ge.wrapFragment(Zr(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=Et(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new ct.MathNode("mrow",[Ln(e.label,t)]);return r=new ct.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new ct.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),Rt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=Ge.wrapFragment(Zr(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new ct.MathNode("mrow",[Ln(e.fragment,t)])}}),Rt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=Or(t[0],"ordgroup"),i=n.body,a="",s=0;s<i.length;s++){var l=Or(i[s],"textord");a+=l.text}var u=parseInt(a),h;if(isNaN(u))throw new yt("\\@char has non-numeric argument "+a);if(u<0||u>=1114111)throw new yt("\\@char with invalid code point "+a);return u<=65535?h=String.fromCharCode(u):(u-=65536,h=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:r.mode,text:h}}}),T_=o((e,t)=>{var r=Si(e.body,t.withColor(e.color),!1);return Ge.makeFragment(r)},"htmlBuilder$8"),E_=o((e,t)=>{var r=Ka(e.body,t.withColor(e.color)),n=new ct.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n},"mathmlBuilder$7"),Rt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=Or(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:gi(i)}},htmlBuilder:T_,mathmlBuilder:E_}),Rt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=Or(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:T_,mathmlBuilder:E_}),Rt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&Or(i,"size").value}},htmlBuilder(e,t){var r=Ge.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=Et(Zn(e.size,t)))),r},mathmlBuilder(e,t){var r=new ct.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",Et(Zn(e.size,t)))),r}}),v4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},__=o(e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new yt("Expected a control sequence",e);return t},"checkControlSequence"),IH=o(e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},"getRHS"),C_=o((e,t,r,n)=>{var i=e.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)},"letCommand"),Rt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(v4[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=v4[n.text]),Or(t.parseFunction(),"internal");throw new yt("Invalid token after macro prefix",n)}}),Rt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new yt("Expected a control sequence",n);for(var a=0,s,l=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),l[a].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new yt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new yt('Argument number "'+n.text+'" out of order');a++,l.push([])}else{if(n.text==="EOF")throw new yt("Expected a macro definition");l[a].push(n.text)}var{tokens:u}=t.gullet.consumeArg();return s&&u.unshift(s),(r==="\\edef"||r==="\\xdef")&&(u=t.gullet.expandTokens(u),u.reverse()),t.gullet.macros.set(i,{tokens:u,numArgs:a,delimiters:l},r===v4[r]),{type:"internal",mode:t.mode}}}),Rt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=__(t.gullet.popToken());t.gullet.consumeSpaces();var i=IH(t);return C_(t,n,i,r==="\\\\globallet"),{type:"internal",mode:t.mode}}}),Rt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=__(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return C_(t,n,a,r==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}}),Jp=o(function(e,t,r){var n=Dn.math[e]&&Dn.math[e].replace,i=Kx(n||e,t,r);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},"getMetrics"),b4=o(function(e,t,r,n){var i=r.havingBaseStyle(t),a=Ge.makeSpan(n.concat(i.sizingClasses(r)),[e],r),s=i.sizeMultiplier/r.sizeMultiplier;return a.height*=s,a.depth*=s,a.maxFontSize=i.sizeMultiplier,a},"styleWrap"),S_=o(function(e,t,r){var n=t.havingBaseStyle(r),i=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Et(i),e.height-=i,e.depth+=i},"centerSpan"),MH=o(function(e,t,r,n,i,a){var s=Ge.makeSymbol(e,"Main-Regular",i,n),l=b4(s,t,n,a);return r&&S_(l,n,t),l},"makeSmallDelim"),DH=o(function(e,t,r,n){return Ge.makeSymbol(e,"Size"+t+"-Regular",r,n)},"mathrmSize"),A_=o(function(e,t,r,n,i,a){var s=DH(e,t,i,n),l=b4(Ge.makeSpan(["delimsizing","size"+t],[s],n),fr.TEXT,n,a);return r&&S_(l,n,fr.TEXT),l},"makeLargeDelim"),x4=o(function(e,t,r){var n;t==="Size1-Regular"?n="delim-size1":n="delim-size4";var i=Ge.makeSpan(["delimsizinginner",n],[Ge.makeSpan([],[Ge.makeSymbol(e,t,r)])]);return{type:"elem",elem:i}},"makeGlyphSpan"),k4=o(function(e,t,r){var n=nl["Size4-Regular"][e.charCodeAt(0)]?nl["Size4-Regular"][e.charCodeAt(0)][4]:nl["Size1-Regular"][e.charCodeAt(0)][4],i=new zc("inner",YU(e,Math.round(1e3*t))),a=new jl([i],{width:Et(n),height:Et(t),style:"width:"+Et(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),s=Ge.makeSvgSpan([],[a],r);return s.height=t,s.style.height=Et(t),s.style.width=Et(n),{type:"elem",elem:s}},"makeInner"),w4=.008,Pm={type:"kern",size:-1*w4},RH=["|","\\lvert","\\rvert","\\vert"],OH=["\\|","\\lVert","\\rVert","\\Vert"],L_=o(function(e,t,r,n,i,a){var s,l,u,h,d="",p=0;s=u=h=e,l=null;var f="Size1-Regular";e==="\\uparrow"?u=h="\u23D0":e==="\\Uparrow"?u=h="\u2016":e==="\\downarrow"?s=u="\u23D0":e==="\\Downarrow"?s=u="\u2016":e==="\\updownarrow"?(s="\\uparrow",u="\u23D0",h="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",u="\u2016",h="\\Downarrow"):pr.contains(RH,e)?(u="\u2223",d="vert",p=333):pr.contains(OH,e)?(u="\u2225",d="doublevert",p=556):e==="["||e==="\\lbrack"?(s="\u23A1",u="\u23A2",h="\u23A3",f="Size4-Regular",d="lbrack",p=667):e==="]"||e==="\\rbrack"?(s="\u23A4",u="\u23A5",h="\u23A6",f="Size4-Regular",d="rbrack",p=667):e==="\\lfloor"||e==="\u230A"?(u=s="\u23A2",h="\u23A3",f="Size4-Regular",d="lfloor",p=667):e==="\\lceil"||e==="\u2308"?(s="\u23A1",u=h="\u23A2",f="Size4-Regular",d="lceil",p=667):e==="\\rfloor"||e==="\u230B"?(u=s="\u23A5",h="\u23A6",f="Size4-Regular",d="rfloor",p=667):e==="\\rceil"||e==="\u2309"?(s="\u23A4",u=h="\u23A5",f="Size4-Regular",d="rceil",p=667):e==="("||e==="\\lparen"?(s="\u239B",u="\u239C",h="\u239D",f="Size4-Regular",d="lparen",p=875):e===")"||e==="\\rparen"?(s="\u239E",u="\u239F",h="\u23A0",f="Size4-Regular",d="rparen",p=875):e==="\\{"||e==="\\lbrace"?(s="\u23A7",l="\u23A8",h="\u23A9",u="\u23AA",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="\u23AB",l="\u23AC",h="\u23AD",u="\u23AA",f="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(s="\u23A7",h="\u23A9",u="\u23AA",f="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(s="\u23AB",h="\u23AD",u="\u23AA",f="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(s="\u23A7",h="\u23AD",u="\u23AA",f="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(s="\u23AB",h="\u23A9",u="\u23AA",f="Size4-Regular");var g=Jp(s,f,i),m=g.height+g.depth,y=Jp(u,f,i),b=y.height+y.depth,v=Jp(h,f,i),x=v.height+v.depth,k=0,w=1;if(l!==null){var _=Jp(l,f,i);k=_.height+_.depth,w=2}var S=m+x+k,C=Math.max(0,Math.ceil((t-S)/(w*b))),T=S+C*w*b,N=n.fontMetrics().axisHeight;r&&(N*=n.sizeMultiplier);var D=T/2-N,M=[];if(d.length>0){var L=T-m-x,B=Math.round(T*1e3),E=UU(d,Math.round(L*1e3)),R=new zc(d,E),O=(p/1e3).toFixed(3)+"em",P=(B/1e3).toFixed(3)+"em",A=new jl([R],{width:O,height:P,viewBox:"0 0 "+p+" "+B}),$=Ge.makeSvgSpan([],[A],n);$.height=B/1e3,$.style.width=O,$.style.height=P,M.push({type:"elem",elem:$})}else{if(M.push(x4(h,f,i)),M.push(Pm),l===null){var F=T-m-x+2*w4;M.push(k4(u,F,n))}else{var G=(T-m-x-k)/2+2*w4;M.push(k4(u,G,n)),M.push(Pm),M.push(x4(l,f,i)),M.push(Pm),M.push(k4(u,G,n))}M.push(Pm),M.push(x4(s,f,i))}var q=n.havingBaseStyle(fr.TEXT),W=Ge.makeVList({positionType:"bottom",positionData:D,children:M},q);return b4(Ge.makeSpan(["delimsizing","mult"],[W],q),fr.TEXT,n,a)},"makeStackedDelim"),T4=80,E4=.08,_4=o(function(e,t,r,n,i){var a=jU(e,n,r),s=new zc(e,a),l=new jl([s],{width:"400em",height:Et(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Ge.makeSvgSpan(["hide-tail"],[l],i)},"sqrtSvg"),PH=o(function(e,t){var r=t.havingBaseSizing(),n=D_("\\surd",e*r.sizeMultiplier,M_,r),i=r.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),s,l=0,u=0,h=0,d;return n.type==="small"?(h=1e3+1e3*a+T4,e<1?i=1:e<1.4&&(i=.7),l=(1+a+E4)/i,u=(1+a)/i,s=_4("sqrtMain",l,h,a,t),s.style.minWidth="0.853em",d=.833/i):n.type==="large"?(h=(1e3+T4)*e1[n.size],u=(e1[n.size]+a)/i,l=(e1[n.size]+a+E4)/i,s=_4("sqrtSize"+n.size,l,h,a,t),s.style.minWidth="1.02em",d=1/i):(l=e+a+E4,u=e+a,h=Math.floor(1e3*e+a)+T4,s=_4("sqrtTall",l,h,a,t),s.style.minWidth="0.742em",d=1.056),s.height=u,s.style.height=Et(l),{span:s,advanceWidth:d,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*i}},"makeSqrtImage"),N_=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],BH=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],I_=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],e1=[0,1.2,1.8,2.4,3],$H=o(function(e,t,r,n,i){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),pr.contains(N_,e)||pr.contains(I_,e))return A_(e,t,!1,r,n,i);if(pr.contains(BH,e))return L_(e,e1[t],!1,r,n,i);throw new yt("Illegal delimiter: '"+e+"'")},"makeSizedDelim"),FH=[{type:"small",style:fr.SCRIPTSCRIPT},{type:"small",style:fr.SCRIPT},{type:"small",style:fr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],zH=[{type:"small",style:fr.SCRIPTSCRIPT},{type:"small",style:fr.SCRIPT},{type:"small",style:fr.TEXT},{type:"stack"}],M_=[{type:"small",style:fr.SCRIPTSCRIPT},{type:"small",style:fr.SCRIPT},{type:"small",style:fr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],GH=o(function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},"delimTypeToFont"),D_=o(function(e,t,r,n){for(var i=Math.min(2,3-n.style.size),a=i;a<r.length&&r[a].type!=="stack";a++){var s=Jp(e,GH(r[a]),"math"),l=s.height+s.depth;if(r[a].type==="small"){var u=n.havingBaseStyle(r[a].style);l*=u.sizeMultiplier}if(l>t)return r[a]}return r[r.length-1]},"traverseSequence"),R_=o(function(e,t,r,n,i,a){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var s;pr.contains(I_,e)?s=FH:pr.contains(N_,e)?s=M_:s=zH;var l=D_(e,t,s,n);return l.type==="small"?MH(e,l.style,r,n,i,a):l.type==="large"?A_(e,l.size,r,n,i,a):L_(e,t,r,n,i,a)},"makeCustomSizedDelim"),qH=o(function(e,t,r,n,i,a){var s=n.fontMetrics().axisHeight*n.sizeMultiplier,l=901,u=5/n.fontMetrics().ptPerEm,h=Math.max(t-s,r+s),d=Math.max(h/500*l,2*h-u);return R_(e,d,!0,n,i,a)},"makeLeftRightDelim"),Vl={sqrtImage:PH,sizedDelim:$H,sizeToMaxHeight:e1,customSizedDelim:R_,leftRightDelim:qH},O_={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},jH=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],o(bm,"checkDelimiter"),Rt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:o((e,t)=>{var r=bm(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:O_[e.funcName].size,mclass:O_[e.funcName].mclass,delim:r.text}},"handler"),htmlBuilder:o((e,t)=>e.delim==="."?Ge.makeSpan([e.mclass]):Vl.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),"htmlBuilder"),mathmlBuilder:o(e=>{var t=[];e.delim!=="."&&t.push(Hs(e.delim,e.mode));var r=new ct.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=Et(Vl.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r},"mathmlBuilder")}),o(H8,"assertParsed"),Rt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:o((e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new yt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:bm(t[0],e).text,color:r}},"handler")}),Rt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:o((e,t)=>{var r=bm(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Or(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},"handler"),htmlBuilder:o((e,t)=>{H8(e);for(var r=Si(e.body,t,!0,["mopen","mclose"]),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));n*=t.sizeMultiplier,i*=t.sizeMultiplier;var l;if(e.left==="."?l=Zp(t,["mopen"]):l=Vl.leftRightDelim(e.left,n,i,t,e.mode,["mopen"]),r.unshift(l),a)for(var u=1;u<r.length;u++){var h=r[u],d=h.isMiddle;d&&(r[u]=Vl.leftRightDelim(d.delim,n,i,d.options,e.mode,[]))}var p;if(e.right===".")p=Zp(t,["mclose"]);else{var f=e.rightColor?t.withColor(e.rightColor):t;p=Vl.leftRightDelim(e.right,n,i,f,e.mode,["mclose"])}return r.push(p),Ge.makeSpan(["minner"],r,t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{H8(e);var r=Ka(e.body,t);if(e.left!=="."){var n=new ct.MathNode("mo",[Hs(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var i=new ct.MathNode("mo",[Hs(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return f4(r)},"mathmlBuilder")}),Rt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:o((e,t)=>{var r=bm(t[0],e);if(!e.parser.leftrightDepth)throw new yt("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},"handler"),htmlBuilder:o((e,t)=>{var r;if(e.delim===".")r=Zp(t,[]);else{r=Vl.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?Hs("|","text"):Hs(e.delim,e.mode),n=new ct.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n},"mathmlBuilder")}),C4=o((e,t)=>{var r=Ge.wrapFragment(Zr(e.body,t),t),n=e.label.slice(1),i=t.sizeMultiplier,a,s=0,l=pr.isCharacterBox(e.body);if(n==="sout")a=Ge.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/i,s=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var u=Zn({number:.6,unit:"pt"},t),h=Zn({number:.35,unit:"ex"},t),d=t.havingBaseSizing();i=i/d.sizeMultiplier;var p=r.height+r.depth+u+h;r.style.paddingLeft=Et(p/2+u);var f=Math.floor(1e3*p*i),g=GU(f),m=new jl([new zc("phase",g)],{width:"400em",height:Et(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});a=Ge.makeSvgSpan(["hide-tail"],[m],t),a.style.height=Et(p),s=r.depth+u+h}else{/cancel/.test(n)?l||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var y=0,b=0,v=0;/box/.test(n)?(v=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=t.fontMetrics().fboxsep+(n==="colorbox"?0:v),b=y):n==="angl"?(v=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),y=4*v,b=Math.max(0,.25-r.depth)):(y=l?.2:0,b=y),a=Wl.encloseSpan(r,n,y,b,t),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=Et(v)):n==="angl"&&v!==.049&&(a.style.borderTopWidth=Et(v),a.style.borderRightWidth=Et(v)),s=r.depth+b,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var x;if(e.backgroundColor)x=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},t);else{var k=/cancel|phase/.test(n)?["svg-align"]:[];x=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:k}]},t)}return/cancel/.test(n)&&(x.height=r.height,x.depth=r.depth),/cancel/.test(n)&&!l?Ge.makeSpan(["mord","cancel-lap"],[x],t):Ge.makeSpan(["mord"],[x],t)},"htmlBuilder$7"),S4=o((e,t)=>{var r=0,n=new ct.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ln(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n},"mathmlBuilder$6"),Rt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,a=Or(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:C4,mathmlBuilder:S4}),Rt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,a=Or(t[0],"color-token").color,s=Or(t[1],"color-token").color,l=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:l}},htmlBuilder:C4,mathmlBuilder:S4}),Rt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}}),Rt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:C4,mathmlBuilder:S4}),Rt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}}),P_={},o(el,"defineEnvironment"),B_={},o(le,"defineMacro"),o(W8,"getHLines"),Bm=o(e=>{var t=e.parser.settings;if(!t.displayMode)throw new yt("{"+e.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext"),o(Jx,"getAutoTag"),o(Bc,"parseArray"),o(e4,"dCellStyle"),il=o(function(e,t){var r,n,i=e.body.length,a=e.hLinesBeforeRow,s=0,l=new Array(i),u=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,p=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=t.havingStyle(fr.SCRIPT).sizeMultiplier;p=.2778*(f/t.sizeMultiplier)}var g=e.colSeparationType==="CD"?Zn({number:3,unit:"ex"},t):12*d,m=3*d,y=e.arraystretch*g,b=.7*y,v=.3*y,x=0;function k(Me){for(var Le=0;Le<Me.length;++Le)Le>0&&(x+=.25),u.push({pos:x,isDashed:Me[Le]})}for(o(k,"setHLinePos"),k(a[0]),r=0;r<e.body.length;++r){var w=e.body[r],_=b,S=v;s<w.length&&(s=w.length);var C=new Array(w.length);for(n=0;n<w.length;++n){var T=Zr(w[n],t);S<T.depth&&(S=T.depth),_<T.height&&(_=T.height),C[n]=T}var N=e.rowGaps[r],D=0;N&&(D=Zn(N,t),D>0&&(D+=v,S<D&&(S=D),D=0)),e.addJot&&(S+=m),C.height=_,C.depth=S,x+=_,C.pos=x,x+=S+D,l[r]=C,k(a[r+1])}var M=x/2+t.fontMetrics().axisHeight,L=e.cols||[],B=[],E,R,O=[];if(e.tags&&e.tags.some(Me=>Me))for(r=0;r<i;++r){var P=l[r],A=P.pos-M,$=e.tags[r],F=void 0;$===!0?F=Ge.makeSpan(["eqn-num"],[],t):$===!1?F=Ge.makeSpan([],[],t):F=Ge.makeSpan([],Si($,t,!0),t),F.depth=P.depth,F.height=P.height,O.push({type:"elem",elem:F,shift:A})}for(n=0,R=0;n<s||R<L.length;++n,++R){for(var G=L[R]||{},q=!0;G.type==="separator";){if(q||(E=Ge.makeSpan(["arraycolsep"],[]),E.style.width=Et(t.fontMetrics().doubleRuleSep),B.push(E)),G.separator==="|"||G.separator===":"){var W=G.separator==="|"?"solid":"dashed",re=Ge.makeSpan(["vertical-separator"],[],t);re.style.height=Et(x),re.style.borderRightWidth=Et(h),re.style.borderRightStyle=W,re.style.margin="0 "+Et(-h/2);var oe=x-M;oe&&(re.style.verticalAlign=Et(-oe)),B.push(re)}else throw new yt("Invalid separator type: "+G.separator);R++,G=L[R]||{},q=!1}if(!(n>=s)){var te=void 0;(n>0||e.hskipBeforeAndAfter)&&(te=pr.deflt(G.pregap,p),te!==0&&(E=Ge.makeSpan(["arraycolsep"],[]),E.style.width=Et(te),B.push(E)));var se=[];for(r=0;r<i;++r){var Y=l[r],V=Y[n];if(V){var U=Y.pos-M;V.depth=Y.depth,V.height=Y.height,se.push({type:"elem",elem:V,shift:U})}}se=Ge.makeVList({positionType:"individualShift",children:se},t),se=Ge.makeSpan(["col-align-"+(G.align||"c")],[se]),B.push(se),(n<s-1||e.hskipBeforeAndAfter)&&(te=pr.deflt(G.postgap,p),te!==0&&(E=Ge.makeSpan(["arraycolsep"],[]),E.style.width=Et(te),B.push(E)))}}if(l=Ge.makeSpan(["mtable"],B),u.length>0){for(var ne=Ge.makeLineSpan("hline",t,h),K=Ge.makeLineSpan("hdashline",t,h),fe=[{type:"elem",elem:l,shift:0}];u.length>0;){var Q=u.pop(),Te=Q.pos-M;Q.isDashed?fe.push({type:"elem",elem:K,shift:Te}):fe.push({type:"elem",elem:ne,shift:Te})}l=Ge.makeVList({positionType:"individualShift",children:fe},t)}if(O.length===0)return Ge.makeSpan(["mord"],[l],t);var ie=Ge.makeVList({positionType:"individualShift",children:O},t);return ie=Ge.makeSpan(["tag"],[ie],t),Ge.makeFragment([l,ie])},"htmlBuilder"),YH={c:"center ",l:"left ",r:"right "},al=o(function(e,t){for(var r=[],n=new ct.MathNode("mtd",[],["mtr-glue"]),i=new ct.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var s=e.body[a],l=[],u=0;u<s.length;u++)l.push(new ct.MathNode("mtd",[Ln(s[u],t)]));e.tags&&e.tags[a]&&(l.unshift(n),l.push(n),e.leqno?l.unshift(i):l.push(i)),r.push(new ct.MathNode("mtr",l))}var h=new ct.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",Et(d));var p="",f="";if(e.cols&&e.cols.length>0){var g=e.cols,m="",y=!1,b=0,v=g.length;g[0].type==="separator"&&(p+="top ",b=1),g[g.length-1].type==="separator"&&(p+="bottom ",v-=1);for(var x=b;x<v;x++)g[x].type==="align"?(f+=YH[g[x].align],y&&(m+="none "),y=!0):g[x].type==="separator"&&y&&(m+=g[x].separator==="|"?"solid ":"dashed ",y=!1);h.setAttribute("columnalign",f.trim()),/[sd]/.test(m)&&h.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var k=e.cols||[],w="",_=1;_<k.length;_++)w+=_%2?"0em ":"1em ";h.setAttribute("columnspacing",w.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var S="",C=e.hLinesBeforeRow;p+=C[0].length>0?"left ":"",p+=C[C.length-1].length>0?"right ":"";for(var T=1;T<C.length-1;T++)S+=C[T].length===0?"none ":C[T][0]?"dashed ":"solid ";return/[sd]/.test(S)&&h.setAttribute("rowlines",S.trim()),p!==""&&(h=new ct.MathNode("menclose",[h]),h.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(h=new ct.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},"mathmlBuilder"),$_=o(function(e,t){e.envName.indexOf("ed")===-1&&Bm(e);var r=[],n=e.envName.indexOf("at")>-1?"alignat":"align",i=e.envName==="split",a=Bc(e.parser,{cols:r,addJot:!0,autoTag:i?void 0:Jx(e.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:i?2:void 0,leqno:e.parser.settings.leqno},"display"),s,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var h="",d=0;d<t[0].body.length;d++){var p=Or(t[0].body[d],"textord");h+=p.text}s=Number(h),l=s*2}var f=!l;a.body.forEach(function(b){for(var v=1;v<b.length;v+=2){var x=Or(b[v],"styling"),k=Or(x.body[0],"ordgroup");k.body.unshift(u)}if(f)l<b.length&&(l=b.length);else{var w=b.length/2;if(s<w)throw new yt("Too many math in a row: "+("expected "+s+", but got "+w),b[0])}});for(var g=0;g<l;++g){var m="r",y=0;g%2===1?m="l":g>0&&f&&(y=1),r[g]={type:"align",align:m,pregap:y,postgap:0}}return a.colSeparationType=f?"align":"alignat",a},"alignedHandler"),el({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=vm(t[0]),n=r?[t[0]]:Or(t[0],"ordgroup").body,i=n.map(function(s){var l=Qx(s),u=l.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new yt("Unknown column alignment: "+u,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Bc(e.parser,a,e4(e.envName))},htmlBuilder:il,mathmlBuilder:al}),el({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new yt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=Bc(e.parser,n,e4(e.envName)),s=Math.max(0,...a.body.map(l=>l.length));return a.cols=new Array(s).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:il,mathmlBuilder:al}),el({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=Bc(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:il,mathmlBuilder:al}),el({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=vm(t[0]),n=r?[t[0]]:Or(t[0],"ordgroup").body,i=n.map(function(s){var l=Qx(s),u=l.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new yt("Unknown column alignment: "+u,s)});if(i.length>1)throw new yt("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Bc(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new yt("{subarray} can contain only one column");return a},htmlBuilder:il,mathmlBuilder:al}),el({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Bc(e.parser,t,e4(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:il,mathmlBuilder:al}),el({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:$_,htmlBuilder:il,mathmlBuilder:al}),el({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){pr.contains(["gather","gather*"],e.envName)&&Bm(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Jx(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Bc(e.parser,t,"display")},htmlBuilder:il,mathmlBuilder:al}),el({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:$_,htmlBuilder:il,mathmlBuilder:al}),el({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Bm(e);var t={autoTag:Jx(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Bc(e.parser,t,"display")},htmlBuilder:il,mathmlBuilder:al}),el({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Bm(e),xU(e.parser)},htmlBuilder:il,mathmlBuilder:al}),le("\\nonumber","\\gdef\\@eqnsw{0}"),le("\\notag","\\nonumber"),Rt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new yt(e.funcName+" valid only within array environment")}}),F_=P_,Rt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if(i.type!=="ordgroup")throw new yt("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Or(i.body[s],"textord").text;if(n==="\\begin"){if(!F_.hasOwnProperty(a))throw new yt("No such environment: "+a,i);var l=F_[a],{args:u,optArgs:h}=r.parseArguments("\\begin{"+a+"}",l),d={mode:r.mode,envName:a,parser:r},p=l.handler(d,u,h);r.expect("\\end",!1);var f=r.nextToken,g=Or(r.parseFunction(),"environment");if(g.name!==a)throw new yt("Mismatch: \\begin{"+a+"} matched by \\end{"+g.name+"}",f);return p}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}}),z_=o((e,t)=>{var r=e.font,n=t.withFont(r);return Zr(e.body,n)},"htmlBuilder$5"),G_=o((e,t)=>{var r=e.font,n=t.withFont(r);return Ln(e.body,n)},"mathmlBuilder$4"),q_={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"},Rt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=Dm(t[0]),a=n;return a in q_&&(a=q_[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},"handler"),htmlBuilder:z_,mathmlBuilder:G_}),Rt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:o((e,t)=>{var{parser:r}=e,n=t[0],i=pr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Om(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}},"handler")}),Rt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:o((e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:a}=r,s=r.parseExpression(!0,i),l="math"+n.slice(1);return{type:"font",mode:a,font:l,body:{type:"ordgroup",mode:r.mode,body:s}}},"handler"),htmlBuilder:z_,mathmlBuilder:G_}),j_=o((e,t)=>{var r=t;return e==="display"?r=r.id>=fr.SCRIPT.id?r.text():fr.DISPLAY:e==="text"&&r.size===fr.DISPLAY.size?r=fr.TEXT:e==="script"?r=fr.SCRIPT:e==="scriptscript"&&(r=fr.SCRIPTSCRIPT),r},"adjustStyle"),A4=o((e,t)=>{var r=j_(e.size,t.style),n=r.fracNum(),i=r.fracDen(),a;a=t.havingStyle(n);var s=Zr(e.numer,a,t);if(e.continued){var l=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm;s.height=s.height<l?l:s.height,s.depth=s.depth<u?u:s.depth}a=t.havingStyle(i);var h=Zr(e.denom,a,t),d,p,f;e.hasBarLine?(e.barSize?(p=Zn(e.barSize,t),d=Ge.makeLineSpan("frac-line",t,p)):d=Ge.makeLineSpan("frac-line",t),p=d.height,f=d.height):(d=null,p=0,f=t.fontMetrics().defaultRuleThickness);var g,m,y;r.size===fr.DISPLAY.size||e.size==="display"?(g=t.fontMetrics().num1,p>0?m=3*f:m=7*f,y=t.fontMetrics().denom1):(p>0?(g=t.fontMetrics().num2,m=f):(g=t.fontMetrics().num3,m=3*f),y=t.fontMetrics().denom2);var b;if(d){var v=t.fontMetrics().axisHeight;g-s.depth-(v+.5*p)<m&&(g+=m-(g-s.depth-(v+.5*p))),v-.5*p-(h.height-y)<m&&(y+=m-(v-.5*p-(h.height-y)));var x=-(v-.5*p);b=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:d,shift:x},{type:"elem",elem:s,shift:-g}]},t)}else{var k=g-s.depth-(h.height-y);k<m&&(g+=.5*(m-k),y+=.5*(m-k)),b=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:s,shift:-g}]},t)}a=t.havingStyle(r),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var w;r.size===fr.DISPLAY.size?w=t.fontMetrics().delim1:r.size===fr.SCRIPTSCRIPT.size?w=t.havingStyle(fr.SCRIPT).fontMetrics().delim2:w=t.fontMetrics().delim2;var _,S;return e.leftDelim==null?_=Zp(t,["mopen"]):_=Vl.customSizedDelim(e.leftDelim,w,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?S=Ge.makeSpan([]):e.rightDelim==null?S=Zp(t,["mclose"]):S=Vl.customSizedDelim(e.rightDelim,w,!0,t.havingStyle(r),e.mode,["mclose"]),Ge.makeSpan(["mord"].concat(a.sizingClasses(t)),[_,Ge.makeSpan(["mfrac"],[b]),S],t)},"htmlBuilder$4"),L4=o((e,t)=>{var r=new ct.MathNode("mfrac",[Ln(e.numer,t),Ln(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=Zn(e.barSize,t);r.setAttribute("linethickness",Et(n))}var i=j_(e.size,t.style);if(i.size!==t.style.size){r=new ct.MathNode("mstyle",[r]);var a=i.size===fr.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var l=new ct.MathNode("mo",[new ct.TextNode(e.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}if(s.push(r),e.rightDelim!=null){var u=new ct.MathNode("mo",[new ct.TextNode(e.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),s.push(u)}return f4(s)}return r},"mathmlBuilder$3"),Rt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=t[1],s,l=null,u=null,h="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,l="(",u=")";break;case"\\\\bracefrac":s=!1,l="\\{",u="\\}";break;case"\\\\brackfrac":s=!1,l="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:l,rightDelim:u,size:h,barSize:null}},"handler"),htmlBuilder:A4,mathmlBuilder:L4}),Rt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")}),Rt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:n}}}),Y_=["display","text","script","scriptscript"],U_=o(function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t},"delimFromValue"),Rt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],i=t[5],a=Dm(t[0]),s=a.type==="atom"&&a.family==="open"?U_(a.text):null,l=Dm(t[1]),u=l.type==="atom"&&l.family==="close"?U_(l.text):null,h=Or(t[2],"size"),d,p=null;h.isBlank?d=!0:(p=h.value,d=p.number>0);var f="auto",g=t[3];if(g.type==="ordgroup"){if(g.body.length>0){var m=Or(g.body[0],"textord");f=Y_[Number(m.text)]}}else g=Or(g,"textord"),f=Y_[Number(g.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:d,barSize:p,leftDelim:s,rightDelim:u,size:f}},htmlBuilder:A4,mathmlBuilder:L4}),Rt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Or(t[0],"size").value,token:i}}}),Rt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=AU(Or(t[1],"infix").size),s=t[2],l=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:l,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:A4,mathmlBuilder:L4}),H_=o((e,t)=>{var r=t.style,n,i;e.type==="supsub"?(n=e.sup?Zr(e.sup,t.havingStyle(r.sup()),t):Zr(e.sub,t.havingStyle(r.sub()),t),i=Or(e.base,"horizBrace")):i=Or(e,"horizBrace");var a=Zr(i.base,t.havingBaseStyle(fr.DISPLAY)),s=Wl.svgSpan(i,t),l;if(i.isOver?(l=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),l.children[0].children[0].children[1].classes.push("svg-align")):(l=Ge.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),l.children[0].children[0].children[0].classes.push("svg-align")),n){var u=Ge.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t);i.isOver?l=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},t):l=Ge.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return Ge.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t)},"htmlBuilder$3"),UH=o((e,t)=>{var r=Wl.mathMLnode(e.label);return new ct.MathNode(e.isOver?"mover":"munder",[Ln(e.base,t),r])},"mathmlBuilder$2"),Rt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:H_,mathmlBuilder:UH}),Rt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[1],i=Or(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:gi(n)}:r.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:o((e,t)=>{var r=Si(e.body,t,!1);return Ge.makeAnchor(e.href,[],r,t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=qc(e.body,t);return r instanceof Us||(r=new Us("mrow",[r])),r.setAttribute("href",e.href),r},"mathmlBuilder")}),Rt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=Or(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var l={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:gi(l)}},"handler")}),Rt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:gi(t[0])}},htmlBuilder(e,t){var r=Si(e.body,t,!1);return Ge.makeFragment(r)},mathmlBuilder(e,t){return new ct.MathNode("mrow",Ka(e.body,t))}}),Rt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:o((e,t)=>{var{parser:r,funcName:n,token:i}=e,a=Or(t[0],"raw").string,s=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,u={};switch(n){case"\\htmlClass":u.class=a,l={command:"\\htmlClass",class:a};break;case"\\htmlId":u.id=a,l={command:"\\htmlId",id:a};break;case"\\htmlStyle":u.style=a,l={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),d=0;d<h.length;d++){var p=h[d].split("=");if(p.length!==2)throw new yt("Error parsing key-value for \\htmlData");u["data-"+p[0].trim()]=p[1].trim()}l={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(l)?{type:"html",mode:r.mode,attributes:u,body:gi(s)}:r.formatUnsupportedCmd(n)},"handler"),htmlBuilder:o((e,t)=>{var r=Si(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=Ge.makeSpan(n,r,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},"htmlBuilder"),mathmlBuilder:o((e,t)=>qc(e.body,t),"mathmlBuilder")}),Rt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:gi(t[0]),mathml:gi(t[1])}},"handler"),htmlBuilder:o((e,t)=>{var r=Si(e.html,t,!1);return Ge.makeFragment(r)},"htmlBuilder"),mathmlBuilder:o((e,t)=>qc(e.mathml,t),"mathmlBuilder")}),N4=o(function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new yt("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!t_(r))throw new yt("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r},"sizeData"),Rt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:o((e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(r[0])for(var u=Or(r[0],"raw").string,h=u.split(","),d=0;d<h.length;d++){var p=h[d].split("=");if(p.length===2){var f=p[1].trim();switch(p[0].trim()){case"alt":l=f;break;case"width":i=N4(f);break;case"height":a=N4(f);break;case"totalheight":s=N4(f);break;default:throw new yt("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var g=Or(t[0],"url").url;return l===""&&(l=g,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:n.mode,alt:l,width:i,height:a,totalheight:s,src:g}:n.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:o((e,t)=>{var r=Zn(e.height,t),n=0;e.totalheight.number>0&&(n=Zn(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=Zn(e.width,t));var a={height:Et(r+n)};i>0&&(a.width=Et(i)),n>0&&(a.verticalAlign=Et(-n));var s=new VU(e.src,e.alt,a);return s.height=r,s.depth=n,s},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=new ct.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=Zn(e.height,t),i=0;if(e.totalheight.number>0&&(i=Zn(e.totalheight,t)-n,r.setAttribute("valign",Et(-i))),r.setAttribute("height",Et(n+i)),e.width.number>0){var a=Zn(e.width,t);r.setAttribute("width",Et(a))}return r.setAttribute("src",e.src),r},"mathmlBuilder")}),Rt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=Or(t[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(e,t){return Ge.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=Zn(e.dimension,t);return new ct.SpaceNode(r)}}),Rt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},"handler"),htmlBuilder:o((e,t)=>{var r;e.alignment==="clap"?(r=Ge.makeSpan([],[Zr(e.body,t)]),r=Ge.makeSpan(["inner"],[r],t)):r=Ge.makeSpan(["inner"],[Zr(e.body,t)]);var n=Ge.makeSpan(["fix"],[]),i=Ge.makeSpan([e.alignment],[r,n],t),a=Ge.makeSpan(["strut"]);return a.style.height=Et(i.height+i.depth),i.depth&&(a.style.verticalAlign=Et(-i.depth)),i.children.unshift(a),i=Ge.makeSpan(["thinbox"],[i],t),Ge.makeSpan(["mord","vbox"],[i],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=new ct.MathNode("mpadded",[Ln(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r},"mathmlBuilder")}),Rt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}}),Rt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new yt("Mismatched "+e.funcName)}}),W_=o((e,t)=>{switch(t.style.size){case fr.DISPLAY.size:return e.display;case fr.TEXT.size:return e.text;case fr.SCRIPT.size:return e.script;case fr.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}},"chooseMathStyle"),Rt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:o((e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:gi(t[0]),text:gi(t[1]),script:gi(t[2]),scriptscript:gi(t[3])}},"handler"),htmlBuilder:o((e,t)=>{var r=W_(e,t),n=Si(r,t,!1);return Ge.makeFragment(n)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=W_(e,t);return qc(r,t)},"mathmlBuilder")}),V_=o((e,t,r,n,i,a,s)=>{e=Ge.makeSpan([],[e]);var l=r&&pr.isCharacterBox(r),u,h;if(t){var d=Zr(t,n.havingStyle(i.sup()),n);h={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-d.depth)}}if(r){var p=Zr(r,n.havingStyle(i.sub()),n);u={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-p.height)}}var f;if(h&&u){var g=n.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+e.depth+s;f=Ge.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:Et(-a)},{type:"kern",size:u.kern},{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Et(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(u){var m=e.height-s;f=Ge.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:Et(-a)},{type:"kern",size:u.kern},{type:"elem",elem:e}]},n)}else if(h){var y=e.depth+s;f=Ge.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Et(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var b=[f];if(u&&a!==0&&!l){var v=Ge.makeSpan(["mspace"],[],n);v.style.marginRight=Et(a),b.unshift(v)}return Ge.makeSpan(["mop","op-limits"],b,n)},"assembleSupSub"),X_=["\\smallint"],Gd=o((e,t)=>{var r,n,i=!1,a;e.type==="supsub"?(r=e.sup,n=e.sub,a=Or(e.base,"op"),i=!0):a=Or(e,"op");var s=t.style,l=!1;s.size===fr.DISPLAY.size&&a.symbol&&!pr.contains(X_,a.name)&&(l=!0);var u;if(a.symbol){var h=l?"Size2-Regular":"Size1-Regular",d="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(d=a.name.slice(1),a.name=d==="oiint"?"\\iint":"\\iiint"),u=Ge.makeSymbol(a.name,h,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),d.length>0){var p=u.italic,f=Ge.staticSvg(d+"Size"+(l?"2":"1"),t);u=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:f,shift:l?.08:0}]},t),a.name="\\"+d,u.classes.unshift("mop"),u.italic=p}}else if(a.body){var g=Si(a.body,t,!0);g.length===1&&g[0]instanceof Ys?(u=g[0],u.classes[0]="mop"):u=Ge.makeSpan(["mop"],g,t)}else{for(var m=[],y=1;y<a.name.length;y++)m.push(Ge.mathsym(a.name[y],a.mode,t));u=Ge.makeSpan(["mop"],m,t)}var b=0,v=0;return(u instanceof Ys||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(u.height-u.depth)/2-t.fontMetrics().axisHeight,v=u.italic),i?V_(u,r,n,t,s,v,b):(b&&(u.style.position="relative",u.style.top=Et(b)),u)},"htmlBuilder$2"),t1=o((e,t)=>{var r;if(e.symbol)r=new Us("mo",[Hs(e.name,e.mode)]),pr.contains(X_,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Us("mo",Ka(e.body,t));else{r=new Us("mi",[new Qp(e.name.slice(1))]);var n=new Us("mo",[Hs("\u2061","text")]);e.parentIsSupSub?r=new Us("mrow",[r,n]):r=q8([r,n])}return r},"mathmlBuilder$1"),HH={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"},Rt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=n;return i.length===1&&(i=HH[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},"handler"),htmlBuilder:Gd,mathmlBuilder:t1}),Rt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:gi(n)}},"handler"),htmlBuilder:Gd,mathmlBuilder:t1}),WH={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"},Rt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Gd,mathmlBuilder:t1}),Rt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Gd,mathmlBuilder:t1}),Rt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=WH[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Gd,mathmlBuilder:t1}),K_=o((e,t)=>{var r,n,i=!1,a;e.type==="supsub"?(r=e.sup,n=e.sub,a=Or(e.base,"operatorname"),i=!0):a=Or(e,"operatorname");var s;if(a.body.length>0){for(var l=a.body.map(p=>{var f=p.text;return typeof f=="string"?{type:"textord",mode:p.mode,text:f}:p}),u=Si(l,t.withFont("mathrm"),!0),h=0;h<u.length;h++){var d=u[h];d instanceof Ys&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Ge.makeSpan(["mop"],u,t)}else s=Ge.makeSpan(["mop"],[],t);return i?V_(s,r,n,t,t.style,0,0):s},"htmlBuilder$1"),VH=o((e,t)=>{for(var r=Ka(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof ct.SpaceNode))if(a instanceof ct.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof ct.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var l=r.map(d=>d.toText()).join("");r=[new ct.TextNode(l)]}var u=new ct.MathNode("mi",r);u.setAttribute("mathvariant","normal");var h=new ct.MathNode("mo",[Hs("\u2061","text")]);return e.parentIsSupSub?new ct.MathNode("mrow",[u,h]):ct.newDocumentFragment([u,h])},"mathmlBuilder"),Rt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:gi(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:K_,mathmlBuilder:VH}),le("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),nh({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Ge.makeFragment(Si(e.body,t,!1)):Ge.makeSpan(["mord"],Si(e.body,t,!0),t)},mathmlBuilder(e,t){return qc(e.body,t,!0)}}),Rt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=Zr(e.body,t.havingCrampedStyle()),n=Ge.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return Ge.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var r=new ct.MathNode("mo",[new ct.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new ct.MathNode("mover",[Ln(e.body,t),r]);return n.setAttribute("accent","true"),n}}),Rt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:gi(n)}},"handler"),htmlBuilder:o((e,t)=>{var r=Si(e.body,t.withPhantom(),!1);return Ge.makeFragment(r)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=Ka(e.body,t);return new ct.MathNode("mphantom",r)},"mathmlBuilder")}),Rt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:o((e,t)=>{var r=Ge.makeSpan([],[Zr(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Ge.makeSpan(["mord"],[r],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=Ka(gi(e.body),t),n=new ct.MathNode("mphantom",r),i=new ct.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i},"mathmlBuilder")}),Rt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:o((e,t)=>{var r=Ge.makeSpan(["inner"],[Zr(e.body,t.withPhantom())]),n=Ge.makeSpan(["fix"],[]);return Ge.makeSpan(["mord","rlap"],[r,n],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=Ka(gi(e.body),t),n=new ct.MathNode("mphantom",r),i=new ct.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i},"mathmlBuilder")}),Rt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=Or(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=Zr(e.body,t),n=Zn(e.dy,t);return Ge.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new ct.MathNode("mpadded",[Ln(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}}),Rt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),Rt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],a=Or(t[0],"size"),s=Or(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&Or(i,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var r=Ge.makeSpan(["mord","rule"],[],t),n=Zn(e.width,t),i=Zn(e.height,t),a=e.shift?Zn(e.shift,t):0;return r.style.borderRightWidth=Et(n),r.style.borderTopWidth=Et(i),r.style.bottom=Et(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=Zn(e.width,t),n=Zn(e.height,t),i=e.shift?Zn(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new ct.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Et(r)),s.setAttribute("height",Et(n));var l=new ct.MathNode("mpadded",[s]);return i>=0?l.setAttribute("height",Et(i)):(l.setAttribute("height",Et(i)),l.setAttribute("depth",Et(-i))),l.setAttribute("voffset",Et(i)),l}}),o(V8,"sizingGroup"),Z_=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],XH=o((e,t)=>{var r=t.havingSize(e.size);return V8(e.body,r,t)},"htmlBuilder"),Rt({type:"sizing",names:Z_,props:{numArgs:0,allowedInText:!0},handler:o((e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:Z_.indexOf(n)+1,body:a}},"handler"),htmlBuilder:XH,mathmlBuilder:o((e,t)=>{var r=t.havingSize(e.size),n=Ka(e.body,r),i=new ct.MathNode("mstyle",n);return i.setAttribute("mathsize",Et(r.sizeMultiplier)),i},"mathmlBuilder")}),Rt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:o((e,t,r)=>{var{parser:n}=e,i=!1,a=!1,s=r[0]&&Or(r[0],"ordgroup");if(s)for(var l="",u=0;u<s.body.length;++u){var h=s.body[u];if(l=h.text,l==="t")i=!0;else if(l==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var d=t[0];return{type:"smash",mode:n.mode,body:d,smashHeight:i,smashDepth:a}},"handler"),htmlBuilder:o((e,t)=>{var r=Ge.makeSpan([],[Zr(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return Ge.makeSpan(["mord"],[a],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=new ct.MathNode("mpadded",[Ln(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r},"mathmlBuilder")}),Rt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],a=t[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(e,t){var r=Zr(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=Ge.wrapFragment(r,t);var n=t.fontMetrics(),i=n.defaultRuleThickness,a=i;t.style.id<fr.TEXT.id&&(a=t.fontMetrics().xHeight);var s=i+a/4,l=r.height+r.depth+s+i,{span:u,ruleWidth:h,advanceWidth:d}=Vl.sqrtImage(l,t),p=u.height-h;p>r.height+r.depth+s&&(s=(s+p-r.height-r.depth)/2);var f=u.height-r.height-s-h;r.style.paddingLeft=Et(d);var g=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+f)},{type:"elem",elem:u},{type:"kern",size:h}]},t);if(e.index){var m=t.havingStyle(fr.SCRIPTSCRIPT),y=Zr(e.index,m,t),b=.6*(g.height-g.depth),v=Ge.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:y}]},t),x=Ge.makeSpan(["root"],[v]);return Ge.makeSpan(["mord","sqrt"],[x,g],t)}else return Ge.makeSpan(["mord","sqrt"],[g],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new ct.MathNode("mroot",[Ln(r,t),Ln(n,t)]):new ct.MathNode("msqrt",[Ln(r,t)])}}),Q_={display:fr.DISPLAY,text:fr.TEXT,script:fr.SCRIPT,scriptscript:fr.SCRIPTSCRIPT},Rt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(e,t){var r=Q_[e.style],n=t.havingStyle(r).withFont("");return V8(e.body,n,t)},mathmlBuilder(e,t){var r=Q_[e.style],n=t.havingStyle(r),i=Ka(e.body,n),a=new ct.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=s[e.style];return a.setAttribute("scriptlevel",l[0]),a.setAttribute("displaystyle",l[1]),a}}),KH=o(function(e,t){var r=e.base;if(r)if(r.type==="op"){var n=r.limits&&(t.style.size===fr.DISPLAY.size||r.alwaysHandleSupSub);return n?Gd:null}else if(r.type==="operatorname"){var i=r.alwaysHandleSupSub&&(t.style.size===fr.DISPLAY.size||r.limits);return i?K_:null}else{if(r.type==="accent")return pr.isCharacterBox(r.base)?y4:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?H_:null}else return null}else return null},"htmlBuilderDelegate"),nh({type:"supsub",htmlBuilder(e,t){var r=KH(e,t);if(r)return r(e,t);var{base:n,sup:i,sub:a}=e,s=Zr(n,t),l,u,h=t.fontMetrics(),d=0,p=0,f=n&&pr.isCharacterBox(n);if(i){var g=t.havingStyle(t.style.sup());l=Zr(i,g,t),f||(d=s.height-g.fontMetrics().supDrop*g.sizeMultiplier/t.sizeMultiplier)}if(a){var m=t.havingStyle(t.style.sub());u=Zr(a,m,t),f||(p=s.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}var y;t.style===fr.DISPLAY?y=h.sup1:t.style.cramped?y=h.sup3:y=h.sup2;var b=t.sizeMultiplier,v=Et(.5/h.ptPerEm/b),x=null;if(u){var k=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof Ys||k)&&(x=Et(-s.italic))}var w;if(l&&u){d=Math.max(d,y,l.depth+.25*h.xHeight),p=Math.max(p,h.sub2);var _=h.defaultRuleThickness,S=4*_;if(d-l.depth-(u.height-p)<S){p=S-(d-l.depth)+u.height;var C=.8*h.xHeight-(d-l.depth);C>0&&(d+=C,p-=C)}var T=[{type:"elem",elem:u,shift:p,marginRight:v,marginLeft:x},{type:"elem",elem:l,shift:-d,marginRight:v}];w=Ge.makeVList({positionType:"individualShift",children:T},t)}else if(u){p=Math.max(p,h.sub1,u.height-.8*h.xHeight);var N=[{type:"elem",elem:u,marginLeft:x,marginRight:v}];w=Ge.makeVList({positionType:"shift",positionData:p,children:N},t)}else if(l)d=Math.max(d,y,l.depth+.25*h.xHeight),w=Ge.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:l,marginRight:v}]},t);else throw new Error("supsub must have either sup or sub.");var D=g4(s,"right")||"mord";return Ge.makeSpan([D],[s,Ge.makeSpan(["msupsub"],[w])],t)},mathmlBuilder(e,t){var r=!1,n,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[Ln(e.base,t)];e.sub&&a.push(Ln(e.sub,t)),e.sup&&a.push(Ln(e.sup,t));var s;if(r)s=n?"mover":"munder";else if(e.sub)if(e.sup){var l=e.base;l&&l.type==="op"&&l.limits&&t.style===fr.DISPLAY||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(t.style===fr.DISPLAY||l.limits)?s="munderover":s="msubsup"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===fr.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===fr.DISPLAY)?s="munder":s="msub"}else{var h=e.base;h&&h.type==="op"&&h.limits&&(t.style===fr.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||t.style===fr.DISPLAY)?s="mover":s="msup"}return new ct.MathNode(s,a)}}),nh({type:"atom",htmlBuilder(e,t){return Ge.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new ct.MathNode("mo",[Hs(e.text,e.mode)]);if(e.family==="bin"){var n=m4(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}}),J_={mi:"italic",mn:"normal",mtext:"normal"},nh({type:"mathord",htmlBuilder(e,t){return Ge.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new ct.MathNode("mi",[Hs(e.text,e.mode,t)]),n=m4(e,t)||"italic";return n!==J_[r.type]&&r.setAttribute("mathvariant",n),r}}),nh({type:"textord",htmlBuilder(e,t){return Ge.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=Hs(e.text,e.mode,t),n=m4(e,t)||"normal",i;return e.mode==="text"?i=new ct.MathNode("mtext",[r]):/[0-9]/.test(e.text)?i=new ct.MathNode("mn",[r]):e.text==="\\prime"?i=new ct.MathNode("mo",[r]):i=new ct.MathNode("mi",[r]),n!==J_[i.type]&&i.setAttribute("mathvariant",n),i}}),I4={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},M4={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}},nh({type:"spacing",htmlBuilder(e,t){if(M4.hasOwnProperty(e.text)){var r=M4[e.text].className||"";if(e.mode==="text"){var n=Ge.makeOrd(e,t,"textord");return n.classes.push(r),n}else return Ge.makeSpan(["mspace",r],[Ge.mathsym(e.text,e.mode,t)],t)}else{if(I4.hasOwnProperty(e.text))return Ge.makeSpan(["mspace",I4[e.text]],[],t);throw new yt('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(M4.hasOwnProperty(e.text))r=new ct.MathNode("mtext",[new ct.TextNode("\xA0")]);else{if(I4.hasOwnProperty(e.text))return new ct.MathNode("mspace");throw new yt('Unknown type of space "'+e.text+'"')}return r}}),eC=o(()=>{var e=new ct.MathNode("mtd",[]);return e.setAttribute("width","50%"),e},"pad"),nh({type:"tag",mathmlBuilder(e,t){var r=new ct.MathNode("mtable",[new ct.MathNode("mtr",[eC(),new ct.MathNode("mtd",[qc(e.body,t)]),eC(),new ct.MathNode("mtd",[qc(e.tag,t)])])]);return r.setAttribute("width","100%"),r}}),tC={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},rC={"\\textbf":"textbf","\\textmd":"textmd"},ZH={"\\textit":"textit","\\textup":"textup"},nC=o((e,t)=>{var r=e.font;if(r){if(tC[r])return t.withTextFontFamily(tC[r]);if(rC[r])return t.withTextFontWeight(rC[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(ZH[r])},"optionsWithFont"),Rt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:gi(i),font:n}},htmlBuilder(e,t){var r=nC(e,t),n=Si(e.body,r,!0);return Ge.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=nC(e,t);return qc(e.body,r)}}),Rt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Zr(e.body,t),n=Ge.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=Ge.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return Ge.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var r=new ct.MathNode("mo",[new ct.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new ct.MathNode("munder",[Ln(e.body,t),r]);return n.setAttribute("accentunder","true"),n}}),Rt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Zr(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Ge.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new ct.MathNode("mpadded",[Ln(e.body,t)],["vcenter"])}}),Rt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new yt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=iC(e),n=[],i=t.havingStyle(t.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(Ge.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Ge.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Ge.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new ct.TextNode(iC(e)),n=new ct.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}}),iC=o(e=>e.body.replace(/ /g,e.star?"\u2423":"\xA0"),"makeVerb"),jc=f_,aC=`[ \r
	]`,QH="\\\\[a-zA-Z@]+",JH="\\\\[^\uD800-\uDFFF]",eW="("+QH+")"+aC+"*",tW=`\\\\(
|[ \r	]+
?)[ \r	]*`,D4="[\u0300-\u036F]",rW=new RegExp(D4+"+$"),nW="("+aC+"+)|"+(tW+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(D4+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(D4+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+eW)+("|"+JH+")"),sC=class{static{o(this,"Lexer")}constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(nW,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new tl("EOF",new vo(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new yt("Unexpected character: '"+e[t]+"'",new tl(e[t],new vo(this,t,t+1)));var n=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[n]===14){var i=e.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new tl(n,new vo(this,t,this.tokenRegex.lastIndex))}},iW=class{static{o(this,"Namespace")}constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new yt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}},aW=B_,le("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),le("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),le("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}}),le("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}}),le("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),le("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),le("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}),oC={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15},le("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new yt("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=oC[t.text],n==null||n>=r)throw new yt("Invalid base-"+r+" digit "+t.text);for(var i;(i=oC[e.future().text])!=null&&i<r;)n*=r,n+=i,e.popToken()}return"\\@char{"+n+"}"}),R4=o((e,t,r)=>{var n=e.consumeArg().tokens;if(n.length!==1)throw new yt("\\newcommand's first argument must be a macro name");var i=n[0].text,a=e.isDefined(i);if(a&&!t)throw new yt("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!r)throw new yt("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(n=e.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var l="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new yt("Invalid number of arguments: "+l);s=parseInt(l),n=e.consumeArg().tokens}return e.macros.set(i,{tokens:n,numArgs:s}),""},"newcommand"),le("\\newcommand",e=>R4(e,!1,!0)),le("\\renewcommand",e=>R4(e,!0,!1)),le("\\providecommand",e=>R4(e,!0,!0)),le("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""}),le("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""}),le("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),jc[r],Dn.math[r],Dn.text[r]),""}),le("\\bgroup","{"),le("\\egroup","}"),le("~","\\nobreakspace"),le("\\lq","`"),le("\\rq","'"),le("\\aa","\\r a"),le("\\AA","\\r A"),le("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}"),le("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),le("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}"),le("\u212C","\\mathscr{B}"),le("\u2130","\\mathscr{E}"),le("\u2131","\\mathscr{F}"),le("\u210B","\\mathscr{H}"),le("\u2110","\\mathscr{I}"),le("\u2112","\\mathscr{L}"),le("\u2133","\\mathscr{M}"),le("\u211B","\\mathscr{R}"),le("\u212D","\\mathfrak{C}"),le("\u210C","\\mathfrak{H}"),le("\u2128","\\mathfrak{Z}"),le("\\Bbbk","\\Bbb{k}"),le("\xB7","\\cdotp"),le("\\llap","\\mathllap{\\textrm{#1}}"),le("\\rlap","\\mathrlap{\\textrm{#1}}"),le("\\clap","\\mathclap{\\textrm{#1}}"),le("\\mathstrut","\\vphantom{(}"),le("\\underbar","\\underline{\\text{#1}}"),le("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),le("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),le("\\ne","\\neq"),le("\u2260","\\neq"),le("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),le("\u2209","\\notin"),le("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),le("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),le("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}"),le("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}"),le("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}"),le("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}"),le("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}"),le("\u27C2","\\perp"),le("\u203C","\\mathclose{!\\mkern-0.8mu!}"),le("\u220C","\\notni"),le("\u231C","\\ulcorner"),le("\u231D","\\urcorner"),le("\u231E","\\llcorner"),le("\u231F","\\lrcorner"),le("\xA9","\\copyright"),le("\xAE","\\textregistered"),le("\uFE0F","\\textregistered"),le("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),le("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),le("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),le("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),le("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),le("\u22EE","\\vdots"),le("\\varGamma","\\mathit{\\Gamma}"),le("\\varDelta","\\mathit{\\Delta}"),le("\\varTheta","\\mathit{\\Theta}"),le("\\varLambda","\\mathit{\\Lambda}"),le("\\varXi","\\mathit{\\Xi}"),le("\\varPi","\\mathit{\\Pi}"),le("\\varSigma","\\mathit{\\Sigma}"),le("\\varUpsilon","\\mathit{\\Upsilon}"),le("\\varPhi","\\mathit{\\Phi}"),le("\\varPsi","\\mathit{\\Psi}"),le("\\varOmega","\\mathit{\\Omega}"),le("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),le("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),le("\\boxed","\\fbox{$\\displaystyle{#1}$}"),le("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),le("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),le("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),lC={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"},le("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in lC?t=lC[r]:(r.slice(0,4)==="\\not"||r in Dn.math&&pr.contains(["bin","rel"],Dn.math[r].group))&&(t="\\dotsb"),t}),O4={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0},le("\\dotso",function(e){var t=e.future().text;return t in O4?"\\ldots\\,":"\\ldots"}),le("\\dotsc",function(e){var t=e.future().text;return t in O4&&t!==","?"\\ldots\\,":"\\ldots"}),le("\\cdots",function(e){var t=e.future().text;return t in O4?"\\@cdots\\,":"\\@cdots"}),le("\\dotsb","\\cdots"),le("\\dotsm","\\cdots"),le("\\dotsi","\\!\\cdots"),le("\\dotsx","\\ldots\\,"),le("\\DOTSI","\\relax"),le("\\DOTSB","\\relax"),le("\\DOTSX","\\relax"),le("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),le("\\,","\\tmspace+{3mu}{.1667em}"),le("\\thinspace","\\,"),le("\\>","\\mskip{4mu}"),le("\\:","\\tmspace+{4mu}{.2222em}"),le("\\medspace","\\:"),le("\\;","\\tmspace+{5mu}{.2777em}"),le("\\thickspace","\\;"),le("\\!","\\tmspace-{3mu}{.1667em}"),le("\\negthinspace","\\!"),le("\\negmedspace","\\tmspace-{4mu}{.2222em}"),le("\\negthickspace","\\tmspace-{5mu}{.277em}"),le("\\enspace","\\kern.5em "),le("\\enskip","\\hskip.5em\\relax"),le("\\quad","\\hskip1em\\relax"),le("\\qquad","\\hskip2em\\relax"),le("\\tag","\\@ifstar\\tag@literal\\tag@paren"),le("\\tag@paren","\\tag@literal{({#1})}"),le("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new yt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),le("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),le("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),le("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),le("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),le("\\newline","\\\\\\relax"),le("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}"),cC=Et(nl["Main-Regular"][84][1]-.7*nl["Main-Regular"][65][1]),le("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+cC+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),le("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+cC+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),le("\\hspace","\\@ifstar\\@hspacer\\@hspace"),le("\\@hspace","\\hskip #1\\relax"),le("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),le("\\ordinarycolon",":"),le("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),le("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),le("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),le("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),le("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),le("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),le("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),le("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),le("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),le("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),le("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),le("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),le("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),le("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),le("\u2237","\\dblcolon"),le("\u2239","\\eqcolon"),le("\u2254","\\coloneqq"),le("\u2255","\\eqqcolon"),le("\u2A74","\\Coloneqq"),le("\\ratio","\\vcentcolon"),le("\\coloncolon","\\dblcolon"),le("\\colonequals","\\coloneqq"),le("\\coloncolonequals","\\Coloneqq"),le("\\equalscolon","\\eqqcolon"),le("\\equalscoloncolon","\\Eqqcolon"),le("\\colonminus","\\coloneq"),le("\\coloncolonminus","\\Coloneq"),le("\\minuscolon","\\eqcolon"),le("\\minuscoloncolon","\\Eqcolon"),le("\\coloncolonapprox","\\Colonapprox"),le("\\coloncolonsim","\\Colonsim"),le("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),le("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),le("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),le("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),le("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}"),le("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),le("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),le("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),le("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),le("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),le("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),le("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),le("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),le("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),le("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),le("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),le("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),le("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),le("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),le("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),le("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),le("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),le("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),le("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}"),le("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}"),le("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}"),le("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}"),le("\\imath","\\html@mathml{\\@imath}{\u0131}"),le("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),le("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}"),le("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}"),le("\u27E6","\\llbracket"),le("\u27E7","\\rrbracket"),le("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),le("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),le("\u2983","\\lBrace"),le("\u2984","\\rBrace"),le("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}"),le("\u29B5","\\minuso"),le("\\darr","\\downarrow"),le("\\dArr","\\Downarrow"),le("\\Darr","\\Downarrow"),le("\\lang","\\langle"),le("\\rang","\\rangle"),le("\\uarr","\\uparrow"),le("\\uArr","\\Uparrow"),le("\\Uarr","\\Uparrow"),le("\\N","\\mathbb{N}"),le("\\R","\\mathbb{R}"),le("\\Z","\\mathbb{Z}"),le("\\alef","\\aleph"),le("\\alefsym","\\aleph"),le("\\Alpha","\\mathrm{A}"),le("\\Beta","\\mathrm{B}"),le("\\bull","\\bullet"),le("\\Chi","\\mathrm{X}"),le("\\clubs","\\clubsuit"),le("\\cnums","\\mathbb{C}"),le("\\Complex","\\mathbb{C}"),le("\\Dagger","\\ddagger"),le("\\diamonds","\\diamondsuit"),le("\\empty","\\emptyset"),le("\\Epsilon","\\mathrm{E}"),le("\\Eta","\\mathrm{H}"),le("\\exist","\\exists"),le("\\harr","\\leftrightarrow"),le("\\hArr","\\Leftrightarrow"),le("\\Harr","\\Leftrightarrow"),le("\\hearts","\\heartsuit"),le("\\image","\\Im"),le("\\infin","\\infty"),le("\\Iota","\\mathrm{I}"),le("\\isin","\\in"),le("\\Kappa","\\mathrm{K}"),le("\\larr","\\leftarrow"),le("\\lArr","\\Leftarrow"),le("\\Larr","\\Leftarrow"),le("\\lrarr","\\leftrightarrow"),le("\\lrArr","\\Leftrightarrow"),le("\\Lrarr","\\Leftrightarrow"),le("\\Mu","\\mathrm{M}"),le("\\natnums","\\mathbb{N}"),le("\\Nu","\\mathrm{N}"),le("\\Omicron","\\mathrm{O}"),le("\\plusmn","\\pm"),le("\\rarr","\\rightarrow"),le("\\rArr","\\Rightarrow"),le("\\Rarr","\\Rightarrow"),le("\\real","\\Re"),le("\\reals","\\mathbb{R}"),le("\\Reals","\\mathbb{R}"),le("\\Rho","\\mathrm{P}"),le("\\sdot","\\cdot"),le("\\sect","\\S"),le("\\spades","\\spadesuit"),le("\\sub","\\subset"),le("\\sube","\\subseteq"),le("\\supe","\\supseteq"),le("\\Tau","\\mathrm{T}"),le("\\thetasym","\\vartheta"),le("\\weierp","\\wp"),le("\\Zeta","\\mathrm{Z}"),le("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),le("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),le("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),le("\\bra","\\mathinner{\\langle{#1}|}"),le("\\ket","\\mathinner{|{#1}\\rangle}"),le("\\braket","\\mathinner{\\langle{#1}\\rangle}"),le("\\Bra","\\left\\langle#1\\right|"),le("\\Ket","\\left|#1\\right\\rangle"),uC=o(e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),l=t.macros.get("\\|");t.macros.beginGroup();var u=o(p=>f=>{e&&(f.macros.set("|",s),i.length&&f.macros.set("\\|",l));var g=p;if(!p&&i.length){var m=f.future();m.text==="|"&&(f.popToken(),g=!0)}return{tokens:g?i:n,numArgs:0}},"midMacro");t.macros.set("|",u(!1)),i.length&&t.macros.set("\\|",u(!0));var h=t.consumeArg().tokens,d=t.expandTokens([...a,...h,...r]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}},"braketHelper"),le("\\bra@ket",uC(!1)),le("\\bra@set",uC(!0)),le("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),le("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),le("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),le("\\angln","{\\angl n}"),le("\\blue","\\textcolor{##6495ed}{#1}"),le("\\orange","\\textcolor{##ffa500}{#1}"),le("\\pink","\\textcolor{##ff00af}{#1}"),le("\\red","\\textcolor{##df0030}{#1}"),le("\\green","\\textcolor{##28ae7b}{#1}"),le("\\gray","\\textcolor{gray}{#1}"),le("\\purple","\\textcolor{##9d38bd}{#1}"),le("\\blueA","\\textcolor{##ccfaff}{#1}"),le("\\blueB","\\textcolor{##80f6ff}{#1}"),le("\\blueC","\\textcolor{##63d9ea}{#1}"),le("\\blueD","\\textcolor{##11accd}{#1}"),le("\\blueE","\\textcolor{##0c7f99}{#1}"),le("\\tealA","\\textcolor{##94fff5}{#1}"),le("\\tealB","\\textcolor{##26edd5}{#1}"),le("\\tealC","\\textcolor{##01d1c1}{#1}"),le("\\tealD","\\textcolor{##01a995}{#1}"),le("\\tealE","\\textcolor{##208170}{#1}"),le("\\greenA","\\textcolor{##b6ffb0}{#1}"),le("\\greenB","\\textcolor{##8af281}{#1}"),le("\\greenC","\\textcolor{##74cf70}{#1}"),le("\\greenD","\\textcolor{##1fab54}{#1}"),le("\\greenE","\\textcolor{##0d923f}{#1}"),le("\\goldA","\\textcolor{##ffd0a9}{#1}"),le("\\goldB","\\textcolor{##ffbb71}{#1}"),le("\\goldC","\\textcolor{##ff9c39}{#1}"),le("\\goldD","\\textcolor{##e07d10}{#1}"),le("\\goldE","\\textcolor{##a75a05}{#1}"),le("\\redA","\\textcolor{##fca9a9}{#1}"),le("\\redB","\\textcolor{##ff8482}{#1}"),le("\\redC","\\textcolor{##f9685d}{#1}"),le("\\redD","\\textcolor{##e84d39}{#1}"),le("\\redE","\\textcolor{##bc2612}{#1}"),le("\\maroonA","\\textcolor{##ffbde0}{#1}"),le("\\maroonB","\\textcolor{##ff92c6}{#1}"),le("\\maroonC","\\textcolor{##ed5fa6}{#1}"),le("\\maroonD","\\textcolor{##ca337c}{#1}"),le("\\maroonE","\\textcolor{##9e034e}{#1}"),le("\\purpleA","\\textcolor{##ddd7ff}{#1}"),le("\\purpleB","\\textcolor{##c6b9fc}{#1}"),le("\\purpleC","\\textcolor{##aa87ff}{#1}"),le("\\purpleD","\\textcolor{##7854ab}{#1}"),le("\\purpleE","\\textcolor{##543b78}{#1}"),le("\\mintA","\\textcolor{##f5f9e8}{#1}"),le("\\mintB","\\textcolor{##edf2df}{#1}"),le("\\mintC","\\textcolor{##e0e5cc}{#1}"),le("\\grayA","\\textcolor{##f6f7f7}{#1}"),le("\\grayB","\\textcolor{##f0f1f2}{#1}"),le("\\grayC","\\textcolor{##e3e5e6}{#1}"),le("\\grayD","\\textcolor{##d6d8da}{#1}"),le("\\grayE","\\textcolor{##babec2}{#1}"),le("\\grayF","\\textcolor{##888d93}{#1}"),le("\\grayG","\\textcolor{##626569}{#1}"),le("\\grayH","\\textcolor{##3b3e40}{#1}"),le("\\grayI","\\textcolor{##21242c}{#1}"),le("\\kaBlue","\\textcolor{##314453}{#1}"),le("\\kaGreen","\\textcolor{##71B307}{#1}"),hC={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},sW=class{static{o(this,"MacroExpander")}constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new iW(aW,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new sC(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,n;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:n,end:r}=this.consumeArg(["]"])}else({tokens:n,start:t,end:r}=this.consumeArg());return this.pushToken(new tl("EOF",r.loc)),this.pushTokens(n),t.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var n=this.future(),i,a=0,s=0;do{if(i=this.popToken(),t.push(i),i.text==="{")++a;else if(i.text==="}"){if(--a,a===-1)throw new yt("Extra }",i)}else if(i.text==="EOF")throw new yt("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",i);if(e&&r)if((a===0||a===1&&e[s]==="{")&&i.text===e[s]){if(++s,s===e.length){t.splice(-s,s);break}}else s=0}while(a!==0||r);return n.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:n,end:i}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new yt("The length of delimiters doesn't match the number of args!");for(var r=t[0],n=0;n<r.length;n++){var i=this.popToken();if(r[n]!==i.text)throw new yt("Use of the macro doesn't match its definition",i)}}for(var a=[],s=0;s<e;s++)a.push(this.consumeArg(t&&t[s+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new yt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),r=t.text,n=t.noexpand?null:this._getExpansion(r);if(n==null||e&&n.unexpandable){if(e&&n==null&&r[0]==="\\"&&!this.isDefined(r))throw new yt("Undefined control sequence: "+r);return this.pushToken(t),!1}this.countExpansion(1);var i=n.tokens,a=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){i=i.slice();for(var s=i.length-1;s>=0;--s){var l=i[s];if(l.text==="#"){if(s===0)throw new yt("Incomplete placeholder at end of macro body",l);if(l=i[--s],l.text==="#")i.splice(s+1,1);else if(/^[1-9]$/.test(l.text))i.splice(s,2,...a[+l.text-1]);else throw new yt("Not a valid argument number",l)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new tl(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),t.push(n)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var n=typeof t=="function"?t(this):t;if(typeof n=="string"){var i=0;if(n.indexOf("#")!==-1)for(var a=n.replace(/##/g,"");a.indexOf("#"+(i+1))!==-1;)++i;for(var s=new sC(n,this.settings),l=[],u=s.lex();u.text!=="EOF";)l.push(u),u=s.lex();l.reverse();var h={tokens:l,numArgs:i};return h}return n}isDefined(e){return this.macros.has(e)||jc.hasOwnProperty(e)||Dn.math.hasOwnProperty(e)||Dn.text.hasOwnProperty(e)||hC.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:jc.hasOwnProperty(e)&&!jc[e].primitive}},dC=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,$m=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),P4={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},pC={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"},gC=class Mqe{static{o(this,"Parser")}constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new sW(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new yt("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new tl("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Mqe.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||t&&jc[i.text]&&jc[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,i=0;i<t.length;i++)if(t[i].type==="infix"){if(r!==-1)throw new yt("only one infix operator per group",t[i].token);r=i,n=t[i].replaceWith}if(r!==-1&&n){var a,s,l=t.slice(0,r),u=t.slice(r+1);l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l},u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u};var h;return n==="\\\\abovefrac"?h=this.callFunction(n,[a,t[r],s],[]):h=this.callFunction(n,[a,s],[]),[h]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new yt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(t){var r=this.parseGroup("atom",t);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new yt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new yt("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new yt("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new yt("Double superscript",a);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();this.fetch().text==="'";)u.push(l),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:u}}else if($m[a.text]){var h=dC.test(a.text),d=[];for(d.push(new tl($m[a.text])),this.consume();;){var p=this.fetch().text;if(!$m[p]||dC.test(p)!==h)break;d.unshift(new tl($m[p])),this.consume()}var f=this.subparse(d);h?i={type:"ordgroup",mode:"math",body:f}:n={type:"ordgroup",mode:"math",body:f}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(t,r){var n=this.fetch(),i=n.text,a=jc[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new yt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new yt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new yt("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:l}=this.parseArguments(i,a);return this.callFunction(i,s,l,n,t)}callFunction(t,r,n,i,a){var s={funcName:t,parser:this,token:i,breakOnTokenText:a},l=jc[t];if(l&&l.handler)return l.handler(s,r,n);throw new yt("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var l=r.argTypes&&r.argTypes[s],u=s<r.numOptionalArgs;(r.primitive&&l==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(l="primitive");var h=this.parseGroupOfType("argument to '"+t+"'",l,u);if(u)a.push(h);else if(h!=null)i.push(h);else throw new yt("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new yt("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new yt("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new yt("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(t,r){for(var n=this.fetch(),i=n,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new yt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,a)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new yt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new yt("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!t_(a))throw new yt("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(t,r){var n=this.fetch(),i=n.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:vo.range(n,u),body:l,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,t)||this.parseSymbol(),a==null&&i[0]==="\\"&&!hC.hasOwnProperty(i)){if(this.settings.throwOnError)throw new yt("Undefined control sequence: "+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var i=t[n],a=i.text;a==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:vo.range(i,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:vo.range(i,t[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&t[n+1].text===a&&(t.splice(n,2,{type:"textord",mode:"text",loc:vo.range(i,t[n+1]),text:a+a}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new yt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}pC.hasOwnProperty(r[0])&&!Dn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=pC[r[0]]+r.slice(1));var a=rW.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="\u0131":r==="j"&&(r="\u0237"));var s;if(Dn[this.mode][r]){this.settings.strict&&this.mode==="math"&&h4.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var l=Dn[this.mode][r].group,u=vo.range(t),h;if(KU.hasOwnProperty(l)){var d=l;h={type:"atom",mode:this.mode,family:d,loc:u,text:r}}else h={type:l,mode:this.mode,loc:u,text:r};s=h}else if(r.charCodeAt(0)>=128)this.settings.strict&&(z8(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:vo.range(t),text:r};else return null;if(this.consume(),a)for(var p=0;p<a[0].length;p++){var f=a[0][p];if(!P4[f])throw new yt("Unknown accent ' "+f+"'",t);var g=P4[f][this.mode]||P4[f].text;if(!g)throw new yt("Accent "+f+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:vo.range(t),label:g,isStretchy:!1,isShifty:!0,base:s}}return s}},gC.endOfExpression=["}","\\endgroup","\\end","\\right","&"],B4=o(function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new gC(e,t);delete r.gullet.macros.current["\\df@tag"];var n=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new yt("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:r.subparse([new tl("\\df@tag")])}]}return n},"parseTree"),fC=o(function(e,t,r){t.textContent="";var n=$4(e,r).toNode();t.appendChild(n)},"render"),typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),fC=o(function(){throw new yt("KaTeX doesn't work in quirks mode.")},"render")),oW=o(function(e,t){var r=$4(e,t).toMarkup();return r},"renderToString"),lW=o(function(e,t){var r=new t4(t);return B4(e,r)},"generateParseTree"),mC=o(function(e,t,r){if(r.throwOnError||!(e instanceof yt))throw e;var n=Ge.makeSpan(["katex-error"],[new Ys(t)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+r.errorColor),n},"renderError"),$4=o(function(e,t){var r=new t4(t);try{var n=B4(e,r);return bH(n,e,r)}catch(i){return mC(i,e,r)}},"renderToDomTree"),cW=o(function(e,t){var r=new t4(t);try{var n=B4(e,r);return xH(n,e,r)}catch(i){return mC(i,e,r)}},"renderToHTMLTree"),uW={version:"0.16.11",render:fC,renderToString:oW,ParseError:yt,SETTINGS_SCHEMA:xm,__parse:lW,__renderToDomTree:$4,__renderToHTMLTree:cW,__setFontMetrics:mU,__defineSymbol:z,__defineFunction:Rt,__defineMacro:le,__domTree:{Span:Kp,Anchor:s4,SymbolNode:Ys,SvgNode:jl,PathNode:zc,LineNode:o4}}});function hW(){let e="data-temp-href-target";Pd.addHook("beforeSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Pd.addHook("afterSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}var qd,dW,pW,yC,vC,En,gW,fW,mW,yW,bC,vW,Nn,bW,xW,sh,F4,kW,wW,xC,z4,va,r1,n1,ot,Pr=I(()=>{"use strict";hU(),qd=/<br\s*\/?>/gi,dW=o(e=>e?bC(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),pW=(()=>{let e=!1;return()=>{e||(hW(),e=!0)}})(),o(hW,"setupDompurifyHooks"),yC=o(e=>(pW(),Pd.sanitize(e)),"removeScript"),vC=o((e,t)=>{if(t.flowchart?.htmlLabels!==!1){let r=t.securityLevel;r==="antiscript"||r==="strict"?e=yC(e):r!=="loose"&&(e=bC(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=yW(e))}return e},"sanitizeMore"),En=o((e,t)=>e&&(t.dompurifyConfig?e=Pd.sanitize(vC(e,t),t.dompurifyConfig).toString():e=Pd.sanitize(vC(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),gW=o((e,t)=>typeof e=="string"?En(e,t):e.flat().map(r=>En(r,t)),"sanitizeTextOrArray"),fW=o(e=>qd.test(e),"hasBreaks"),mW=o(e=>e.split(qd),"splitBreaks"),yW=o(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),bC=o(e=>e.replace(qd,"#br#"),"breakToPlaceholder"),vW=o(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),Nn=o(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),bW=o(function(...e){let t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),xW=o(function(...e){let t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),sh=o(function(e){let t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){let a=t[n-1],s=t[n+1];kW(a,s)&&(i=a+","+s,n++,r.pop())}r.push(wW(i))}return r.join("")},"parseGenericTypes"),F4=o((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),kW=o((e,t)=>{let r=F4(e,"~"),n=F4(t,"~");return r===1&&n===1},"shouldCombineSets"),wW=o(e=>{let t=F4(e,"~"),r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);let n=[...e],i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),xC=o(()=>window.MathMLElement!==void 0,"isMathMLSupported"),z4=/\$\$(.*)\$\$/g,va=o(e=>(e.match(z4)?.length??0)>0,"hasKatex"),r1=o(async(e,t)=>{e=await n1(e,t);let r=document.createElement("div");r.innerHTML=e,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);let n={width:r.clientWidth,height:r.clientHeight};return r.remove(),n},"calculateMathMLDimensions"),n1=o(async(e,t)=>{if(!va(e))return e;if(!(xC()||t.legacyMathML||t.forceLegacyMathML))return e.replace(z4,"MathML is unsupported in this environment.");let{default:r}=await Promise.resolve().then(()=>(sje(),dU)),n=t.forceLegacyMathML||!xC()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(qd).map(i=>va(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(z4,(i,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),ot={getRows:dW,sanitizeText:En,sanitizeTextOrArray:gW,hasBreaks:fW,splitBreaks:mW,lineBreakRegex:qd,removeScript:yC,getUrl:vW,evaluate:Nn,getMax:bW,getMin:xW}}),TW,EW,ba,jd,wi=I(()=>{"use strict";Ye(),TW=o(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),EW=o(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),ba=o(function(e,t,r,n){let i=EW(t,r,n);TW(e,i)},"configureSvgSize"),jd=o(function(e,t,r,n){let i=t.node().getBBox(),a=i.width,s=i.height;X.info(`SVG bounds: ${a}x${s}`,i);let l=0,u=0;X.info(`Graph bounds: ${l}x${u}`,e),l=a+r*2,u=s+r*2,X.info(`Calculated bounds: ${l}x${u}`),ba(t,u,l,n);let h=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",h)},"setupGraphViewbox")}),Fm,_W,CW,SW,AW=I(()=>{"use strict";Ye(),Fm={},_W=o((e,t,r)=>{let n="";return e in Fm&&Fm[e]?n=Fm[e](r):X.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),CW=o((e,t)=>{t!==void 0&&(Fm[e]=t)},"addStylesForDiagram"),SW=_W}),kC={};Nt(kC,{clear:()=>Yi,getAccDescription:()=>ra,getAccTitle:()=>ea,getDiagramTitle:()=>na,setAccDescription:()=>ta,setAccTitle:()=>Ui,setDiagramTitle:()=>za});var G4,q4,j4,Y4,Yi,Ui,ea,ta,ra,za,na,Hi=I(()=>{"use strict";Pr(),xs(),G4="",q4="",j4="",Y4=o(e=>En(e,Yn()),"sanitizeText"),Yi=o(()=>{G4="",j4="",q4=""},"clear"),Ui=o(e=>{G4=Y4(e).replace(/^\s+/g,"")},"setAccTitle"),ea=o(()=>G4,"getAccTitle"),ta=o(e=>{j4=Y4(e).replace(/\n\s+/g,`
`)},"setAccDescription"),ra=o(()=>j4,"getAccDescription"),za=o(e=>{q4=Y4(e)},"setDiagramTitle"),na=o(()=>q4,"getDiagramTitle")}),wC,LW,we,TC,EC,_C,CC,NW,zm,Gm,U4,IW,tr=I(()=>{"use strict";Zo(),Ye(),xs(),Pr(),wi(),AW(),Hi(),wC=X,LW=vt,we=Yn,TC=T8,EC=Rd,_C=o(e=>En(e,we()),"sanitizeText"),CC=jd,NW=o(()=>kC,"getCommonDb"),zm={},Gm=o((e,t,r)=>{zm[e]&&wC.warn(`Diagram with id ${e} already registered. Overwriting.`),zm[e]=t,r&&jn(e,r),CW(e,t.styles),t.injectUtils?.(wC,LW,we,_C,CC,NW(),()=>{})},"registerDiagram"),U4=o(e=>{if(e in zm)return zm[e];throw new IW(e)},"getDiagram"),IW=class extends Error{static{o(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}}}),xo,Yc,Ga,ko,sl,i1,H4,W4,qm,jm,MW,DW,RW,OW,PW,BW,$W,FW,zW,GW,qW,jW,YW,UW,HW,WW,VW,XW,SC,KW,ZW,AC,QW,JW,eV,tV,Uc,rV,nV,iV,aV,sV,V4,oV=I(()=>{"use strict";tr(),Pr(),Hi(),xo=[],Yc=[""],Ga="global",ko="",sl=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],i1=[],H4="",W4=!1,qm=4,jm=2,DW=o(function(){return MW},"getC4Type"),RW=o(function(e){MW=En(e,we())},"setC4Type"),OW=o(function(e,t,r,n,i,a,s,l,u){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let h={},d=i1.find(p=>p.from===t&&p.to===r);if(d?h=d:i1.push(h),h.type=e,h.from=t,h.to=r,h.label={text:n},i==null)h.techn={text:""};else if(typeof i=="object"){let[p,f]=Object.entries(i)[0];h[p]={text:f}}else h.techn={text:i};if(a==null)h.descr={text:""};else if(typeof a=="object"){let[p,f]=Object.entries(a)[0];h[p]={text:f}}else h.descr={text:a};if(typeof s=="object"){let[p,f]=Object.entries(s)[0];h[p]=f}else h.sprite=s;if(typeof l=="object"){let[p,f]=Object.entries(l)[0];h[p]=f}else h.tags=l;if(typeof u=="object"){let[p,f]=Object.entries(u)[0];h[p]=f}else h.link=u;h.wrap=Uc()},"addRel"),PW=o(function(e,t,r,n,i,a,s){if(t===null||r===null)return;let l={},u=xo.find(h=>h.alias===t);if(u&&t===u.alias?l=u:(l.alias=t,xo.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.descr={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.descr={text:n};if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]=d}else l.sprite=i;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.tags=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.link=s;l.typeC4Shape={text:e},l.parentBoundary=Ga,l.wrap=Uc()},"addPersonOrSystem"),BW=o(function(e,t,r,n,i,a,s,l){if(t===null||r===null)return;let u={},h=xo.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,xo.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.techn={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.descr={text:i};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];u[d]=p}else u.link=l;u.wrap=Uc(),u.typeC4Shape={text:e},u.parentBoundary=Ga},"addContainer"),$W=o(function(e,t,r,n,i,a,s,l){if(t===null||r===null)return;let u={},h=xo.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,xo.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.techn={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.descr={text:i};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];u[d]=p}else u.link=l;u.wrap=Uc(),u.typeC4Shape={text:e},u.parentBoundary=Ga},"addComponent"),FW=o(function(e,t,r,n,i){if(e===null||t===null)return;let a={},s=sl.find(l=>l.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,sl.push(a)),t==null?a.label={text:""}:a.label={text:t},r==null)a.type={text:"system"};else if(typeof r=="object"){let[l,u]=Object.entries(r)[0];a[l]={text:u}}else a.type={text:r};if(typeof n=="object"){let[l,u]=Object.entries(n)[0];a[l]=u}else a.tags=n;if(typeof i=="object"){let[l,u]=Object.entries(i)[0];a[l]=u}else a.link=i;a.parentBoundary=Ga,a.wrap=Uc(),ko=Ga,Ga=e,Yc.push(ko)},"addPersonOrSystemBoundary"),zW=o(function(e,t,r,n,i){if(e===null||t===null)return;let a={},s=sl.find(l=>l.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,sl.push(a)),t==null?a.label={text:""}:a.label={text:t},r==null)a.type={text:"container"};else if(typeof r=="object"){let[l,u]=Object.entries(r)[0];a[l]={text:u}}else a.type={text:r};if(typeof n=="object"){let[l,u]=Object.entries(n)[0];a[l]=u}else a.tags=n;if(typeof i=="object"){let[l,u]=Object.entries(i)[0];a[l]=u}else a.link=i;a.parentBoundary=Ga,a.wrap=Uc(),ko=Ga,Ga=e,Yc.push(ko)},"addContainerBoundary"),GW=o(function(e,t,r,n,i,a,s,l){if(t===null||r===null)return;let u={},h=sl.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,sl.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.type={text:"node"};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.type={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.descr={text:i};if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];u[d]=p}else u.link=l;u.nodeType=e,u.parentBoundary=Ga,u.wrap=Uc(),ko=Ga,Ga=t,Yc.push(ko)},"addDeploymentNode"),qW=o(function(){Ga=ko,Yc.pop(),ko=Yc.pop(),Yc.push(ko)},"popBoundaryParseStack"),jW=o(function(e,t,r,n,i,a,s,l,u,h,d){let p=xo.find(f=>f.alias===t);if(!(p===void 0&&(p=sl.find(f=>f.alias===t),p===void 0))){if(r!=null)if(typeof r=="object"){let[f,g]=Object.entries(r)[0];p[f]=g}else p.bgColor=r;if(n!=null)if(typeof n=="object"){let[f,g]=Object.entries(n)[0];p[f]=g}else p.fontColor=n;if(i!=null)if(typeof i=="object"){let[f,g]=Object.entries(i)[0];p[f]=g}else p.borderColor=i;if(a!=null)if(typeof a=="object"){let[f,g]=Object.entries(a)[0];p[f]=g}else p.shadowing=a;if(s!=null)if(typeof s=="object"){let[f,g]=Object.entries(s)[0];p[f]=g}else p.shape=s;if(l!=null)if(typeof l=="object"){let[f,g]=Object.entries(l)[0];p[f]=g}else p.sprite=l;if(u!=null)if(typeof u=="object"){let[f,g]=Object.entries(u)[0];p[f]=g}else p.techn=u;if(h!=null)if(typeof h=="object"){let[f,g]=Object.entries(h)[0];p[f]=g}else p.legendText=h;if(d!=null)if(typeof d=="object"){let[f,g]=Object.entries(d)[0];p[f]=g}else p.legendSprite=d}},"updateElStyle"),YW=o(function(e,t,r,n,i,a,s){let l=i1.find(u=>u.from===t&&u.to===r);if(l!==void 0){if(n!=null)if(typeof n=="object"){let[u,h]=Object.entries(n)[0];l[u]=h}else l.textColor=n;if(i!=null)if(typeof i=="object"){let[u,h]=Object.entries(i)[0];l[u]=h}else l.lineColor=i;if(a!=null)if(typeof a=="object"){let[u,h]=Object.entries(a)[0];l[u]=parseInt(h)}else l.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[u,h]=Object.entries(s)[0];l[u]=parseInt(h)}else l.offsetY=parseInt(s)}},"updateRelStyle"),UW=o(function(e,t,r){let n=qm,i=jm;if(typeof t=="object"){let a=Object.values(t)[0];n=parseInt(a)}else n=parseInt(t);if(typeof r=="object"){let a=Object.values(r)[0];i=parseInt(a)}else i=parseInt(r);n>=1&&(qm=n),i>=1&&(jm=i)},"updateLayoutConfig"),HW=o(function(){return qm},"getC4ShapeInRow"),WW=o(function(){return jm},"getC4BoundaryInRow"),VW=o(function(){return Ga},"getCurrentBoundaryParse"),XW=o(function(){return ko},"getParentBoundaryParse"),SC=o(function(e){return e==null?xo:xo.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),KW=o(function(e){return xo.find(t=>t.alias===e)},"getC4Shape"),ZW=o(function(e){return Object.keys(SC(e))},"getC4ShapeKeys"),AC=o(function(e){return e==null?sl:sl.filter(t=>t.parentBoundary===e)},"getBoundaries"),QW=AC,JW=o(function(){return i1},"getRels"),eV=o(function(){return H4},"getTitle"),tV=o(function(e){W4=e},"setWrap"),Uc=o(function(){return W4},"autoWrap"),rV=o(function(){xo=[],sl=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],ko="",Ga="global",Yc=[""],i1=[],Yc=[""],H4="",W4=!1,qm=4,jm=2},"clear"),nV={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},iV={FILLED:0,OPEN:1},aV={LEFTOF:0,RIGHTOF:1,OVER:2},sV=o(function(e){H4=En(e,we())},"setTitle"),V4={addPersonOrSystem:PW,addPersonOrSystemBoundary:FW,addContainer:BW,addContainerBoundary:zW,addComponent:$W,addDeploymentNode:GW,popBoundaryParseStack:qW,addRel:OW,updateElStyle:jW,updateRelStyle:YW,updateLayoutConfig:UW,autoWrap:Uc,setWrap:tV,getC4ShapeArray:SC,getC4Shape:KW,getC4ShapeKeys:ZW,getBoundaries:AC,getBoundarys:QW,getCurrentBoundaryParse:VW,getParentBoundaryParse:XW,getRels:JW,getTitle:eV,getC4Type:DW,getC4ShapeInRow:HW,getC4BoundaryInRow:WW,setAccTitle:Ui,getAccTitle:ea,getAccDescription:ra,setAccDescription:ta,getConfig:o(()=>we().c4,"getConfig"),clear:rV,LINETYPE:nV,ARROWTYPE:iV,PLACEMENT:aV,setTitle:sV,setC4Type:RW}});function Ym(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var lV=I(()=>{"use strict";o(Ym,"ascending")});function cV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var oje=I(()=>{"use strict";o(cV,"descending")});function X4(e){let t,r,n;e.length!==2?(t=Ym,r=o((l,u)=>Ym(e(l),u),"compare2"),n=o((l,u)=>e(l)-u,"delta")):(t=e===Ym||e===cV?e:uV,r=e,n=e);function i(l,u,h=0,d=l.length){if(h<d){if(t(u,u)!==0)return d;do{let p=h+d>>>1;r(l[p],u)<0?h=p+1:d=p}while(h<d)}return h}o(i,"left");function a(l,u,h=0,d=l.length){if(h<d){if(t(u,u)!==0)return d;do{let p=h+d>>>1;r(l[p],u)<=0?h=p+1:d=p}while(h<d)}return h}o(a,"right");function s(l,u,h=0,d=l.length){let p=i(l,u,h,d-1);return p>h&&n(l[p-1],u)>-n(l[p],u)?p-1:p}return o(s,"center"),{left:i,center:s,right:a}}function uV(){return 0}var hV=I(()=>{"use strict";lV(),oje(),o(X4,"bisector"),o(uV,"zero")});function dV(e){return e===null?NaN:+e}var lje=I(()=>{"use strict";o(dV,"number")}),LC,pV,cje,uje,gV,hje=I(()=>{"use strict";lV(),hV(),lje(),LC=X4(Ym),pV=LC.right,cje=LC.left,uje=X4(dV).center,gV=pV});function NC({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function fV({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function mV({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yV(e){return e!==null&&typeof e=="object"?e.valueOf():e}var IC,dje=I(()=>{"use strict";IC=class extends Map{static{o(this,"InternMap")}constructor(e,t=yV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[r,n]of e)this.set(r,n)}get(e){return super.get(NC(this,e))}has(e){return super.has(NC(this,e))}set(e,t){return super.set(fV(this,e),t)}delete(e){return super.delete(mV(this,e))}},o(NC,"intern_get"),o(fV,"intern_set"),o(mV,"intern_delete"),o(yV,"keyof")});function Um(e,t,r){let n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=bV?10:a>=xV?5:a>=kV?2:1,l,u,h;return i<0?(h=Math.pow(10,-i)/s,l=Math.round(e*h),u=Math.round(t*h),l/h<e&&++l,u/h>t&&--u,h=-h):(h=Math.pow(10,i)*s,l=Math.round(e/h),u=Math.round(t/h),l*h<e&&++l,u*h>t&&--u),u<l&&.5<=r&&r<2?Um(e,t,r*2):[l,u,h]}function vV(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[i,a,s]=n?Um(t,e,r):Um(e,t,r);if(!(a>=i))return[];let l=a-i+1,u=new Array(l);if(n)if(s<0)for(let h=0;h<l;++h)u[h]=(a-h)/-s;else for(let h=0;h<l;++h)u[h]=(a-h)*s;else if(s<0)for(let h=0;h<l;++h)u[h]=(i+h)/-s;else for(let h=0;h<l;++h)u[h]=(i+h)*s;return u}function K4(e,t,r){return t=+t,e=+e,r=+r,Um(e,t,r)[2]}function Z4(e,t,r){t=+t,e=+e,r=+r;let n=t<e,i=n?K4(t,e,r):K4(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}var bV,xV,kV,pje=I(()=>{"use strict";bV=Math.sqrt(50),xV=Math.sqrt(10),kV=Math.sqrt(2),o(Um,"tickSpec"),o(vV,"ticks"),o(K4,"tickIncrement"),o(Z4,"tickStep")});function wV(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var gje=I(()=>{"use strict";o(wV,"max")});function TV(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var fje=I(()=>{"use strict";o(TV,"min")});function EV(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}var mje=I(()=>{"use strict";o(EV,"range")}),Yd=I(()=>{"use strict";hje(),hV(),gje(),fje(),mje(),pje(),dje()});function _V(e){return e}var yje=I(()=>{"use strict";o(_V,"default")});function CV(e){return"translate("+e+",0)"}function SV(e){return"translate(0,"+e+")"}function AV(e){return t=>+e(t)}function LV(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function NV(){return!this.__axis}function MC(e,t){var r=[],n=null,i=null,a=6,s=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=e===Hm||e===Wm?-1:1,d=e===Wm||e===Q4?"x":"y",p=e===Hm||e===J4?CV:SV;function f(g){var m=n??(t.ticks?t.ticks.apply(t,r):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,r):_V),b=Math.max(a,0)+l,v=t.range(),x=+v[0]+u,k=+v[v.length-1]+u,w=(t.bandwidth?LV:AV)(t.copy(),u),_=g.selection?g.selection():g,S=_.selectAll(".domain").data([null]),C=_.selectAll(".tick").data(m,t).order(),T=C.exit(),N=C.enter().append("g").attr("class","tick"),D=C.select("line"),M=C.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(N),D=D.merge(N.append("line").attr("stroke","currentColor").attr(d+"2",h*a)),M=M.merge(N.append("text").attr("fill","currentColor").attr(d,h*b).attr("dy",e===Hm?"0em":e===J4?"0.71em":"0.32em")),g!==_&&(S=S.transition(g),C=C.transition(g),D=D.transition(g),M=M.transition(g),T=T.transition(g).attr("opacity",DC).attr("transform",function(L){return isFinite(L=w(L))?p(L+u):this.getAttribute("transform")}),N.attr("opacity",DC).attr("transform",function(L){var B=this.parentNode.__axis;return p((B&&isFinite(B=B(L))?B:w(L))+u)})),T.remove(),S.attr("d",e===Wm||e===Q4?s?"M"+h*s+","+x+"H"+u+"V"+k+"H"+h*s:"M"+u+","+x+"V"+k:s?"M"+x+","+h*s+"V"+u+"H"+k+"V"+h*s:"M"+x+","+u+"H"+k),C.attr("opacity",1).attr("transform",function(L){return p(w(L)+u)}),D.attr(d+"2",h*a),M.attr(d,h*b).text(y),_.filter(NV).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Q4?"start":e===Wm?"end":"middle"),_.each(function(){this.__axis=w})}return o(f,"axis"),f.scale=function(g){return arguments.length?(t=g,f):t},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(g){return arguments.length?(r=g==null?[]:Array.from(g),f):r.slice()},f.tickValues=function(g){return arguments.length?(n=g==null?null:Array.from(g),f):n&&n.slice()},f.tickFormat=function(g){return arguments.length?(i=g,f):i},f.tickSize=function(g){return arguments.length?(a=s=+g,f):a},f.tickSizeInner=function(g){return arguments.length?(a=+g,f):a},f.tickSizeOuter=function(g){return arguments.length?(s=+g,f):s},f.tickPadding=function(g){return arguments.length?(l=+g,f):l},f.offset=function(g){return arguments.length?(u=+g,f):u},f}function IV(e){return MC(Hm,e)}function MV(e){return MC(J4,e)}var Hm,Q4,J4,Wm,DC,vje=I(()=>{"use strict";yje(),Hm=1,Q4=2,J4=3,Wm=4,DC=1e-6,o(CV,"translateX"),o(SV,"translateY"),o(AV,"number"),o(LV,"center"),o(NV,"entering"),o(MC,"axis"),o(IV,"axisTop"),o(MV,"axisBottom")}),bje=I(()=>{"use strict";vje()});function RC(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Vm(r)}function Vm(e){this._=e}function DV(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function RV(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function OC(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=OV,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var OV,PV,xje=I(()=>{"use strict";OV={value:o(()=>{},"value")},o(RC,"dispatch"),o(Vm,"Dispatch"),o(DV,"parseTypenames"),Vm.prototype=RC.prototype={constructor:Vm,on:o(function(e,t){var r=this._,n=DV(e+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(e=n[a]).type)&&(i=RV(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=n[a]).type)r[i]=OC(r[i],e.name,t);else if(t==null)for(i in r)r[i]=OC(r[i],e.name,null);return this},"on"),copy:o(function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Vm(e)},"copy"),call:o(function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},"call"),apply:o(function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)},"apply")},o(RV,"get"),o(OC,"set"),PV=RC}),BV=I(()=>{"use strict";xje()}),e3,PC,$V=I(()=>{"use strict";e3="http://www.w3.org/1999/xhtml",PC={svg:"http://www.w3.org/2000/svg",xhtml:e3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Xm(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),PC.hasOwnProperty(t)?{space:PC[t],local:e}:e}var BC=I(()=>{"use strict";$V(),o(Xm,"default")});function FV(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===e3&&t.documentElement.namespaceURI===e3?t.createElement(e):t.createElementNS(r,e)}}function zV(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $C(e){var t=Xm(e);return(t.local?zV:FV)(t)}var GV=I(()=>{"use strict";BC(),$V(),o(FV,"creatorInherit"),o(zV,"creatorFixed"),o($C,"default")});function qV(){}function t3(e){return e==null?qV:function(){return this.querySelector(e)}}var FC=I(()=>{"use strict";o(qV,"none"),o(t3,"default")});function jV(e){typeof e!="function"&&(e=t3(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=n[i]=new Array(s),u,h,d=0;d<s;++d)(u=a[d])&&(h=e.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),l[d]=h);return new Ts(n,this._parents)}var kje=I(()=>{"use strict";Xl(),FC(),o(jV,"default")});function YV(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var wje=I(()=>{"use strict";o(YV,"array")});function UV(){return[]}function zC(e){return e==null?UV:function(){return this.querySelectorAll(e)}}var HV=I(()=>{"use strict";o(UV,"empty"),o(zC,"default")});function WV(e){return function(){return YV(e.apply(this,arguments))}}function VV(e){typeof e=="function"?e=WV(e):e=zC(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var s=t[a],l=s.length,u,h=0;h<l;++h)(u=s[h])&&(n.push(e.call(u,u.__data__,h,s)),i.push(u));return new Ts(n,i)}var Tje=I(()=>{"use strict";Xl(),wje(),HV(),o(WV,"arrayAll"),o(VV,"default")});function GC(e){return function(){return this.matches(e)}}function qC(e){return function(t){return t.matches(e)}}var r3=I(()=>{"use strict";o(GC,"default"),o(qC,"childMatcher")});function XV(e){return function(){return QV.call(this.children,e)}}function KV(){return this.firstElementChild}function ZV(e){return this.select(e==null?KV:XV(typeof e=="function"?e:qC(e)))}var QV,Eje=I(()=>{"use strict";r3(),QV=Array.prototype.find,o(XV,"childFind"),o(KV,"childFirst"),o(ZV,"default")});function JV(){return Array.from(this.children)}function eX(e){return function(){return rX.call(this.children,e)}}function tX(e){return this.selectAll(e==null?JV:eX(typeof e=="function"?e:qC(e)))}var rX,_je=I(()=>{"use strict";r3(),rX=Array.prototype.filter,o(JV,"children"),o(eX,"childrenFilter"),o(tX,"default")});function nX(e){typeof e!="function"&&(e=GC(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=n[i]=[],u,h=0;h<s;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&l.push(u);return new Ts(n,this._parents)}var Cje=I(()=>{"use strict";Xl(),r3(),o(nX,"default")});function jC(e){return new Array(e.length)}var iX=I(()=>{"use strict";o(jC,"default")});function aX(){return new Ts(this._enter||this._groups.map(jC),this._parents)}function Km(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var sX=I(()=>{"use strict";iX(),Xl(),o(aX,"default"),o(Km,"EnterNode"),Km.prototype={constructor:Km,appendChild:o(function(e){return this._parent.insertBefore(e,this._next)},"appendChild"),insertBefore:o(function(e,t){return this._parent.insertBefore(e,t)},"insertBefore"),querySelector:o(function(e){return this._parent.querySelector(e)},"querySelector"),querySelectorAll:o(function(e){return this._parent.querySelectorAll(e)},"querySelectorAll")}});function oX(e){return function(){return e}}var Sje=I(()=>{"use strict";o(oX,"default")});function lX(e,t,r,n,i,a){for(var s=0,l,u=t.length,h=a.length;s<h;++s)(l=t[s])?(l.__data__=a[s],n[s]=l):r[s]=new Km(e,a[s]);for(;s<u;++s)(l=t[s])&&(i[s]=l)}function cX(e,t,r,n,i,a,s){var l,u,h=new Map,d=t.length,p=a.length,f=new Array(d),g;for(l=0;l<d;++l)(u=t[l])&&(f[l]=g=s.call(u,u.__data__,l,t)+"",h.has(g)?i[l]=u:h.set(g,u));for(l=0;l<p;++l)g=s.call(e,a[l],l,a)+"",(u=h.get(g))?(n[l]=u,u.__data__=a[l],h.delete(g)):r[l]=new Km(e,a[l]);for(l=0;l<d;++l)(u=t[l])&&h.get(f[l])===u&&(i[l]=u)}function uX(e){return e.__data__}function hX(e,t){if(!arguments.length)return Array.from(this,uX);var r=t?cX:lX,n=this._parents,i=this._groups;typeof e!="function"&&(e=oX(e));for(var a=i.length,s=new Array(a),l=new Array(a),u=new Array(a),h=0;h<a;++h){var d=n[h],p=i[h],f=p.length,g=dX(e.call(d,d&&d.__data__,h,n)),m=g.length,y=l[h]=new Array(m),b=s[h]=new Array(m),v=u[h]=new Array(f);r(d,p,y,b,v,g,t);for(var x=0,k=0,w,_;x<m;++x)if(w=y[x]){for(x>=k&&(k=x+1);!(_=b[k])&&++k<m;);w._next=_||null}}return s=new Ts(s,n),s._enter=l,s._exit=u,s}function dX(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var Aje=I(()=>{"use strict";Xl(),sX(),Sje(),o(lX,"bindIndex"),o(cX,"bindKey"),o(uX,"datum"),o(hX,"default"),o(dX,"arraylike")});function pX(){return new Ts(this._exit||this._groups.map(jC),this._parents)}var Lje=I(()=>{"use strict";iX(),Xl(),o(pX,"default")});function gX(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}var Nje=I(()=>{"use strict";o(gX,"default")});function fX(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,s=Math.min(i,a),l=new Array(i),u=0;u<s;++u)for(var h=r[u],d=n[u],p=h.length,f=l[u]=new Array(p),g,m=0;m<p;++m)(g=h[m]||d[m])&&(f[m]=g);for(;u<i;++u)l[u]=r[u];return new Ts(l,this._parents)}var Ije=I(()=>{"use strict";Xl(),o(fX,"default")});function mX(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}var Mje=I(()=>{"use strict";o(mX,"default")});function yX(e){e||(e=vX);function t(p,f){return p&&f?e(p.__data__,f.__data__):!p-!f}o(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],l=s.length,u=i[a]=new Array(l),h,d=0;d<l;++d)(h=s[d])&&(u[d]=h);u.sort(t)}return new Ts(i,this._parents).order()}function vX(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Dje=I(()=>{"use strict";Xl(),o(yX,"default"),o(vX,"ascending")});function bX(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var Rje=I(()=>{"use strict";o(bX,"default")});function xX(){return Array.from(this)}var Oje=I(()=>{"use strict";o(xX,"default")});function kX(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}var Pje=I(()=>{"use strict";o(kX,"default")});function wX(){let e=0;for(let t of this)++e;return e}var Bje=I(()=>{"use strict";o(wX,"default")});function TX(){return!this.node()}var $je=I(()=>{"use strict";o(TX,"default")});function EX(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,s=i.length,l;a<s;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}var Fje=I(()=>{"use strict";o(EX,"default")});function _X(e){return function(){this.removeAttribute(e)}}function CX(e){return function(){this.removeAttributeNS(e.space,e.local)}}function SX(e,t){return function(){this.setAttribute(e,t)}}function AX(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function LX(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function NX(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function IX(e,t){var r=Xm(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?CX:_X:typeof t=="function"?r.local?NX:LX:r.local?AX:SX)(r,t))}var zje=I(()=>{"use strict";BC(),o(_X,"attrRemove"),o(CX,"attrRemoveNS"),o(SX,"attrConstant"),o(AX,"attrConstantNS"),o(LX,"attrFunction"),o(NX,"attrFunctionNS"),o(IX,"default")});function YC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var MX=I(()=>{"use strict";o(YC,"default")});function DX(e){return function(){this.style.removeProperty(e)}}function RX(e,t,r){return function(){this.style.setProperty(e,t,r)}}function OX(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function PX(e,t,r){return arguments.length>1?this.each((t==null?DX:typeof t=="function"?OX:RX)(e,t,r??"")):Ud(this.node(),e)}function Ud(e,t){return e.style.getPropertyValue(t)||YC(e).getComputedStyle(e,null).getPropertyValue(t)}var BX=I(()=>{"use strict";MX(),o(DX,"styleRemove"),o(RX,"styleConstant"),o(OX,"styleFunction"),o(PX,"default"),o(Ud,"styleValue")});function $X(e){return function(){delete this[e]}}function FX(e,t){return function(){this[e]=t}}function zX(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function GX(e,t){return arguments.length>1?this.each((t==null?$X:typeof t=="function"?zX:FX)(e,t)):this.node()[e]}var Gje=I(()=>{"use strict";o($X,"propertyRemove"),o(FX,"propertyConstant"),o(zX,"propertyFunction"),o(GX,"default")});function UC(e){return e.trim().split(/^|\s+/)}function n3(e){return e.classList||new HC(e)}function HC(e){this._node=e,this._names=UC(e.getAttribute("class")||"")}function WC(e,t){for(var r=n3(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function VC(e,t){for(var r=n3(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function qX(e){return function(){WC(this,e)}}function jX(e){return function(){VC(this,e)}}function YX(e,t){return function(){(t.apply(this,arguments)?WC:VC)(this,e)}}function UX(e,t){var r=UC(e+"");if(arguments.length<2){for(var n=n3(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?YX:t?qX:jX)(r,t))}var qje=I(()=>{"use strict";o(UC,"classArray"),o(n3,"classList"),o(HC,"ClassList"),HC.prototype={add:o(function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},"add"),remove:o(function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},"remove"),contains:o(function(e){return this._names.indexOf(e)>=0},"contains")},o(WC,"classedAdd"),o(VC,"classedRemove"),o(qX,"classedTrue"),o(jX,"classedFalse"),o(YX,"classedFunction"),o(UX,"default")});function HX(){this.textContent=""}function WX(e){return function(){this.textContent=e}}function VX(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function XX(e){return arguments.length?this.each(e==null?HX:(typeof e=="function"?VX:WX)(e)):this.node().textContent}var jje=I(()=>{"use strict";o(HX,"textRemove"),o(WX,"textConstant"),o(VX,"textFunction"),o(XX,"default")});function KX(){this.innerHTML=""}function ZX(e){return function(){this.innerHTML=e}}function QX(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function JX(e){return arguments.length?this.each(e==null?KX:(typeof e=="function"?QX:ZX)(e)):this.node().innerHTML}var Yje=I(()=>{"use strict";o(KX,"htmlRemove"),o(ZX,"htmlConstant"),o(QX,"htmlFunction"),o(JX,"default")});function eK(){this.nextSibling&&this.parentNode.appendChild(this)}function tK(){return this.each(eK)}var Uje=I(()=>{"use strict";o(eK,"raise"),o(tK,"default")});function rK(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nK(){return this.each(rK)}var Hje=I(()=>{"use strict";o(rK,"lower"),o(nK,"default")});function iK(e){var t=typeof e=="function"?e:$C(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var Wje=I(()=>{"use strict";GV(),o(iK,"default")});function aK(){return null}function sK(e,t){var r=typeof e=="function"?e:$C(e),n=t==null?aK:typeof t=="function"?t:t3(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var Vje=I(()=>{"use strict";GV(),FC(),o(aK,"constantNull"),o(sK,"default")});function oK(){var e=this.parentNode;e&&e.removeChild(this)}function lK(){return this.each(oK)}var Xje=I(()=>{"use strict";o(oK,"remove"),o(lK,"default")});function cK(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uK(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hK(e){return this.select(e?uK:cK)}var Kje=I(()=>{"use strict";o(cK,"selection_cloneShallow"),o(uK,"selection_cloneDeep"),o(hK,"default")});function dK(e){return arguments.length?this.property("__data__",e):this.node().__data__}var Zje=I(()=>{"use strict";o(dK,"default")});function pK(e){return function(t){e.call(this,t,this.__data__)}}function gK(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function fK(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function mK(e,t,r){return function(){var n=this.__on,i,a=pK(t);if(n){for(var s=0,l=n.length;s<l;++s)if((i=n[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function yK(e,t,r){var n=gK(e+""),i,a=n.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,h=l.length,d;u<h;++u)for(i=0,d=l[u];i<a;++i)if((s=n[i]).type===d.type&&s.name===d.name)return d.value}return}for(l=t?mK:fK,i=0;i<a;++i)this.each(l(n[i],t,r));return this}var Qje=I(()=>{"use strict";o(pK,"contextListener"),o(gK,"parseTypenames"),o(fK,"onRemove"),o(mK,"onAdd"),o(yK,"default")});function XC(e,t,r){var n=YC(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function vK(e,t){return function(){return XC(this,e,t)}}function bK(e,t){return function(){return XC(this,e,t.apply(this,arguments))}}function xK(e,t){return this.each((typeof t=="function"?bK:vK)(e,t))}var Jje=I(()=>{"use strict";MX(),o(XC,"dispatchEvent"),o(vK,"dispatchConstant"),o(bK,"dispatchFunction"),o(xK,"default")});function*kK(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var eYe=I(()=>{"use strict";o(kK,"default")});function Ts(e,t){this._groups=e,this._parents=t}function KC(){return new Ts([[document.documentElement]],ZC)}function wK(){return this}var ZC,a1,Xl=I(()=>{"use strict";kje(),Tje(),Eje(),_je(),Cje(),Aje(),sX(),Lje(),Nje(),Ije(),Mje(),Dje(),Rje(),Oje(),Pje(),Bje(),$je(),Fje(),zje(),BX(),Gje(),qje(),jje(),Yje(),Uje(),Hje(),Wje(),Vje(),Xje(),Kje(),Zje(),Qje(),Jje(),eYe(),ZC=[null],o(Ts,"Selection"),o(KC,"selection"),o(wK,"selection_selection"),Ts.prototype=KC.prototype={constructor:Ts,select:jV,selectAll:VV,selectChild:ZV,selectChildren:tX,filter:nX,data:hX,enter:aX,exit:pX,join:gX,merge:fX,selection:wK,order:mX,sort:yX,call:bX,nodes:xX,node:kX,size:wX,empty:TX,each:EX,attr:IX,style:PX,property:GX,classed:UX,text:XX,html:JX,raise:tK,lower:nK,append:iK,insert:sK,remove:lK,clone:hK,datum:dK,on:yK,dispatch:xK,[Symbol.iterator]:kK},a1=KC});function nt(e){return typeof e=="string"?new Ts([[document.querySelector(e)]],[document.documentElement]):new Ts([[e]],ZC)}var tYe=I(()=>{"use strict";Xl(),o(nt,"default")}),Kl=I(()=>{"use strict";r3(),BC(),tYe(),Xl(),FC(),HV(),BX()}),rYe=I(()=>{"use strict"});function s1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Zm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var TK=I(()=>{"use strict";o(s1,"default"),o(Zm,"extend")});function oh(){}function QC(){return this.rgb().formatHex()}function EK(){return this.rgb().formatHex8()}function _K(){return aS(this).formatHsl()}function JC(){return this.rgb().formatRgb()}function lh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=AK.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?eS(t):r===3?new xa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LK.exec(e))?new xa(t[1],t[2],t[3],1):(t=NK.exec(e))?new xa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IK.exec(e))?Qm(t[1],t[2],t[3],t[4]):(t=MK.exec(e))?Qm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DK.exec(e))?iS(t[1],t[2]/100,t[3]/100,1):(t=RK.exec(e))?iS(t[1],t[2]/100,t[3]/100,t[4]):oS.hasOwnProperty(e)?eS(oS[e]):e==="transparent"?new xa(NaN,NaN,NaN,0):null}function eS(e){return new xa(e>>16&255,e>>8&255,e&255,1)}function Qm(e,t,r,n){return n<=0&&(e=t=r=NaN),new xa(e,t,r,n)}function tS(e){return e instanceof oh||(e=lh(e)),e?(e=e.rgb(),new xa(e.r,e.g,e.b,e.opacity)):new xa}function Jm(e,t,r,n){return arguments.length===1?tS(e):new xa(e,t,r,n??1)}function xa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function rS(){return`#${uh(this.r)}${uh(this.g)}${uh(this.b)}`}function CK(){return`#${uh(this.r)}${uh(this.g)}${uh(this.b)}${uh((isNaN(this.opacity)?1:this.opacity)*255)}`}function nS(){let e=ey(this.opacity);return`${e===1?"rgb(":"rgba("}${ch(this.r)}, ${ch(this.g)}, ${ch(this.b)}${e===1?")":`, ${e})`}`}function ey(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ch(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uh(e){return e=ch(e),(e<16?"0":"")+e.toString(16)}function iS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new wo(e,t,r,n)}function aS(e){if(e instanceof wo)return new wo(e.h,e.s,e.l,e.opacity);if(e instanceof oh||(e=lh(e)),!e)return new wo;if(e instanceof wo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,u=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new wo(s,l,u,e.opacity)}function SK(e,t,r,n){return arguments.length===1?aS(e):new wo(e,t,r,n??1)}function wo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function sS(e){return e=(e||0)%360,e<0?e+360:e}function ty(e){return Math.max(0,Math.min(1,e||0))}function i3(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var o1,ry,Hd,l1,ol,AK,LK,NK,IK,MK,DK,RK,oS,OK=I(()=>{"use strict";TK(),o(oh,"Color"),o1=.7,ry=1/o1,Hd="\\s*([+-]?\\d+)\\s*",l1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AK=/^#([0-9a-f]{3,8})$/,LK=new RegExp(`^rgb\\(${Hd},${Hd},${Hd}\\)$`),NK=new RegExp(`^rgb\\(${ol},${ol},${ol}\\)$`),IK=new RegExp(`^rgba\\(${Hd},${Hd},${Hd},${l1}\\)$`),MK=new RegExp(`^rgba\\(${ol},${ol},${ol},${l1}\\)$`),DK=new RegExp(`^hsl\\(${l1},${ol},${ol}\\)$`),RK=new RegExp(`^hsla\\(${l1},${ol},${ol},${l1}\\)$`),oS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},s1(oh,lh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QC,formatHex:QC,formatHex8:EK,formatHsl:_K,formatRgb:JC,toString:JC}),o(QC,"color_formatHex"),o(EK,"color_formatHex8"),o(_K,"color_formatHsl"),o(JC,"color_formatRgb"),o(lh,"color"),o(eS,"rgbn"),o(Qm,"rgba"),o(tS,"rgbConvert"),o(Jm,"rgb"),o(xa,"Rgb"),s1(xa,Jm,Zm(oh,{brighter(e){return e=e==null?ry:Math.pow(ry,e),new xa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?o1:Math.pow(o1,e),new xa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xa(ch(this.r),ch(this.g),ch(this.b),ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rS,formatHex:rS,formatHex8:CK,formatRgb:nS,toString:nS})),o(rS,"rgb_formatHex"),o(CK,"rgb_formatHex8"),o(nS,"rgb_formatRgb"),o(ey,"clampa"),o(ch,"clampi"),o(uh,"hex"),o(iS,"hsla"),o(aS,"hslConvert"),o(SK,"hsl"),o(wo,"Hsl"),s1(wo,SK,Zm(oh,{brighter(e){return e=e==null?ry:Math.pow(ry,e),new wo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?o1:Math.pow(o1,e),new wo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new xa(i3(e>=240?e-240:e+120,i,n),i3(e,i,n),i3(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new wo(sS(this.h),ty(this.s),ty(this.l),ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=ey(this.opacity);return`${e===1?"hsl(":"hsla("}${sS(this.h)}, ${ty(this.s)*100}%, ${ty(this.l)*100}%${e===1?")":`, ${e})`}`}})),o(sS,"clamph"),o(ty,"clampt"),o(i3,"hsl2rgb")}),PK,BK,nYe=I(()=>{"use strict";PK=Math.PI/180,BK=180/Math.PI});function lS(e){if(e instanceof ll)return new ll(e.l,e.a,e.b,e.opacity);if(e instanceof Zl)return cS(e);e instanceof xa||(e=tS(e));var t=l3(e.r),r=l3(e.g),n=l3(e.b),i=a3((.2225045*t+.7168786*r+.0606169*n)/hS),a,s;return t===r&&r===n?a=s=i:(a=a3((.4360747*t+.3850649*r+.1430804*n)/uS),s=a3((.0139322*t+.0971045*r+.7141733*n)/dS)),new ll(116*i-16,500*(a-i),200*(i-s),e.opacity)}function $K(e,t,r,n){return arguments.length===1?lS(e):new ll(e,t,r,n??1)}function ll(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function a3(e){return e>zK?Math.pow(e,1/3):e/gS+pS}function s3(e){return e>Wd?e*e*e:gS*(e-pS)}function o3(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function l3(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function FK(e){if(e instanceof Zl)return new Zl(e.h,e.c,e.l,e.opacity);if(e instanceof ll||(e=lS(e)),e.a===0&&e.b===0)return new Zl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*BK;return new Zl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function c3(e,t,r,n){return arguments.length===1?FK(e):new Zl(e,t,r,n??1)}function Zl(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function cS(e){if(isNaN(e.h))return new ll(e.l,0,0,e.opacity);var t=e.h*PK;return new ll(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}var ny,uS,hS,dS,pS,Wd,gS,zK,iYe=I(()=>{"use strict";TK(),OK(),nYe(),ny=18,uS=.96422,hS=1,dS=.82521,pS=4/29,Wd=6/29,gS=3*Wd*Wd,zK=Wd*Wd*Wd,o(lS,"labConvert"),o($K,"lab"),o(ll,"Lab"),s1(ll,$K,Zm(oh,{brighter(e){return new ll(this.l+ny*(e??1),this.a,this.b,this.opacity)},darker(e){return new ll(this.l-ny*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=uS*s3(t),e=hS*s3(e),r=dS*s3(r),new xa(o3(3.1338561*t-1.6168667*e-.4906146*r),o3(-.9787684*t+1.9161415*e+.033454*r),o3(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),o(a3,"xyz2lab"),o(s3,"lab2xyz"),o(o3,"lrgb2rgb"),o(l3,"rgb2lrgb"),o(FK,"hclConvert"),o(c3,"hcl"),o(Zl,"Hcl"),o(cS,"hcl2lab"),s1(Zl,c3,Zm(oh,{brighter(e){return new Zl(this.h,this.c,this.l+ny*(e??1),this.opacity)},darker(e){return new Zl(this.h,this.c,this.l-ny*(e??1),this.opacity)},rgb(){return cS(this).rgb()}}))}),iy=I(()=>{"use strict";OK(),iYe()});function fS(e,t,r,n,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*n+s*i)/6}function GK(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],s=n>0?e[n-1]:2*i-a,l=n<t-1?e[n+2]:2*a-i;return fS((r-n/t)*t,s,i,a,l)}}var qK=I(()=>{"use strict";o(fS,"basis"),o(GK,"default")});function jK(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],s=e[(n+1)%t],l=e[(n+2)%t];return fS((r-n/t)*t,i,a,s,l)}}var aYe=I(()=>{"use strict";qK(),o(jK,"default")}),ay,YK=I(()=>{"use strict";ay=o(e=>()=>e,"default")});function mS(e,t){return function(r){return e+r*t}}function UK(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function HK(e,t){var r=t-e;return r?mS(e,r>180||r<-180?r-360*Math.round(r/360):r):ay(isNaN(e)?t:e)}function WK(e){return(e=+e)==1?Vd:function(t,r){return r-t?UK(t,r,e):ay(isNaN(t)?r:t)}}function Vd(e,t){var r=t-e;return r?mS(e,r):ay(isNaN(e)?t:e)}var VK=I(()=>{"use strict";YK(),o(mS,"linear"),o(UK,"exponential"),o(HK,"hue"),o(WK,"gamma"),o(Vd,"nogamma")});function yS(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),a=new Array(r),s,l;for(s=0;s<r;++s)l=Jm(t[s]),n[s]=l.r||0,i[s]=l.g||0,a[s]=l.b||0;return n=e(n),i=e(i),a=e(a),l.opacity=1,function(u){return l.r=n(u),l.g=i(u),l.b=a(u),l+""}}}var sy,sYe,oYe,XK=I(()=>{"use strict";iy(),qK(),aYe(),VK(),sy=o(function e(t){var r=WK(t);function n(i,a){var s=r((i=Jm(i)).r,(a=Jm(a)).r),l=r(i.g,a.g),u=r(i.b,a.b),h=Vd(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=u(d),i.opacity=h(d),i+""}}return o(n,"rgb"),n.gamma=e,n},"rgbGamma")(1),o(yS,"rgbSpline"),sYe=yS(GK),oYe=yS(jK)});function KK(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function ZK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var lYe=I(()=>{"use strict";o(KK,"default"),o(ZK,"isNumberArray")});function QK(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=p3(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}var cYe=I(()=>{"use strict";bS(),o(QK,"genericArray")});function JK(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var uYe=I(()=>{"use strict";o(JK,"default")});function To(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var u3=I(()=>{"use strict";o(To,"default")});function eZ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=p3(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var hYe=I(()=>{"use strict";bS(),o(eZ,"default")});function tZ(e){return function(){return e}}function rZ(e){return function(t){return e(t)+""}}function vS(e,t){var r=h3.lastIndex=d3.lastIndex=0,n,i,a,s=-1,l=[],u=[];for(e=e+"",t=t+"";(n=h3.exec(e))&&(i=d3.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:To(n,i)})),r=d3.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?rZ(u[0].x):tZ(t):(t=u.length,function(h){for(var d=0,p;d<t;++d)l[(p=u[d]).i]=p.x(h);return l.join("")})}var h3,d3,nZ=I(()=>{"use strict";u3(),h3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d3=new RegExp(h3.source,"g"),o(tZ,"zero"),o(rZ,"one"),o(vS,"default")});function p3(e,t){var r=typeof t,n;return t==null||r==="boolean"?ay(t):(r==="number"?To:r==="string"?(n=lh(t))?(t=n,sy):vS:t instanceof lh?sy:t instanceof Date?JK:ZK(t)?KK:Array.isArray(t)?QK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eZ:To)(e,t)}var bS=I(()=>{"use strict";iy(),XK(),cYe(),uYe(),u3(),hYe(),nZ(),YK(),lYe(),o(p3,"default")});function iZ(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var dYe=I(()=>{"use strict";o(iZ,"default")});function xS(e,t,r,n,i,a){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*kS,skewX:Math.atan(u)*kS,scaleX:s,scaleY:l}}var kS,g3,pYe=I(()=>{"use strict";kS=180/Math.PI,g3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},o(xS,"default")});function aZ(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?g3:xS(t.a,t.b,t.c,t.d,t.e,t.f)}function sZ(e){return e==null?g3:(f3||(f3=document.createElementNS("http://www.w3.org/2000/svg","g")),f3.setAttribute("transform",e),(e=f3.transform.baseVal.consolidate())?(e=e.matrix,xS(e.a,e.b,e.c,e.d,e.e,e.f)):g3)}var f3,gYe=I(()=>{"use strict";pYe(),o(aZ,"parseCss"),o(sZ,"parseSvg")});function wS(e,t,r,n){function i(h){return h.length?h.pop()+" ":""}o(i,"pop");function a(h,d,p,f,g,m){if(h!==p||d!==f){var y=g.push("translate(",null,t,null,r);m.push({i:y-4,x:To(h,p)},{i:y-2,x:To(d,f)})}else(p||f)&&g.push("translate("+p+t+f+r)}o(a,"translate");function s(h,d,p,f){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),f.push({i:p.push(i(p)+"rotate(",null,n)-2,x:To(h,d)})):d&&p.push(i(p)+"rotate("+d+n)}o(s,"rotate");function l(h,d,p,f){h!==d?f.push({i:p.push(i(p)+"skewX(",null,n)-2,x:To(h,d)}):d&&p.push(i(p)+"skewX("+d+n)}o(l,"skewX");function u(h,d,p,f,g,m){if(h!==p||d!==f){var y=g.push(i(g)+"scale(",null,",",null,")");m.push({i:y-4,x:To(h,p)},{i:y-2,x:To(d,f)})}else(p!==1||f!==1)&&g.push(i(g)+"scale("+p+","+f+")")}return o(u,"scale"),function(h,d){var p=[],f=[];return h=e(h),d=e(d),a(h.translateX,h.translateY,d.translateX,d.translateY,p,f),s(h.rotate,d.rotate,p,f),l(h.skewX,d.skewX,p,f),u(h.scaleX,h.scaleY,d.scaleX,d.scaleY,p,f),h=d=null,function(g){for(var m=-1,y=f.length,b;++m<y;)p[(b=f[m]).i]=b.x(g);return p.join("")}}}var oZ,lZ,fYe=I(()=>{"use strict";u3(),gYe(),o(wS,"interpolateTransform"),oZ=wS(aZ,"px, ","px)","deg)"),lZ=wS(sZ,", ",")",")")});function TS(e){return function(t,r){var n=e((t=c3(t)).h,(r=c3(r)).h),i=Vd(t.c,r.c),a=Vd(t.l,r.l),s=Vd(t.opacity,r.opacity);return function(l){return t.h=n(l),t.c=i(l),t.l=a(l),t.opacity=s(l),t+""}}}var cZ,mYe,yYe=I(()=>{"use strict";iy(),VK(),o(TS,"hcl"),cZ=TS(HK),mYe=TS(Vd)}),oy=I(()=>{"use strict";bS(),u3(),dYe(),nZ(),fYe(),XK(),yYe()});function m3(){return hh||(SS(uZ),hh=h1.now()+hy)}function uZ(){hh=0}function ly(){this._call=this._time=this._next=null}function ES(e,t,r){var n=new ly;return n.restart(e,t,r),n}function hZ(){m3(),++Xd;for(var e=v3,t;e;)(t=hh-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xd}function _S(){hh=(uy=h1.now())+hy,Xd=c1=0;try{hZ()}finally{Xd=0,pZ(),hh=0}}function dZ(){var e=h1.now(),t=e-uy;t>CS&&(hy-=t,uy=e)}function pZ(){for(var e,t=v3,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:v3=r);cy=e,y3(n)}function y3(e){if(!Xd){c1&&(c1=clearTimeout(c1));var t=e-hh;t>24?(e<1/0&&(c1=setTimeout(_S,e-h1.now()-hy)),u1&&(u1=clearInterval(u1))):(u1||(uy=h1.now(),u1=setInterval(dZ,CS)),Xd=1,SS(_S))}}var Xd,c1,u1,CS,v3,cy,uy,hh,hy,h1,SS,gZ=I(()=>{"use strict";Xd=0,c1=0,u1=0,CS=1e3,uy=0,hh=0,hy=0,h1=typeof performance=="object"&&performance.now?performance:Date,SS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)},o(m3,"now"),o(uZ,"clearNow"),o(ly,"Timer"),ly.prototype=ES.prototype={constructor:ly,restart:o(function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?m3():+r)+(t==null?0:+t),!this._next&&cy!==this&&(cy?cy._next=this:v3=this,cy=this),this._call=e,this._time=r,y3()},"restart"),stop:o(function(){this._call&&(this._call=null,this._time=1/0,y3())},"stop")},o(ES,"timer"),o(hZ,"timerFlush"),o(_S,"wake"),o(dZ,"poke"),o(pZ,"nap"),o(y3,"sleep")});function AS(e,t,r){var n=new ly;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var vYe=I(()=>{"use strict";gZ(),o(AS,"default")}),LS=I(()=>{"use strict";gZ(),vYe()});function dy(e,t,r,n,i,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;fZ(e,r,{name:t,index:n,group:i,on:mZ,tween:yZ,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:NS})}function b3(e,t){var r=Eo(e,t);if(r.state>NS)throw new Error("too late; already scheduled");return r}function cl(e,t){var r=Eo(e,t);if(r.state>py)throw new Error("too late; already running");return r}function Eo(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function fZ(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=ES(a,0,r.time);function a(h){r.state=IS,r.timer.restart(s,r.delay,r.time),r.delay<=h&&s(h-r.delay)}o(a,"schedule");function s(h){var d,p,f,g;if(r.state!==IS)return u();for(d in n)if(g=n[d],g.name===r.name){if(g.state===py)return AS(s);g.state===MS?(g.state=gy,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete n[d]):+d<t&&(g.state=gy,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete n[d])}if(AS(function(){r.state===py&&(r.state=MS,r.timer.restart(l,r.delay,r.time),l(h))}),r.state=x3,r.on.call("start",e,e.__data__,r.index,r.group),r.state===x3){for(r.state=py,i=new Array(f=r.tween.length),d=0,p=-1;d<f;++d)(g=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(i[++p]=g);i.length=p+1}}o(s,"start");function l(h){for(var d=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(u),r.state=k3,1),p=-1,f=i.length;++p<f;)i[p].call(e,d);r.state===k3&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}o(l,"tick");function u(){r.state=gy,r.timer.stop(),delete n[t];for(var h in n)return;delete e.__transition}o(u,"stop")}var mZ,yZ,NS,IS,x3,py,MS,k3,gy,Ws=I(()=>{"use strict";BV(),LS(),mZ=PV("start","end","cancel","interrupt"),yZ=[],NS=0,IS=1,x3=2,py=3,MS=4,k3=5,gy=6,o(dy,"default"),o(b3,"init"),o(cl,"set"),o(Eo,"get"),o(fZ,"create")});function vZ(e,t){var r=e.__transition,n,i,a=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){a=!1;continue}i=n.state>x3&&n.state<k3,n.state=gy,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}a&&delete e.__transition}}var bYe=I(()=>{"use strict";Ws(),o(vZ,"default")});function bZ(e){return this.each(function(){vZ(this,e)})}var xYe=I(()=>{"use strict";bYe(),o(bZ,"default")});function xZ(e,t){var r,n;return function(){var i=cl(this,e),a=i.tween;if(a!==r){n=r=a;for(var s=0,l=n.length;s<l;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function kZ(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=cl(this,e),s=a.tween;if(s!==n){i=(n=s).slice();for(var l={name:t,value:r},u=0,h=i.length;u<h;++u)if(i[u].name===t){i[u]=l;break}u===h&&i.push(l)}a.tween=i}}function wZ(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Eo(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===e)return s.value;return null}return this.each((t==null?xZ:kZ)(r,e,t))}function w3(e,t,r){var n=e._id;return e.each(function(){var i=cl(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Eo(i,n).value[t]}}var T3=I(()=>{"use strict";Ws(),o(xZ,"tweenRemove"),o(kZ,"tweenFunction"),o(wZ,"default"),o(w3,"tweenValue")});function DS(e,t){var r;return(typeof t=="number"?To:t instanceof lh?sy:(r=lh(t))?(t=r,sy):vS)(e,t)}var TZ=I(()=>{"use strict";iy(),oy(),o(DS,"default")});function EZ(e){return function(){this.removeAttribute(e)}}function _Z(e){return function(){this.removeAttributeNS(e.space,e.local)}}function CZ(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===n?a:a=t(n=s,r)}}function SZ(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===n?a:a=t(n=s,r)}}function AZ(e,t,r){var n,i,a;return function(){var s,l=r(this),u;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=l+"",s===u?null:s===n&&u===i?a:(i=u,a=t(n=s,l)))}}function LZ(e,t,r){var n,i,a;return function(){var s,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=l+"",s===u?null:s===n&&u===i?a:(i=u,a=t(n=s,l)))}}function NZ(e,t){var r=Xm(e),n=r==="transform"?lZ:DS;return this.attrTween(e,typeof t=="function"?(r.local?LZ:AZ)(r,n,w3(this,"attr."+e,t)):t==null?(r.local?_Z:EZ)(r):(r.local?SZ:CZ)(r,n,t))}var kYe=I(()=>{"use strict";oy(),Kl(),T3(),TZ(),o(EZ,"attrRemove"),o(_Z,"attrRemoveNS"),o(CZ,"attrConstant"),o(SZ,"attrConstantNS"),o(AZ,"attrFunction"),o(LZ,"attrFunctionNS"),o(NZ,"default")});function IZ(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function MZ(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function DZ(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&MZ(e,a)),r}return o(i,"tween"),i._value=t,i}function RZ(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&IZ(e,a)),r}return o(i,"tween"),i._value=t,i}function OZ(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Xm(e);return this.tween(r,(n.local?DZ:RZ)(n,t))}var wYe=I(()=>{"use strict";Kl(),o(IZ,"attrInterpolate"),o(MZ,"attrInterpolateNS"),o(DZ,"attrTweenNS"),o(RZ,"attrTween"),o(OZ,"default")});function PZ(e,t){return function(){b3(this,e).delay=+t.apply(this,arguments)}}function BZ(e,t){return t=+t,function(){b3(this,e).delay=t}}function $Z(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PZ:BZ)(t,e)):Eo(this.node(),t).delay}var TYe=I(()=>{"use strict";Ws(),o(PZ,"delayFunction"),o(BZ,"delayConstant"),o($Z,"default")});function FZ(e,t){return function(){cl(this,e).duration=+t.apply(this,arguments)}}function zZ(e,t){return t=+t,function(){cl(this,e).duration=t}}function GZ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?FZ:zZ)(t,e)):Eo(this.node(),t).duration}var EYe=I(()=>{"use strict";Ws(),o(FZ,"durationFunction"),o(zZ,"durationConstant"),o(GZ,"default")});function qZ(e,t){if(typeof t!="function")throw new Error;return function(){cl(this,e).ease=t}}function jZ(e){var t=this._id;return arguments.length?this.each(qZ(t,e)):Eo(this.node(),t).ease}var _Ye=I(()=>{"use strict";Ws(),o(qZ,"easeConstant"),o(jZ,"default")});function YZ(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;cl(this,e).ease=r}}function UZ(e){if(typeof e!="function")throw new Error;return this.each(YZ(this._id,e))}var CYe=I(()=>{"use strict";Ws(),o(YZ,"easeVarying"),o(UZ,"default")});function HZ(e){typeof e!="function"&&(e=GC(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=n[i]=[],u,h=0;h<s;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&l.push(u);return new Ql(n,this._parents,this._name,this._id)}var SYe=I(()=>{"use strict";Kl(),d1(),o(HZ,"default")});function WZ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),s=new Array(n),l=0;l<a;++l)for(var u=t[l],h=r[l],d=u.length,p=s[l]=new Array(d),f,g=0;g<d;++g)(f=u[g]||h[g])&&(p[g]=f);for(;l<n;++l)s[l]=t[l];return new Ql(s,this._parents,this._name,this._id)}var AYe=I(()=>{"use strict";d1(),o(WZ,"default")});function VZ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function XZ(e,t,r){var n,i,a=VZ(t)?b3:cl;return function(){var s=a(this,e),l=s.on;l!==n&&(i=(n=l).copy()).on(t,r),s.on=i}}function KZ(e,t){var r=this._id;return arguments.length<2?Eo(this.node(),r).on.on(e):this.each(XZ(r,e,t))}var LYe=I(()=>{"use strict";Ws(),o(VZ,"start"),o(XZ,"onFunction"),o(KZ,"default")});function ZZ(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function QZ(){return this.on("end.remove",ZZ(this._id))}var NYe=I(()=>{"use strict";o(ZZ,"removeFunction"),o(QZ,"default")});function JZ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=t3(e));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var l=n[s],u=l.length,h=a[s]=new Array(u),d,p,f=0;f<u;++f)(d=l[f])&&(p=e.call(d,d.__data__,f,l))&&("__data__"in d&&(p.__data__=d.__data__),h[f]=p,dy(h[f],t,r,f,h,Eo(d,r)));return new Ql(a,this._parents,t,r)}var IYe=I(()=>{"use strict";Kl(),d1(),Ws(),o(JZ,"default")});function eQ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=zC(e));for(var n=this._groups,i=n.length,a=[],s=[],l=0;l<i;++l)for(var u=n[l],h=u.length,d,p=0;p<h;++p)if(d=u[p]){for(var f=e.call(d,d.__data__,p,u),g,m=Eo(d,r),y=0,b=f.length;y<b;++y)(g=f[y])&&dy(g,t,r,y,f,m);a.push(f),s.push(d)}return new Ql(a,s,t,r)}var MYe=I(()=>{"use strict";Kl(),d1(),Ws(),o(eQ,"default")});function tQ(){return new rQ(this._groups,this._parents)}var rQ,DYe=I(()=>{"use strict";Kl(),rQ=a1.prototype.constructor,o(tQ,"default")});function nQ(e,t){var r,n,i;return function(){var a=Ud(this,e),s=(this.style.removeProperty(e),Ud(this,e));return a===s?null:a===r&&s===n?i:i=t(r=a,n=s)}}function RS(e){return function(){this.style.removeProperty(e)}}function iQ(e,t,r){var n,i=r+"",a;return function(){var s=Ud(this,e);return s===i?null:s===n?a:a=t(n=s,r)}}function aQ(e,t,r){var n,i,a;return function(){var s=Ud(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Ud(this,e))),s===u?null:s===n&&u===i?a:(i=u,a=t(n=s,l))}}function sQ(e,t){var r,n,i,a="style."+t,s="end."+a,l;return function(){var u=cl(this,e),h=u.on,d=u.value[a]==null?l||(l=RS(t)):void 0;(h!==r||i!==d)&&(n=(r=h).copy()).on(s,i=d),u.on=n}}function oQ(e,t,r){var n=(e+="")=="transform"?oZ:DS;return t==null?this.styleTween(e,nQ(e,n)).on("end.style."+e,RS(e)):typeof t=="function"?this.styleTween(e,aQ(e,n,w3(this,"style."+e,t))).each(sQ(this._id,e)):this.styleTween(e,iQ(e,n,t),r).on("end.style."+e,null)}var RYe=I(()=>{"use strict";oy(),Kl(),Ws(),T3(),TZ(),o(nQ,"styleNull"),o(RS,"styleRemove"),o(iQ,"styleConstant"),o(aQ,"styleFunction"),o(sQ,"styleMaybeRemove"),o(oQ,"default")});function lQ(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function cQ(e,t,r){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&lQ(e,s,r)),n}return o(a,"tween"),a._value=t,a}function uQ(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,cQ(e,t,r??""))}var OYe=I(()=>{"use strict";o(lQ,"styleInterpolate"),o(cQ,"styleTween"),o(uQ,"default")});function hQ(e){return function(){this.textContent=e}}function dQ(e){return function(){var t=e(this);this.textContent=t??""}}function pQ(e){return this.tween("text",typeof e=="function"?dQ(w3(this,"text",e)):hQ(e==null?"":e+""))}var PYe=I(()=>{"use strict";T3(),o(hQ,"textConstant"),o(dQ,"textFunction"),o(pQ,"default")});function gQ(e){return function(t){this.textContent=e.call(this,t)}}function fQ(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&gQ(i)),t}return o(n,"tween"),n._value=e,n}function mQ(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fQ(e))}var BYe=I(()=>{"use strict";o(gQ,"textInterpolate"),o(fQ,"textTween"),o(mQ,"default")});function yQ(){for(var e=this._name,t=this._id,r=OS(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],l=s.length,u,h=0;h<l;++h)if(u=s[h]){var d=Eo(u,t);dy(u,e,r,h,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ql(n,this._parents,e,r)}var $Ye=I(()=>{"use strict";d1(),Ws(),o(yQ,"default")});function vQ(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var l={value:s},u={value:o(function(){--i===0&&a()},"value")};r.each(function(){var h=cl(this,n),d=h.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),h.on=t}),i===0&&a()})}var FYe=I(()=>{"use strict";Ws(),o(vQ,"default")});function Ql(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function bQ(e){return a1().transition(e)}function OS(){return++xQ}var xQ,Jl,d1=I(()=>{"use strict";Kl(),kYe(),wYe(),TYe(),EYe(),_Ye(),CYe(),SYe(),AYe(),LYe(),NYe(),IYe(),MYe(),DYe(),RYe(),OYe(),PYe(),BYe(),$Ye(),T3(),FYe(),xQ=0,o(Ql,"Transition"),o(bQ,"transition"),o(OS,"newId"),Jl=a1.prototype,Ql.prototype=bQ.prototype={constructor:Ql,select:JZ,selectAll:eQ,selectChild:Jl.selectChild,selectChildren:Jl.selectChildren,filter:HZ,merge:WZ,selection:tQ,transition:yQ,call:Jl.call,nodes:Jl.nodes,node:Jl.node,size:Jl.size,empty:Jl.empty,each:Jl.each,on:KZ,attr:NZ,attrTween:OZ,style:oQ,styleTween:uQ,text:pQ,textTween:mQ,remove:QZ,tween:wZ,delay:$Z,duration:GZ,ease:jZ,easeVarying:UZ,end:vQ,[Symbol.iterator]:Jl[Symbol.iterator]}});function kQ(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zYe=I(()=>{"use strict";o(kQ,"cubicInOut")}),wQ=I(()=>{"use strict";zYe()});function TQ(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function EQ(e){var t,r;e instanceof Ql?(t=e._id,e=e._name):(t=OS(),(r=_Q).time=m3(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],l=s.length,u,h=0;h<l;++h)(u=s[h])&&dy(u,e,t,h,s,r||TQ(u,t));return new Ql(n,this._parents,e,t)}var _Q,GYe=I(()=>{"use strict";d1(),Ws(),wQ(),LS(),_Q={time:null,delay:0,duration:250,ease:kQ},o(TQ,"inherit"),o(EQ,"default")}),qYe=I(()=>{"use strict";Kl(),xYe(),GYe(),a1.prototype.interrupt=bZ,a1.prototype.transition=EQ}),PS=I(()=>{"use strict";qYe()}),jYe=I(()=>{"use strict"}),YYe=I(()=>{"use strict"}),UYe=I(()=>{"use strict"});function BS(e){return[+e[0],+e[1]]}function CQ(e){return[BS(e[0]),BS(e[1])]}function E3(e){return{type:e}}var HYe,WYe,VYe,XYe,KYe,ZYe,QYe=I(()=>{"use strict";PS(),jYe(),YYe(),UYe(),{abs:HYe,max:WYe,min:VYe}=Math,o(BS,"number1"),o(CQ,"number2"),XYe={name:"x",handles:["w","e"].map(E3),input:o(function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},"input"),output:o(function(e){return e&&[e[0][0],e[1][0]]},"output")},KYe={name:"y",handles:["n","s"].map(E3),input:o(function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},"input"),output:o(function(e){return e&&[e[0][1],e[1][1]]},"output")},ZYe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(E3),input:o(function(e){return e==null?null:CQ(e)},"input"),output:o(function(e){return e},"output")},o(E3,"type")}),JYe=I(()=>{"use strict";QYe()});function $S(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function SQ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $S;let r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}function AQ(){return new S3}var _3,C3,dh,LQ,S3,eUe=I(()=>{"use strict";_3=Math.PI,C3=2*_3,dh=1e-6,LQ=C3-dh,o($S,"append"),o(SQ,"appendRound"),S3=class{static{o(this,"Path")}constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$S:SQ(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,i,a){this._append`C${+e},${+t},${+r},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,r,n,i){if(e=+e,t=+t,r=+r,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,l=r-e,u=n-t,h=a-e,d=s-t,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(p>dh)if(!(Math.abs(d*l-u*h)>dh)||!i)this._append`L${this._x1=e},${this._y1=t}`;else{let f=r-a,g=n-s,m=l*l+u*u,y=f*f+g*g,b=Math.sqrt(m),v=Math.sqrt(p),x=i*Math.tan((_3-Math.acos((m+p-y)/(2*b*v)))/2),k=x/v,w=x/b;Math.abs(k-1)>dh&&this._append`L${e+k*h},${t+k*d}`,this._append`A${i},${i},0,0,${+(d*f>h*g)},${this._x1=e+w*l},${this._y1=t+w*u}`}}arc(e,t,r,n,i,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(n),l=r*Math.sin(n),u=e+s,h=t+l,d=1^a,p=a?n-i:i-n;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>dh||Math.abs(this._y1-h)>dh)&&this._append`L${u},${h}`,r&&(p<0&&(p=p%C3+C3),p>LQ?this._append`A${r},${r},0,1,${d},${e-s},${t-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=h}`:p>dh&&this._append`A${r},${r},0,${+(p>=_3)},${d},${this._x1=e+r*Math.cos(i)},${this._y1=t+r*Math.sin(i)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}},o(AQ,"path"),AQ.prototype=S3.prototype}),NQ=I(()=>{"use strict";eUe()}),tUe=I(()=>{"use strict"}),rUe=I(()=>{"use strict"}),nUe=I(()=>{"use strict"}),iUe=I(()=>{"use strict"}),aUe=I(()=>{"use strict"}),sUe=I(()=>{"use strict"}),oUe=I(()=>{"use strict"});function IQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var A3=I(()=>{"use strict";o(IQ,"default"),o(fy,"formatDecimalParts")});function Kd(e){return e=fy(Math.abs(e)),e?e[1]:NaN}var L3=I(()=>{"use strict";A3(),o(Kd,"default")});function MQ(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),a.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}var lUe=I(()=>{"use strict";o(MQ,"default")});function DQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cUe=I(()=>{"use strict";o(DQ,"default")});function my(e){if(!(t=RQ.exec(e)))throw new Error("invalid format: "+e);var t;return new N3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function N3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var RQ,OQ=I(()=>{"use strict";RQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,o(my,"formatSpecifier"),my.prototype=N3.prototype,o(N3,"FormatSpecifier"),N3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function PQ(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var uUe=I(()=>{"use strict";o(PQ,"default")});function BQ(e,t){var r=fy(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-($Q=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fy(e,Math.max(0,t+a-1))[0]}var $Q,FQ=I(()=>{"use strict";A3(),o(BQ,"default")});function FS(e,t){var r=fy(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var hUe=I(()=>{"use strict";A3(),o(FS,"default")}),zS,dUe=I(()=>{"use strict";A3(),FQ(),hUe(),zS={"%":o((e,t)=>(e*100).toFixed(t),"%"),b:o(e=>Math.round(e).toString(2),"b"),c:o(e=>e+"","c"),d:IQ,e:o((e,t)=>e.toExponential(t),"e"),f:o((e,t)=>e.toFixed(t),"f"),g:o((e,t)=>e.toPrecision(t),"g"),o:o(e=>Math.round(e).toString(8),"o"),p:o((e,t)=>FS(e*100,t),"p"),r:FS,s:BQ,X:o(e=>Math.round(e).toString(16).toUpperCase(),"X"),x:o(e=>Math.round(e).toString(16),"x")}});function GS(e){return e}var pUe=I(()=>{"use strict";o(GS,"default")});function zQ(e){var t=e.grouping===void 0||e.thousands===void 0?GS:MQ(qS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?GS:DQ(qS.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p){p=my(p);var f=p.fill,g=p.align,m=p.sign,y=p.symbol,b=p.zero,v=p.width,x=p.comma,k=p.precision,w=p.trim,_=p.type;_==="n"?(x=!0,_="g"):zS[_]||(k===void 0&&(k=12),w=!0,_="g"),(b||f==="0"&&g==="=")&&(b=!0,f="0",g="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",C=y==="$"?n:/[%p]/.test(_)?s:"",T=zS[_],N=/[defgprs%]/.test(_);k=k===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function D(M){var L=S,B=C,E,R,O;if(_==="c")B=T(M)+B,M="";else{M=+M;var P=M<0||1/M<0;if(M=isNaN(M)?u:T(Math.abs(M),k),w&&(M=PQ(M)),P&&+M==0&&m!=="+"&&(P=!1),L=(P?m==="("?m:l:m==="-"||m==="("?"":m)+L,B=(_==="s"?jS[8+$Q/3]:"")+B+(P&&m==="("?")":""),N){for(E=-1,R=M.length;++E<R;)if(O=M.charCodeAt(E),48>O||O>57){B=(O===46?i+M.slice(E+1):M.slice(E))+B,M=M.slice(0,E);break}}}x&&!b&&(M=t(M,1/0));var A=L.length+M.length+B.length,$=A<v?new Array(v-A+1).join(f):"";switch(x&&b&&(M=t($+M,$.length?v-B.length:1/0),$=""),g){case"<":M=L+M+B+$;break;case"=":M=L+$+M+B;break;case"^":M=$.slice(0,A=$.length>>1)+L+M+B+$.slice(A);break;default:M=$+L+M+B;break}return a(M)}return o(D,"format"),D.toString=function(){return p+""},D}o(h,"newFormat");function d(p,f){var g=h((p=my(p),p.type="f",p)),m=Math.max(-8,Math.min(8,Math.floor(Kd(f)/3)))*3,y=Math.pow(10,-m),b=jS[8+m/3];return function(v){return g(y*v)+b}}return o(d,"formatPrefix"),{format:h,formatPrefix:d}}var qS,jS,gUe=I(()=>{"use strict";L3(),lUe(),cUe(),OQ(),uUe(),dUe(),FQ(),pUe(),qS=Array.prototype.map,jS=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],o(zQ,"default")});function GQ(e){return I3=zQ(e),qQ=I3.format,jQ=I3.formatPrefix,I3}var I3,qQ,jQ,fUe=I(()=>{"use strict";gUe(),GQ({thousands:",",grouping:[3],currency:["$",""]}),o(GQ,"defaultLocale")});function YQ(e){return Math.max(0,-Kd(Math.abs(e)))}var mUe=I(()=>{"use strict";L3(),o(YQ,"default")});function UQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kd(t)/3)))*3-Kd(Math.abs(e)))}var yUe=I(()=>{"use strict";L3(),o(UQ,"default")});function HQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kd(t)-Kd(e))+1}var vUe=I(()=>{"use strict";L3(),o(HQ,"default")}),WQ=I(()=>{"use strict";fUe(),OQ(),mUe(),yUe(),vUe()}),bUe=I(()=>{"use strict"}),xUe=I(()=>{"use strict"}),kUe=I(()=>{"use strict"}),wUe=I(()=>{"use strict"});function yy(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var M3=I(()=>{"use strict";o(yy,"initRange")});function vy(){var e=new IC,t=[],r=[],n=YS;function i(a){let s=e.get(a);if(s===void 0){if(n!==YS)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return o(i,"scale"),i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new IC;for(let s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return vy(t,r).unknown(n)},yy.apply(i,arguments),i}var YS,VQ=I(()=>{"use strict";Yd(),M3(),YS=Symbol("implicit"),o(vy,"ordinal")});function D3(){var e=vy().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,u=0,h=0,d=.5;delete e.unknown;function p(){var f=t().length,g=i<n,m=g?i:n,y=g?n:i;a=(y-m)/Math.max(1,f-u+h*2),l&&(a=Math.floor(a)),m+=(y-m-a*(f-u))*d,s=a*(1-u),l&&(m=Math.round(m),s=Math.round(s));var b=EV(f).map(function(v){return m+a*v});return r(g?b.reverse():b)}return o(p,"rescale"),e.domain=function(f){return arguments.length?(t(f),p()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,p()):l},e.padding=function(f){return arguments.length?(u=Math.min(1,h=+f),p()):u},e.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),p()):u},e.paddingOuter=function(f){return arguments.length?(h=+f,p()):h},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),p()):d},e.copy=function(){return D3(t(),[n,i]).round(l).paddingInner(u).paddingOuter(h).align(d)},yy.apply(p(),arguments)}var TUe=I(()=>{"use strict";Yd(),M3(),VQ(),o(D3,"band")});function XQ(e){return function(){return e}}var EUe=I(()=>{"use strict";o(XQ,"constants")});function KQ(e){return+e}var _Ue=I(()=>{"use strict";o(KQ,"number")});function Zd(e){return e}function R3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:XQ(isNaN(t)?NaN:.5)}function ZQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QQ(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=R3(i,n),a=r(s,a)):(n=R3(n,i),a=r(a,s)),function(l){return a(n(l))}}function JQ(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=R3(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var u=gV(e,l,1,n)-1;return a[u](i[u](l))}}function US(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eJ(){var e=WS,t=WS,r=p3,n,i,a,s=Zd,l,u,h;function d(){var f=Math.min(e.length,t.length);return s!==Zd&&(s=ZQ(e[0],e[f-1])),l=f>2?JQ:QQ,u=h=null,p}o(d,"rescale");function p(f){return f==null||isNaN(f=+f)?a:(u||(u=l(e.map(n),t,r)))(n(s(f)))}return o(p,"scale"),p.invert=function(f){return s(i((h||(h=l(t,e.map(n),To)))(f)))},p.domain=function(f){return arguments.length?(e=Array.from(f,KQ),d()):e.slice()},p.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},p.rangeRound=function(f){return t=Array.from(f),r=iZ,d()},p.clamp=function(f){return arguments.length?(s=f?!0:Zd,d()):s!==Zd},p.interpolate=function(f){return arguments.length?(r=f,d()):r},p.unknown=function(f){return arguments.length?(a=f,p):a},function(f,g){return n=f,i=g,d()}}function HS(){return eJ()(Zd,Zd)}var WS,tJ=I(()=>{"use strict";Yd(),oy(),EUe(),_Ue(),WS=[0,1],o(Zd,"identity"),o(R3,"normalize"),o(ZQ,"clamper"),o(QQ,"bimap"),o(JQ,"polymap"),o(US,"copy"),o(eJ,"transformer"),o(HS,"continuous")});function rJ(e,t,r,n){var i=Z4(e,t,r),a;switch(n=my(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=UQ(i,s))&&(n.precision=a),jQ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=HQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=YQ(i))&&(n.precision=a-(n.type==="%")*2);break}}return qQ(n)}var CUe=I(()=>{"use strict";Yd(),WQ(),o(rJ,"tickFormat")});function nJ(e){var t=e.domain;return e.ticks=function(r){var n=t();return vV(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return rJ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],u,h,d=10;for(l<s&&(h=s,s=l,l=h,h=i,i=a,a=h);d-- >0;){if(h=K4(s,l,r),h===u)return n[i]=s,n[a]=l,t(n);if(h>0)s=Math.floor(s/h)*h,l=Math.ceil(l/h)*h;else if(h<0)s=Math.ceil(s*h)/h,l=Math.floor(l*h)/h;else break;u=h}return e},e}function Qd(){var e=HS();return e.copy=function(){return US(e,Qd())},yy.apply(e,arguments),nJ(e)}var SUe=I(()=>{"use strict";Yd(),tJ(),M3(),CUe(),o(nJ,"linearish"),o(Qd,"linear")});function iJ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}var AUe=I(()=>{"use strict";o(iJ,"nice")});function Ai(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o(i,"interval"),i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{let s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{let u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let h;do u.push(h=new Date(+a)),t(a,l),e(a);while(h<a&&a<s);return u},i.filter=a=>Ai(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(O3.setTime(+a),P3.setTime(+s),e(O3),e(P3),Math.floor(r(O3,P3))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}var O3,P3,ph=I(()=>{"use strict";O3=new Date,P3=new Date,o(Ai,"timeInterval")}),Jd,LUe,aJ=I(()=>{"use strict";ph(),Jd=Ai(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e),Jd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ai(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jd),LUe=Jd.range}),Hc,NUe,sJ=I(()=>{"use strict";ph(),Hc=Ai(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),NUe=Hc.range}),p1,IUe,VS,MUe,oJ=I(()=>{"use strict";ph(),p1=Ai(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),IUe=p1.range,VS=Ai(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),MUe=VS.range}),g1,DUe,XS,RUe,lJ=I(()=>{"use strict";ph(),g1=Ai(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),DUe=g1.range,XS=Ai(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),RUe=XS.range}),gh,OUe,B3,PUe,KS,BUe,cJ=I(()=>{"use strict";ph(),gh=Ai(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),OUe=gh.range,B3=Ai(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),PUe=B3.range,KS=Ai(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),BUe=KS.range});function fh(e){return Ai(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function mh(e){return Ai(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var f1,m1,ZS,QS,yh,JS,eA,$Ue,FUe,zUe,GUe,qUe,jUe,YUe,$3,by,uJ,hJ,e0,dJ,pJ,UUe,HUe,WUe,VUe,XUe,KUe,ZUe,gJ=I(()=>{"use strict";ph(),o(fh,"timeWeekday"),f1=fh(0),m1=fh(1),ZS=fh(2),QS=fh(3),yh=fh(4),JS=fh(5),eA=fh(6),$Ue=f1.range,FUe=m1.range,zUe=ZS.range,GUe=QS.range,qUe=yh.range,jUe=JS.range,YUe=eA.range,o(mh,"utcWeekday"),$3=mh(0),by=mh(1),uJ=mh(2),hJ=mh(3),e0=mh(4),dJ=mh(5),pJ=mh(6),UUe=$3.range,HUe=by.range,WUe=uJ.range,VUe=hJ.range,XUe=e0.range,KUe=dJ.range,ZUe=pJ.range}),y1,QUe,tA,JUe,fJ=I(()=>{"use strict";ph(),y1=Ai(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),QUe=y1.range,tA=Ai(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),JUe=tA.range}),ec,eHe,Wc,tHe,mJ=I(()=>{"use strict";ph(),ec=Ai(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()),ec.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ai(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),eHe=ec.range,Wc=Ai(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear()),Wc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ai(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),tHe=Wc.range});function rA(e,t,r,n,i,a){let s=[[Hc,1,1e3],[Hc,5,5e3],[Hc,15,15e3],[Hc,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,864e5],[n,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function l(h,d,p){let f=d<h;f&&([h,d]=[d,h]);let g=p&&typeof p.range=="function"?p:u(h,d,p),m=g?g.range(h,+d+1):[];return f?m.reverse():m}o(l,"ticks");function u(h,d,p){let f=Math.abs(d-h)/p,g=X4(([,,b])=>b).right(s,f);if(g===s.length)return e.every(Z4(h/31536e6,d/31536e6,p));if(g===0)return Jd.every(Math.max(Z4(h,d,p),1));let[m,y]=s[f/s[g-1][2]<s[g][2]/f?g-1:g];return m.every(y)}return o(u,"tickInterval"),[l,u]}var rHe,nHe,yJ,vJ,iHe=I(()=>{"use strict";Yd(),aJ(),sJ(),oJ(),lJ(),cJ(),gJ(),fJ(),mJ(),o(rA,"ticker"),[rHe,nHe]=rA(Wc,tA,$3,KS,XS,VS),[yJ,vJ]=rA(ec,y1,f1,gh,g1,p1)}),nA=I(()=>{"use strict";aJ(),sJ(),oJ(),lJ(),cJ(),gJ(),fJ(),mJ(),iHe()});function F3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function z3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function v1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function bJ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,h=b1(i),d=x1(i),p=b1(a),f=x1(a),g=b1(s),m=x1(s),y=b1(l),b=x1(l),v=b1(u),x=x1(u),k={a:P,A,b:$,B:F,c:null,d:lA,e:lA,f:zJ,g:KJ,G:QJ,H:BJ,I:$J,j:FJ,L:cA,m:GJ,M:qJ,p:G,q,Q:fA,s:mA,S:jJ,u:YJ,U:UJ,V:HJ,w:WJ,W:VJ,x:null,X:null,y:XJ,Y:ZJ,Z:JJ,"%":gA},w={a:W,A:re,b:oe,B:te,c:null,d:hA,e:hA,f:nee,g:pee,G:fee,H:eee,I:tee,j:ree,L:dA,m:iee,M:aee,p:se,q:Y,Q:fA,s:mA,S:see,u:oee,U:lee,V:cee,w:uee,W:hee,x:null,X:null,y:dee,Y:gee,Z:mee,"%":gA},_={a:D,A:M,b:L,B,c:E,d:sA,e:sA,f:DJ,g:aA,G:iA,H:oA,I:oA,j:LJ,L:MJ,m:AJ,M:NJ,p:N,q:SJ,Q:OJ,s:PJ,S:IJ,u:wJ,U:TJ,V:EJ,w:kJ,W:_J,x:R,X:O,y:aA,Y:iA,Z:CJ,"%":RJ};k.x=S(r,k),k.X=S(n,k),k.c=S(t,k),w.x=S(r,w),w.X=S(n,w),w.c=S(t,w);function S(V,U){return function(ne){var K=[],fe=-1,Q=0,Te=V.length,ie,Me,Le;for(ne instanceof Date||(ne=new Date(+ne));++fe<Te;)V.charCodeAt(fe)===37&&(K.push(V.slice(Q,fe)),(Me=yA[ie=V.charAt(++fe)])!=null?ie=V.charAt(++fe):Me=ie==="e"?" ":"0",(Le=U[ie])&&(ie=Le(ne,Me)),K.push(ie),Q=fe+1);return K.push(V.slice(Q,fe)),K.join("")}}o(S,"newFormat");function C(V,U){return function(ne){var K=v1(1900,void 0,1),fe=T(K,V,ne+="",0),Q,Te;if(fe!=ne.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(U&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Q=z3(v1(K.y,0,1)),Te=Q.getUTCDay(),Q=Te>4||Te===0?by.ceil(Q):by(Q),Q=B3.offset(Q,(K.V-1)*7),K.y=Q.getUTCFullYear(),K.m=Q.getUTCMonth(),K.d=Q.getUTCDate()+(K.w+6)%7):(Q=F3(v1(K.y,0,1)),Te=Q.getDay(),Q=Te>4||Te===0?m1.ceil(Q):m1(Q),Q=gh.offset(Q,(K.V-1)*7),K.y=Q.getFullYear(),K.m=Q.getMonth(),K.d=Q.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Te="Z"in K?z3(v1(K.y,0,1)).getUTCDay():F3(v1(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Te+5)%7:K.w+K.U*7-(Te+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,z3(K)):F3(K)}}o(C,"newParse");function T(V,U,ne,K){for(var fe=0,Q=U.length,Te=ne.length,ie,Me;fe<Q;){if(K>=Te)return-1;if(ie=U.charCodeAt(fe++),ie===37){if(ie=U.charAt(fe++),Me=_[ie in yA?U.charAt(fe++):ie],!Me||(K=Me(V,ne,K))<0)return-1}else if(ie!=ne.charCodeAt(K++))return-1}return K}o(T,"parseSpecifier");function N(V,U,ne){var K=h.exec(U.slice(ne));return K?(V.p=d.get(K[0].toLowerCase()),ne+K[0].length):-1}o(N,"parsePeriod");function D(V,U,ne){var K=g.exec(U.slice(ne));return K?(V.w=m.get(K[0].toLowerCase()),ne+K[0].length):-1}o(D,"parseShortWeekday");function M(V,U,ne){var K=p.exec(U.slice(ne));return K?(V.w=f.get(K[0].toLowerCase()),ne+K[0].length):-1}o(M,"parseWeekday");function L(V,U,ne){var K=v.exec(U.slice(ne));return K?(V.m=x.get(K[0].toLowerCase()),ne+K[0].length):-1}o(L,"parseShortMonth");function B(V,U,ne){var K=y.exec(U.slice(ne));return K?(V.m=b.get(K[0].toLowerCase()),ne+K[0].length):-1}o(B,"parseMonth");function E(V,U,ne){return T(V,t,U,ne)}o(E,"parseLocaleDateTime");function R(V,U,ne){return T(V,r,U,ne)}o(R,"parseLocaleDate");function O(V,U,ne){return T(V,n,U,ne)}o(O,"parseLocaleTime");function P(V){return s[V.getDay()]}o(P,"formatShortWeekday");function A(V){return a[V.getDay()]}o(A,"formatWeekday");function $(V){return u[V.getMonth()]}o($,"formatShortMonth");function F(V){return l[V.getMonth()]}o(F,"formatMonth");function G(V){return i[+(V.getHours()>=12)]}o(G,"formatPeriod");function q(V){return 1+~~(V.getMonth()/3)}o(q,"formatQuarter");function W(V){return s[V.getUTCDay()]}o(W,"formatUTCShortWeekday");function re(V){return a[V.getUTCDay()]}o(re,"formatUTCWeekday");function oe(V){return u[V.getUTCMonth()]}o(oe,"formatUTCShortMonth");function te(V){return l[V.getUTCMonth()]}o(te,"formatUTCMonth");function se(V){return i[+(V.getUTCHours()>=12)]}o(se,"formatUTCPeriod");function Y(V){return 1+~~(V.getUTCMonth()/3)}return o(Y,"formatUTCQuarter"),{format:o(function(V){var U=S(V+="",k);return U.toString=function(){return V},U},"format"),parse:o(function(V){var U=C(V+="",!1);return U.toString=function(){return V},U},"parse"),utcFormat:o(function(V){var U=S(V+="",w);return U.toString=function(){return V},U},"utcFormat"),utcParse:o(function(V){var U=C(V+="",!0);return U.toString=function(){return V},U},"utcParse")}}function nn(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function xJ(e){return e.replace(vee,"\\$&")}function b1(e){return new RegExp("^(?:"+e.map(xJ).join("|")+")","i")}function x1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function kJ(e,t,r){var n=Wi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function wJ(e,t,r){var n=Wi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TJ(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function EJ(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _J(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function iA(e,t,r){var n=Wi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function aA(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function CJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SJ(e,t,r){var n=Wi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function AJ(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sA(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function LJ(e,t,r){var n=Wi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oA(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function NJ(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function IJ(e,t,r){var n=Wi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function MJ(e,t,r){var n=Wi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function DJ(e,t,r){var n=Wi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RJ(e,t,r){var n=yee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function OJ(e,t,r){var n=Wi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function PJ(e,t,r){var n=Wi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lA(e,t){return nn(e.getDate(),t,2)}function BJ(e,t){return nn(e.getHours(),t,2)}function $J(e,t){return nn(e.getHours()%12||12,t,2)}function FJ(e,t){return nn(1+gh.count(ec(e),e),t,3)}function cA(e,t){return nn(e.getMilliseconds(),t,3)}function zJ(e,t){return cA(e,t)+"000"}function GJ(e,t){return nn(e.getMonth()+1,t,2)}function qJ(e,t){return nn(e.getMinutes(),t,2)}function jJ(e,t){return nn(e.getSeconds(),t,2)}function YJ(e){var t=e.getDay();return t===0?7:t}function UJ(e,t){return nn(f1.count(ec(e)-1,e),t,2)}function uA(e){var t=e.getDay();return t>=4||t===0?yh(e):yh.ceil(e)}function HJ(e,t){return e=uA(e),nn(yh.count(ec(e),e)+(ec(e).getDay()===4),t,2)}function WJ(e){return e.getDay()}function VJ(e,t){return nn(m1.count(ec(e)-1,e),t,2)}function XJ(e,t){return nn(e.getFullYear()%100,t,2)}function KJ(e,t){return e=uA(e),nn(e.getFullYear()%100,t,2)}function ZJ(e,t){return nn(e.getFullYear()%1e4,t,4)}function QJ(e,t){var r=e.getDay();return e=r>=4||r===0?yh(e):yh.ceil(e),nn(e.getFullYear()%1e4,t,4)}function JJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nn(t/60|0,"0",2)+nn(t%60,"0",2)}function hA(e,t){return nn(e.getUTCDate(),t,2)}function eee(e,t){return nn(e.getUTCHours(),t,2)}function tee(e,t){return nn(e.getUTCHours()%12||12,t,2)}function ree(e,t){return nn(1+B3.count(Wc(e),e),t,3)}function dA(e,t){return nn(e.getUTCMilliseconds(),t,3)}function nee(e,t){return dA(e,t)+"000"}function iee(e,t){return nn(e.getUTCMonth()+1,t,2)}function aee(e,t){return nn(e.getUTCMinutes(),t,2)}function see(e,t){return nn(e.getUTCSeconds(),t,2)}function oee(e){var t=e.getUTCDay();return t===0?7:t}function lee(e,t){return nn($3.count(Wc(e)-1,e),t,2)}function pA(e){var t=e.getUTCDay();return t>=4||t===0?e0(e):e0.ceil(e)}function cee(e,t){return e=pA(e),nn(e0.count(Wc(e),e)+(Wc(e).getUTCDay()===4),t,2)}function uee(e){return e.getUTCDay()}function hee(e,t){return nn(by.count(Wc(e)-1,e),t,2)}function dee(e,t){return nn(e.getUTCFullYear()%100,t,2)}function pee(e,t){return e=pA(e),nn(e.getUTCFullYear()%100,t,2)}function gee(e,t){return nn(e.getUTCFullYear()%1e4,t,4)}function fee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?e0(e):e0.ceil(e),nn(e.getUTCFullYear()%1e4,t,4)}function mee(){return"+0000"}function gA(){return"%"}function fA(e){return+e}function mA(e){return Math.floor(+e/1e3)}var yA,Wi,yee,vee,aHe=I(()=>{"use strict";nA(),o(F3,"localDate"),o(z3,"utcDate"),o(v1,"newDate"),o(bJ,"formatLocale"),yA={"-":"",_:" ",0:"0"},Wi=/^\s*\d+/,yee=/^%/,vee=/[\\^$*+?|[\]().{}]/g,o(nn,"pad"),o(xJ,"requote"),o(b1,"formatRe"),o(x1,"formatLookup"),o(kJ,"parseWeekdayNumberSunday"),o(wJ,"parseWeekdayNumberMonday"),o(TJ,"parseWeekNumberSunday"),o(EJ,"parseWeekNumberISO"),o(_J,"parseWeekNumberMonday"),o(iA,"parseFullYear"),o(aA,"parseYear"),o(CJ,"parseZone"),o(SJ,"parseQuarter"),o(AJ,"parseMonthNumber"),o(sA,"parseDayOfMonth"),o(LJ,"parseDayOfYear"),o(oA,"parseHour24"),o(NJ,"parseMinutes"),o(IJ,"parseSeconds"),o(MJ,"parseMilliseconds"),o(DJ,"parseMicroseconds"),o(RJ,"parseLiteralPercent"),o(OJ,"parseUnixTimestamp"),o(PJ,"parseUnixTimestampSeconds"),o(lA,"formatDayOfMonth"),o(BJ,"formatHour24"),o($J,"formatHour12"),o(FJ,"formatDayOfYear"),o(cA,"formatMilliseconds"),o(zJ,"formatMicroseconds"),o(GJ,"formatMonthNumber"),o(qJ,"formatMinutes"),o(jJ,"formatSeconds"),o(YJ,"formatWeekdayNumberMonday"),o(UJ,"formatWeekNumberSunday"),o(uA,"dISO"),o(HJ,"formatWeekNumberISO"),o(WJ,"formatWeekdayNumberSunday"),o(VJ,"formatWeekNumberMonday"),o(XJ,"formatYear"),o(KJ,"formatYearISO"),o(ZJ,"formatFullYear"),o(QJ,"formatFullYearISO"),o(JJ,"formatZone"),o(hA,"formatUTCDayOfMonth"),o(eee,"formatUTCHour24"),o(tee,"formatUTCHour12"),o(ree,"formatUTCDayOfYear"),o(dA,"formatUTCMilliseconds"),o(nee,"formatUTCMicroseconds"),o(iee,"formatUTCMonthNumber"),o(aee,"formatUTCMinutes"),o(see,"formatUTCSeconds"),o(oee,"formatUTCWeekdayNumberMonday"),o(lee,"formatUTCWeekNumberSunday"),o(pA,"UTCdISO"),o(cee,"formatUTCWeekNumberISO"),o(uee,"formatUTCWeekdayNumberSunday"),o(hee,"formatUTCWeekNumberMonday"),o(dee,"formatUTCYear"),o(pee,"formatUTCYearISO"),o(gee,"formatUTCFullYear"),o(fee,"formatUTCFullYearISO"),o(mee,"formatUTCZone"),o(gA,"formatLiteralPercent"),o(fA,"formatUnixTimestamp"),o(mA,"formatUnixTimestampSeconds")});function bee(e){return k1=bJ(e),G3=k1.format,sHe=k1.parse,oHe=k1.utcFormat,lHe=k1.utcParse,k1}var k1,G3,sHe,oHe,lHe,cHe=I(()=>{"use strict";aHe(),bee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o(bee,"defaultLocale")}),xee=I(()=>{"use strict";cHe()});function kee(e){return new Date(e)}function wee(e){return e instanceof Date?+e:+new Date(+e)}function vA(e,t,r,n,i,a,s,l,u,h){var d=HS(),p=d.invert,f=d.domain,g=h(".%L"),m=h(":%S"),y=h("%I:%M"),b=h("%I %p"),v=h("%a %d"),x=h("%b %d"),k=h("%B"),w=h("%Y");function _(S){return(u(S)<S?g:l(S)<S?m:s(S)<S?y:a(S)<S?b:n(S)<S?i(S)<S?v:x:r(S)<S?k:w)(S)}return o(_,"tickFormat"),d.invert=function(S){return new Date(p(S))},d.domain=function(S){return arguments.length?f(Array.from(S,wee)):f().map(kee)},d.ticks=function(S){var C=f();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?_:h(C)},d.nice=function(S){var C=f();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?f(iJ(C,S)):d},d.copy=function(){return US(d,vA(e,t,r,n,i,a,s,l,u,h))},d}function Tee(){return yy.apply(vA(yJ,vJ,ec,y1,f1,gh,g1,p1,Hc,G3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var uHe=I(()=>{"use strict";nA(),xee(),tJ(),M3(),AUe(),o(kee,"date"),o(wee,"number"),o(vA,"calendar"),o(Tee,"time")}),hHe=I(()=>{"use strict";TUe(),SUe(),VQ(),uHe()});function Eee(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var dHe=I(()=>{"use strict";o(Eee,"default")}),_ee,pHe=I(()=>{"use strict";dHe(),_ee=Eee("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")}),gHe=I(()=>{"use strict";pHe()});function fi(e){return o(function(){return e},"constant")}var bA=I(()=>{"use strict";o(fi,"default")});function Cee(e){return e>1?0:e<-1?w1:Math.acos(e)}function xA(e){return e>=1?xy:e<=-1?-xy:Math.asin(e)}var kA,ka,vh,See,q3,ul,t0,wa,w1,xy,ky,wA=I(()=>{"use strict";kA=Math.abs,ka=Math.atan2,vh=Math.cos,See=Math.max,q3=Math.min,ul=Math.sin,t0=Math.sqrt,wa=1e-12,w1=Math.PI,xy=w1/2,ky=2*w1,o(Cee,"acos"),o(xA,"asin")});function TA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new S3(t)}var Aee=I(()=>{"use strict";NQ(),o(TA,"withPath")});function Lee(e){return e.innerRadius}function Nee(e){return e.outerRadius}function Iee(e){return e.startAngle}function Mee(e){return e.endAngle}function Dee(e){return e&&e.padAngle}function Ree(e,t,r,n,i,a,s,l){var u=r-e,h=n-t,d=s-i,p=l-a,f=p*u-d*h;if(!(f*f<wa))return f=(d*(t-a)-p*(e-i))/f,[e+f*u,t+f*h]}function wy(e,t,r,n,i,a,s){var l=e-r,u=t-n,h=(s?a:-a)/t0(l*l+u*u),d=h*u,p=-h*l,f=e+d,g=t+p,m=r+d,y=n+p,b=(f+m)/2,v=(g+y)/2,x=m-f,k=y-g,w=x*x+k*k,_=i-a,S=f*y-m*g,C=(k<0?-1:1)*t0(See(0,_*_*w-S*S)),T=(S*k-x*C)/w,N=(-S*x-k*C)/w,D=(S*k+x*C)/w,M=(-S*x+k*C)/w,L=T-b,B=N-v,E=D-b,R=M-v;return L*L+B*B>E*E+R*R&&(T=D,N=M),{cx:T,cy:N,x01:-d,y01:-p,x11:T*(i/_-1),y11:N*(i/_-1)}}function r0(){var e=Lee,t=Nee,r=fi(0),n=null,i=Iee,a=Mee,s=Dee,l=null,u=TA(h);function h(){var d,p,f=+e.apply(this,arguments),g=+t.apply(this,arguments),m=i.apply(this,arguments)-xy,y=a.apply(this,arguments)-xy,b=kA(y-m),v=y>m;if(l||(l=d=u()),g<f&&(p=g,g=f,f=p),!(g>wa))l.moveTo(0,0);else if(b>ky-wa)l.moveTo(g*vh(m),g*ul(m)),l.arc(0,0,g,m,y,!v),f>wa&&(l.moveTo(f*vh(y),f*ul(y)),l.arc(0,0,f,y,m,v));else{var x=m,k=y,w=m,_=y,S=b,C=b,T=s.apply(this,arguments)/2,N=T>wa&&(n?+n.apply(this,arguments):t0(f*f+g*g)),D=q3(kA(g-f)/2,+r.apply(this,arguments)),M=D,L=D,B,E;if(N>wa){var R=xA(N/f*ul(T)),O=xA(N/g*ul(T));(S-=R*2)>wa?(R*=v?1:-1,w+=R,_-=R):(S=0,w=_=(m+y)/2),(C-=O*2)>wa?(O*=v?1:-1,x+=O,k-=O):(C=0,x=k=(m+y)/2)}var P=g*vh(x),A=g*ul(x),$=f*vh(_),F=f*ul(_);if(D>wa){var G=g*vh(k),q=g*ul(k),W=f*vh(w),re=f*ul(w),oe;if(b<w1)if(oe=Ree(P,A,W,re,G,q,$,F)){var te=P-oe[0],se=A-oe[1],Y=G-oe[0],V=q-oe[1],U=1/ul(Cee((te*Y+se*V)/(t0(te*te+se*se)*t0(Y*Y+V*V)))/2),ne=t0(oe[0]*oe[0]+oe[1]*oe[1]);M=q3(D,(f-ne)/(U-1)),L=q3(D,(g-ne)/(U+1))}else M=L=0}C>wa?L>wa?(B=wy(W,re,P,A,g,L,v),E=wy(G,q,$,F,g,L,v),l.moveTo(B.cx+B.x01,B.cy+B.y01),L<D?l.arc(B.cx,B.cy,L,ka(B.y01,B.x01),ka(E.y01,E.x01),!v):(l.arc(B.cx,B.cy,L,ka(B.y01,B.x01),ka(B.y11,B.x11),!v),l.arc(0,0,g,ka(B.cy+B.y11,B.cx+B.x11),ka(E.cy+E.y11,E.cx+E.x11),!v),l.arc(E.cx,E.cy,L,ka(E.y11,E.x11),ka(E.y01,E.x01),!v))):(l.moveTo(P,A),l.arc(0,0,g,x,k,!v)):l.moveTo(P,A),!(f>wa)||!(S>wa)?l.lineTo($,F):M>wa?(B=wy($,F,G,q,f,-M,v),E=wy(P,A,W,re,f,-M,v),l.lineTo(B.cx+B.x01,B.cy+B.y01),M<D?l.arc(B.cx,B.cy,M,ka(B.y01,B.x01),ka(E.y01,E.x01),!v):(l.arc(B.cx,B.cy,M,ka(B.y01,B.x01),ka(B.y11,B.x11),!v),l.arc(0,0,f,ka(B.cy+B.y11,B.cx+B.x11),ka(E.cy+E.y11,E.cx+E.x11),v),l.arc(E.cx,E.cy,M,ka(E.y11,E.x11),ka(E.y01,E.x01),!v))):l.arc(0,0,f,_,w,v)}if(l.closePath(),d)return l=null,d+""||null}return o(h,"arc"),h.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-w1/2;return[vh(p)*d,ul(p)*d]},h.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:fi(+d),h):e},h.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:fi(+d),h):t},h.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:fi(+d),h):r},h.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:fi(+d),h):n},h.startAngle=function(d){return arguments.length?(i=typeof d=="function"?d:fi(+d),h):i},h.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:fi(+d),h):a},h.padAngle=function(d){return arguments.length?(s=typeof d=="function"?d:fi(+d),h):s},h.context=function(d){return arguments.length?(l=d??null,h):l},h}var fHe=I(()=>{"use strict";bA(),wA(),Aee(),o(Lee,"arcInnerRadius"),o(Nee,"arcOuterRadius"),o(Iee,"arcStartAngle"),o(Mee,"arcEndAngle"),o(Dee,"arcPadAngle"),o(Ree,"intersect"),o(wy,"cornerTangents"),o(r0,"default")});function EA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var mHe,Oee=I(()=>{"use strict";mHe=Array.prototype.slice,o(EA,"default")});function _A(e){this._context=e}function CA(e){return new _A(e)}var Pee=I(()=>{"use strict";o(_A,"Linear"),_A.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._point=0},"lineStart"),lineEnd:o(function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}},"point")},o(CA,"default")});function Bee(e){return e[0]}function $ee(e){return e[1]}var yHe=I(()=>{"use strict";o(Bee,"x"),o($ee,"y")});function bh(e,t){var r=fi(!0),n=null,i=CA,a=null,s=TA(l);e=typeof e=="function"?e:e===void 0?Bee:fi(e),t=typeof t=="function"?t:t===void 0?$ee:fi(t);function l(u){var h,d=(u=EA(u)).length,p,f=!1,g;for(n==null&&(a=i(g=s())),h=0;h<=d;++h)!(h<d&&r(p=u[h],h,u))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(p,h,u),+t(p,h,u));if(g)return a=null,g+""||null}return o(l,"line"),l.x=function(u){return arguments.length?(e=typeof u=="function"?u:fi(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:fi(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:fi(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),l):n},l}var vHe=I(()=>{"use strict";Oee(),bA(),Pee(),Aee(),yHe(),o(bh,"default")});function Fee(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var bHe=I(()=>{"use strict";o(Fee,"default")});function zee(e){return e}var xHe=I(()=>{"use strict";o(zee,"default")});function Gee(){var e=zee,t=Fee,r=null,n=fi(0),i=fi(ky),a=fi(0);function s(l){var u,h=(l=EA(l)).length,d,p,f=0,g=new Array(h),m=new Array(h),y=+n.apply(this,arguments),b=Math.min(ky,Math.max(-ky,i.apply(this,arguments)-y)),v,x=Math.min(Math.abs(b)/h,a.apply(this,arguments)),k=x*(b<0?-1:1),w;for(u=0;u<h;++u)(w=m[g[u]=u]=+e(l[u],u,l))>0&&(f+=w);for(t!=null?g.sort(function(_,S){return t(m[_],m[S])}):r!=null&&g.sort(function(_,S){return r(l[_],l[S])}),u=0,p=f?(b-h*k)/f:0;u<h;++u,y=v)d=g[u],w=m[d],v=y+(w>0?w*p:0)+k,m[d]={data:l[d],index:u,value:w,startAngle:y,endAngle:v,padAngle:x};return m}return o(s,"pie"),s.value=function(l){return arguments.length?(e=typeof l=="function"?l:fi(+l),s):e},s.sortValues=function(l){return arguments.length?(t=l,r=null,s):t},s.sort=function(l){return arguments.length?(r=l,t=null,s):r},s.startAngle=function(l){return arguments.length?(n=typeof l=="function"?l:fi(+l),s):n},s.endAngle=function(l){return arguments.length?(i=typeof l=="function"?l:fi(+l),s):i},s.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:fi(+l),s):a},s}var kHe=I(()=>{"use strict";Oee(),bA(),bHe(),xHe(),wA(),o(Gee,"default")});function qee(e){return new SA(e,!0)}function jee(e){return new SA(e,!1)}var SA,wHe=I(()=>{"use strict";SA=class{static{o(this,"Bump")}constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}},o(qee,"bumpX"),o(jee,"bumpY")});function Vc(){}var j3=I(()=>{"use strict";o(Vc,"default")});function Ty(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ey(e){this._context=e}function T1(e){return new Ey(e)}var Y3=I(()=>{"use strict";o(Ty,"point"),o(Ey,"Basis"),Ey.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 3:Ty(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ty(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},o(T1,"default")});function AA(e){this._context=e}function Yee(e){return new AA(e)}var THe=I(()=>{"use strict";j3(),Y3(),o(AA,"BasisClosed"),AA.prototype={areaStart:Vc,areaEnd:Vc,lineStart:o(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},o(Yee,"default")});function LA(e){this._context=e}function Uee(e){return new LA(e)}var EHe=I(()=>{"use strict";Y3(),o(LA,"BasisOpen"),LA.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:o(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},o(Uee,"default")});function NA(e,t){this._basis=new Ey(e),this._beta=t}var Hee,_He=I(()=>{"use strict";Y3(),o(NA,"Bundle"),NA.prototype={lineStart:o(function(){this._x=[],this._y=[],this._basis.lineStart()},"lineStart"),lineEnd:o(function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],a=e[r]-n,s=t[r]-i,l=-1,u;++l<=r;)u=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(n+u*a),this._beta*t[l]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},"lineEnd"),point:o(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},Hee=o(function e(t){function r(n){return t===1?new Ey(n):new NA(n,t)}return o(r,"bundle"),r.beta=function(n){return e(+n)},r},"custom")(.85)});function _y(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function U3(e,t){this._context=e,this._k=(1-t)/6}var Wee,H3=I(()=>{"use strict";o(_y,"point"),o(U3,"Cardinal"),U3.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:_y(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:_y(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Wee=o(function e(t){function r(n){return new U3(n,t)}return o(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function W3(e,t){this._context=e,this._k=(1-t)/6}var Vee,Xee=I(()=>{"use strict";j3(),H3(),o(W3,"CardinalClosed"),W3.prototype={areaStart:Vc,areaEnd:Vc,lineStart:o(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:_y(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Vee=o(function e(t){function r(n){return new W3(n,t)}return o(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function V3(e,t){this._context=e,this._k=(1-t)/6}var Kee,Zee=I(()=>{"use strict";H3(),o(V3,"CardinalOpen"),V3.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:o(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_y(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Kee=o(function e(t){function r(n){return new V3(n,t)}return o(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function X3(e,t,r){var n=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>wa){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>wa){var h=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*h+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*h+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(n,i,a,s,e._x2,e._y2)}function IA(e,t){this._context=e,this._alpha=t}var Qee,MA=I(()=>{"use strict";wA(),H3(),o(X3,"point"),o(IA,"CatmullRom"),IA.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:X3(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Qee=o(function e(t){function r(n){return t?new IA(n,t):new U3(n,0)}return o(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function DA(e,t){this._context=e,this._alpha=t}var Jee,CHe=I(()=>{"use strict";Xee(),j3(),MA(),o(DA,"CatmullRomClosed"),DA.prototype={areaStart:Vc,areaEnd:Vc,lineStart:o(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:o(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:X3(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Jee=o(function e(t){function r(n){return t?new DA(n,t):new W3(n,0)}return o(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function RA(e,t){this._context=e,this._alpha=t}var ete,SHe=I(()=>{"use strict";Zee(),MA(),o(RA,"CatmullRomOpen"),RA.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:o(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:X3(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},ete=o(function e(t){function r(n){return t?new RA(n,t):new V3(n,0)}return o(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function OA(e){this._context=e}function tte(e){return new OA(e)}var AHe=I(()=>{"use strict";j3(),o(OA,"LinearClosed"),OA.prototype={areaStart:Vc,areaEnd:Vc,lineStart:o(function(){this._point=0},"lineStart"),lineEnd:o(function(){this._point&&this._context.closePath()},"lineEnd"),point:o(function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))},"point")},o(tte,"default")});function PA(e){return e<0?-1:1}function BA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(PA(a)+PA(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function $A(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function K3(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function Cy(e){this._context=e}function FA(e){this._context=new zA(e)}function zA(e){this._context=e}function rte(e){return new Cy(e)}function nte(e){return new FA(e)}var LHe=I(()=>{"use strict";o(PA,"sign"),o(BA,"slope3"),o($A,"slope2"),o(K3,"point"),o(Cy,"MonotoneX"),Cy.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:K3(this,this._t0,$A(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,K3(this,$A(this,r=BA(this,e,t)),r);break;default:K3(this,this._t0,r=BA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}},"point")},o(FA,"MonotoneY"),(FA.prototype=Object.create(Cy.prototype)).point=function(e,t){Cy.prototype.point.call(this,t,e)},o(zA,"ReflectContext"),zA.prototype={moveTo:o(function(e,t){this._context.moveTo(t,e)},"moveTo"),closePath:o(function(){this._context.closePath()},"closePath"),lineTo:o(function(e,t){this._context.lineTo(t,e)},"lineTo"),bezierCurveTo:o(function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)},"bezierCurveTo")},o(rte,"monotoneX"),o(nte,"monotoneY")});function GA(e){this._context=e}function qA(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ite(e){return new GA(e)}var NHe=I(()=>{"use strict";o(GA,"Natural"),GA.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x=[],this._y=[]},"lineStart"),lineEnd:o(function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qA(e),i=qA(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},"lineEnd"),point:o(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},o(qA,"controlPoints"),o(ite,"default")});function Sy(e,t){this._context=e,this._t=t}function ate(e){return new Sy(e,.5)}function ste(e){return new Sy(e,0)}function ote(e){return new Sy(e,1)}var IHe=I(()=>{"use strict";o(Sy,"Step"),Sy.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x=this._y=NaN,this._point=0},"lineStart"),lineEnd:o(function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t},"point")},o(ate,"default"),o(ste,"stepBefore"),o(ote,"stepAfter")}),MHe=I(()=>{"use strict";fHe(),vHe(),kHe(),THe(),EHe(),Y3(),wHe(),_He(),Xee(),Zee(),H3(),CHe(),SHe(),MA(),AHe(),Pee(),LHe(),NHe(),IHe()}),DHe=I(()=>{"use strict"}),RHe=I(()=>{"use strict"});function n0(e,t,r){this.k=e,this.x=t,this.y=r}function lte(e){for(;!e.__zoom;)if(!(e=e.parentNode))return cte;return e.__zoom}var cte,ute=I(()=>{"use strict";o(n0,"Transform"),n0.prototype={constructor:n0,scale:o(function(e){return e===1?this:new n0(this.k*e,this.x,this.y)},"scale"),translate:o(function(e,t){return e===0&t===0?this:new n0(this.k,this.x+this.k*e,this.y+this.k*t)},"translate"),apply:o(function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},"apply"),applyX:o(function(e){return e*this.k+this.x},"applyX"),applyY:o(function(e){return e*this.k+this.y},"applyY"),invert:o(function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},"invert"),invertX:o(function(e){return(e-this.x)/this.k},"invertX"),invertY:o(function(e){return(e-this.y)/this.k},"invertY"),rescaleX:o(function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},"rescaleX"),rescaleY:o(function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},"rescaleY"),toString:o(function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"},"toString")},cte=new n0(1,0,0),lte.prototype=n0.prototype,o(lte,"transform")}),OHe=I(()=>{"use strict"}),PHe=I(()=>{"use strict";PS(),DHe(),RHe(),ute(),OHe()}),BHe=I(()=>{"use strict";PHe(),ute()}),Fr=I(()=>{"use strict";Yd(),bje(),JYe(),tUe(),iy(),rUe(),nUe(),BV(),rYe(),iUe(),wQ(),aUe(),oUe(),WQ(),bUe(),xUe(),oy(),NQ(),kUe(),sUe(),wUe(),hHe(),gHe(),Kl(),MHe(),nA(),xee(),LS(),PS(),BHe()}),$He=Mt(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BLANK_URL=e.relativeFirstCharacters=e.whitespaceEscapeCharsRegex=e.urlSchemeRegex=e.ctrlCharactersRegex=e.htmlCtrlEntityRegex=e.htmlEntitiesRegex=e.invalidProtocolRegex=void 0,e.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,e.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,e.htmlCtrlEntityRegex=/&(newline|tab);/gi,e.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,e.urlSchemeRegex=/^.+(:|&colon;)/gim,e.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,e.relativeFirstCharacters=[".","/"],e.BLANK_URL="about:blank"}),Ay=Mt(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=void 0;var t=$He();function r(l){return t.relativeFirstCharacters.indexOf(l[0])>-1}o(r,"isRelativeUrlWithoutProtocol");function n(l){var u=l.replace(t.ctrlCharactersRegex,"");return u.replace(t.htmlEntitiesRegex,function(h,d){return String.fromCharCode(d)})}o(n,"decodeHtmlCharacters");function i(l){return URL.canParse(l)}o(i,"isValidUrl");function a(l){try{return decodeURIComponent(l)}catch{return l}}o(a,"decodeURI");function s(l){if(!l)return t.BLANK_URL;var u,h=a(l.trim());do h=n(h).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),h=a(h),u=h.match(t.ctrlCharactersRegex)||h.match(t.htmlEntitiesRegex)||h.match(t.htmlCtrlEntityRegex)||h.match(t.whitespaceEscapeCharsRegex);while(u&&u.length>0);var d=h;if(!d)return t.BLANK_URL;if(r(d))return d;var p=d.trimStart(),f=p.match(t.urlSchemeRegex);if(!f)return d;var g=f[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(g))return t.BLANK_URL;var m=p.replace(/\\/g,"/");if(g==="mailto:"||g.includes("://"))return m;if(g==="http:"||g==="https:"){if(!i(m))return t.BLANK_URL;var y=new URL(m);return y.protocol=y.protocol.toLowerCase(),y.hostname=y.hostname.toLowerCase(),y.toString()}return m}o(s,"sanitizeUrl"),e.sanitizeUrl=s}),jA,Ly,YA,hte,dte,pte,xh,Z3,Q3=I(()=>{"use strict";jA=xr(Ay(),1),Pr(),Ly=o((e,t)=>{let r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx&&r.attr("rx",t.rx),t.ry&&r.attr("ry",t.ry),t.attrs!==void 0)for(let n in t.attrs)r.attr(n,t.attrs[n]);return t.class&&r.attr("class",t.class),r},"drawRect"),YA=o((e,t)=>{let r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};Ly(e,r).lower()},"drawBackgroundRect"),hte=o((e,t)=>{let r=t.text.replace(qd," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),dte=o((e,t,r,n)=>{let i=e.append("image");i.attr("x",t),i.attr("y",r);let a=(0,jA.sanitizeUrl)(n);i.attr("xlink:href",a)},"drawImage"),pte=o((e,t,r,n)=>{let i=e.append("use");i.attr("x",t),i.attr("y",r);let a=(0,jA.sanitizeUrl)(n);i.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),xh=o(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),Z3=o(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")}),gte,J3,UA,fte,mte,yte,vte,bte,xte,kte,wte,Tte,Ete,_te,Cte,tc,hl,FHe=I(()=>{"use strict";Pr(),Q3(),gte=xr(Ay(),1),J3=o(function(e,t){return Ly(e,t)},"drawRect"),UA=o(function(e,t,r,n,i,a){let s=e.append("image");s.attr("width",t),s.attr("height",r),s.attr("x",n),s.attr("y",i);let l=a.startsWith("data:image/png;base64")?a:(0,gte.sanitizeUrl)(a);s.attr("xlink:href",l)},"drawImage"),fte=o((e,t,r)=>{let n=e.append("g"),i=0;for(let a of t){let s=a.textColor?a.textColor:"#444444",l=a.lineColor?a.lineColor:"#444444",u=a.offsetX?parseInt(a.offsetX):0,h=a.offsetY?parseInt(a.offsetY):0,d="";if(i===0){let f=n.append("line");f.attr("x1",a.startPoint.x),f.attr("y1",a.startPoint.y),f.attr("x2",a.endPoint.x),f.attr("y2",a.endPoint.y),f.attr("stroke-width","1"),f.attr("stroke",l),f.style("fill","none"),a.type!=="rel_b"&&f.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&f.attr("marker-start","url("+d+"#arrowend)"),i=-1}else{let f=n.append("path");f.attr("fill","none").attr("stroke-width","1").attr("stroke",l).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&f.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&f.attr("marker-start","url("+d+"#arrowend)")}let p=r.messageFont();tc(r)(a.label.text,n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+h,a.label.width,a.label.height,{fill:s},p),a.techn&&a.techn.text!==""&&(p=r.messageFont(),tc(r)("["+a.techn.text+"]",n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+h,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},p))}},"drawRels"),mte=o(function(e,t,r){let n=e.append("g"),i=t.bgColor?t.bgColor:"none",a=t.borderColor?t.borderColor:"#444444",s=t.fontColor?t.fontColor:"black",l={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(l={"stroke-width":1});let u={x:t.x,y:t.y,fill:i,stroke:a,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:l};J3(n,u);let h=r.boundaryFont();h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=s,tc(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},h),t.type&&t.type.text!==""&&(h=r.boundaryFont(),h.fontColor=s,tc(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},h)),t.descr&&t.descr.text!==""&&(h=r.boundaryFont(),h.fontSize=h.fontSize-2,h.fontColor=s,tc(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},h))},"drawBoundary"),yte=o(function(e,t,r){let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],i=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],a=t.fontColor?t.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let l=e.append("g");l.attr("class","person-man");let u=xh();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=t.x,u.y=t.y,u.fill=n,u.width=t.width,u.height=t.height,u.stroke=i,u.rx=2.5,u.ry=2.5,u.attrs={"stroke-width":.5},J3(l,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":l.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":l.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let h=Cte(r,t.typeC4Shape.text);switch(l.append("text").attr("fill",a).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":UA(l,48,48,t.x+t.width/2-24,t.y+t.image.Y,s);break}let d=r[t.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=a,tc(r)(t.label.text,l,t.x,t.y+t.label.Y,t.width,t.height,{fill:a},d),d=r[t.typeC4Shape.text+"Font"](),d.fontColor=a,t.techn&&t.techn?.text!==""?tc(r)(t.techn.text,l,t.x,t.y+t.techn.Y,t.width,t.height,{fill:a,"font-style":"italic"},d):t.type&&t.type.text!==""&&tc(r)(t.type.text,l,t.x,t.y+t.type.Y,t.width,t.height,{fill:a,"font-style":"italic"},d),t.descr&&t.descr.text!==""&&(d=r.personFont(),d.fontColor=a,tc(r)(t.descr.text,l,t.x,t.y+t.descr.Y,t.width,t.height,{fill:a},d)),t.height},"drawC4Shape"),vte=o(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),bte=o(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),xte=o(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),kte=o(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),wte=o(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),Tte=o(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Ete=o(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),_te=o(function(e){let t=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),Cte=o((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),tc=function(){function e(i,a,s,l,u,h,d){let p=a.append("text").attr("x",s+u/2).attr("y",l+h/2+5).style("text-anchor","middle").text(i);n(p,d)}o(e,"byText");function t(i,a,s,l,u,h,d,p){let{fontSize:f,fontFamily:g,fontWeight:m}=p,y=i.split(ot.lineBreakRegex);for(let b=0;b<y.length;b++){let v=b*f-f*(y.length-1)/2,x=a.append("text").attr("x",s+u/2).attr("y",l).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",f).style("font-weight",m).style("font-family",g);x.append("tspan").attr("dy",v).text(y[b]).attr("alignment-baseline","mathematical"),n(x,d)}}o(t,"byTspan");function r(i,a,s,l,u,h,d,p){let f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,l,u,h,d,p),n(g,d)}o(r,"byFo");function n(i,a){for(let s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return o(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),hl={drawRect:J3,drawBoundary:mte,drawC4Shape:yte,drawRels:fte,drawImage:UA,insertArrowHead:kte,insertArrowEnd:wte,insertArrowFilledHead:Tte,insertDynamicNumber:Ete,insertArrowCrossHead:_te,insertDatabaseIcon:vte,insertComputerIcon:bte,insertClockIcon:xte}}),Ste,HA,Ate=I(()=>{"use strict";Ste=typeof global=="object"&&global&&global.Object===Object&&global,HA=Ste}),Lte,Nte,_o,dl=I(()=>{"use strict";Ate(),Lte=typeof self=="object"&&self&&self.Object===Object&&self,Nte=HA||Lte||Function("return this")(),_o=Nte}),Ite,Vs,E1=I(()=>{"use strict";dl(),Ite=_o.Symbol,Vs=Ite});function Mte(e){var t=Dte.call(e,_1),r=e[_1];try{e[_1]=void 0;var n=!0}catch{}var i=Rte.call(e);return n&&(t?e[_1]=r:delete e[_1]),i}var WA,Dte,Rte,_1,Ote,zHe=I(()=>{"use strict";E1(),WA=Object.prototype,Dte=WA.hasOwnProperty,Rte=WA.toString,_1=Vs?Vs.toStringTag:void 0,o(Mte,"getRawTag"),Ote=Mte});function Pte(e){return $te.call(e)}var Bte,$te,Fte,GHe=I(()=>{"use strict";Bte=Object.prototype,$te=Bte.toString,o(Pte,"objectToString"),Fte=Pte});function zte(e){return e==null?e===void 0?qte:Gte:VA&&VA in Object(e)?Ote(e):Fte(e)}var Gte,qte,VA,rc,kh=I(()=>{"use strict";E1(),zHe(),GHe(),Gte="[object Null]",qte="[object Undefined]",VA=Vs?Vs.toStringTag:void 0,o(zte,"baseGetTag"),rc=zte});function jte(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Za,Co=I(()=>{"use strict";o(jte,"isObject"),Za=jte});function Yte(e){if(!Za(e))return!1;var t=rc(e);return t==Hte||t==Wte||t==Ute||t==Vte}var Ute,Hte,Wte,Vte,Xs,e5=I(()=>{"use strict";kh(),Co(),Ute="[object AsyncFunction]",Hte="[object Function]",Wte="[object GeneratorFunction]",Vte="[object Proxy]",o(Yte,"isFunction"),Xs=Yte}),Xte,t5,qHe=I(()=>{"use strict";dl(),Xte=_o["__core-js_shared__"],t5=Xte});function Kte(e){return!!XA&&XA in e}var XA,Zte,jHe=I(()=>{"use strict";qHe(),XA=function(){var e=/[^.]+$/.exec(t5&&t5.keys&&t5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),o(Kte,"isMasked"),Zte=Kte});function Qte(e){if(e!=null){try{return ere.call(e)}catch{}try{return e+""}catch{}}return""}var Jte,ere,wh,tre=I(()=>{"use strict";Jte=Function.prototype,ere=Jte.toString,o(Qte,"toSource"),wh=Qte});function rre(e){if(!Za(e)||Zte(e))return!1;var t=Xs(e)?cre:ire;return t.test(wh(e))}var nre,ire,are,sre,ore,lre,cre,ure,YHe=I(()=>{"use strict";e5(),jHe(),Co(),tre(),nre=/[\\^$.*+?()[\]{}|]/g,ire=/^\[object .+?Constructor\]$/,are=Function.prototype,sre=Object.prototype,ore=are.toString,lre=sre.hasOwnProperty,cre=RegExp("^"+ore.call(lre).replace(nre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),o(rre,"baseIsNative"),ure=rre});function hre(e,t){return e?.[t]}var dre,UHe=I(()=>{"use strict";o(hre,"getValue"),dre=hre});function pre(e,t){var r=dre(e,t);return ure(r)?r:void 0}var Th,i0=I(()=>{"use strict";YHe(),UHe(),o(pre,"getNative"),Th=pre}),gre,C1,r5=I(()=>{"use strict";i0(),gre=Th(Object,"create"),C1=gre});function fre(){this.__data__=C1?C1(null):{},this.size=0}var mre,HHe=I(()=>{"use strict";r5(),o(fre,"hashClear"),mre=fre});function yre(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vre,WHe=I(()=>{"use strict";o(yre,"hashDelete"),vre=yre});function bre(e){var t=this.__data__;if(C1){var r=t[e];return r===xre?void 0:r}return wre.call(t,e)?t[e]:void 0}var xre,kre,wre,Tre,VHe=I(()=>{"use strict";r5(),xre="__lodash_hash_undefined__",kre=Object.prototype,wre=kre.hasOwnProperty,o(bre,"hashGet"),Tre=bre});function Ere(e){var t=this.__data__;return C1?t[e]!==void 0:Cre.call(t,e)}var _re,Cre,Sre,XHe=I(()=>{"use strict";r5(),_re=Object.prototype,Cre=_re.hasOwnProperty,o(Ere,"hashHas"),Sre=Ere});function Are(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=C1&&t===void 0?Lre:t,this}var Lre,Nre,KHe=I(()=>{"use strict";r5(),Lre="__lodash_hash_undefined__",o(Are,"hashSet"),Nre=Are});function a0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var KA,ZHe=I(()=>{"use strict";HHe(),WHe(),VHe(),XHe(),KHe(),o(a0,"Hash"),a0.prototype.clear=mre,a0.prototype.delete=vre,a0.prototype.get=Tre,a0.prototype.has=Sre,a0.prototype.set=Nre,KA=a0});function Ire(){this.__data__=[],this.size=0}var Mre,QHe=I(()=>{"use strict";o(Ire,"listCacheClear"),Mre=Ire});function Dre(e,t){return e===t||e!==e&&t!==t}var s0,S1=I(()=>{"use strict";o(Dre,"eq"),s0=Dre});function Rre(e,t){for(var r=e.length;r--;)if(s0(e[r][0],t))return r;return-1}var Ny,n5=I(()=>{"use strict";S1(),o(Rre,"assocIndexOf"),Ny=Rre});function Ore(e){var t=this.__data__,r=Ny(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Bre.call(t,r,1),--this.size,!0}var Pre,Bre,$re,JHe=I(()=>{"use strict";n5(),Pre=Array.prototype,Bre=Pre.splice,o(Ore,"listCacheDelete"),$re=Ore});function Fre(e){var t=this.__data__,r=Ny(t,e);return r<0?void 0:t[r][1]}var zre,eWe=I(()=>{"use strict";n5(),o(Fre,"listCacheGet"),zre=Fre});function Gre(e){return Ny(this.__data__,e)>-1}var qre,tWe=I(()=>{"use strict";n5(),o(Gre,"listCacheHas"),qre=Gre});function jre(e,t){var r=this.__data__,n=Ny(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Yre,rWe=I(()=>{"use strict";n5(),o(jre,"listCacheSet"),Yre=jre});function o0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var Iy,i5=I(()=>{"use strict";QHe(),JHe(),eWe(),tWe(),rWe(),o(o0,"ListCache"),o0.prototype.clear=Mre,o0.prototype.delete=$re,o0.prototype.get=zre,o0.prototype.has=qre,o0.prototype.set=Yre,Iy=o0}),Ure,A1,ZA=I(()=>{"use strict";i0(),dl(),Ure=Th(_o,"Map"),A1=Ure});function Hre(){this.size=0,this.__data__={hash:new KA,map:new(A1||Iy),string:new KA}}var Wre,nWe=I(()=>{"use strict";ZHe(),i5(),ZA(),o(Hre,"mapCacheClear"),Wre=Hre});function Vre(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Xre,iWe=I(()=>{"use strict";o(Vre,"isKeyable"),Xre=Vre});function Kre(e,t){var r=e.__data__;return Xre(t)?r[typeof t=="string"?"string":"hash"]:r.map}var My,a5=I(()=>{"use strict";iWe(),o(Kre,"getMapData"),My=Kre});function Zre(e){var t=My(this,e).delete(e);return this.size-=t?1:0,t}var Qre,aWe=I(()=>{"use strict";a5(),o(Zre,"mapCacheDelete"),Qre=Zre});function Jre(e){return My(this,e).get(e)}var ene,sWe=I(()=>{"use strict";a5(),o(Jre,"mapCacheGet"),ene=Jre});function tne(e){return My(this,e).has(e)}var rne,oWe=I(()=>{"use strict";a5(),o(tne,"mapCacheHas"),rne=tne});function nne(e,t){var r=My(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ine,lWe=I(()=>{"use strict";a5(),o(nne,"mapCacheSet"),ine=nne});function l0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var Dy,QA=I(()=>{"use strict";nWe(),aWe(),sWe(),oWe(),lWe(),o(l0,"MapCache"),l0.prototype.clear=Wre,l0.prototype.delete=Qre,l0.prototype.get=ene,l0.prototype.has=rne,l0.prototype.set=ine,Dy=l0});function s5(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ane);var r=o(function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s},"memoized");return r.cache=new(s5.Cache||Dy),r}var ane,Ry,sne=I(()=>{"use strict";QA(),ane="Expected a function",o(s5,"memoize"),s5.Cache=Dy,Ry=s5});function one(){this.__data__=new Iy,this.size=0}var lne,cWe=I(()=>{"use strict";i5(),o(one,"stackClear"),lne=one});function cne(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var une,uWe=I(()=>{"use strict";o(cne,"stackDelete"),une=cne});function hne(e){return this.__data__.get(e)}var dne,hWe=I(()=>{"use strict";o(hne,"stackGet"),dne=hne});function pne(e){return this.__data__.has(e)}var gne,dWe=I(()=>{"use strict";o(pne,"stackHas"),gne=pne});function fne(e,t){var r=this.__data__;if(r instanceof Iy){var n=r.__data__;if(!A1||n.length<mne-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Dy(n)}return r.set(e,t),this.size=r.size,this}var mne,yne,pWe=I(()=>{"use strict";i5(),ZA(),QA(),mne=200,o(fne,"stackSet"),yne=fne});function c0(e){var t=this.__data__=new Iy(e);this.size=t.size}var u0,o5=I(()=>{"use strict";i5(),cWe(),uWe(),hWe(),dWe(),pWe(),o(c0,"Stack"),c0.prototype.clear=lne,c0.prototype.delete=une,c0.prototype.get=dne,c0.prototype.has=gne,c0.prototype.set=yne,u0=c0}),vne,Oy,bne=I(()=>{"use strict";i0(),vne=function(){try{var e=Th(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Oy=vne});function xne(e,t,r){t=="__proto__"&&Oy?Oy(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var L1,Py=I(()=>{"use strict";bne(),o(xne,"baseAssignValue"),L1=xne});function kne(e,t,r){(r!==void 0&&!s0(e[t],r)||r===void 0&&!(t in e))&&L1(e,t,r)}var l5,wne=I(()=>{"use strict";Py(),S1(),o(kne,"assignMergeValue"),l5=kne});function Tne(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),l=s.length;l--;){var u=s[e?l:++i];if(r(a[u],u,a)===!1)break}return t}}var Ene,gWe=I(()=>{"use strict";o(Tne,"createBaseFor"),Ene=Tne}),_ne,c5,JA=I(()=>{"use strict";gWe(),_ne=Ene(),c5=_ne});function Cne(e,t){if(t)return e.slice();var r=e.length,n=n9?n9(r):new e.constructor(r);return e.copy(n),n}var e9,t9,Sne,r9,n9,i9,Ane=I(()=>{"use strict";dl(),e9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,t9=e9&&typeof module=="object"&&module&&!module.nodeType&&module,Sne=t9&&t9.exports===e9,r9=Sne?_o.Buffer:void 0,n9=r9?r9.allocUnsafe:void 0,o(Cne,"cloneBuffer"),i9=Cne}),Lne,By,Nne=I(()=>{"use strict";dl(),Lne=_o.Uint8Array,By=Lne});function Ine(e){var t=new e.constructor(e.byteLength);return new By(t).set(new By(e)),t}var u5,a9=I(()=>{"use strict";Nne(),o(Ine,"cloneArrayBuffer"),u5=Ine});function Mne(e,t){var r=t?u5(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var s9,Dne=I(()=>{"use strict";a9(),o(Mne,"cloneTypedArray"),s9=Mne});function Rne(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var o9,One=I(()=>{"use strict";o(Rne,"copyArray"),o9=Rne}),l9,Pne,Bne,fWe=I(()=>{"use strict";Co(),l9=Object.create,Pne=function(){function e(){}return o(e,"object"),function(t){if(!Za(t))return{};if(l9)return l9(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Bne=Pne});function $ne(e,t){return function(r){return e(t(r))}}var c9,Fne=I(()=>{"use strict";o($ne,"overArg"),c9=$ne}),zne,h5,u9=I(()=>{"use strict";Fne(),zne=c9(Object.getPrototypeOf,Object),h5=zne});function Gne(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||qne;return e===r}var qne,N1,$y=I(()=>{"use strict";qne=Object.prototype,o(Gne,"isPrototype"),N1=Gne});function jne(e){return typeof e.constructor=="function"&&!N1(e)?Bne(h5(e)):{}}var h9,Yne=I(()=>{"use strict";fWe(),u9(),$y(),o(jne,"initCloneObject"),h9=jne});function Une(e){return e!=null&&typeof e=="object"}var Ks,pl=I(()=>{"use strict";o(Une,"isObjectLike"),Ks=Une});function Hne(e){return Ks(e)&&rc(e)==Wne}var Wne,d9,mWe=I(()=>{"use strict";kh(),pl(),Wne="[object Arguments]",o(Hne,"baseIsArguments"),d9=Hne}),p9,Vne,Xne,Kne,h0,Fy=I(()=>{"use strict";mWe(),pl(),p9=Object.prototype,Vne=p9.hasOwnProperty,Xne=p9.propertyIsEnumerable,Kne=d9(function(){return arguments}())?d9:function(e){return Ks(e)&&Vne.call(e,"callee")&&!Xne.call(e,"callee")},h0=Kne}),Zne,jr,ii=I(()=>{"use strict";Zne=Array.isArray,jr=Zne});function Qne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Jne}var Jne,d5,g9=I(()=>{"use strict";Jne=9007199254740991,o(Qne,"isLength"),d5=Qne});function eie(e){return e!=null&&d5(e.length)&&!Xs(e)}var So,gl=I(()=>{"use strict";e5(),g9(),o(eie,"isArrayLike"),So=eie});function tie(e){return Ks(e)&&So(e)}var zy,f9=I(()=>{"use strict";gl(),pl(),o(tie,"isArrayLikeObject"),zy=tie});function rie(){return!1}var nie,yWe=I(()=>{"use strict";o(rie,"stubFalse"),nie=rie}),m9,y9,iie,v9,aie,sie,d0,Gy=I(()=>{"use strict";dl(),yWe(),m9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,y9=m9&&typeof module=="object"&&module&&!module.nodeType&&module,iie=y9&&y9.exports===m9,v9=iie?_o.Buffer:void 0,aie=v9?v9.isBuffer:void 0,sie=aie||nie,d0=sie});function oie(e){if(!Ks(e)||rc(e)!=lie)return!1;var t=h5(e);if(t===null)return!0;var r=hie.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&b9.call(r)==die}var lie,cie,uie,b9,hie,die,pie,vWe=I(()=>{"use strict";kh(),u9(),pl(),lie="[object Object]",cie=Function.prototype,uie=Object.prototype,b9=cie.toString,hie=uie.hasOwnProperty,die=b9.call(Object),o(oie,"isPlainObject"),pie=oie});function gie(e){return Ks(e)&&d5(e.length)&&!!zn[rc(e)]}var fie,mie,yie,vie,bie,xie,kie,wie,Tie,Eie,_ie,Cie,Sie,Aie,Lie,Nie,Iie,Mie,Die,Rie,Oie,Pie,Bie,$ie,zn,Fie,bWe=I(()=>{"use strict";kh(),g9(),pl(),fie="[object Arguments]",mie="[object Array]",yie="[object Boolean]",vie="[object Date]",bie="[object Error]",xie="[object Function]",kie="[object Map]",wie="[object Number]",Tie="[object Object]",Eie="[object RegExp]",_ie="[object Set]",Cie="[object String]",Sie="[object WeakMap]",Aie="[object ArrayBuffer]",Lie="[object DataView]",Nie="[object Float32Array]",Iie="[object Float64Array]",Mie="[object Int8Array]",Die="[object Int16Array]",Rie="[object Int32Array]",Oie="[object Uint8Array]",Pie="[object Uint8ClampedArray]",Bie="[object Uint16Array]",$ie="[object Uint32Array]",zn={},zn[Nie]=zn[Iie]=zn[Mie]=zn[Die]=zn[Rie]=zn[Oie]=zn[Pie]=zn[Bie]=zn[$ie]=!0,zn[fie]=zn[mie]=zn[Aie]=zn[yie]=zn[Lie]=zn[vie]=zn[bie]=zn[xie]=zn[kie]=zn[wie]=zn[Tie]=zn[Eie]=zn[_ie]=zn[Cie]=zn[Sie]=!1,o(gie,"baseIsTypedArray"),Fie=gie});function zie(e){return function(t){return e(t)}}var p0,I1=I(()=>{"use strict";o(zie,"baseUnary"),p0=zie}),x9,M1,Gie,p5,qie,Xc,g5=I(()=>{"use strict";Ate(),x9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,M1=x9&&typeof module=="object"&&module&&!module.nodeType&&module,Gie=M1&&M1.exports===x9,p5=Gie&&HA.process,qie=function(){try{var e=M1&&M1.require&&M1.require("util").types;return e||p5&&p5.binding&&p5.binding("util")}catch{}}(),Xc=qie}),k9,jie,qy,f5=I(()=>{"use strict";bWe(),I1(),g5(),k9=Xc&&Xc.isTypedArray,jie=k9?p0(k9):Fie,qy=jie});function Yie(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var m5,Uie=I(()=>{"use strict";o(Yie,"safeGet"),m5=Yie});function Hie(e,t,r){var n=e[t];(!(Vie.call(e,t)&&s0(n,r))||r===void 0&&!(t in e))&&L1(e,t,r)}var Wie,Vie,D1,jy=I(()=>{"use strict";Py(),S1(),Wie=Object.prototype,Vie=Wie.hasOwnProperty,o(Hie,"assignValue"),D1=Hie});function Xie(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=n?n(r[l],e[l],l,r,e):void 0;u===void 0&&(u=e[l]),i?L1(r,l,u):D1(r,l,u)}return r}var g0,R1=I(()=>{"use strict";jy(),Py(),o(Xie,"copyObject"),g0=Xie});function Kie(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Zie,xWe=I(()=>{"use strict";o(Kie,"baseTimes"),Zie=Kie});function Qie(e,t){var r=typeof e;return t=t??Jie,!!t&&(r=="number"||r!="symbol"&&eae.test(e))&&e>-1&&e%1==0&&e<t}var Jie,eae,Yy,y5=I(()=>{"use strict";Jie=9007199254740991,eae=/^(?:0|[1-9]\d*)$/,o(Qie,"isIndex"),Yy=Qie});function tae(e,t){var r=jr(e),n=!r&&h0(e),i=!r&&!n&&d0(e),a=!r&&!n&&!i&&qy(e),s=r||n||i||a,l=s?Zie(e.length,String):[],u=l.length;for(var h in e)(t||nae.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Yy(h,u)))&&l.push(h);return l}var rae,nae,w9,iae=I(()=>{"use strict";xWe(),Fy(),ii(),Gy(),y5(),f5(),rae=Object.prototype,nae=rae.hasOwnProperty,o(tae,"arrayLikeKeys"),w9=tae});function aae(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var sae,kWe=I(()=>{"use strict";o(aae,"nativeKeysIn"),sae=aae});function oae(e){if(!Za(e))return sae(e);var t=N1(e),r=[];for(var n in e)n=="constructor"&&(t||!cae.call(e,n))||r.push(n);return r}var lae,cae,uae,wWe=I(()=>{"use strict";Co(),$y(),kWe(),lae=Object.prototype,cae=lae.hasOwnProperty,o(oae,"baseKeysIn"),uae=oae});function hae(e){return So(e)?w9(e,!0):uae(e)}var Eh,f0=I(()=>{"use strict";iae(),wWe(),gl(),o(hae,"keysIn"),Eh=hae});function dae(e){return g0(e,Eh(e))}var pae,TWe=I(()=>{"use strict";R1(),f0(),o(dae,"toPlainObject"),pae=dae});function gae(e,t,r,n,i,a,s){var l=m5(e,r),u=m5(t,r),h=s.get(u);if(h){l5(e,r,h);return}var d=a?a(l,u,r+"",e,t,s):void 0,p=d===void 0;if(p){var f=jr(u),g=!f&&d0(u),m=!f&&!g&&qy(u);d=u,f||g||m?jr(l)?d=l:zy(l)?d=o9(l):g?(p=!1,d=i9(u,!0)):m?(p=!1,d=s9(u,!0)):d=[]:pie(u)||h0(u)?(d=l,h0(l)?d=pae(l):(!Za(l)||Xs(l))&&(d=h9(u))):p=!1}p&&(s.set(u,d),i(d,u,n,a,s),s.delete(u)),l5(e,r,d)}var fae,EWe=I(()=>{"use strict";wne(),Ane(),Dne(),One(),Yne(),Fy(),ii(),f9(),Gy(),e5(),Co(),vWe(),f5(),Uie(),TWe(),o(gae,"baseMergeDeep"),fae=gae});function T9(e,t,r,n,i){e!==t&&c5(t,function(a,s){if(i||(i=new u0),Za(a))fae(e,t,s,r,T9,n,i);else{var l=n?n(m5(e,s),a,s+"",e,t,i):void 0;l===void 0&&(l=a),l5(e,s,l)}},Eh)}var mae,_We=I(()=>{"use strict";o5(),wne(),JA(),EWe(),Co(),f0(),Uie(),o(T9,"baseMerge"),mae=T9});function yae(e){return e}var nc,_h=I(()=>{"use strict";o(yae,"identity"),nc=yae});function vae(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var bae,CWe=I(()=>{"use strict";o(vae,"apply"),bae=vae});function xae(e,t,r){return t=E9(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=E9(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(s),bae(e,this,l)}}var E9,_9,kae=I(()=>{"use strict";CWe(),E9=Math.max,o(xae,"overRest"),_9=xae});function wae(e){return function(){return e}}var Kc,Tae=I(()=>{"use strict";o(wae,"constant"),Kc=wae}),Eae,_ae,SWe=I(()=>{"use strict";Tae(),bne(),_h(),Eae=Oy?function(e,t){return Oy(e,"toString",{configurable:!0,enumerable:!1,value:Kc(t),writable:!0})}:nc,_ae=Eae});function Cae(e){var t=0,r=0;return function(){var n=Lae(),i=Aae-(n-r);if(r=n,i>0){if(++t>=Sae)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Sae,Aae,Lae,Nae,AWe=I(()=>{"use strict";Sae=800,Aae=16,Lae=Date.now,o(Cae,"shortOut"),Nae=Cae}),Iae,C9,Mae=I(()=>{"use strict";SWe(),AWe(),Iae=Nae(_ae),C9=Iae});function Dae(e,t){return C9(_9(e,t,nc),e+"")}var O1,Uy=I(()=>{"use strict";_h(),kae(),Mae(),o(Dae,"baseRest"),O1=Dae});function Rae(e,t,r){if(!Za(r))return!1;var n=typeof t;return(n=="number"?So(r)&&Yy(t,r.length):n=="string"&&t in r)?s0(r[t],e):!1}var Ch,P1=I(()=>{"use strict";S1(),gl(),y5(),Co(),o(Rae,"isIterateeCall"),Ch=Rae});function Oae(e){return O1(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&Ch(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var l=r[n];l&&e(t,l,n,a)}return t})}var S9,Pae=I(()=>{"use strict";Uy(),P1(),o(Oae,"createAssigner"),S9=Oae}),Bae,Hy,$ae=I(()=>{"use strict";_We(),Pae(),Bae=S9(function(e,t,r){mae(e,t,r)}),Hy=Bae});function A9(e,t){if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return Uae[r]??t}function Fae(e,t){let r=e.trim();if(r)return t.securityLevel!=="loose"?(0,Yae.sanitizeUrl)(r):r}function L9(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function zae(e){let t,r=0;e.forEach(i=>{r+=L9(i,t),t=i});let n=r/2;return b5(e,n)}function Gae(e){return e.length===1?e[0]:zae(e)}function qae(e,t,r){let n=structuredClone(r);X.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();let i=25+e,a=b5(n,i),s=10+e*.5,l=Math.atan2(n[0].y-a.y,n[0].x-a.x),u={x:0,y:0};return t==="start_left"?(u.x=Math.sin(l+Math.PI)*s+(n[0].x+a.x)/2,u.y=-Math.cos(l+Math.PI)*s+(n[0].y+a.y)/2):t==="end_right"?(u.x=Math.sin(l-Math.PI)*s+(n[0].x+a.x)/2-5,u.y=-Math.cos(l-Math.PI)*s+(n[0].y+a.y)/2-5):t==="end_left"?(u.x=Math.sin(l)*s+(n[0].x+a.x)/2-5,u.y=-Math.cos(l)*s+(n[0].y+a.y)/2-5):(u.x=Math.sin(l)*s+(n[0].x+a.x)/2,u.y=-Math.cos(l)*s+(n[0].y+a.y)/2),u}function N9(e){let t="",r="";for(let n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}function jae(e){let t="",r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}function v5(e,t){return x5(e,t).height}function Ao(e,t){return x5(e,t).width}function I9(e){return"str"in e}function Zc(e,t){return Hy({},e,t)}function Qa(e){return e??null}var Yae,M9,Uae,Hae,Wae,D9,Vae,Xae,Kae,R9,b5,Zae,O9,P9,B9,Qae,Jae,$9,ese,x5,tse,k5,rse,nse,Qc,Ar,ise,ic,F9,Dr=I(()=>{"use strict";Yae=xr(Ay(),1),Fr(),Pr(),$Y(),Ye(),Zo(),Mc(),sne(),$ae(),kt(),M9="\u200B",Uae={curveBasis:T1,curveBasisClosed:Yee,curveBasisOpen:Uee,curveBumpX:qee,curveBumpY:jee,curveBundle:Hee,curveCardinalClosed:Vee,curveCardinalOpen:Kee,curveCardinal:Wee,curveCatmullRomClosed:Jee,curveCatmullRomOpen:ete,curveCatmullRom:Qee,curveLinear:CA,curveLinearClosed:tte,curveMonotoneX:rte,curveMonotoneY:nte,curveNatural:ite,curveStep:ate,curveStepAfter:ote,curveStepBefore:ste},Hae=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Wae=o(function(e,t){let r=D9(e,/(?:init\b)|(?:initialize\b)/),n={};if(Array.isArray(r)){let s=r.map(l=>l.args);hm(s),n=pi(n,[...s])}else n=r.args;if(!n)return;let i=gn(e,t),a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},"detectInit"),D9=o(function(e,t=null){try{let r=new RegExp(`[%]{2}(?![{]${Hae.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),X.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n,i=[];for(;(n=je.exec(e))!==null;)if(n.index===je.lastIndex&&je.lastIndex++,n&&!t||t&&n[1]?.match(t)||t&&n[2]?.match(t)){let a=n[1]?n[1]:n[2],s=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:a,args:s})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return X.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),Vae=o(function(e){return e.replace(je,"")},"removeDirectives"),Xae=o(function(e,t){for(let[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray"),o(A9,"interpolateToCurve"),o(Fae,"formatUrl"),Kae=o((e,...t)=>{let r=e.split("."),n=r.length-1,i=r[n],a=window;for(let s=0;s<n;s++)if(a=a[r[s]],!a){X.error(`Function name: ${e} not found in window`);return}a[i](...t)},"runFunc"),o(L9,"distance"),o(zae,"traverseEdge"),o(Gae,"calcLabelPosition"),R9=o((e,t=2)=>{let r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),b5=o((e,t)=>{let r,n=t;for(let i of e){if(r){let a=L9(i,r);if(a<n)n-=a;else{let s=n/a;if(s<=0)return r;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:R9((1-s)*r.x+s*i.x,5),y:R9((1-s)*r.y+s*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Zae=o((e,t,r)=>{X.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());let n=b5(t,25),i=e?10:5,a=Math.atan2(t[0].y-n.y,t[0].x-n.x),s={x:0,y:0};return s.x=Math.sin(a)*i+(t[0].x+n.x)/2,s.y=-Math.cos(a)*i+(t[0].y+n.y)/2,s},"calcCardinalityPosition"),o(qae,"calcTerminalLabelPosition"),o(N9,"getStylesFromArray"),O9=0,P9=o(()=>(O9++,"id-"+Math.random().toString(36).substr(2,12)+"-"+O9),"generateId"),o(jae,"makeRandomHex"),B9=o(e=>jae(e.length),"random"),Qae=o(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),Jae=o(function(e,t){let r=t.text.replace(ot.lineBreakRegex," "),[,n]=Qc(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);let a=i.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.attr("fill",t.fill),a.text(r),i},"drawSimpleText"),$9=Ry((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),ot.lineBreakRegex.test(e)))return e;let n=e.split(" ").filter(Boolean),i=[],a="";return n.forEach((s,l)=>{let u=Ao(`${s} `,r),h=Ao(a,r);if(u>t){let{hyphenatedStrings:d,remainingWord:p}=ese(s,t,"-",r);i.push(a,...d),a=p}else h+u>=t?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");l+1===n.length&&i.push(a)}),i.filter(s=>s!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),ese=Ry((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);let i=[...e],a=[],s="";return i.forEach((l,u)=>{let h=`${s}${l}`;if(Ao(h,n)>=t){let d=u+1,p=i.length===d,f=`${h}${r}`;a.push(p?h:f),s=""}else s=h}),{hyphenatedStrings:a,remainingWord:s}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`),o(v5,"calculateTextHeight"),o(Ao,"calculateTextWidth"),x5=Ry((e,t)=>{let{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};let[,a]=Qc(r),s=["sans-serif",n],l=e.split(ot.lineBreakRegex),u=[],h=nt("body");if(!h.remove)return{width:0,height:0,lineHeight:0};let d=h.append("svg");for(let f of s){let g=0,m={width:0,height:0,lineHeight:0};for(let y of l){let b=Qae();b.text=y||M9;let v=Jae(d,b).style("font-size",a).style("font-weight",i).style("font-family",f),x=(v._groups||v)[0][0].getBBox();if(x.width===0&&x.height===0)throw new Error("svg element not in render tree");m.width=Math.round(Math.max(m.width,x.width)),g=Math.round(x.height),m.height+=g,m.lineHeight=Math.round(Math.max(m.lineHeight,g))}u.push(m)}d.remove();let p=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[p]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),tse=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}static{o(this,"InitIDGenerator")}},rse=o(function(e){return k5=k5||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),k5.innerHTML=e,unescape(k5.textContent)},"entityDecode"),o(I9,"isDetailedError"),nse=o((e,t,r,n)=>{if(!n)return;let i=e.node()?.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Qc=o(e=>{if(typeof e=="number")return[e,e+"px"];let t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize"),o(Zc,"cleanAndMerge"),Ar={assignWithDepth:pi,wrapLabel:$9,calculateTextHeight:v5,calculateTextWidth:Ao,calculateTextDimensions:x5,cleanAndMerge:Zc,detectInit:Wae,detectDirective:D9,isSubstringInArray:Xae,interpolateToCurve:A9,calcLabelPosition:Gae,calcCardinalityPosition:Zae,calcTerminalLabelPosition:qae,formatUrl:Fae,getStylesFromArray:N9,generateId:P9,random:B9,runFunc:Kae,entityDecode:rse,insertTitle:nse,parseFontSize:Qc,InitIDGenerator:tse},ise=o(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){let n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"\uFB02\xB0\xB0"+n+"\xB6\xDF":"\uFB02\xB0"+n+"\xB6\xDF"}),t},"encodeEntities"),ic=o(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),F9=o((e,t,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId"),o(Qa,"handleUndefinedAttr")});function Lo(e,t,r,n,i){if(!t[e].width)if(r)t[e].text=$9(t[e].text,i,n),t[e].textLines=t[e].text.split(ot.lineBreakRegex).length,t[e].width=i,t[e].height=v5(t[e].text,n);else{let a=t[e].text.split(ot.lineBreakRegex);t[e].textLines=a.length;let s=0;t[e].height=0,t[e].width=0;for(let l of a)t[e].width=Math.max(Ao(l,n),t[e].width),s=v5(l,n),t[e].height=t[e].height+s}}function z9(e,t,r,n,i){let a=new q9(i);a.data.widthLimit=r.data.widthLimit/Math.min(w5,n.length);for(let[s,l]of n.entries()){let u=0;l.image={width:0,height:0,Y:0},l.sprite&&(l.image.width=48,l.image.height=48,l.image.Y=u,u=l.image.Y+l.image.height);let h=l.wrap&&Xt.wrap,d=Xy(Xt);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",Lo("label",l,h,d,a.data.widthLimit),l.label.Y=u+8,u=l.label.Y+l.label.height,l.type&&l.type.text!==""){l.type.text="["+l.type.text+"]";let m=Xy(Xt);Lo("type",l,h,m,a.data.widthLimit),l.type.Y=u+5,u=l.type.Y+l.type.height}if(l.descr&&l.descr.text!==""){let m=Xy(Xt);m.fontSize=m.fontSize-2,Lo("descr",l,h,m,a.data.widthLimit),l.descr.Y=u+20,u=l.descr.Y+l.descr.height}if(s==0||s%w5===0){let m=r.data.startx+Xt.diagramMarginX,y=r.data.stopy+Xt.diagramMarginY+u;a.setData(m,m,y,y)}else{let m=a.data.stopx!==a.data.startx?a.data.stopx+Xt.diagramMarginX:a.data.startx,y=a.data.starty;a.setData(m,m,y,y)}a.name=l.alias;let p=i.db.getC4ShapeArray(l.alias),f=i.db.getC4ShapeKeys(l.alias);f.length>0&&Y9(a,e,p,f),t=l.alias;let g=i.db.getBoundarys(t);g.length>0&&z9(e,t,a,g,i),l.alias!=="global"&&j9(e,l,a),r.data.stopy=Math.max(a.data.stopy+Xt.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+Xt.c4ShapeMargin,r.data.stopx),Wy=Math.max(Wy,r.data.stopx),Vy=Math.max(Vy,r.data.stopy)}}var Wy,Vy,G9,w5,Xt,q9,T5,B1,Xy,ase,j9,Y9,Zs,U9,sse,ose,lse,H9,LWe=I(()=>{"use strict";Fr(),FHe(),Ye(),rm(),Pr(),oV(),tr(),Mc(),Dr(),wi(),Wy=0,Vy=0,G9=4,w5=2,Ic.yy=V4,Xt={},q9=class{static{o(this,"Bounds")}constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,T5(e.db.getConfig())}setData(e,t,r,n){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=t,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=n}updateVal(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let t=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,r=t+e.width,n=this.nextData.starty+e.margin*2,i=n+e.height;(t>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>G9)&&(t=this.nextData.startx+e.margin+Xt.nextLinePaddingX,n=this.nextData.stopy+e.margin*2,this.nextData.stopx=r=t+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=i=n+e.height,this.nextData.cnt=1),e.x=t,e.y=n,this.updateVal(this.data,"startx",t,Math.min),this.updateVal(this.data,"starty",n,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",i,Math.max),this.updateVal(this.nextData,"startx",t,Math.min),this.updateVal(this.nextData,"starty",n,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",i,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},T5(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},T5=o(function(e){pi(Xt,e),e.fontFamily&&(Xt.personFontFamily=Xt.systemFontFamily=Xt.messageFontFamily=e.fontFamily),e.fontSize&&(Xt.personFontSize=Xt.systemFontSize=Xt.messageFontSize=e.fontSize),e.fontWeight&&(Xt.personFontWeight=Xt.systemFontWeight=Xt.messageFontWeight=e.fontWeight)},"setConf"),B1=o((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),Xy=o(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),ase=o(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),o(Lo,"calcC4ShapeTextWH"),j9=o(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=Xt.c4ShapeMargin-35;let n=t.wrap&&Xt.wrap,i=Xy(Xt);i.fontSize=i.fontSize+2,i.fontWeight="bold";let a=Ao(t.label.text,i);Lo("label",t,n,i,a),hl.drawBoundary(e,t,Xt)},"drawBoundary"),Y9=o(function(e,t,r,n){let i=0;for(let a of n){i=0;let s=r[a],l=B1(Xt,s.typeC4Shape.text);switch(l.fontSize=l.fontSize-2,s.typeC4Shape.width=Ao("\xAB"+s.typeC4Shape.text+"\xBB",l),s.typeC4Shape.height=l.fontSize+2,s.typeC4Shape.Y=Xt.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let u=s.wrap&&Xt.wrap,h=Xt.width-Xt.c4ShapePadding*2,d=B1(Xt,s.typeC4Shape.text);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",Lo("label",s,u,d,h),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let g=B1(Xt,s.typeC4Shape.text);Lo("type",s,u,g,h),s.type.Y=i+5,i=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let g=B1(Xt,s.techn.text);Lo("techn",s,u,g,h),s.techn.Y=i+5,i=s.techn.Y+s.techn.height}let p=i,f=s.label.width;if(s.descr&&s.descr.text!==""){let g=B1(Xt,s.typeC4Shape.text);Lo("descr",s,u,g,h),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,f=Math.max(s.label.width,s.descr.width),p=i-s.descr.textLines*5}f=f+Xt.c4ShapePadding,s.width=Math.max(s.width||Xt.width,f,Xt.width),s.height=Math.max(s.height||Xt.height,p,Xt.height),s.margin=s.margin||Xt.c4ShapeMargin,e.insert(s),hl.drawC4Shape(t,s,Xt)}e.bumpLastMargin(Xt.c4ShapeMargin)},"drawC4ShapeArray"),Zs=class{static{o(this,"Point")}constructor(e,t){this.x=e,this.y=t}},U9=o(function(e,t){let r=e.x,n=e.y,i=t.x,a=t.y,s=r+e.width/2,l=n+e.height/2,u=Math.abs(r-i),h=Math.abs(n-a),d=h/u,p=e.height/e.width,f=null;return n==a&&r<i?f=new Zs(r+e.width,l):n==a&&r>i?f=new Zs(r,l):r==i&&n<a?f=new Zs(s,n+e.height):r==i&&n>a&&(f=new Zs(s,n)),r>i&&n<a?p>=d?f=new Zs(r,l+d*e.width/2):f=new Zs(s-u/h*e.height/2,n+e.height):r<i&&n<a?p>=d?f=new Zs(r+e.width,l+d*e.width/2):f=new Zs(s+u/h*e.height/2,n+e.height):r<i&&n>a?p>=d?f=new Zs(r+e.width,l-d*e.width/2):f=new Zs(s+e.height/2*u/h,n):r>i&&n>a&&(p>=d?f=new Zs(r,l-e.width/2*d):f=new Zs(s-e.height/2*u/h,n)),f},"getIntersectPoint"),sse=o(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=U9(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let i=U9(t,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),ose=o(function(e,t,r,n){let i=0;for(let a of t){i=i+1;let s=a.wrap&&Xt.wrap,l=ase(Xt);n.db.getC4Type()==="C4Dynamic"&&(a.label.text=i+": "+a.label.text);let u=Ao(a.label.text,l);Lo("label",a,s,l,u),a.techn&&a.techn.text!==""&&(u=Ao(a.techn.text,l),Lo("techn",a,s,l,u)),a.descr&&a.descr.text!==""&&(u=Ao(a.descr.text,l),Lo("descr",a,s,l,u));let h=r(a.from),d=r(a.to),p=sse(h,d);a.startPoint=p.startPoint,a.endPoint=p.endPoint}hl.drawRels(e,t,Xt)},"drawRels"),o(z9,"drawInsideBoundary"),lse=o(function(e,t,r,n){Xt=we().c4;let i=we().securityLevel,a;i==="sandbox"&&(a=nt("#i"+t));let s=nt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),l=n.db;n.db.setWrap(Xt.wrap),G9=l.getC4ShapeInRow(),w5=l.getC4BoundaryInRow(),X.debug(`C:${JSON.stringify(Xt,null,2)}`);let u=i==="sandbox"?s.select(`[id="${t}"]`):nt(`[id="${t}"]`);hl.insertComputerIcon(u),hl.insertDatabaseIcon(u),hl.insertClockIcon(u);let h=new q9(n);h.setData(Xt.diagramMarginX,Xt.diagramMarginX,Xt.diagramMarginY,Xt.diagramMarginY),h.data.widthLimit=screen.availWidth,Wy=Xt.diagramMarginX,Vy=Xt.diagramMarginY;let d=n.db.getTitle(),p=n.db.getBoundarys("");z9(u,"",h,p,n),hl.insertArrowHead(u),hl.insertArrowEnd(u),hl.insertArrowCrossHead(u),hl.insertArrowFilledHead(u),ose(u,n.db.getRels(),n.db.getC4Shape,n),h.data.stopx=Wy,h.data.stopy=Vy;let f=h.data,g=f.stopy-f.starty+2*Xt.diagramMarginY,m=f.stopx-f.startx+2*Xt.diagramMarginX;d&&u.append("text").text(d).attr("x",(f.stopx-f.startx)/2-4*Xt.diagramMarginX).attr("y",f.starty+Xt.diagramMarginY),ba(u,g,m,Xt.useMaxWidth);let y=d?60:0;u.attr("viewBox",f.startx-Xt.diagramMarginX+" -"+(Xt.diagramMarginY+y)+" "+m+" "+(g+y)),X.debug("models:",f)},"draw"),H9={drawPersonOrSystemArray:Y9,drawBoundary:j9,setConf:T5,draw:lse}}),cse,use,NWe=I(()=>{"use strict";cse=o(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),use=cse}),hse={};Nt(hse,{diagram:()=>dse});var dse,IWe=I(()=>{"use strict";rm(),oV(),LWe(),NWe(),dse={parser:tm,db:V4,renderer:H9,styles:use,init:o(({c4:e,wrap:t})=>{H9.setConf(e),V4.setWrap(t)},"init")}});function E5(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function W9(e){Sh=e}function Es(e,t){if(t){if(Z9.test(e))return e.replace(mse,J9)}else if(Q9.test(e))return e.replace(yse,J9);return e}function pse(e){return e.replace(bse,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}function _n(e,t){let r=typeof e=="string"?e:e.source;t=t||"";let n={replace:o((i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(xse,"$1"),r=r.replace(i,s),n},"replace"),getRegex:o(()=>new RegExp(r,t),"getRegex")};return n}function V9(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}function X9(e,t){let r=e.replace(/\|/g,(a,s,l)=>{let u=!1,h=s;for(;--h>=0&&l[h]==="\\";)u=!u;return u?"|":" |"}),n=r.split(/ \|/),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function $1(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n;){let a=e.charAt(n-i-1);if(a===t&&!r)i++;else if(a!==t&&r)i++;else break}return e.slice(0,n-i)}function gse(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function K9(e,t,r,n){let i=t.href,a=t.title?Es(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;let l={type:"link",raw:r,href:i,title:a,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,l}return{type:"image",raw:r,href:i,title:a,text:Es(s)}}function fse(e,t){let r=e.match(/^(\s+)(?:```)/);if(r===null)return t;let n=r[1];return t.split(`
`).map(i=>{let a=i.match(/^\s+/);if(a===null)return i;let[s]=a;return s.length>=n.length?i.slice(n.length):i}).join(`
`)}function fn(e,t){return Nh.parse(e,t)}var Sh,Z9,mse,Q9,yse,vse,J9,bse,xse,F1,Ky,kse,wse,Tse,z1,Ese,eL,tL,_5,_se,C5,Cse,Sse,Zy,S5,Ase,rL,Lse,A5,nL,Nse,Ise,iL,Mse,aL,Dse,G1,Rse,Ose,Pse,Bse,$se,Fse,zse,Gse,qse,Qy,jse,sL,oL,Yse,L5,Use,N5,Hse,Jy,q1,Ah,e2,I5,Lh,t2,Wse,Nh,MWe,DWe,RWe,OWe,PWe,BWe,$We,FWe=I(()=>{"use strict";o(E5,"_getDefaults"),Sh=E5(),o(W9,"changeDefaults"),Z9=/[&<>"']/,mse=new RegExp(Z9.source,"g"),Q9=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,yse=new RegExp(Q9.source,"g"),vse={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},J9=o(e=>vse[e],"getEscapeReplacement"),o(Es,"escape$1"),bse=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,o(pse,"unescape"),xse=/(^|[^\[])\^/g,o(_n,"edit"),o(V9,"cleanUrl"),F1={exec:o(()=>null,"exec")},o(X9,"splitCells"),o($1,"rtrim"),o(gse,"findClosingBracket"),o(K9,"outputLink"),o(fse,"indentCodeCompensation"),Ky=class{static{o(this,"_Tokenizer")}options;rules;lexer;constructor(e){this.options=e||Sh}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:$1(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],n=fse(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){let n=$1(r,"#");(this.options.pedantic||!n||/ $/.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:$1(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=$1(t[0],`
`).split(`
`),n="",i="",a=[];for(;r.length>0;){let s=!1,l=[],u;for(u=0;u<r.length;u++)if(/^ {0,3}>/.test(r[u]))l.push(r[u]),s=!0;else if(!s)l.push(r[u]);else break;r=r.slice(u);let h=l.join(`
`),d=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");n=n?`${n}
${h}`:h,i=i?`${i}
${d}`:d;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,a,!0),this.lexer.state.top=p,r.length===0)break;let f=a[a.length-1];if(f?.type==="code")break;if(f?.type==="blockquote"){let g=f,m=g.raw+`
`+r.join(`
`),y=this.blockquote(m);a[a.length-1]=y,n=n.substring(0,n.length-g.raw.length)+y.raw,i=i.substring(0,i.length-g.text.length)+y.text;break}else if(f?.type==="list"){let g=f,m=g.raw+`
`+r.join(`
`),y=this.list(m);a[a.length-1]=y,n=n.substring(0,n.length-f.raw.length)+y.raw,i=i.substring(0,i.length-g.raw.length)+y.raw,r=m.substring(a[a.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:a,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let a=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),s=!1;for(;e;){let l=!1,u="",h="";if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let d=t[2].split(`
`,1)[0].replace(/^\t+/,b=>" ".repeat(3*b.length)),p=e.split(`
`,1)[0],f=!d.trim(),g=0;if(this.options.pedantic?(g=2,h=d.trimStart()):f?g=t[1].length+1:(g=t[2].search(/[^ ]/),g=g>4?1:g,h=d.slice(g),g+=t[1].length),f&&/^ *$/.test(p)&&(u+=p+`
`,e=e.substring(p.length+1),l=!0),!l){let b=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,g-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,g-1)}}#`);for(;e;){let w=e.split(`
`,1)[0];if(p=w,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),x.test(p)||k.test(p)||b.test(p)||v.test(e))break;if(p.search(/[^ ]/)>=g||!p.trim())h+=`
`+p.slice(g);else{if(f||d.search(/[^ ]/)>=4||x.test(d)||k.test(d)||v.test(d))break;h+=`
`+p}!f&&!p.trim()&&(f=!0),u+=w+`
`,e=e.substring(w.length+1),d=p.slice(g)}}i.loose||(s?i.loose=!0:/\n *\n *$/.test(u)&&(s=!0));let m=null,y;this.options.gfm&&(m=/^\[[ xX]\] /.exec(h),m&&(y=m[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:u,task:!!m,checked:y,loose:!1,text:h,tokens:[]}),i.raw+=u}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){let u=i.items[l].tokens.filter(d=>d.type==="space"),h=u.length>0&&u.some(d=>/\n.*\n/.test(d.raw));i.loose=h}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;let r=X9(t[1]),n=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let s of n)/^ *-+: *$/.test(s)?a.align.push("right"):/^ *:-+: *$/.test(s)?a.align.push("center"):/^ *:-+ *$/.test(s)?a.align.push("left"):a.align.push(null);for(let s=0;s<r.length;s++)a.header.push({text:r[s],tokens:this.lexer.inline(r[s]),header:!0,align:a.align[s]});for(let s of i)a.rows.push(X9(s,a.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[u]})));return a}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Es(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let a=$1(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{let a=gse(t[2],"()");if(a>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);a&&(n=a[1],i=a[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(r)?n=n.slice(1):n=n.slice(1,-1)),K9(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let n=(r[2]||r[1]).replace(/\s+/g," "),i=t[n.toLowerCase()];if(!i){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return K9(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(/[\p{L}\p{N}]/u))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let i=[...n[0]].length-1,a,s,l=i,u=0,h=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+i);(n=h.exec(t))!=null;){if(a=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!a)continue;if(s=[...a].length,n[3]||n[4]){l+=s;continue}else if((n[5]||n[6])&&i%3&&!((i+s)%3)){u+=s;continue}if(l-=s,l>0)continue;s=Math.min(s,s+l+u);let d=[...n[0]][0].length,p=e.slice(0,i+n.index+d+s);if(Math.min(i,s)%2){let g=p.slice(1,-1);return{type:"em",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}let f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," "),n=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return n&&i&&(r=r.substring(1,r.length-1)),r=Es(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=Es(t[1]),n="mailto:"+r):(r=Es(t[1]),n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,n;if(t[2]==="@")r=Es(t[0]),n="mailto:"+r;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);r=Es(t[0]),t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=t[0]:r=Es(t[0]),{type:"text",raw:t[0],text:r}}}},kse=/^(?: *(?:\n|$))+/,wse=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Tse=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,z1=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ese=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,eL=/(?:[*+-]|\d{1,9}[.)])/,tL=_n(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,eL).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_5=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,_se=/^[^\n]+/,C5=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Cse=_n(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",C5).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Sse=_n(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,eL).getRegex(),Zy="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",S5=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ase=_n("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",S5).replace("tag",Zy).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rL=_n(_5).replace("hr",z1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zy).getRegex(),Lse=_n(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",rL).getRegex(),A5={blockquote:Lse,code:wse,def:Cse,fences:Tse,heading:Ese,hr:z1,html:Ase,lheading:tL,list:Sse,newline:kse,paragraph:rL,table:F1,text:_se},nL=_n("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",z1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zy).getRegex(),Nse={...A5,table:nL,paragraph:_n(_5).replace("hr",z1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",nL).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zy).getRegex()},Ise={...A5,html:_n(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",S5).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:F1,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_n(_5).replace("hr",z1).replace("heading",` *#{1,6} *[^
]`).replace("lheading",tL).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},iL=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Mse=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,aL=/^( {2,}|\\)\n(?!\s*$)/,Dse=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,G1="\\p{P}\\p{S}",Rse=_n(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,G1).getRegex(),Ose=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Pse=_n(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,G1).getRegex(),Bse=_n("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,G1).getRegex(),$se=_n("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,G1).getRegex(),Fse=_n(/\\([punct])/,"gu").replace(/punct/g,G1).getRegex(),zse=_n(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Gse=_n(S5).replace("(?:-->|$)","-->").getRegex(),qse=_n("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Gse).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Qy=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,jse=_n(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Qy).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),sL=_n(/^!?\[(label)\]\[(ref)\]/).replace("label",Qy).replace("ref",C5).getRegex(),oL=_n(/^!?\[(ref)\](?:\[\])?/).replace("ref",C5).getRegex(),Yse=_n("reflink|nolink(?!\\()","g").replace("reflink",sL).replace("nolink",oL).getRegex(),L5={_backpedal:F1,anyPunctuation:Fse,autolink:zse,blockSkip:Ose,br:aL,code:Mse,del:F1,emStrongLDelim:Pse,emStrongRDelimAst:Bse,emStrongRDelimUnd:$se,escape:iL,link:jse,nolink:oL,punctuation:Rse,reflink:sL,reflinkSearch:Yse,tag:qse,text:Dse,url:F1},Use={...L5,link:_n(/^!?\[(label)\]\((.*?)\)/).replace("label",Qy).getRegex(),reflink:_n(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Qy).getRegex()},N5={...L5,escape:_n(iL).replace("])","~|])").getRegex(),url:_n(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Hse={...N5,br:_n(aL).replace("{2,}","*").getRegex(),text:_n(N5.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Jy={normal:A5,gfm:Nse,pedantic:Ise},q1={normal:L5,gfm:N5,breaks:Hse,pedantic:Use},Ah=class Hj{static{o(this,"_Lexer")}tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Sh,this.options.tokenizer=this.options.tokenizer||new Ky,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:Jy.normal,inline:q1.normal};this.options.pedantic?(r.block=Jy.pedantic,r.inline=q1.pedantic):this.options.gfm&&(r.block=Jy.gfm,this.options.breaks?r.inline=q1.breaks:r.inline=q1.gfm),this.tokenizer.rules=r}static get rules(){return{block:Jy,inline:q1}}static lex(t,r){return new Hj(r).lex(t)}static lexInline(t,r){return new Hj(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(l,u,h)=>u+"    ".repeat(h.length));let i,a,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(i=l.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))){if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length),i.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let l=1/0,u=t.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},u),typeof h=="number"&&h>=0&&(l=Math.min(l,h))}),l<1/0&&l>=0&&(s=t.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){a=r[r.length-1],n&&a?.type==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i),n=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length),a=r[r.length-1],a&&a.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(t){let l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,i,a,s=t,l,u,h;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,l.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(u||(h=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(n=d.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,h)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(a=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0,p=t.slice(1),f;this.options.extensions.startInline.forEach(g=>{f=g.call({lexer:this},p),typeof f=="number"&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(a=t.substring(0,d+1))}if(n=this.tokenizer.inlineText(a)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(h=n.raw.slice(-1)),u=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(t){let d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}},e2=class{static{o(this,"_Renderer")}options;parser;constructor(e){this.options=e||Sh}space(e){return""}code({text:e,lang:t,escaped:r}){let n=(t||"").match(/^\S*/)?.[0],i=e.replace(/\n$/,"")+`
`;return n?'<pre><code class="language-'+Es(n)+'">'+(r?i:Es(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:Es(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,n="";for(let s=0;s<e.items.length;s++){let l=e.items[s];n+=this.listitem(l)}let i=t?"ol":"ul",a=t&&r!==1?' start="'+r+'"':"";return"<"+i+a+`>
`+n+"</"+i+`>
`}listitem(e){let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" "}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);t+=this.tablerow({text:r});let n="";for(let i=0;i<e.rows.length;i++){let a=e.rows[i];r="";for(let s=0;s<a.length;s++)r+=this.tablecell(a[s]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let n=this.parser.parseInline(r),i=V9(e);if(i===null)return n;e=i;let a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+n+"</a>",a}image({href:e,title:t,text:r}){let n=V9(e);if(n===null)return r;e=n;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}},I5=class{static{o(this,"_TextRenderer")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Lh=class Wj{static{o(this,"_Parser")}options;renderer;textRenderer;constructor(t){this.options=t||Sh,this.options.renderer=this.options.renderer||new e2,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new I5}static parse(t,r){return new Wj(r).parse(t)}static parseInline(t,r){return new Wj(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){let a=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){let l=a,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){n+=u||"";continue}}let s=a;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let l=s,u=this.renderer.text(l);for(;i+1<t.length&&t[i+1].type==="text";)l=t[++i],u+=`
`+this.renderer.text(l);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u}]}):n+=u;continue}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let i=0;i<t.length;i++){let a=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){let l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=l||"";continue}}let s=a;switch(s.type){case"escape":{n+=r.text(s);break}case"html":{n+=r.html(s);break}case"link":{n+=r.link(s);break}case"image":{n+=r.image(s);break}case"strong":{n+=r.strong(s);break}case"em":{n+=r.em(s);break}case"codespan":{n+=r.codespan(s);break}case"br":{n+=r.br(s);break}case"del":{n+=r.del(s);break}case"text":{n+=r.text(s);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}},t2=class{static{o(this,"_Hooks")}options;constructor(e){this.options=e||Sh}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}},Wse=class{static{o(this,"Marked")}defaults=E5();options=this.setOptions;parse=this.#e(Ah.lex,Lh.parse);parseInline=this.#e(Ah.lexInline,Lh.parseInline);Parser=Lh;Renderer=e2;TextRenderer=I5;Lexer=Ah;Tokenizer=Ky;Hooks=t2;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(this,n)),n.type){case"table":{let i=n;for(let a of i.header)r=r.concat(this.walkTokens(a.tokens,t));for(let a of i.rows)for(let s of a)r=r.concat(this.walkTokens(s.tokens,t));break}case"list":{let i=n;r=r.concat(this.walkTokens(i.items,t));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{let s=i[a].flat(1/0);r=r.concat(this.walkTokens(s,t))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let a=t.renderers[i.name];a?t.renderers[i.name]=function(...s){let l=i.renderer.apply(this,s);return l===!1&&(l=a.apply(this,s)),l}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=t[i.level];a?a.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),n.extensions=t),r.renderer){let i=this.defaults.renderer||new e2(this.defaults);for(let a in r.renderer){if(!(a in i))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let s=a,l=r.renderer[s];r.useNewRenderer||(l=this.#t(l,s,i));let u=i[s];i[s]=(...h)=>{let d=l.apply(i,h);return d===!1&&(d=u.apply(i,h)),d||""}}n.renderer=i}if(r.tokenizer){let i=this.defaults.tokenizer||new Ky(this.defaults);for(let a in r.tokenizer){if(!(a in i))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let s=a,l=r.tokenizer[s],u=i[s];i[s]=(...h)=>{let d=l.apply(i,h);return d===!1&&(d=u.apply(i,h)),d}}n.tokenizer=i}if(r.hooks){let i=this.defaults.hooks||new t2;for(let a in r.hooks){if(!(a in i))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;let s=a,l=r.hooks[s],u=i[s];t2.passThroughHooks.has(a)?i[s]=h=>{if(this.defaults.async)return Promise.resolve(l.call(i,h)).then(p=>u.call(i,p));let d=l.call(i,h);return u.call(i,d)}:i[s]=(...h)=>{let d=l.apply(i,h);return d===!1&&(d=u.apply(i,h)),d}}n.hooks=i}if(r.walkTokens){let i=this.defaults.walkTokens,a=r.walkTokens;n.walkTokens=function(s){let l=[];return l.push(a.call(this,s)),i&&(l=l.concat(i.call(this,s))),l}}this.defaults={...this.defaults,...n}}),this}#t(e,t,r){switch(t){case"heading":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,r.parser.parseInline(n.tokens),n.depth,pse(r.parser.parseInline(n.tokens,r.parser.textRenderer)))};case"code":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text,n.lang,!!n.escaped)};case"table":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);let i="",a="";for(let l=0;l<n.header.length;l++)a+=this.tablecell({text:n.header[l].text,tokens:n.header[l].tokens,header:!0,align:n.align[l]});i+=this.tablerow({text:a});let s="";for(let l=0;l<n.rows.length;l++){let u=n.rows[l];a="";for(let h=0;h<u.length;h++)a+=this.tablecell({text:u[h].text,tokens:u[h].tokens,header:!1,align:n.align[h]});s+=this.tablerow({text:a})}return e.call(this,i,s)};case"blockquote":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);let i=this.parser.parse(n.tokens);return e.call(this,i)};case"list":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);let i=n.ordered,a=n.start,s=n.loose,l="";for(let u=0;u<n.items.length;u++){let h=n.items[u],d=h.checked,p=h.task,f="";if(h.task){let g=this.checkbox({checked:!!d});s?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=g+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=g+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:g+" "}):f+=g+" "}f+=this.parser.parse(h.tokens,s),l+=this.listitem({type:"list_item",raw:f,text:f,task:p,checked:!!d,loose:s,tokens:h.tokens})}return e.call(this,l,i,a)};case"html":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text,n.block)};case"paragraph":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(n.tokens))};case"escape":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text)};case"link":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.href,n.title,this.parser.parseInline(n.tokens))};case"image":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.href,n.title,n.text)};case"strong":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(n.tokens))};case"em":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(n.tokens))};case"codespan":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text)};case"del":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(n.tokens))};case"text":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text)}}return e}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ah.lex(e,t??this.defaults)}parser(e,t){return Lh.parse(e,t??this.defaults)}#e(e,t){return(r,n)=>{let i={...n},a={...this.defaults,...i};this.defaults.async===!0&&i.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);let s=this.#r(!!a.silent,!!a.async);if(typeof r>"u"||r===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(l=>e(l,a)).then(l=>a.hooks?a.hooks.processAllTokens(l):l).then(l=>a.walkTokens?Promise.all(this.walkTokens(l,a.walkTokens)).then(()=>l):l).then(l=>t(l,a)).then(l=>a.hooks?a.hooks.postprocess(l):l).catch(s);try{a.hooks&&(r=a.hooks.preprocess(r));let l=e(r,a);a.hooks&&(l=a.hooks.processAllTokens(l)),a.walkTokens&&this.walkTokens(l,a.walkTokens);let u=t(l,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(l){return s(l)}}}#r(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+Es(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},Nh=new Wse,o(fn,"marked"),fn.options=fn.setOptions=function(e){return Nh.setOptions(e),fn.defaults=Nh.defaults,W9(fn.defaults),fn},fn.getDefaults=E5,fn.defaults=Sh,fn.use=function(...e){return Nh.use(...e),fn.defaults=Nh.defaults,W9(fn.defaults),fn},fn.walkTokens=function(e,t){return Nh.walkTokens(e,t)},fn.parseInline=Nh.parseInline,fn.Parser=Lh,fn.parser=Lh.parse,fn.Renderer=e2,fn.TextRenderer=I5,fn.Lexer=Ah,fn.lexer=Ah.lex,fn.Tokenizer=Ky,fn.Hooks=t2,fn.parse=fn,MWe=fn.options,DWe=fn.setOptions,RWe=fn.use,OWe=fn.walkTokens,PWe=fn.parseInline,BWe=Lh.parse,$We=Ah.lex});function Vse(e,{markdownAutoWrap:t}){let r=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),n=Ae(r);return t===!1?n.replace(/ /g,"&nbsp;"):n}function Xse(e,t={}){let r=Vse(e,t),n=fn.lexer(r),i=[[]],a=0;function s(l,u="normal"){l.type==="text"?l.text.split(`
`).forEach((h,d)=>{d!==0&&(a++,i.push([])),h.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&i[a].push({content:p,type:u})})}):l.type==="strong"||l.type==="em"?l.tokens.forEach(h=>{s(h,l.type)}):l.type==="html"&&i[a].push({content:l.text,type:"normal"})}return o(s,"processNode"),n.forEach(l=>{l.type==="paragraph"?l.tokens?.forEach(u=>{s(u)}):l.type==="html"&&i[a].push({content:l.text,type:"normal"})}),i}function Kse(e,{markdownAutoWrap:t}={}){let r=fn.lexer(e);function n(i){return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(n).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:`Unsupported markdown: ${i.type}`}return o(n,"output"),r.map(n).join("")}var zWe=I(()=>{"use strict";FWe(),Ce(),o(Vse,"preprocessMarkdown"),o(Xse,"markdownToLines"),o(Kse,"markdownToHTML")});function Zse(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}function Qse(e,t){let r=Zse(t.content);return lL(e,[],r,t.type)}function lL(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];let[i,...a]=r,s=[...t,i];return e([{content:s.join(""),type:n}])?lL(e,s,a,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}function Jse(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return M5(e,t)}function M5(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());let a=e.shift()??{content:" ",type:"normal"},s=[...n];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),t(s))return M5(e,t,r,s);if(n.length>0)r.push(n),e.unshift(a);else if(a.content){let[l,u]=Qse(t,a);r.push([l]),u.content&&e.unshift(u)}return M5(e,t,r)}var GWe=I(()=>{"use strict";o(Zse,"splitTextToChars"),o(Qse,"splitWordToFitWidth"),o(lL,"splitWordToFitWidthRecursion"),o(Jse,"splitLineToFitWidth"),o(M5,"splitLineToFitWidthRecursion")});function cL(e,t){t&&e.attr("style",t)}async function eoe(e,t,r,n,i=!1){let a=e.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);let s=a.append("xhtml:div"),l=t.label;t.label&&va(t.label)&&(l=await n1(t.label.replace(ot.lineBreakRegex,`
`),we()));let u=t.isNode?"nodeLabel":"edgeLabel",h=s.append("span");h.html(l),cL(h,t.labelStyle),h.attr("class",`${u} ${n}`),cL(s,t.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let d=s.node().getBoundingClientRect();return d.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),d=s.node().getBoundingClientRect()),a.node()}function D5(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function toe(e,t,r){let n=e.append("text"),i=D5(n,1,t);R5(i,r);let a=i.node().getComputedTextLength();return n.remove(),a}function roe(e,t,r){let n=e.append("text"),i=D5(n,1,t);R5(i,[{content:r,type:"normal"}]);let a=i.node()?.getBoundingClientRect();return a&&n.remove(),a}function noe(e,t,r,n=!1){let i=t.append("g"),a=i.insert("rect").attr("class","background").attr("style","stroke: none"),s=i.append("text").attr("y","-10.1"),l=0;for(let u of r){let h=o(p=>toe(i,1.1,p)<=e,"checkWidth"),d=h(u)?[u]:Jse(u,h);for(let p of d){let f=D5(s,l,1.1);R5(f,p),l++}}if(n){let u=s.node().getBBox(),h=2;return a.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),i.node()}else return s.node()}function R5(e,t){e.text(""),t.forEach((r,n)=>{let i=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}function uL(e){return e.replace(/fa[bklrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`)}var Qs,ac=I(()=>{"use strict";tr(),Pr(),Fr(),Ye(),zWe(),Dr(),GWe(),o(cL,"applyStyle"),o(eoe,"addHtmlSpan"),o(D5,"createTspan"),o(toe,"computeWidthOfText"),o(roe,"computeDimensionOfText"),o(noe,"createFormattedText"),o(R5,"updateTextContentAndStyles"),o(uL,"replaceIconSubstring"),Qs=o(async(e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:l=200,addSvgBackground:u=!1}={},h)=>{if(X.debug("XYZ createText",t,r,n,i,a,s,"addSvgBackground: ",u),a){let d=Kse(t,h),p=uL(ic(d)),f=t.replace(/\\\\/g,"\\"),g={isNode:s,label:va(t)?f:p,labelStyle:r.replace("fill:","color:")};return await eoe(e,g,l,i,u)}else{let d=t.replace(/<br\s*\/?>/g,"<br/>"),p=Xse(d.replace("<br>","<br/>"),h),f=noe(l,e,p,t?u:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));let g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");nt(f).attr("style",g)}else{let g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");nt(f).select("rect").attr("style",g.replace(/background:/g,"fill:"));let m=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");nt(f).select("text").attr("style",m)}return f}},"createText")});function Qr(e){let t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}function Ih(e,t,r,n,i,a){let s=[],l=r-e,u=n-t,h=l/a,d=2*Math.PI/h,p=t+u/2;for(let f=0;f<=50;f++){let g=f/50,m=e+g*l,y=p+i*Math.sin(d*(m-e));s.push({x:m,y})}return s}function hL(e,t,r,n,i,a){let s=[],l=i*Math.PI/180,u=(a*Math.PI/180-l)/(n-1);for(let h=0;h<n;h++){let d=l+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:-p,y:-f})}return s}var Er,O5,rr,_r,Yt=I(()=>{"use strict";ac(),tr(),Fr(),Gs(),Pr(),Dr(),Er=o(async(e,t,r)=>{let n,i=t.useHtmlLabels||Nn(we()?.htmlLabels);r?n=r:n="node default";let a=e.insert("g").attr("class",n).attr("id",t.domId||t.id),s=a.insert("g").attr("class","label").attr("style",Qa(t.labelStyle)),l;t.label===void 0?l="":l=typeof t.label=="string"?t.label:t.label[0];let u=await Qs(s,En(ic(l),we()),{useHtmlLabels:i,width:t.width||we().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img}),h=u.getBBox(),d=(t?.padding??0)/2;if(i){let p=u.children[0],f=nt(u),g=p.getElementsByTagName("img");if(g){let m=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(y=>new Promise(b=>{function v(){if(y.style.display="flex",y.style.flexDirection="column",m){let x=we().fontSize?we().fontSize:window.getComputedStyle(document.body).fontSize,k=5,[w=Kr.fontSize]=Qc(x),_=w*k+"px";y.style.minWidth=_,y.style.maxWidth=_}else y.style.width="100%";b(y)}o(v,"setupImage"),setTimeout(()=>{y.complete&&v()}),y.addEventListener("error",v),y.addEventListener("load",v)})))}h=p.getBoundingClientRect(),f.attr("width",h.width),f.attr("height",h.height)}return i?s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):s.attr("transform","translate(0, "+-h.height/2+")"),t.centerLabel&&s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:h,halfPadding:d,label:s}},"labelHelper"),O5=o(async(e,t,r)=>{let n=r.useHtmlLabels||Nn(we()?.flowchart?.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=await Qs(i,En(ic(t),we()),{useHtmlLabels:n,width:r.width||we()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img}),s=a.getBBox(),l=r.padding/2;if(Nn(we()?.flowchart?.htmlLabels)){let u=a.children[0],h=nt(a);s=u.getBoundingClientRect(),h.attr("width",s.width),h.attr("height",s.height)}return n?i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):i.attr("transform","translate(0, "+-s.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:s,halfPadding:l,label:i}},"insertLabel"),rr=o((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),_r=o((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses"),o(Qr,"createPathFromPoints"),o(Ih,"generateFullSineWavePoints"),o(hL,"generateCirclePoints")});function ioe(e,t){return e.intersect(t)}var aoe,qWe=I(()=>{"use strict";o(ioe,"intersectNode"),aoe=ioe});function soe(e,t,r,n){var i=e.x,a=e.y,s=i-n.x,l=a-n.y,u=Math.sqrt(t*t*l*l+r*r*s*s),h=Math.abs(t*r*s/u);n.x<i&&(h=-h);var d=Math.abs(t*r*l/u);return n.y<a&&(d=-d),{x:i+h,y:a+d}}var dL,ooe=I(()=>{"use strict";o(soe,"intersectEllipse"),dL=soe});function loe(e,t,r){return dL(e,t,t,r)}var coe,jWe=I(()=>{"use strict";ooe(),o(loe,"intersectCircle"),coe=loe});function uoe(e,t,r,n){var i,a,s,l,u,h,d,p,f,g,m,y,b,v,x;if(i=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,f=i*r.x+s*r.y+u,g=i*n.x+s*n.y+u,!(f!==0&&g!==0&&pL(f,g))&&(a=n.y-r.y,l=r.x-n.x,h=n.x*r.y-r.x*n.y,d=a*e.x+l*e.y+h,p=a*t.x+l*t.y+h,!(d!==0&&p!==0&&pL(d,p))&&(m=i*l-a*s,m!==0)))return y=Math.abs(m/2),b=s*h-l*u,v=b<0?(b-y)/m:(b+y)/m,b=a*u-i*h,x=b<0?(b-y)/m:(b+y)/m,{x:v,y:x}}function pL(e,t){return e*t>0}var hoe,YWe=I(()=>{"use strict";o(uoe,"intersectLine"),o(pL,"sameSign"),hoe=uoe});function doe(e,t,r){let n=e.x,i=e.y,a=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){s=Math.min(s,d.x),l=Math.min(l,d.y)}):(s=Math.min(s,t.x),l=Math.min(l,t.y));let u=n-e.width/2-s,h=i-e.height/2-l;for(let d=0;d<t.length;d++){let p=t[d],f=t[d<t.length-1?d+1:0],g=hoe(e,r,{x:u+p.x,y:h+p.y},{x:u+f.x,y:h+f.y});g&&a.push(g)}return a.length?(a.length>1&&a.sort(function(d,p){let f=d.x-r.x,g=d.y-r.y,m=Math.sqrt(f*f+g*g),y=p.x-r.x,b=p.y-r.y,v=Math.sqrt(y*y+b*b);return m<v?-1:m===v?0:1}),a[0]):e}var poe,UWe=I(()=>{"use strict";YWe(),o(doe,"intersectPolygon"),poe=doe}),goe,m0,foe=I(()=>{"use strict";goe=o((e,t)=>{var r=e.x,n=e.y,i=t.x-r,a=t.y-n,s=e.width/2,l=e.height/2,u,h;return Math.abs(a)*s>Math.abs(i)*l?(a<0&&(l=-l),u=a===0?0:l*i/a,h=l):(i<0&&(s=-s),u=s,h=i===0?0:s*a/i),{x:r+u,y:n+h}},"intersectRect"),m0=goe}),Ht,cr=I(()=>{"use strict";qWe(),jWe(),ooe(),UWe(),foe(),Ht={node:aoe,circle:coe,ellipse:dL,polygon:poe,rect:m0}}),moe,y0,yoe,ar,Jt,ur=I(()=>{"use strict";tr(),moe=o(e=>{let{handDrawnSeed:t}=we();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),y0=o(e=>{let t=yoe([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),yoe=o(e=>{let t=new Map;return e.forEach(r=>{let[n,i]=r.split(":");t.set(n.trim(),i?.trim())}),t},"styles2Map"),ar=o(e=>{let{stylesArray:t}=y0(e),r=[],n=[],i=[],a=[];return t.forEach(s=>{let l=s[0];l==="color"||l==="font-size"||l==="font-family"||l==="font-weight"||l==="font-style"||l==="text-decoration"||l==="text-align"||l==="text-transform"||l==="line-height"||l==="letter-spacing"||l==="word-spacing"||l==="text-shadow"||l==="text-overflow"||l==="white-space"||l==="word-wrap"||l==="word-break"||l==="overflow-wrap"||l==="hyphens"?r.push(s.join(":")+" !important"):(n.push(s.join(":")+" !important"),l.includes("stroke")&&i.push(s.join(":")+" !important"),l==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:a}},"styles2String"),Jt=o((e,t)=>{let{themeVariables:r,handDrawnSeed:n}=we(),{nodeBorder:i,mainBkg:a}=r,{stylesMap:s}=y0(e);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:n,strokeWidth:s.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0]},t)},"userNodeOverrides")});function P5(e,t,r){if(e&&e.length){let[n,i]=t,a=Math.PI/180*r,s=Math.cos(a),l=Math.sin(a);for(let u of e){let[h,d]=u;u[0]=(h-n)*s-(d-i)*l+n,u[1]=(h-n)*l+(d-i)*s+i}}}function voe(e,t){return e[0]===t[0]&&e[1]===t[1]}function boe(e,t,r,n=1){let i=r,a=Math.max(t,.1),s=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,l=[0,0];if(i)for(let h of s)P5(h,l,i);let u=function(h,d,p){let f=[];for(let x of h){let k=[...x];voe(k[0],k[k.length-1])||k.push([k[0][0],k[0][1]]),k.length>2&&f.push(k)}let g=[];d=Math.max(d,.1);let m=[];for(let x of f)for(let k=0;k<x.length-1;k++){let w=x[k],_=x[k+1];if(w[1]!==_[1]){let S=Math.min(w[1],_[1]);m.push({ymin:S,ymax:Math.max(w[1],_[1]),x:S===w[1]?w[0]:_[0],islope:(_[0]-w[0])/(_[1]-w[1])})}}if(m.sort((x,k)=>x.ymin<k.ymin?-1:x.ymin>k.ymin?1:x.x<k.x?-1:x.x>k.x?1:x.ymax===k.ymax?0:(x.ymax-k.ymax)/Math.abs(x.ymax-k.ymax)),!m.length)return g;let y=[],b=m[0].ymin,v=0;for(;y.length||m.length;){if(m.length){let x=-1;for(let k=0;k<m.length&&!(m[k].ymin>b);k++)x=k;m.splice(0,x+1).forEach(k=>{y.push({s:b,edge:k})})}if(y=y.filter(x=>!(x.edge.ymax<=b)),y.sort((x,k)=>x.edge.x===k.edge.x?0:(x.edge.x-k.edge.x)/Math.abs(x.edge.x-k.edge.x)),(p!==1||v%d==0)&&y.length>1)for(let x=0;x<y.length;x+=2){let k=x+1;if(k>=y.length)break;let w=y[x].edge,_=y[k].edge;g.push([[Math.round(w.x),b],[Math.round(_.x),b]])}b+=p,y.forEach(x=>{x.edge.x=x.edge.x+p*x.edge.islope}),v++}return g}(s,a,n);if(i){for(let h of s)P5(h,l,-i);(function(h,d,p){let f=[];h.forEach(g=>f.push(...g)),P5(f,d,p)})(u,l,-i)}return u}function j1(e,t){var r;let n=t.hachureAngle+90,i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=i),boe(e,i,n,a||1)}function r2(e){let t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}function B5(e,t){return e.type===t}function $5(e){let t=[],r=function(s){let l=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))l[l.length]={type:Noe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];l[l.length]={type:U5,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return l[l.length]={type:SL,text:""},l}(e),n="BOD",i=0,a=r[i];for(;!B5(a,SL);){let s=0,l=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return $5("M0,0"+e);i++,s=c2[a.text],n=a.text}else B5(a,U5)?s=c2[n]:(i++,s=c2[a.text],n=a.text);if(!(i+s<r.length))throw new Error("Path data ended short");for(let u=i;u<i+s;u++){let h=r[u];if(!B5(h,U5))throw new Error("Param not a number: "+n+","+h.text);l[l.length]=+h.text}if(typeof c2[n]!="number")throw new Error("Bad segment: "+n);{let u={key:n,data:l};t.push(u),i+=s,a=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function gL(e){let t=0,r=0,n=0,i=0,a=[];for(let{key:s,data:l}of e)switch(s){case"M":a.push({key:"M",data:[...l]}),[t,r]=l,[n,i]=l;break;case"m":t+=l[0],r+=l[1],a.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":a.push({key:"L",data:[...l]}),[t,r]=l;break;case"l":t+=l[0],r+=l[1],a.push({key:"L",data:[t,r]});break;case"C":a.push({key:"C",data:[...l]}),t=l[4],r=l[5];break;case"c":{let u=l.map((h,d)=>d%2?h+r:h+t);a.push({key:"C",data:u}),t=u[4],r=u[5];break}case"Q":a.push({key:"Q",data:[...l]}),t=l[2],r=l[3];break;case"q":{let u=l.map((h,d)=>d%2?h+r:h+t);a.push({key:"Q",data:u}),t=u[2],r=u[3];break}case"A":a.push({key:"A",data:[...l]}),t=l[5],r=l[6];break;case"a":t+=l[5],r+=l[6],a.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],t,r]});break;case"H":a.push({key:"H",data:[...l]}),t=l[0];break;case"h":t+=l[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...l]}),r=l[0];break;case"v":r+=l[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...l]}),t=l[2],r=l[3];break;case"s":{let u=l.map((h,d)=>d%2?h+r:h+t);a.push({key:"S",data:u}),t=u[2],r=u[3];break}case"T":a.push({key:"T",data:[...l]}),t=l[0],r=l[1];break;case"t":t+=l[0],r+=l[1],a.push({key:"T",data:[t,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=n,r=i}return a}function fL(e){let t=[],r="",n=0,i=0,a=0,s=0,l=0,u=0;for(let{key:h,data:d}of e){switch(h){case"M":t.push({key:"M",data:[...d]}),[n,i]=d,[a,s]=d;break;case"C":t.push({key:"C",data:[...d]}),n=d[4],i=d[5],l=d[2],u=d[3];break;case"L":t.push({key:"L",data:[...d]}),[n,i]=d;break;case"H":n=d[0],t.push({key:"L",data:[n,i]});break;case"V":i=d[0],t.push({key:"L",data:[n,i]});break;case"S":{let p=0,f=0;r==="C"||r==="S"?(p=n+(n-l),f=i+(i-u)):(p=n,f=i),t.push({key:"C",data:[p,f,...d]}),l=d[0],u=d[1],n=d[2],i=d[3];break}case"T":{let[p,f]=d,g=0,m=0;r==="Q"||r==="T"?(g=n+(n-l),m=i+(i-u)):(g=n,m=i);let y=n+2*(g-n)/3,b=i+2*(m-i)/3,v=p+2*(g-p)/3,x=f+2*(m-f)/3;t.push({key:"C",data:[y,b,v,x,p,f]}),l=g,u=m,n=p,i=f;break}case"Q":{let[p,f,g,m]=d,y=n+2*(p-n)/3,b=i+2*(f-i)/3,v=g+2*(p-g)/3,x=m+2*(f-m)/3;t.push({key:"C",data:[y,b,v,x,g,m]}),l=p,u=f,n=g,i=m;break}case"A":{let p=Math.abs(d[0]),f=Math.abs(d[1]),g=d[2],m=d[3],y=d[4],b=d[5],v=d[6];p===0||f===0?(t.push({key:"C",data:[n,i,b,v,b,v]}),n=b,i=v):(n!==b||i!==v)&&(mL(n,i,b,v,p,f,g,m,y).forEach(function(x){t.push({key:"C",data:x})}),n=b,i=v);break}case"Z":t.push({key:"Z",data:[]}),n=a,i=s}r=h}return t}function Y1(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function mL(e,t,r,n,i,a,s,l,u,h){let d=(p=s,Math.PI*p/180);var p;let f=[],g=0,m=0,y=0,b=0;if(h)[g,m,y,b]=h;else{[e,t]=Y1(e,t,-d),[r,n]=Y1(r,n,-d);let B=(e-r)/2,E=(t-n)/2,R=B*B/(i*i)+E*E/(a*a);R>1&&(R=Math.sqrt(R),i*=R,a*=R);let O=i*i,P=a*a,A=O*P-O*E*E-P*B*B,$=O*E*E+P*B*B,F=(l===u?-1:1)*Math.sqrt(Math.abs(A/$));y=F*i*E/a+(e+r)/2,b=F*-a*B/i+(t+n)/2,g=Math.asin(parseFloat(((t-b)/a).toFixed(9))),m=Math.asin(parseFloat(((n-b)/a).toFixed(9))),e<y&&(g=Math.PI-g),r<y&&(m=Math.PI-m),g<0&&(g=2*Math.PI+g),m<0&&(m=2*Math.PI+m),u&&g>m&&(g-=2*Math.PI),!u&&m>g&&(m-=2*Math.PI)}let v=m-g;if(Math.abs(v)>120*Math.PI/180){let B=m,E=r,R=n;m=u&&m>g?g+120*Math.PI/180*1:g+120*Math.PI/180*-1,f=mL(r=y+i*Math.cos(m),n=b+a*Math.sin(m),E,R,i,a,s,0,u,[m,B,y,b])}v=m-g;let x=Math.cos(g),k=Math.sin(g),w=Math.cos(m),_=Math.sin(m),S=Math.tan(v/4),C=4/3*i*S,T=4/3*a*S,N=[e,t],D=[e+C*k,t-T*x],M=[r+C*_,n-T*w],L=[r,n];if(D[0]=2*N[0]-D[0],D[1]=2*N[1]-D[1],h)return[D,M,L].concat(f);{f=[D,M,L].concat(f);let B=[];for(let E=0;E<f.length;E+=3){let R=Y1(f[E][0],f[E][1],d),O=Y1(f[E+1][0],f[E+1][1],d),P=Y1(f[E+2][0],f[E+2][1],d);B.push([R[0],R[1],O[0],O[1],P[0],P[1]])}return B}}function yL(e,t,r,n,i){return{type:"path",ops:Jc(e,t,r,n,i)}}function n2(e,t,r){let n=(e||[]).length;if(n>2){let i=[];for(let a=0;a<n-1;a++)i.push(...Jc(e[a][0],e[a][1],e[a+1][0],e[a+1][1],r));return t&&i.push(...Jc(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?yL(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function xoe(e,t,r,n,i){return function(a,s){return n2(a,!0,s)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function vL(e,t){if(e.length){let r=typeof e[0][0]=="number"?[e]:e,n=a2(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:a2(r[0],1.5*(1+.22*t.roughness),wL(t));for(let a=1;a<r.length;a++){let s=r[a];if(s.length){let l=a2(s,1*(1+.2*t.roughness),t),u=t.disableMultiStroke?[]:a2(s,1.5*(1+.22*t.roughness),wL(t));for(let h of l)h.op!=="move"&&n.push(h);for(let h of u)h.op!=="move"&&i.push(h)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function bL(e,t,r){let n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i,s=Math.abs(e/2),l=Math.abs(t/2),u=1-r.curveFitting;return s+=vr(s*u,r),l+=vr(l*u,r),{increment:a,rx:s,ry:l}}function F5(e,t,r,n){let[i,a]=EL(n.increment,e,t,n.rx,n.ry,1,n.increment*i2(.1,i2(.4,1,r),r),r),s=s2(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){let[l]=EL(n.increment,e,t,n.rx,n.ry,1.5,0,r),u=s2(l,null,r);s=s.concat(u)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function xL(e,t,r,n,i,a,s,l,u){let h=e,d=t,p=Math.abs(r/2),f=Math.abs(n/2);p+=vr(.01*p,u),f+=vr(.01*f,u);let g=i,m=a;for(;g<0;)g+=2*Math.PI,m+=2*Math.PI;m-g>2*Math.PI&&(g=0,m=2*Math.PI);let y=2*Math.PI/u.curveStepCount,b=Math.min(y/2,(m-g)/2),v=_L(b,h,d,p,f,g,m,1,u);if(!u.disableMultiStroke){let x=_L(b,h,d,p,f,g,m,1.5,u);v.push(...x)}return s&&(l?v.push(...Jc(h,d,h+p*Math.cos(g),d+f*Math.sin(g),u),...Jc(h,d,h+p*Math.cos(m),d+f*Math.sin(m),u)):v.push({op:"lineTo",data:[h,d]},{op:"lineTo",data:[h+p*Math.cos(g),d+f*Math.sin(g)]})),{type:"path",ops:v}}function kL(e,t){let r=fL(gL($5(e))),n=[],i=[0,0],a=[0,0];for(let{key:s,data:l}of r)switch(s){case"M":a=[l[0],l[1]],i=[l[0],l[1]];break;case"L":n.push(...Jc(a[0],a[1],l[0],l[1],t)),a=[l[0],l[1]];break;case"C":{let[u,h,d,p,f,g]=l;n.push(...koe(u,h,d,p,f,g,a,t)),a=[f,g];break}case"Z":n.push(...Jc(a[0],a[1],i[0],i[1],t)),a=[i[0],i[1]]}return{type:"path",ops:n}}function z5(e,t){let r=[];for(let n of e)if(n.length){let i=t.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+vr(i,t),n[0][1]+vr(i,t)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[n[s][0]+vr(i,t),n[s][1]+vr(i,t)]})}}return{type:"fillPath",ops:r}}function v0(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!Ja[i])switch(i){case"zigzag":Ja[i]||(Ja[i]=new Eoe(n));break;case"cross-hatch":Ja[i]||(Ja[i]=new _oe(n));break;case"dots":Ja[i]||(Ja[i]=new Coe(n));break;case"dashed":Ja[i]||(Ja[i]=new Soe(n));break;case"zigzag-line":Ja[i]||(Ja[i]=new Aoe(n));break;default:i="hachure",Ja[i]||(Ja[i]=new Y5(n))}return Ja[i]}(t,Ioe).fillPolygons(e,t)}function wL(e){let t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function TL(e){return e.randomizer||(e.randomizer=new Loe(e.seed||0)),e.randomizer.next()}function i2(e,t,r,n=1){return r.roughness*n*(TL(r)*(t-e)+e)}function vr(e,t,r=1){return i2(-e,e,t,r)}function Jc(e,t,r,n,i,a=!1){let s=a?i.disableMultiStrokeFill:i.disableMultiStroke,l=G5(e,t,r,n,i,!0,!1);if(s)return l;let u=G5(e,t,r,n,i,!0,!0);return l.concat(u)}function G5(e,t,r,n,i,a,s){let l=Math.pow(e-r,2)+Math.pow(t-n,2),u=Math.sqrt(l),h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let d=i.maxRandomnessOffset||0;d*d*100>l&&(d=u/10);let p=d/2,f=.2+.2*TL(i),g=i.bowing*i.maxRandomnessOffset*(n-t)/200,m=i.bowing*i.maxRandomnessOffset*(e-r)/200;g=vr(g,i,h),m=vr(m,i,h);let y=[],b=o(()=>vr(p,i,h),"M"),v=o(()=>vr(d,i,h),"k"),x=i.preserveVertices;return a&&(s?y.push({op:"move",data:[e+(x?0:b()),t+(x?0:b())]}):y.push({op:"move",data:[e+(x?0:vr(d,i,h)),t+(x?0:vr(d,i,h))]})),s?y.push({op:"bcurveTo",data:[g+e+(r-e)*f+b(),m+t+(n-t)*f+b(),g+e+2*(r-e)*f+b(),m+t+2*(n-t)*f+b(),r+(x?0:b()),n+(x?0:b())]}):y.push({op:"bcurveTo",data:[g+e+(r-e)*f+v(),m+t+(n-t)*f+v(),g+e+2*(r-e)*f+v(),m+t+2*(n-t)*f+v(),r+(x?0:v()),n+(x?0:v())]}),y}function a2(e,t,r){if(!e.length)return[];let n=[];n.push([e[0][0]+vr(t,r),e[0][1]+vr(t,r)]),n.push([e[0][0]+vr(t,r),e[0][1]+vr(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+vr(t,r),e[i][1]+vr(t,r)]),i===e.length-1&&n.push([e[i][0]+vr(t,r),e[i][1]+vr(t,r)]);return s2(n,null,r)}function s2(e,t,r){let n=e.length,i=[];if(n>3){let a=[],s=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let l=1;l+2<n;l++){let u=e[l];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*e[l+1][0]-s*e[l-1][0])/6,u[1]+(s*e[l+1][1]-s*e[l-1][1])/6],a[2]=[e[l+1][0]+(s*e[l][0]-s*e[l+2][0])/6,e[l+1][1]+(s*e[l][1]-s*e[l+2][1])/6],a[3]=[e[l+1][0],e[l+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&t.length===2){let l=r.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+vr(l,r),t[1]+vr(l,r)]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...G5(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function EL(e,t,r,n,i,a,s,l){let u=[],h=[];if(l.roughness===0){e/=4,h.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){let p=[t+n*Math.cos(d),r+i*Math.sin(d)];u.push(p),h.push(p)}h.push([t+n*Math.cos(0),r+i*Math.sin(0)]),h.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{let d=vr(.5,l)-Math.PI/2;h.push([vr(a,l)+t+.9*n*Math.cos(d-e),vr(a,l)+r+.9*i*Math.sin(d-e)]);let p=2*Math.PI+d-.01;for(let f=d;f<p;f+=e){let g=[vr(a,l)+t+n*Math.cos(f),vr(a,l)+r+i*Math.sin(f)];u.push(g),h.push(g)}h.push([vr(a,l)+t+n*Math.cos(d+2*Math.PI+.5*s),vr(a,l)+r+i*Math.sin(d+2*Math.PI+.5*s)]),h.push([vr(a,l)+t+.98*n*Math.cos(d+s),vr(a,l)+r+.98*i*Math.sin(d+s)]),h.push([vr(a,l)+t+.9*n*Math.cos(d+.5*s),vr(a,l)+r+.9*i*Math.sin(d+.5*s)])}return[h,u]}function _L(e,t,r,n,i,a,s,l,u){let h=a+vr(.1,u),d=[];d.push([vr(l,u)+t+.9*n*Math.cos(h-e),vr(l,u)+r+.9*i*Math.sin(h-e)]);for(let p=h;p<=s;p+=e)d.push([vr(l,u)+t+n*Math.cos(p),vr(l,u)+r+i*Math.sin(p)]);return d.push([t+n*Math.cos(s),r+i*Math.sin(s)]),d.push([t+n*Math.cos(s),r+i*Math.sin(s)]),s2(d,null,u)}function koe(e,t,r,n,i,a,s,l){let u=[],h=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3],d=[0,0],p=l.disableMultiStroke?1:2,f=l.preserveVertices;for(let g=0;g<p;g++)g===0?u.push({op:"move",data:[s[0],s[1]]}):u.push({op:"move",data:[s[0]+(f?0:vr(h[0],l)),s[1]+(f?0:vr(h[0],l))]}),d=f?[i,a]:[i+vr(h[g],l),a+vr(h[g],l)],u.push({op:"bcurveTo",data:[e+vr(h[g],l),t+vr(h[g],l),r+vr(h[g],l),n+vr(h[g],l),d[0],d[1]]});return u}function U1(e){return[...e]}function CL(e,t=0){let r=e.length;if(r<3)throw new Error("A curve must have at least three points.");let n=[];if(r===3)n.push(U1(e[0]),U1(e[1]),U1(e[2]),U1(e[2]));else{let i=[];i.push(e[0],e[0]);for(let l=1;l<e.length;l++)i.push(e[l]),l===e.length-1&&i.push(e[l]);let a=[],s=1-t;n.push(U1(i[0]));for(let l=1;l+2<i.length;l++){let u=i[l];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*i[l+1][0]-s*i[l-1][0])/6,u[1]+(s*i[l+1][1]-s*i[l-1][1])/6],a[2]=[i[l+1][0]+(s*i[l][0]-s*i[l+2][0])/6,i[l+1][1]+(s*i[l][1]-s*i[l+2][1])/6],a[3]=[i[l+1][0],i[l+1][1]],n.push(a[1],a[2],a[3])}}return n}function o2(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function woe(e,t,r){let n=o2(t,r);if(n===0)return o2(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),o2(e,Mh(t,r,i))}function Mh(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function q5(e,t,r,n){let i=n||[];if(function(l,u){let h=l[u+0],d=l[u+1],p=l[u+2],f=l[u+3],g=3*d[0]-2*h[0]-f[0];g*=g;let m=3*d[1]-2*h[1]-f[1];m*=m;let y=3*p[0]-2*f[0]-h[0];y*=y;let b=3*p[1]-2*f[1]-h[1];return b*=b,g<y&&(g=y),m<b&&(m=b),g+m}(e,t)<r){let l=e[t+0];i.length?(a=i[i.length-1],s=l,Math.sqrt(o2(a,s))>1&&i.push(l)):i.push(l),i.push(e[t+3])}else{let l=e[t+0],u=e[t+1],h=e[t+2],d=e[t+3],p=Mh(l,u,.5),f=Mh(u,h,.5),g=Mh(h,d,.5),m=Mh(p,f,.5),y=Mh(f,g,.5),b=Mh(m,y,.5);q5([l,p,m,b],0,r,i),q5([b,y,g,d],0,r,i)}var a,s;return i}function Toe(e,t){return l2(e,0,e.length,t)}function l2(e,t,r,n,i){let a=i||[],s=e[t],l=e[r-1],u=0,h=1;for(let d=t+1;d<r-1;++d){let p=woe(e[d],s,l);p>u&&(u=p,h=d)}return Math.sqrt(u)>n?(l2(e,t,h+1,n,a),l2(e,h,r,n,a)):(a.length||a.push(s),a.push(l)),a}function j5(e,t=.15,r){let n=[],i=(e.length-1)/3;for(let a=0;a<i;a++)q5(e,3*a,t,n);return r&&r>0?l2(n,0,n.length,r):n}var Y5,Eoe,_oe,Coe,Soe,Aoe,Ja,Loe,Noe,U5,SL,c2,Ioe,_s,u2,Moe,h2,Doe,Qt,hr=I(()=>{"use strict";o(P5,"t"),o(voe,"e"),o(boe,"s"),o(j1,"n"),Y5=class{static{o(this,"o")}constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){let r=j1(e,t);return{type:"fillSketch",ops:this.renderLines(r,t)}}renderLines(e,t){let r=[];for(let n of e)r.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],t));return r}},o(r2,"a"),Eoe=class extends Y5{static{o(this,"h")}fillPolygons(e,t){let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let n=j1(e,Object.assign({},t,{hachureGap:r})),i=Math.PI/180*t.hachureAngle,a=[],s=.5*r*Math.cos(i),l=.5*r*Math.sin(i);for(let[u,h]of n)r2([u,h])&&a.push([[u[0]-s,u[1]+l],[...h]],[[u[0]+s,u[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,t)}}},_oe=class extends Y5{static{o(this,"r")}fillPolygons(e,t){let r=this._fillPolygons(e,t),n=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,n);return r.ops=r.ops.concat(i.ops),r}},Coe=class{static{o(this,"i")}constructor(e){this.helper=e}fillPolygons(e,t){let r=j1(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(r,t)}dotsOnLines(e,t){let r=[],n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);let i=t.fillWeight;i<0&&(i=t.strokeWidth/2);let a=n/4;for(let s of e){let l=r2(s),u=l/n,h=Math.ceil(u)-1,d=l-h*n,p=(s[0][0]+s[1][0])/2-n/4,f=Math.min(s[0][1],s[1][1]);for(let g=0;g<h;g++){let m=f+d+g*n,y=p-a+2*Math.random()*a,b=m-a+2*Math.random()*a,v=this.helper.ellipse(y,b,i,i,t);r.push(...v.ops)}}return{type:"fillSketch",ops:r}}},Soe=class{static{o(this,"c")}constructor(e){this.helper=e}fillPolygons(e,t){let r=j1(e,t);return{type:"fillSketch",ops:this.dashedLine(r,t)}}dashedLine(e,t){let r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,n=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach(a=>{let s=r2(a),l=Math.floor(s/(r+n)),u=(s+n-l*(r+n))/2,h=a[0],d=a[1];h[0]>d[0]&&(h=a[1],d=a[0]);let p=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let f=0;f<l;f++){let g=f*(r+n),m=g+r,y=[h[0]+g*Math.cos(p)+u*Math.cos(p),h[1]+g*Math.sin(p)+u*Math.sin(p)],b=[h[0]+m*Math.cos(p)+u*Math.cos(p),h[1]+m*Math.sin(p)+u*Math.sin(p)];i.push(...this.helper.doubleLineOps(y[0],y[1],b[0],b[1],t))}}),i}},Aoe=class{static{o(this,"l")}constructor(e){this.helper=e}fillPolygons(e,t){let r=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,n=t.zigzagOffset<0?r:t.zigzagOffset,i=j1(e,t=Object.assign({},t,{hachureGap:r+n}));return{type:"fillSketch",ops:this.zigzagLines(i,n,t)}}zigzagLines(e,t,r){let n=[];return e.forEach(i=>{let a=r2(i),s=Math.round(a/(2*t)),l=i[0],u=i[1];l[0]>u[0]&&(l=i[1],u=i[0]);let h=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let d=0;d<s;d++){let p=2*d*t,f=2*(d+1)*t,g=Math.sqrt(2*Math.pow(t,2)),m=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],y=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],b=[m[0]+g*Math.cos(h+Math.PI/4),m[1]+g*Math.sin(h+Math.PI/4)];n.push(...this.helper.doubleLineOps(m[0],m[1],b[0],b[1],r),...this.helper.doubleLineOps(b[0],b[1],y[0],y[1],r))}}),n}},Ja={},Loe=class{static{o(this,"p")}constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}},Noe=0,U5=1,SL=2,c2={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},o(B5,"k"),o($5,"b"),o(gL,"y"),o(fL,"m"),o(Y1,"w"),o(mL,"x"),Ioe={randOffset:o(function(e,t){return vr(e,t)},"randOffset"),randOffsetWithRange:o(function(e,t,r){return i2(e,t,r)},"randOffsetWithRange"),ellipse:o(function(e,t,r,n,i){let a=bL(r,n,i);return F5(e,t,i,a).opset},"ellipse"),doubleLineOps:o(function(e,t,r,n,i){return Jc(e,t,r,n,i,!0)},"doubleLineOps")},o(yL,"v"),o(n2,"S"),o(xoe,"O"),o(vL,"L"),o(bL,"T"),o(F5,"D"),o(xL,"A"),o(kL,"_"),o(z5,"I"),o(v0,"C"),o(wL,"z"),o(TL,"W"),o(i2,"E"),o(vr,"G"),o(Jc,"$"),o(G5,"R"),o(a2,"j"),o(s2,"q"),o(EL,"F"),o(_L,"V"),o(koe,"Z"),o(U1,"Q"),o(CL,"H"),o(o2,"N"),o(woe,"B"),o(Mh,"J"),o(q5,"K"),o(Toe,"U"),o(l2,"X"),o(j5,"Y"),_s="none",u2=class{static{o(this,"et")}constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,r){return{shape:e,sets:t||[],options:r||this.defaultOptions}}line(e,t,r,n,i){let a=this._o(i);return this._d("line",[yL(e,t,r,n,a)],a)}rectangle(e,t,r,n,i){let a=this._o(i),s=[],l=xoe(e,t,r,n,a);if(a.fill){let u=[[e,t],[e+r,t],[e+r,t+n],[e,t+n]];a.fillStyle==="solid"?s.push(z5([u],a)):s.push(v0([u],a))}return a.stroke!==_s&&s.push(l),this._d("rectangle",s,a)}ellipse(e,t,r,n,i){let a=this._o(i),s=[],l=bL(r,n,a),u=F5(e,t,a,l);if(a.fill)if(a.fillStyle==="solid"){let h=F5(e,t,a,l).opset;h.type="fillPath",s.push(h)}else s.push(v0([u.estimatedPoints],a));return a.stroke!==_s&&s.push(u.opset),this._d("ellipse",s,a)}circle(e,t,r,n){let i=this.ellipse(e,t,r,r,n);return i.shape="circle",i}linearPath(e,t){let r=this._o(t);return this._d("linearPath",[n2(e,!1,r)],r)}arc(e,t,r,n,i,a,s=!1,l){let u=this._o(l),h=[],d=xL(e,t,r,n,i,a,s,!0,u);if(s&&u.fill)if(u.fillStyle==="solid"){let p=Object.assign({},u);p.disableMultiStroke=!0;let f=xL(e,t,r,n,i,a,!0,!1,p);f.type="fillPath",h.push(f)}else h.push(function(p,f,g,m,y,b,v){let x=p,k=f,w=Math.abs(g/2),_=Math.abs(m/2);w+=vr(.01*w,v),_+=vr(.01*_,v);let S=y,C=b;for(;S<0;)S+=2*Math.PI,C+=2*Math.PI;C-S>2*Math.PI&&(S=0,C=2*Math.PI);let T=(C-S)/v.curveStepCount,N=[];for(let D=S;D<=C;D+=T)N.push([x+w*Math.cos(D),k+_*Math.sin(D)]);return N.push([x+w*Math.cos(C),k+_*Math.sin(C)]),N.push([x,k]),v0([N],v)}(e,t,r,n,i,a,u));return u.stroke!==_s&&h.push(d),this._d("arc",h,u)}curve(e,t){let r=this._o(t),n=[],i=vL(e,r);if(r.fill&&r.fill!==_s)if(r.fillStyle==="solid"){let a=vL(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{let a=[],s=e;if(s.length){let l=typeof s[0][0]=="number"?[s]:s;for(let u of l)u.length<3?a.push(...u):u.length===3?a.push(...j5(CL([u[0],u[0],u[1],u[2]]),10,(1+r.roughness)/2)):a.push(...j5(CL(u),10,(1+r.roughness)/2))}a.length&&n.push(v0([a],r))}return r.stroke!==_s&&n.push(i),this._d("curve",n,r)}polygon(e,t){let r=this._o(t),n=[],i=n2(e,!0,r);return r.fill&&(r.fillStyle==="solid"?n.push(z5([e],r)):n.push(v0([e],r))),r.stroke!==_s&&n.push(i),this._d("polygon",n,r)}path(e,t){let r=this._o(t),n=[];if(!e)return this._d("path",n,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let i=r.fill&&r.fill!=="transparent"&&r.fill!==_s,a=r.stroke!==_s,s=!!(r.simplification&&r.simplification<1),l=function(h,d,p){let f=fL(gL($5(h))),g=[],m=[],y=[0,0],b=[],v=o(()=>{b.length>=4&&m.push(...j5(b,d)),b=[]},"i"),x=o(()=>{v(),m.length&&(g.push(m),m=[])},"c");for(let{key:w,data:_}of f)switch(w){case"M":x(),y=[_[0],_[1]],m.push(y);break;case"L":v(),m.push([_[0],_[1]]);break;case"C":if(!b.length){let S=m.length?m[m.length-1]:y;b.push([S[0],S[1]])}b.push([_[0],_[1]]),b.push([_[2],_[3]]),b.push([_[4],_[5]]);break;case"Z":v(),m.push([y[0],y[1]])}if(x(),!p)return g;let k=[];for(let w of g){let _=Toe(w,p);_.length&&k.push(_)}return k}(e,1,s?4-4*(r.simplification||1):(1+r.roughness)/2),u=kL(e,r);if(i)if(r.fillStyle==="solid")if(l.length===1){let h=kL(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else n.push(z5(l,r));else n.push(v0(l,r));return a&&(s?l.forEach(h=>{n.push(n2(h,!1,r))}):n.push(u)),this._d("path",n,r)}opsToPath(e,t){let r="";for(let n of e.ops){let i=typeof t=="number"&&t>=0?n.data.map(a=>+a.toFixed(t)):n.data;switch(n.op){case"move":r+=`M${i[0]} ${i[1]} `;break;case"bcurveTo":r+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":r+=`L${i[0]} ${i[1]} `}}return r.trim()}toPaths(e){let t=e.sets||[],r=e.options||this.defaultOptions,n=[];for(let i of t){let a=null;switch(i.type){case"path":a={d:this.opsToPath(i),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:_s};break;case"fillPath":a={d:this.opsToPath(i),stroke:_s,strokeWidth:0,fill:r.fill||_s};break;case"fillSketch":a=this.fillSketch(i,r)}a&&n.push(a)}return n}fillSketch(e,t){let r=t.fillWeight;return r<0&&(r=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||_s,strokeWidth:r,fill:_s}}_mergedShape(e){return e.filter((t,r)=>r===0||t.op!=="move")}},Moe=class{static{o(this,"st")}constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new u2(t)}draw(e){let t=e.sets||[],r=e.options||this.getDefaultOptions(),n=this.ctx,i=e.options.fixedDecimalPlaceDigits;for(let a of t)switch(a.type){case"path":n.save(),n.strokeStyle=r.stroke==="none"?"transparent":r.stroke,n.lineWidth=r.strokeWidth,r.strokeLineDash&&n.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(n.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(n,a,i),n.restore();break;case"fillPath":{n.save(),n.fillStyle=r.fill||"";let s=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,a,i,s),n.restore();break}case"fillSketch":this.fillSketch(n,a,r)}}fillSketch(e,t,r){let n=r.fillWeight;n<0&&(n=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=n,this._drawToContext(e,t,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,r,n="nonzero"){e.beginPath();for(let i of t.ops){let a=typeof r=="number"&&r>=0?i.data.map(s=>+s.toFixed(r)):i.data;switch(i.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}t.type==="fillPath"?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,r,n,i){let a=this.gen.line(e,t,r,n,i);return this.draw(a),a}rectangle(e,t,r,n,i){let a=this.gen.rectangle(e,t,r,n,i);return this.draw(a),a}ellipse(e,t,r,n,i){let a=this.gen.ellipse(e,t,r,n,i);return this.draw(a),a}circle(e,t,r,n){let i=this.gen.circle(e,t,r,n);return this.draw(i),i}linearPath(e,t){let r=this.gen.linearPath(e,t);return this.draw(r),r}polygon(e,t){let r=this.gen.polygon(e,t);return this.draw(r),r}arc(e,t,r,n,i,a,s=!1,l){let u=this.gen.arc(e,t,r,n,i,a,s,l);return this.draw(u),u}curve(e,t){let r=this.gen.curve(e,t);return this.draw(r),r}path(e,t){let r=this.gen.path(e,t);return this.draw(r),r}},h2="http://www.w3.org/2000/svg",Doe=class{static{o(this,"ot")}constructor(e,t){this.svg=e,this.gen=new u2(t)}draw(e){let t=e.sets||[],r=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,i=n.createElementNS(h2,"g"),a=e.options.fixedDecimalPlaceDigits;for(let s of t){let l=null;switch(s.type){case"path":l=n.createElementNS(h2,"path"),l.setAttribute("d",this.opsToPath(s,a)),l.setAttribute("stroke",r.stroke),l.setAttribute("stroke-width",r.strokeWidth+""),l.setAttribute("fill","none"),r.strokeLineDash&&l.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":l=n.createElementNS(h2,"path"),l.setAttribute("d",this.opsToPath(s,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(n,s,r)}l&&i.appendChild(l)}return i}fillSketch(e,t,r){let n=r.fillWeight;n<0&&(n=r.strokeWidth/2);let i=e.createElementNS(h2,"path");return i.setAttribute("d",this.opsToPath(t,r.fixedDecimalPlaceDigits)),i.setAttribute("stroke",r.fill||""),i.setAttribute("stroke-width",n+""),i.setAttribute("fill","none"),r.fillLineDash&&i.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,r,n,i){let a=this.gen.line(e,t,r,n,i);return this.draw(a)}rectangle(e,t,r,n,i){let a=this.gen.rectangle(e,t,r,n,i);return this.draw(a)}ellipse(e,t,r,n,i){let a=this.gen.ellipse(e,t,r,n,i);return this.draw(a)}circle(e,t,r,n){let i=this.gen.circle(e,t,r,n);return this.draw(i)}linearPath(e,t){let r=this.gen.linearPath(e,t);return this.draw(r)}polygon(e,t){let r=this.gen.polygon(e,t);return this.draw(r)}arc(e,t,r,n,i,a,s=!1,l){let u=this.gen.arc(e,t,r,n,i,a,s,l);return this.draw(u)}curve(e,t){let r=this.gen.curve(e,t);return this.draw(r)}path(e,t){let r=this.gen.path(e,t);return this.draw(r)}},Qt={canvas:o((e,t)=>new Moe(e,t),"canvas"),svg:o((e,t)=>new Doe(e,t),"svg"),generator:o(e=>new u2(e),"generator"),newSeed:o(()=>u2.newSeed(),"newSeed")}});function Roe(e,t){let{labelStyles:r}=ar(t);t.labelStyle=r;let n=_r(t),i=n;n||(i="anchor");let a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=1,{cssStyles:l}=t,u=Qt.svg(a),h=Jt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);let d=u.circle(0,0,s*2,h),p=a.insert(()=>d,":first-child");return p.attr("class","anchor").attr("style",Qa(l)),rr(t,p),t.intersect=function(f){return X.info("Circle intersect",t,s,f),Ht.circle(t,s,f)},a}var HWe=I(()=>{"use strict";Ye(),Yt(),cr(),ur(),hr(),Dr(),o(Roe,"anchor")});function AL(e,t,r,n,i,a,s){let l=(e+r)/2,u=(t+n)/2,h=Math.atan2(n-t,r-e),d=(r-e)/2,p=(n-t)/2,f=d/i,g=p/a,m=Math.sqrt(f**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");let y=Math.sqrt(1-m**2),b=l+y*a*Math.sin(h)*(s?-1:1),v=u-y*i*Math.cos(h)*(s?-1:1),x=Math.atan2((t-v)/a,(e-b)/i),k=Math.atan2((n-v)/a,(r-b)/i)-x;s&&k<0&&(k+=2*Math.PI),!s&&k>0&&(k-=2*Math.PI);let w=[];for(let _=0;_<20;_++){let S=_/19,C=x+S*k,T=b+i*Math.cos(C),N=v+a*Math.sin(C);w.push({x:T,y:N})}return w}async function Ooe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=a.width+t.padding+20,l=a.height+t.padding,u=l/2,h=u/(2.5+l/50),{cssStyles:d}=t,p=[{x:s/2,y:-l/2},{x:-s/2,y:-l/2},...AL(-s/2,-l/2,-s/2,l/2,h,u,!1),{x:s/2,y:l/2},...AL(s/2,l/2,s/2,-l/2,h,u,!0)],f=Qt.svg(i),g=Jt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=Qr(p),y=f.path(m,g),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${h/2}, 0)`),rr(t,b),t.intersect=function(v){return Ht.polygon(t,p,v)},i}var WWe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(AL,"generateArcPoints"),o(Ooe,"bowTieRect")});function eu(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var Dh=I(()=>{"use strict";o(eu,"insertPolygonShape")});async function Poe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=a.height+t.padding,l=12,u=a.width+t.padding+l,h=0,d=u,p=-s,f=0,g=[{x:h+l,y:p},{x:d,y:p},{x:d,y:f},{x:h,y:f},{x:h,y:p+l},{x:h+l,y:p}],m,{cssStyles:y}=t;if(t.look==="handDrawn"){let b=Qt.svg(i),v=Jt(t,{}),x=Qr(g),k=b.path(x,v);m=i.insert(()=>k,":first-child").attr("transform",`translate(${-u/2}, ${s/2})`),y&&m.attr("style",y)}else m=eu(i,u,s,g);return n&&m.attr("style",n),rr(t,m),t.intersect=function(b){return Ht.polygon(t,g,b)},i}var VWe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dh(),Yt(),o(Poe,"card")});function Boe(e,t){let{nodeStyles:r}=ar(t);t.label="";let n=e.insert("g").attr("class",_r(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,a=Math.max(28,t.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],l=Qt.svg(n),u=Jt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=Qr(s),d=l.path(h,u),p=n.insert(()=>d,":first-child");return i&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",i),r&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(f){return Ht.polygon(t,s,f)},n}var XWe=I(()=>{"use strict";cr(),hr(),ur(),Yt(),o(Boe,"choice")});async function $oe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,halfPadding:s}=await Er(e,t,_r(t)),l=a.width/2+s,u,{cssStyles:h}=t;if(t.look==="handDrawn"){let d=Qt.svg(i),p=Jt(t,{}),f=d.circle(0,0,l*2,p);u=i.insert(()=>f,":first-child"),u.attr("class","basic label-container").attr("style",Qa(h))}else u=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0);return rr(t,u),t.intersect=function(d){return X.info("Circle intersect",t,l,d),Ht.circle(t,l,d)},i}var KWe=I(()=>{"use strict";Ye(),Yt(),cr(),ur(),hr(),Dr(),o($oe,"circle")});function Foe(e){let t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,i={x:n/2*t,y:n/2*r},a={x:-(n/2)*t,y:n/2*r},s={x:-(n/2)*t,y:-(n/2)*r},l={x:n/2*t,y:-(n/2)*r};return`M ${a.x},${a.y} L ${l.x},${l.y}
                   M ${i.x},${i.y} L ${s.x},${s.y}`}function zoe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r,t.label="";let i=e.insert("g").attr("class",_r(t)).attr("id",t.domId??t.id),a=Math.max(30,t?.width??0),{cssStyles:s}=t,l=Qt.svg(i),u=Jt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=l.circle(0,0,a*2,u),d=Foe(a),p=l.path(d,u),f=i.insert(()=>h,":first-child");return f.insert(()=>p),s&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",n),rr(t,f),t.intersect=function(g){return X.info("crossedCircle intersect",t,{radius:a,point:g}),Ht.circle(t,a,g)},i}var ZWe=I(()=>{"use strict";Ye(),Yt(),ur(),hr(),cr(),o(Foe,"createLine"),o(zoe,"crossedCircle")});function tu(e,t,r,n=100,i=0,a=180){let s=[],l=i*Math.PI/180,u=(a*Math.PI/180-l)/(n-1);for(let h=0;h<n;h++){let d=l+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:-p,y:-f})}return s}async function Goe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...tu(l/2,-u/2,h,30,-90,0),{x:-l/2-h,y:h},...tu(l/2+h*2,-h,h,20,-180,-270),...tu(l/2+h*2,h,h,20,-90,-180),{x:-l/2-h,y:-u/2},...tu(l/2,u/2,h,20,0,90)],f=[{x:l/2,y:-u/2-h},{x:-l/2,y:-u/2-h},...tu(l/2,-u/2,h,20,-90,0),{x:-l/2-h,y:-h},...tu(l/2+l*.1,-h,h,20,-180,-270),...tu(l/2+l*.1,h,h,20,-90,-180),{x:-l/2-h,y:u/2},...tu(l/2,u/2,h,20,0,90),{x:-l/2,y:u/2+h},{x:l/2,y:u/2+h}],g=Qt.svg(i),m=Jt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=Qr(p).replace("Z",""),b=g.path(y,m),v=Qr(f),x=g.path(v,{...m}),k=i.insert("g",":first-child");return k.insert(()=>x,":first-child").attr("stroke-opacity",0),k.insert(()=>b,":first-child"),k.attr("class","text"),d&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${h}, 0)`),s.attr("transform",`translate(${-l/2+h-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),rr(t,k),t.intersect=function(w){return Ht.polygon(t,f,w)},i}var QWe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(tu,"generateCirclePoints"),o(Goe,"curlyBraceLeft")});function ru(e,t,r,n=100,i=0,a=180){let s=[],l=i*Math.PI/180,u=(a*Math.PI/180-l)/(n-1);for(let h=0;h<n;h++){let d=l+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:p,y:f})}return s}async function qoe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...ru(l/2,-u/2,h,20,-90,0),{x:l/2+h,y:-h},...ru(l/2+h*2,-h,h,20,-180,-270),...ru(l/2+h*2,h,h,20,-90,-180),{x:l/2+h,y:u/2},...ru(l/2,u/2,h,20,0,90)],f=[{x:-l/2,y:-u/2-h},{x:l/2,y:-u/2-h},...ru(l/2,-u/2,h,20,-90,0),{x:l/2+h,y:-h},...ru(l/2+h*2,-h,h,20,-180,-270),...ru(l/2+h*2,h,h,20,-90,-180),{x:l/2+h,y:u/2},...ru(l/2,u/2,h,20,0,90),{x:l/2,y:u/2+h},{x:-l/2,y:u/2+h}],g=Qt.svg(i),m=Jt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=Qr(p).replace("Z",""),b=g.path(y,m),v=Qr(f),x=g.path(v,{...m}),k=i.insert("g",":first-child");return k.insert(()=>x,":first-child").attr("stroke-opacity",0),k.insert(()=>b,":first-child"),k.attr("class","text"),d&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${-h}, 0)`),s.attr("transform",`translate(${-l/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),rr(t,k),t.intersect=function(w){return Ht.polygon(t,f,w)},i}var JWe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(ru,"generateCirclePoints"),o(qoe,"curlyBraceRight")});function Ta(e,t,r,n=100,i=0,a=180){let s=[],l=i*Math.PI/180,u=(a*Math.PI/180-l)/(n-1);for(let h=0;h<n;h++){let d=l+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:-p,y:-f})}return s}async function joe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...Ta(l/2,-u/2,h,30,-90,0),{x:-l/2-h,y:h},...Ta(l/2+h*2,-h,h,20,-180,-270),...Ta(l/2+h*2,h,h,20,-90,-180),{x:-l/2-h,y:-u/2},...Ta(l/2,u/2,h,20,0,90)],f=[...Ta(-l/2+h+h/2,-u/2,h,20,-90,-180),{x:l/2-h/2,y:h},...Ta(-l/2-h/2,-h,h,20,0,90),...Ta(-l/2-h/2,h,h,20,-90,0),{x:l/2-h/2,y:-h},...Ta(-l/2+h+h/2,u/2,h,30,-180,-270)],g=[{x:l/2,y:-u/2-h},{x:-l/2,y:-u/2-h},...Ta(l/2,-u/2,h,20,-90,0),{x:-l/2-h,y:-h},...Ta(l/2+h*2,-h,h,20,-180,-270),...Ta(l/2+h*2,h,h,20,-90,-180),{x:-l/2-h,y:u/2},...Ta(l/2,u/2,h,20,0,90),{x:-l/2,y:u/2+h},{x:l/2-h-h/2,y:u/2+h},...Ta(-l/2+h+h/2,-u/2,h,20,-90,-180),{x:l/2-h/2,y:h},...Ta(-l/2-h/2,-h,h,20,0,90),...Ta(-l/2-h/2,h,h,20,-90,0),{x:l/2-h/2,y:-h},...Ta(-l/2+h+h/2,u/2,h,30,-180,-270)],m=Qt.svg(i),y=Jt(t,{fill:"none"});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=Qr(p).replace("Z",""),v=m.path(b,y),x=Qr(f).replace("Z",""),k=m.path(x,y),w=Qr(g),_=m.path(w,{...y}),S=i.insert("g",":first-child");return S.insert(()=>_,":first-child").attr("stroke-opacity",0),S.insert(()=>v,":first-child"),S.insert(()=>k,":first-child"),S.attr("class","text"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(${h-h/4}, 0)`),s.attr("transform",`translate(${-l/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),rr(t,S),t.intersect=function(C){return Ht.polygon(t,g,C)},i}var eVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(Ta,"generateCirclePoints"),o(joe,"curlyBraces")});async function Yoe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=80,l=20,u=Math.max(s,(a.width+(t.padding??0)*2)*1.25,t?.width??0),h=Math.max(l,a.height+(t.padding??0)*2,t?.height??0),d=h/2,{cssStyles:p}=t,f=Qt.svg(i),g=Jt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=u,y=h,b=m-d,v=y/4,x=[{x:b,y:0},{x:v,y:0},{x:0,y:y/2},{x:v,y},{x:b,y},...hL(-b,-y/2,d,50,270,90)],k=Qr(x),w=f.path(k,g),_=i.insert(()=>w,":first-child");return _.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",n),_.attr("transform",`translate(${-u/2}, ${-h/2})`),rr(t,_),t.intersect=function(S){return Ht.polygon(t,x,S)},i}var tVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(Yoe,"curvedTrapezoid")});async function Uoe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+t.padding,t.width??0),u=l/2,h=u/(2.5+l/50),d=Math.max(a.height+h+t.padding,t.height??0),p,{cssStyles:f}=t;if(t.look==="handDrawn"){let g=Qt.svg(i),m=Woe(0,0,l,d,u,h),y=Voe(0,h,l,d,u,h),b=g.path(m,Jt(t,{})),v=g.path(y,Jt(t,{fill:"none"}));p=i.insert(()=>v,":first-child"),p=i.insert(()=>b,":first-child"),p.attr("class","basic label-container"),f&&p.attr("style",f)}else{let g=Hoe(0,0,l,d,u,h);p=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",Qa(f)).attr("style",n)}return p.attr("label-offset-y",h),p.attr("transform",`translate(${-l/2}, ${-(d/2+h)})`),rr(t,p),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(t.padding??0)/1.5-(a.y-(a.top??0))})`),t.intersect=function(g){let m=Ht.rect(t,g),y=m.x-(t.x??0);if(u!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-h)){let b=h*h*(1-y*y/(u*u));b>0&&(b=Math.sqrt(b)),b=h-b,g.y-(t.y??0)>0&&(b=-b),m.y+=b}return m},i}var Hoe,Woe,Voe,rVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dr(),Hoe=o((e,t,r,n,i,a)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),Woe=o((e,t,r,n,i,a)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),Voe=o((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),o(Uoe,"cylinder")});async function Xoe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=a.width+t.padding,u=a.height+t.padding,h=u*.2,d=-l/2,p=-u/2-h/2,{cssStyles:f}=t,g=Qt.svg(i),m=Jt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:d,y:p+h},{x:-d,y:p+h},{x:-d,y:-p},{x:d,y:-p},{x:d,y:p},{x:-d,y:p},{x:-d,y:p+h}],b=g.polygon(y.map(x=>[x.x,x.y]),m),v=i.insert(()=>b,":first-child");return v.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),s.attr("transform",`translate(${d+(t.padding??0)/2-(a.x-(a.left??0))}, ${p+h+(t.padding??0)/2-(a.y-(a.top??0))})`),rr(t,v),t.intersect=function(x){return Ht.rect(t,x)},i}var nVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(Xoe,"dividedRectangle")});async function Koe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,halfPadding:s}=await Er(e,t,_r(t)),l=a.width/2+s+5,u=a.width/2+s,h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Qt.svg(i),f=Jt(t,{roughness:.2,strokeWidth:2.5}),g=Jt(t,{roughness:.2,strokeWidth:1.5}),m=p.circle(0,0,l*2,f),y=p.circle(0,0,u*2,g);h=i.insert("g",":first-child"),h.attr("class",Qa(t.cssClasses)).attr("style",Qa(d)),h.node()?.appendChild(m),h.node()?.appendChild(y)}else{h=i.insert("g",":first-child");let p=h.insert("circle",":first-child"),f=h.insert("circle");h.attr("class","basic label-container").attr("style",n),p.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),f.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return rr(t,h),t.intersect=function(p){return X.info("DoubleCircle intersect",t,l,p),Ht.circle(t,l,p)},i}var iVe=I(()=>{"use strict";Ye(),Yt(),cr(),ur(),hr(),Dr(),o(Koe,"doublecircle")});function Zoe(e,t,{config:{themeVariables:r}}){let{labelStyles:n,nodeStyles:i}=ar(t);t.label="",t.labelStyle=n;let a=e.insert("g").attr("class",_r(t)).attr("id",t.domId??t.id),s=7,{cssStyles:l}=t,u=Qt.svg(a),{nodeBorder:h}=r,d=Jt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);let p=u.circle(0,0,s*2,d),f=a.insert(()=>p,":first-child");return f.selectAll("path").attr("style",`fill: ${h} !important;`),l&&l.length>0&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",l),i&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",i),rr(t,f),t.intersect=function(g){return X.info("filledCircle intersect",t,{radius:s,point:g}),Ht.circle(t,s,g)},a}var aVe=I(()=>{"use strict";hr(),Ye(),cr(),ur(),Yt(),o(Zoe,"filledCircle")});async function Qoe(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=a.width+(t.padding??0),u=l+a.height,h=l+a.height,d=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:p}=t,f=Qt.svg(i),g=Jt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=Qr(d),y=f.path(m,g),b=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),t.width=l,t.height=u,rr(t,b),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-u/2+(t.padding??0)/2+(a.y-(a.top??0))})`),t.intersect=function(v){return X.info("Triangle intersect",t,d,v),Ht.polygon(t,d,v)},i}var sVe=I(()=>{"use strict";Ye(),Yt(),cr(),ur(),hr(),Yt(),o(Qoe,"flippedTriangle")});function Joe(e,t,{dir:r,config:{state:n,themeVariables:i}}){let{nodeStyles:a}=ar(t);t.label="";let s=e.insert("g").attr("class",_r(t)).attr("id",t.domId??t.id),{cssStyles:l}=t,u=Math.max(70,t?.width??0),h=Math.max(10,t?.height??0);r==="LR"&&(u=Math.max(10,t?.width??0),h=Math.max(70,t?.height??0));let d=-1*u/2,p=-1*h/2,f=Qt.svg(s),g=Jt(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=f.rectangle(d,p,u,h,g),y=s.insert(()=>m,":first-child");l&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",l),a&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",a),rr(t,y);let b=n?.padding??0;return t.width&&t.height&&(t.width+=b/2||0,t.height+=b/2||0),t.intersect=function(v){return Ht.rect(t,v)},s}var oVe=I(()=>{"use strict";hr(),cr(),ur(),Yt(),o(Joe,"forkJoin")});async function ele(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let i=80,a=50,{shapeSvg:s,bbox:l}=await Er(e,t,_r(t)),u=Math.max(i,l.width+(t.padding??0)*2,t?.width??0),h=Math.max(a,l.height+(t.padding??0)*2,t?.height??0),d=h/2,{cssStyles:p}=t,f=Qt.svg(s),g=Jt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=[{x:-u/2,y:-h/2},{x:u/2-d,y:-h/2},...hL(-u/2+d,0,d,50,90,270),{x:u/2-d,y:h/2},{x:-u/2,y:h/2}],y=Qr(m),b=f.path(y,g),v=s.insert(()=>b,":first-child");return v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),rr(t,v),t.intersect=function(x){return X.info("Pill intersect",t,{radius:d,point:x}),Ht.polygon(t,m,x)},s}var lVe=I(()=>{"use strict";Ye(),Yt(),cr(),ur(),hr(),o(ele,"halfRoundedRectangle")});async function tle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=4,l=a.height+t.padding,u=l/s,h=a.width+2*u+t.padding,d=[{x:u,y:0},{x:h-u,y:0},{x:h,y:-l/2},{x:h-u,y:-l},{x:u,y:-l},{x:0,y:-l/2}],p,{cssStyles:f}=t;if(t.look==="handDrawn"){let g=Qt.svg(i),m=Jt(t,{}),y=rle(0,0,h,l,u),b=g.path(y,m);p=i.insert(()=>b,":first-child").attr("transform",`translate(${-h/2}, ${l/2})`),f&&p.attr("style",f)}else p=eu(i,h,l,d);return n&&p.attr("style",n),t.width=h,t.height=l,rr(t,p),t.intersect=function(g){return Ht.polygon(t,d,g)},i}var rle,cVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dh(),rle=o((e,t,r,n,i)=>[`M${e+i},${t}`,`L${e+r-i},${t}`,`L${e+r},${t-n/2}`,`L${e+r-i},${t-n}`,`L${e+i},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createHexagonPathD"),o(tle,"hexagon")});async function nle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.label="",t.labelStyle=r;let{shapeSvg:i}=await Er(e,t,_r(t)),a=Math.max(30,t?.width??0),s=Math.max(30,t?.height??0),{cssStyles:l}=t,u=Qt.svg(i),h=Jt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let d=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],p=Qr(d),f=u.path(p,h),g=i.insert(()=>f,":first-child");return g.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),g.attr("transform",`translate(${-a/2}, ${-s/2})`),rr(t,g),t.intersect=function(m){return X.info("Pill intersect",t,{points:d}),Ht.polygon(t,d,m)},i}var uVe=I(()=>{"use strict";Ye(),Yt(),cr(),ur(),hr(),o(nle,"hourglass")});async function ile(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:i}=ar(t);t.labelStyle=i;let a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),u=n?.wrappingWidth;t.width=Math.max(l,u??0);let{shapeSvg:h,bbox:d,label:p}=await Er(e,t,"icon-shape default"),f=t.pos==="t",g=l,m=l,{nodeBorder:y}=r,{stylesMap:b}=y0(t),v=-m/2,x=-g/2,k=t.label?8:0,w=Qt.svg(h),_=Jt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");let S=w.rectangle(v,x,m,g,_),C=Math.max(m,d.width),T=g+d.height+k,N=w.rectangle(-C/2,-T/2,C,T,{..._,fill:"transparent",stroke:"none"}),D=h.insert(()=>S,":first-child"),M=h.insert(()=>N);if(t.icon){let L=h.append("g");L.html(`<g>${await de(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);let B=L.node().getBBox(),E=B.width,R=B.height,O=B.x,P=B.y;L.attr("transform",`translate(${-E/2-O},${f?d.height/2+k/2-R/2-P:-d.height/2-k/2-R/2-P})`),L.attr("style",`color: ${b.get("stroke")??y};`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-T/2:T/2-d.height})`),D.attr("transform",`translate(0,${f?d.height/2+k/2:-d.height/2-k/2})`),rr(t,M),t.intersect=function(L){if(X.info("iconSquare intersect",t,L),!t.label)return Ht.rect(t,L);let B=t.x??0,E=t.y??0,R=t.height??0,O=[];return f?O=[{x:B-d.width/2,y:E-R/2},{x:B+d.width/2,y:E-R/2},{x:B+d.width/2,y:E-R/2+d.height+k},{x:B+m/2,y:E-R/2+d.height+k},{x:B+m/2,y:E+R/2},{x:B-m/2,y:E+R/2},{x:B-m/2,y:E-R/2+d.height+k},{x:B-d.width/2,y:E-R/2+d.height+k}]:O=[{x:B-m/2,y:E-R/2},{x:B+m/2,y:E-R/2},{x:B+m/2,y:E-R/2+g},{x:B+d.width/2,y:E-R/2+g},{x:B+d.width/2/2,y:E+R/2},{x:B-d.width/2,y:E+R/2},{x:B-d.width/2,y:E-R/2+g},{x:B-m/2,y:E-R/2+g}],Ht.polygon(t,O,L)},h}var hVe=I(()=>{"use strict";hr(),Ye(),Ee(),cr(),ur(),Yt(),o(ile,"icon")});async function ale(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:i}=ar(t);t.labelStyle=i;let a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),u=n?.wrappingWidth;t.width=Math.max(l,u??0);let{shapeSvg:h,bbox:d,label:p}=await Er(e,t,"icon-shape default"),f=20,g=t.label?8:0,m=t.pos==="t",{nodeBorder:y,mainBkg:b}=r,{stylesMap:v}=y0(t),x=Qt.svg(h),k=Jt(t,{});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");let w=v.get("fill");k.stroke=w??b;let _=h.append("g");t.icon&&_.html(`<g>${await de(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);let S=_.node().getBBox(),C=S.width,T=S.height,N=S.x,D=S.y,M=Math.max(C,T)*Math.SQRT2+f*2,L=x.circle(0,0,M,k),B=Math.max(M,d.width),E=M+d.height+g,R=x.rectangle(-B/2,-E/2,B,E,{...k,fill:"transparent",stroke:"none"}),O=h.insert(()=>L,":first-child"),P=h.insert(()=>R);return _.attr("transform",`translate(${-C/2-N},${m?d.height/2+g/2-T/2-D:-d.height/2-g/2-T/2-D})`),_.attr("style",`color: ${v.get("stroke")??y};`),p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-E/2:E/2-d.height})`),O.attr("transform",`translate(0,${m?d.height/2+g/2:-d.height/2-g/2})`),rr(t,P),t.intersect=function(A){return X.info("iconSquare intersect",t,A),Ht.rect(t,A)},h}var dVe=I(()=>{"use strict";hr(),Ye(),Ee(),cr(),ur(),Yt(),o(ale,"iconCircle")}),sc,b0=I(()=>{"use strict";sc=o((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD")});async function sle(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:i}=ar(t);t.labelStyle=i;let a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),u=n?.wrappingWidth;t.width=Math.max(l,u??0);let{shapeSvg:h,bbox:d,halfPadding:p,label:f}=await Er(e,t,"icon-shape default"),g=t.pos==="t",m=l+p*2,y=l+p*2,{nodeBorder:b,mainBkg:v}=r,{stylesMap:x}=y0(t),k=-y/2,w=-m/2,_=t.label?8:0,S=Qt.svg(h),C=Jt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");let T=x.get("fill");C.stroke=T??v;let N=S.path(sc(k,w,y,m,5),C),D=Math.max(y,d.width),M=m+d.height+_,L=S.rectangle(-D/2,-M/2,D,M,{...C,fill:"transparent",stroke:"none"}),B=h.insert(()=>N,":first-child").attr("class","icon-shape2"),E=h.insert(()=>L);if(t.icon){let R=h.append("g");R.html(`<g>${await de(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);let O=R.node().getBBox(),P=O.width,A=O.height,$=O.x,F=O.y;R.attr("transform",`translate(${-P/2-$},${g?d.height/2+_/2-A/2-F:-d.height/2-_/2-A/2-F})`),R.attr("style",`color: ${x.get("stroke")??b};`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-M/2:M/2-d.height})`),B.attr("transform",`translate(0,${g?d.height/2+_/2:-d.height/2-_/2})`),rr(t,E),t.intersect=function(R){if(X.info("iconSquare intersect",t,R),!t.label)return Ht.rect(t,R);let O=t.x??0,P=t.y??0,A=t.height??0,$=[];return g?$=[{x:O-d.width/2,y:P-A/2},{x:O+d.width/2,y:P-A/2},{x:O+d.width/2,y:P-A/2+d.height+_},{x:O+y/2,y:P-A/2+d.height+_},{x:O+y/2,y:P+A/2},{x:O-y/2,y:P+A/2},{x:O-y/2,y:P-A/2+d.height+_},{x:O-d.width/2,y:P-A/2+d.height+_}]:$=[{x:O-y/2,y:P-A/2},{x:O+y/2,y:P-A/2},{x:O+y/2,y:P-A/2+m},{x:O+d.width/2,y:P-A/2+m},{x:O+d.width/2/2,y:P+A/2},{x:O-d.width/2,y:P+A/2},{x:O-d.width/2,y:P-A/2+m},{x:O-y/2,y:P-A/2+m}],Ht.polygon(t,$,R)},h}var pVe=I(()=>{"use strict";hr(),Ye(),Ee(),cr(),ur(),b0(),Yt(),o(sle,"iconRounded")});async function ole(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:i}=ar(t);t.labelStyle=i;let a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),u=n?.wrappingWidth;t.width=Math.max(l,u??0);let{shapeSvg:h,bbox:d,halfPadding:p,label:f}=await Er(e,t,"icon-shape default"),g=t.pos==="t",m=l+p*2,y=l+p*2,{nodeBorder:b,mainBkg:v}=r,{stylesMap:x}=y0(t),k=-y/2,w=-m/2,_=t.label?8:0,S=Qt.svg(h),C=Jt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");let T=x.get("fill");C.stroke=T??v;let N=S.path(sc(k,w,y,m,.1),C),D=Math.max(y,d.width),M=m+d.height+_,L=S.rectangle(-D/2,-M/2,D,M,{...C,fill:"transparent",stroke:"none"}),B=h.insert(()=>N,":first-child"),E=h.insert(()=>L);if(t.icon){let R=h.append("g");R.html(`<g>${await de(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);let O=R.node().getBBox(),P=O.width,A=O.height,$=O.x,F=O.y;R.attr("transform",`translate(${-P/2-$},${g?d.height/2+_/2-A/2-F:-d.height/2-_/2-A/2-F})`),R.attr("style",`color: ${x.get("stroke")??b};`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-M/2:M/2-d.height})`),B.attr("transform",`translate(0,${g?d.height/2+_/2:-d.height/2-_/2})`),rr(t,E),t.intersect=function(R){if(X.info("iconSquare intersect",t,R),!t.label)return Ht.rect(t,R);let O=t.x??0,P=t.y??0,A=t.height??0,$=[];return g?$=[{x:O-d.width/2,y:P-A/2},{x:O+d.width/2,y:P-A/2},{x:O+d.width/2,y:P-A/2+d.height+_},{x:O+y/2,y:P-A/2+d.height+_},{x:O+y/2,y:P+A/2},{x:O-y/2,y:P+A/2},{x:O-y/2,y:P-A/2+d.height+_},{x:O-d.width/2,y:P-A/2+d.height+_}]:$=[{x:O-y/2,y:P-A/2},{x:O+y/2,y:P-A/2},{x:O+y/2,y:P-A/2+m},{x:O+d.width/2,y:P-A/2+m},{x:O+d.width/2/2,y:P+A/2},{x:O-d.width/2,y:P+A/2},{x:O-d.width/2,y:P-A/2+m},{x:O-y/2,y:P-A/2+m}],Ht.polygon(t,$,R)},h}var gVe=I(()=>{"use strict";hr(),Ye(),Ee(),cr(),b0(),ur(),Yt(),o(ole,"iconSquare")});async function lle(e,t,{config:{flowchart:r}}){let n=new Image;n.src=t?.img??"",await n.decode();let i=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/a;let{labelStyles:s}=ar(t);t.labelStyle=s;let l=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;let u=Math.max(t.label?l??0:0,t?.assetWidth??i),h=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:u,d=t.constraint==="on"?h/t.imageAspectRatio:t?.assetHeight??a;t.width=Math.max(h,l??0);let{shapeSvg:p,bbox:f,label:g}=await Er(e,t,"image-shape default"),m=t.pos==="t",y=-h/2,b=-d/2,v=t.label?8:0,x=Qt.svg(p),k=Jt(t,{});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");let w=x.rectangle(y,b,h,d,k),_=Math.max(h,f.width),S=d+f.height+v,C=x.rectangle(-_/2,-S/2,_,S,{...k,fill:"none",stroke:"none"}),T=p.insert(()=>w,":first-child"),N=p.insert(()=>C);if(t.img){let D=p.append("image");D.attr("href",t.img),D.attr("width",h),D.attr("height",d),D.attr("preserveAspectRatio","none"),D.attr("transform",`translate(${-h/2},${m?S/2-d:-S/2})`)}return g.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${m?-d/2-f.height/2-v/2:d/2-f.height/2+v/2})`),T.attr("transform",`translate(0,${m?f.height/2+v/2:-f.height/2-v/2})`),rr(t,N),t.intersect=function(D){if(X.info("iconSquare intersect",t,D),!t.label)return Ht.rect(t,D);let M=t.x??0,L=t.y??0,B=t.height??0,E=[];return m?E=[{x:M-f.width/2,y:L-B/2},{x:M+f.width/2,y:L-B/2},{x:M+f.width/2,y:L-B/2+f.height+v},{x:M+h/2,y:L-B/2+f.height+v},{x:M+h/2,y:L+B/2},{x:M-h/2,y:L+B/2},{x:M-h/2,y:L-B/2+f.height+v},{x:M-f.width/2,y:L-B/2+f.height+v}]:E=[{x:M-h/2,y:L-B/2},{x:M+h/2,y:L-B/2},{x:M+h/2,y:L-B/2+d},{x:M+f.width/2,y:L-B/2+d},{x:M+f.width/2/2,y:L+B/2},{x:M-f.width/2,y:L+B/2},{x:M-f.width/2,y:L-B/2+d},{x:M-h/2,y:L-B/2+d}],Ht.polygon(t,E,D)},p}var fVe=I(()=>{"use strict";hr(),Ye(),cr(),ur(),Yt(),o(lle,"imageSquare")});async function cle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=Math.max(a.width+(t.padding??0)*2,t?.width??0),l=Math.max(a.height+(t.padding??0)*2,t?.height??0),u=[{x:0,y:0},{x:s,y:0},{x:s+3*l/6,y:-l},{x:-3*l/6,y:-l}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Qt.svg(i),f=Jt(t,{}),g=Qr(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&h.attr("style",d)}else h=eu(i,s,l,u);return n&&h.attr("style",n),t.width=s,t.height=l,rr(t,h),t.intersect=function(p){return Ht.polygon(t,u,p)},i}var mVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dh(),o(cle,"inv_trapezoid")});async function H5(e,t,r){let{labelStyles:n,nodeStyles:i}=ar(t);t.labelStyle=n;let{shapeSvg:a,bbox:s}=await Er(e,t,_r(t)),l=Math.max(s.width+r.labelPaddingX*2,t?.width||0),u=Math.max(s.height+r.labelPaddingY*2,t?.height||0),h=-l/2,d=-u/2,p,{rx:f,ry:g}=t,{cssStyles:m}=t;if(r?.rx&&r.ry&&(f=r.rx,g=r.ry),t.look==="handDrawn"){let y=Qt.svg(a),b=Jt(t,{}),v=f||g?y.path(sc(h,d,l,u,f||0),b):y.rectangle(h,d,l,u,b);p=a.insert(()=>v,":first-child"),p.attr("class","basic label-container").attr("style",Qa(m))}else p=a.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",i).attr("rx",Qa(f)).attr("ry",Qa(g)).attr("x",h).attr("y",d).attr("width",l).attr("height",u);return rr(t,p),t.intersect=function(y){return Ht.rect(t,y)},a}var W5=I(()=>{"use strict";Yt(),cr(),b0(),ur(),hr(),Dr(),o(H5,"drawRect")});async function ule(e,t){let{shapeSvg:r,bbox:n,label:i}=await Er(e,t,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),rr(t,a),t.intersect=function(s){return Ht.rect(t,s)},r}var yVe=I(()=>{"use strict";W5(),Yt(),cr(),o(ule,"labelRect")});async function hle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=Math.max(a.width+(t.padding??0),t?.width??0),l=Math.max(a.height+(t.padding??0),t?.height??0),u=[{x:0,y:0},{x:s+3*l/6,y:0},{x:s,y:-l},{x:-(3*l)/6,y:-l}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Qt.svg(i),f=Jt(t,{}),g=Qr(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&h.attr("style",d)}else h=eu(i,s,l,u);return n&&h.attr("style",n),t.width=s,t.height=l,rr(t,h),t.intersect=function(p){return Ht.polygon(t,u,p)},i}var vVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dh(),o(hle,"lean_left")});async function dle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=Math.max(a.width+(t.padding??0),t?.width??0),l=Math.max(a.height+(t.padding??0),t?.height??0),u=[{x:-3*l/6,y:0},{x:s,y:0},{x:s+3*l/6,y:-l},{x:0,y:-l}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Qt.svg(i),f=Jt(t,{}),g=Qr(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&h.attr("style",d)}else h=eu(i,s,l,u);return n&&h.attr("style",n),t.width=s,t.height=l,rr(t,h),t.intersect=function(p){return Ht.polygon(t,u,p)},i}var bVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dh(),o(dle,"lean_right")});function ple(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.label="",t.labelStyle=r;let i=e.insert("g").attr("class",_r(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,s=Math.max(35,t?.width??0),l=Math.max(35,t?.height??0),u=7,h=[{x:s,y:0},{x:0,y:l+u/2},{x:s-2*u,y:l+u/2},{x:0,y:2*l},{x:s,y:l-u/2},{x:2*u,y:l-u/2}],d=Qt.svg(i),p=Jt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let f=Qr(h),g=d.path(f,p),m=i.insert(()=>g,":first-child");return a&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),m.attr("transform",`translate(-${s/2},${-l})`),rr(t,m),t.intersect=function(y){return X.info("lightningBolt intersect",t,y),Ht.polygon(t,h,y)},i}var xVe=I(()=>{"use strict";Ye(),Yt(),ur(),hr(),cr(),Yt(),o(ple,"lightningBolt")});async function gle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+(t.padding??0),t.width??0),u=l/2,h=u/(2.5+l/50),d=Math.max(a.height+h+(t.padding??0),t.height??0),p=d*.1,f,{cssStyles:g}=t;if(t.look==="handDrawn"){let m=Qt.svg(i),y=mle(0,0,l,d,u,h,p),b=yle(0,h,l,d,u,h),v=Jt(t,{}),x=m.path(y,v),k=m.path(b,v);i.insert(()=>k,":first-child").attr("class","line"),f=i.insert(()=>x,":first-child"),f.attr("class","basic label-container"),g&&f.attr("style",g)}else{let m=fle(0,0,l,d,u,h,p);f=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Qa(g)).attr("style",n)}return f.attr("label-offset-y",h),f.attr("transform",`translate(${-l/2}, ${-(d/2+h)})`),rr(t,f),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+h-(a.y-(a.top??0))})`),t.intersect=function(m){let y=Ht.rect(t,m),b=y.x-(t.x??0);if(u!=0&&(Math.abs(b)<(t.width??0)/2||Math.abs(b)==(t.width??0)/2&&Math.abs(y.y-(t.y??0))>(t.height??0)/2-h)){let v=h*h*(1-b*b/(u*u));v>0&&(v=Math.sqrt(v)),v=h-v,m.y-(t.y??0)>0&&(v=-v),y.y+=v}return y},i}var fle,mle,yle,kVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dr(),fle=o((e,t,r,n,i,a,s)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),mle=o((e,t,r,n,i,a,s)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),yle=o((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),o(gle,"linedCylinder")});async function vle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,d=u+h,{cssStyles:p}=t,f=Qt.svg(i),g=Jt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=[{x:-l/2-l/2*.1,y:-d/2},{x:-l/2-l/2*.1,y:d/2},...Ih(-l/2-l/2*.1,d/2,l/2+l/2*.1,d/2,h,.8),{x:l/2+l/2*.1,y:-d/2},{x:-l/2-l/2*.1,y:-d/2},{x:-l/2,y:-d/2},{x:-l/2,y:d/2*1.1},{x:-l/2,y:-d/2}],y=f.polygon(m.map(v=>[v.x,v.y]),g),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-l/2+(t.padding??0)+l/2*.1/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),rr(t,b),t.intersect=function(v){return Ht.polygon(t,m,v)},i}var wVe=I(()=>{"use strict";Yt(),cr(),hr(),ur(),o(vle,"linedWaveEdgedRect")});async function ble(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=5,d=-l/2,p=-u/2,{cssStyles:f}=t,g=Qt.svg(i),m=Jt(t,{}),y=[{x:d-h,y:p+h},{x:d-h,y:p+u+h},{x:d+l-h,y:p+u+h},{x:d+l-h,y:p+u},{x:d+l,y:p+u},{x:d+l,y:p+u-h},{x:d+l+h,y:p+u-h},{x:d+l+h,y:p-h},{x:d+h,y:p-h},{x:d+h,y:p},{x:d,y:p},{x:d,y:p+h}],b=[{x:d,y:p+h},{x:d+l-h,y:p+h},{x:d+l-h,y:p+u},{x:d+l,y:p+u},{x:d+l,y:p},{x:d,y:p}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=Qr(y),x=g.path(v,m),k=Qr(b),w=g.path(k,{...m,fill:"none"}),_=i.insert(()=>w,":first-child");return _.insert(()=>x,":first-child"),_.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)-h-(a.x-(a.left??0))}, ${-(a.height/2)+h-(a.y-(a.top??0))})`),rr(t,_),t.intersect=function(S){return Ht.polygon(t,y,S)},i}var TVe=I(()=>{"use strict";Yt(),ur(),hr(),cr(),o(ble,"multiRect")});async function xle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,d=u+h,p=-l/2,f=-d/2,g=5,{cssStyles:m}=t,y=Ih(p-g,f+d+g,p+l-g,f+d+g,h,.8),b=y?.[y.length-1],v=[{x:p-g,y:f+g},{x:p-g,y:f+d+g},...y,{x:p+l-g,y:b.y-g},{x:p+l,y:b.y-g},{x:p+l,y:b.y-2*g},{x:p+l+g,y:b.y-2*g},{x:p+l+g,y:f-g},{x:p+g,y:f-g},{x:p+g,y:f},{x:p,y:f},{x:p,y:f+g}],x=[{x:p,y:f+g},{x:p+l-g,y:f+g},{x:p+l-g,y:b.y-g},{x:p+l,y:b.y-g},{x:p+l,y:f},{x:p,y:f}],k=Qt.svg(i),w=Jt(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let _=Qr(v),S=k.path(_,w),C=Qr(x),T=k.path(C,w),N=i.insert(()=>S,":first-child");return N.insert(()=>T),N.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",m),n&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",n),N.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-(a.width/2)-g-(a.x-(a.left??0))}, ${-(a.height/2)+g-h/2-(a.y-(a.top??0))})`),rr(t,N),t.intersect=function(D){return Ht.polygon(t,v,D)},i}var EVe=I(()=>{"use strict";Yt(),cr(),hr(),ur(),o(xle,"multiWaveEdgedRectangle")});async function kle(e,t,{config:{themeVariables:r}}){let{labelStyles:n,nodeStyles:i}=ar(t);t.labelStyle=n,t.useHtmlLabels||Yn().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);let{shapeSvg:a,bbox:s}=await Er(e,t,_r(t)),l=Math.max(s.width+(t.padding??0)*2,t?.width??0),u=Math.max(s.height+(t.padding??0)*2,t?.height??0),h=-l/2,d=-u/2,{cssStyles:p}=t,f=Qt.svg(a),g=Jt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=f.rectangle(h,d,l,u,g),y=a.insert(()=>m,":first-child");return y.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),rr(t,y),t.intersect=function(b){return Ht.rect(t,b)},a}var _Ve=I(()=>{"use strict";hr(),cr(),ur(),Yt(),xs(),o(kle,"note")});async function wle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=a.width+t.padding,l=a.height+t.padding,u=s+l,h=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}],d,{cssStyles:p}=t;if(t.look==="handDrawn"){let f=Qt.svg(i),g=Jt(t,{}),m=Tle(0,0,u),y=f.path(m,g);d=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`),p&&d.attr("style",p)}else d=eu(i,u,u,h);return n&&d.attr("style",n),rr(t,d),t.intersect=function(f){return X.debug(`APA12 Intersect called SPLIT
point:`,f,`
node:
`,t,`
res:`,Ht.polygon(t,h,f)),Ht.polygon(t,h,f)},i}var Tle,CVe=I(()=>{"use strict";Ye(),Yt(),cr(),ur(),hr(),Dh(),Tle=o((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD"),o(wle,"question")});async function Ele(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+(t.padding??0),t?.width??0),u=Math.max(a.height+(t.padding??0),t?.height??0),h=-l/2,d=-u/2,p=d/2,f=[{x:h+p,y:d},{x:h,y:0},{x:h+p,y:-d},{x:-h,y:-d},{x:-h,y:d}],{cssStyles:g}=t,m=Qt.svg(i),y=Jt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=Qr(f),v=m.path(b,y),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(${-p/2},0)`),s.attr("transform",`translate(${-p/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),rr(t,x),t.intersect=function(k){return Ht.polygon(t,f,k)},i}var SVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(Ele,"rect_left_inv_arrow")});function _le(e,t){t&&e.attr("style",t)}async function Cle(e){let t=nt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label;e.label&&va(e.label)&&(n=await n1(e.label.replace(ot.lineBreakRegex,`
`),we()));let i=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),_le(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}var Sle,Rh,LL=I(()=>{"use strict";Fr(),Ye(),tr(),Pr(),Dr(),o(_le,"applyStyle"),o(Cle,"addHtmlLabel"),Sle=o(async(e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Nn(we().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),X.info("vertexText"+i);let a={isNode:n,label:ic(i).replace(/fa[blrs]?:fa-[\w-]+/g,s=>`<i class='${s.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await Cle(a)}else{let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(let l of s){let u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=l.trim(),a.appendChild(u)}return a}},"createLabel"),Rh=Sle});async function Ale(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let i;t.cssClasses?i="node "+t.cssClasses:i="node default";let a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=a.insert("g"),l=a.insert("g").attr("class","label").attr("style",n),u=t.description,h=t.label,d=l.node().appendChild(await Rh(h,t.labelStyle,!0,!0)),p={width:0,height:0};if(Nn(we()?.flowchart?.htmlLabels)){let T=d.children[0],N=nt(d);p=T.getBoundingClientRect(),N.attr("width",p.width),N.attr("height",p.height)}X.info("Text 2",u);let f=u||[],g=d.getBBox(),m=l.node().appendChild(await Rh(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0)),y=m.children[0],b=nt(m);p=y.getBoundingClientRect(),b.attr("width",p.width),b.attr("height",p.height);let v=(t.padding||0)/2;nt(m).attr("transform","translate( "+(p.width>g.width?0:(g.width-p.width)/2)+", "+(g.height+v+5)+")"),nt(d).attr("transform","translate( "+(p.width<g.width?0:-(g.width-p.width)/2)+", 0)"),p=l.node().getBBox(),l.attr("transform","translate("+-p.width/2+", "+(-p.height/2-v+3)+")");let x=p.width+(t.padding||0),k=p.height+(t.padding||0),w=-p.width/2-v,_=-p.height/2-v,S,C;if(t.look==="handDrawn"){let T=Qt.svg(a),N=Jt(t,{}),D=T.path(sc(w,_,x,k,t.rx||0),N),M=T.line(-p.width/2-v,-p.height/2-v+g.height+v,p.width/2+v,-p.height/2-v+g.height+v,N);C=a.insert(()=>(X.debug("Rough node insert CXC",D),M),":first-child"),S=a.insert(()=>(X.debug("Rough node insert CXC",D),D),":first-child")}else S=s.insert("rect",":first-child"),C=s.insert("line"),S.attr("class","outer title-state").attr("style",n).attr("x",-p.width/2-v).attr("y",-p.height/2-v).attr("width",p.width+(t.padding||0)).attr("height",p.height+(t.padding||0)),C.attr("class","divider").attr("x1",-p.width/2-v).attr("x2",p.width/2+v).attr("y1",-p.height/2-v+g.height+v).attr("y2",-p.height/2-v+g.height+v);return rr(t,S),t.intersect=function(T){return Ht.rect(t,T)},a}var AVe=I(()=>{"use strict";Fr(),Pr(),Yt(),LL(),cr(),ur(),hr(),tr(),b0(),Ye(),o(Ale,"rectWithTitle")});async function Lle(e,t){let r={rx:5,ry:5,classes:"",labelPaddingX:(t?.padding||0)*1,labelPaddingY:(t?.padding||0)*1};return H5(e,t,r)}var LVe=I(()=>{"use strict";W5(),o(Lle,"roundedRect")});async function Nle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=t?.padding??0,u=Math.max(a.width+(t.padding??0)*2,t?.width??0),h=Math.max(a.height+(t.padding??0)*2,t?.height??0),d=-a.width/2-l,p=-a.height/2-l,{cssStyles:f}=t,g=Qt.svg(i),m=Jt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:d,y:p},{x:d+u+8,y:p},{x:d+u+8,y:p+h},{x:d-8,y:p+h},{x:d-8,y:p},{x:d,y:p},{x:d,y:p+h}],b=g.polygon(y.map(x=>[x.x,x.y]),m),v=i.insert(()=>b,":first-child");return v.attr("class","basic label-container").attr("style",Qa(f)),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),f&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),s.attr("transform",`translate(${-u/2+4+(t.padding??0)-(a.x-(a.left??0))},${-h/2+(t.padding??0)-(a.y-(a.top??0))})`),rr(t,v),t.intersect=function(x){return Ht.rect(t,x)},i}var NVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dr(),o(Nle,"shadedProcess")});async function Ile(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=-l/2,d=-u/2,{cssStyles:p}=t,f=Qt.svg(i),g=Jt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=[{x:h,y:d},{x:h,y:d+u},{x:h+l,y:d+u},{x:h+l,y:d-u/2}],y=Qr(m),b=f.path(y,g),v=i.insert(()=>b,":first-child");return v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),v.attr("transform",`translate(0, ${u/4})`),s.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))}, ${-u/4+(t.padding??0)-(a.y-(a.top??0))})`),rr(t,v),t.intersect=function(x){return Ht.polygon(t,m,x)},i}var IVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(Ile,"slopedRect")});async function Mle(e,t){let r={rx:0,ry:0,classes:"",labelPaddingX:(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return H5(e,t,r)}var MVe=I(()=>{"use strict";W5(),o(Mle,"squareRect")});async function Dle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=a.height+t.padding,l=a.width+s/4+t.padding,u,{cssStyles:h}=t;if(t.look==="handDrawn"){let d=Qt.svg(i),p=Jt(t,{}),f=sc(-l/2,-s/2,l,s,s/2),g=d.path(f,p);u=i.insert(()=>g,":first-child"),u.attr("class","basic label-container").attr("style",Qa(h))}else u=i.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-l/2).attr("y",-s/2).attr("width",l).attr("height",s);return rr(t,u),t.intersect=function(d){return Ht.rect(t,d)},i}var DVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),b0(),Dr(),o(Dle,"stadium")});async function Rle(e,t){return H5(e,t,{rx:5,ry:5,classes:"flowchart-node"})}var RVe=I(()=>{"use strict";W5(),o(Rle,"state")});function Ole(e,t,{config:{themeVariables:r}}){let{labelStyles:n,nodeStyles:i}=ar(t);t.labelStyle=n;let{cssStyles:a}=t,{lineColor:s,stateBorder:l,nodeBorder:u}=r,h=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=Qt.svg(h),p=Jt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let f=d.circle(0,0,14,{...p,stroke:s,strokeWidth:2}),g=l??u,m=d.circle(0,0,5,{...p,fill:g,stroke:g,strokeWidth:2,fillStyle:"solid"}),y=h.insert(()=>f,":first-child");return y.insert(()=>m),a&&y.selectAll("path").attr("style",a),i&&y.selectAll("path").attr("style",i),rr(t,y),t.intersect=function(b){return Ht.circle(t,7,b)},h}var OVe=I(()=>{"use strict";hr(),cr(),ur(),Yt(),o(Ole,"stateEnd")});function Ple(e,t,{config:{themeVariables:r}}){let{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),a;if(t.look==="handDrawn"){let s=Qt.svg(i).circle(0,0,14,moe(n));a=i.insert(()=>s),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return rr(t,a),t.intersect=function(s){return Ht.circle(t,7,s)},i}var PVe=I(()=>{"use strict";hr(),cr(),ur(),Yt(),o(Ple,"stateStart")});async function Ble(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=(t?.padding||0)/2,l=a.width+t.padding,u=a.height+t.padding,h=-a.width/2-s,d=-a.height/2-s,p=[{x:0,y:0},{x:l,y:0},{x:l,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(t.look==="handDrawn"){let f=Qt.svg(i),g=Jt(t,{}),m=f.rectangle(h-8,d,l+16,u,g),y=f.line(h,d,h,d+u,g),b=f.line(h+l,d,h+l,d+u,g);i.insert(()=>y,":first-child"),i.insert(()=>b,":first-child");let v=i.insert(()=>m,":first-child"),{cssStyles:x}=t;v.attr("class","basic label-container").attr("style",Qa(x)),rr(t,v)}else{let f=eu(i,l,u,p);n&&f.attr("style",n),rr(t,f)}return t.intersect=function(f){return Ht.polygon(t,p,f)},i}var BVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dh(),Dr(),o(Ble,"subroutine")});async function $le(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=Math.max(a.width+(t.padding??0)*2,t?.width??0),l=Math.max(a.height+(t.padding??0)*2,t?.height??0),u=-s/2,h=-l/2,d=.2*l,p=.2*l,{cssStyles:f}=t,g=Qt.svg(i),m=Jt(t,{}),y=[{x:u-d/2,y:h},{x:u+s+d/2,y:h},{x:u+s+d/2,y:h+l},{x:u-d/2,y:h+l}],b=[{x:u+s-d/2,y:h+l},{x:u+s+d/2,y:h+l},{x:u+s+d/2,y:h+l-p}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=Qr(y),x=g.path(v,m),k=Qr(b),w=g.path(k,{...m,fillStyle:"solid"}),_=i.insert(()=>w,":first-child");return _.insert(()=>x,":first-child"),_.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",n),rr(t,_),t.intersect=function(S){return Ht.polygon(t,y,S)},i}var $Ve=I(()=>{"use strict";Yt(),ur(),hr(),cr(),o($le,"taggedRect")});async function Fle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,d=.2*l,p=.2*u,f=u+h,{cssStyles:g}=t,m=Qt.svg(i),y=Jt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=[{x:-l/2-l/2*.1,y:f/2},...Ih(-l/2-l/2*.1,f/2,l/2+l/2*.1,f/2,h,.8),{x:l/2+l/2*.1,y:-f/2},{x:-l/2-l/2*.1,y:-f/2}],v=-l/2+l/2*.1,x=-f/2-p*.4,k=[{x:v+l-d,y:(x+u)*1.4},{x:v+l,y:x+u-p},{x:v+l,y:(x+u)*.9},...Ih(v+l,(x+u)*1.3,v+l-d,(x+u)*1.5,-u*.03,.5)],w=Qr(b),_=m.path(w,y),S=Qr(k),C=m.path(S,{...y,fillStyle:"solid"}),T=i.insert(()=>C,":first-child");return T.insert(()=>_,":first-child"),T.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",n),T.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),rr(t,T),t.intersect=function(N){return Ht.polygon(t,b,N)},i}var FVe=I(()=>{"use strict";Yt(),cr(),hr(),ur(),o(Fle,"taggedWaveEdgedRectangle")});async function zle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=Math.max(a.width+t.padding,t?.width||0),l=Math.max(a.height+t.padding,t?.height||0),u=-s/2,h=-l/2,d=i.insert("rect",":first-child");return d.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",s).attr("height",l),rr(t,d),t.intersect=function(p){return Ht.rect(t,p)},i}var zVe=I(()=>{"use strict";Yt(),cr(),ur(),o(zle,"text")});async function Gle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s,halfPadding:l}=await Er(e,t,_r(t)),u=t.look==="neo"?l*2:l,h=a.height+u,d=h/2,p=d/(2.5+h/50),f=a.width+p+u,{cssStyles:g}=t,m;if(t.look==="handDrawn"){let y=Qt.svg(i),b=jle(0,0,f,h,p,d),v=Yle(0,0,f,h,p,d),x=y.path(b,Jt(t,{})),k=y.path(v,Jt(t,{fill:"none"}));m=i.insert(()=>k,":first-child"),m=i.insert(()=>x,":first-child"),m.attr("class","basic label-container"),g&&m.attr("style",g)}else{let y=qle(0,0,f,h,p,d);m=i.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Qa(g)).attr("style",n),m.attr("class","basic label-container"),g&&m.selectAll("path").attr("style",g),n&&m.selectAll("path").attr("style",n)}return m.attr("label-offset-x",p),m.attr("transform",`translate(${-f/2}, ${h/2} )`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),rr(t,m),t.intersect=function(y){let b=Ht.rect(t,y),v=b.y-(t.y??0);if(d!=0&&(Math.abs(v)<(t.height??0)/2||Math.abs(v)==(t.height??0)/2&&Math.abs(b.x-(t.x??0))>(t.width??0)/2-p)){let x=p*p*(1-v*v/(d*d));x!=0&&(x=Math.sqrt(Math.abs(x))),x=p-x,y.x-(t.x??0)>0&&(x=-x),b.x+=x}return b},i}var qle,jle,Yle,GVe=I(()=>{"use strict";Yt(),ur(),hr(),cr(),Dr(),qle=o((e,t,r,n,i,a)=>`M${e},${t}
    a${i},${a} 0,0,1 0,${-n}
    l${r},0
    a${i},${a} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${a} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),jle=o((e,t,r,n,i,a)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),Yle=o((e,t,r,n,i,a)=>[`M${e+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD"),o(Gle,"tiltedCylinder")});async function Ule(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=a.width+t.padding,l=a.height+t.padding,u=[{x:-3*l/6,y:0},{x:s+3*l/6,y:0},{x:s,y:-l},{x:0,y:-l}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Qt.svg(i),f=Jt(t,{}),g=Qr(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&h.attr("style",d)}else h=eu(i,s,l,u);return n&&h.attr("style",n),t.width=s,t.height=l,rr(t,h),t.intersect=function(p){return Ht.polygon(t,u,p)},i}var qVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),Dh(),o(Ule,"trapezoid")});async function Hle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=60,l=20,u=Math.max(s,a.width+(t.padding??0)*2,t?.width??0),h=Math.max(l,a.height+(t.padding??0)*2,t?.height??0),{cssStyles:d}=t,p=Qt.svg(i),f=Jt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let g=[{x:-u/2*.8,y:-h/2},{x:u/2*.8,y:-h/2},{x:u/2,y:-h/2*.6},{x:u/2,y:h/2},{x:-u/2,y:h/2},{x:-u/2,y:-h/2*.6}],m=Qr(g),y=p.path(m,f),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),rr(t,b),t.intersect=function(v){return Ht.polygon(t,g,v)},i}var jVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(Hle,"trapezoidalPentagon")});async function Wle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Nn(we().flowchart?.htmlLabels),u=a.width+(t.padding??0),h=u+a.height,d=u+a.height,p=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-h}],{cssStyles:f}=t,g=Qt.svg(i),m=Jt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=Qr(p),b=g.path(y,m),v=i.insert(()=>b,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return f&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),t.width=u,t.height=h,rr(t,v),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${h/2-(a.height+(t.padding??0)/(l?2:1)-(a.y-(a.top??0)))})`),t.intersect=function(x){return X.info("Triangle intersect",t,p,x),Ht.polygon(t,p,x)},i}var YVe=I(()=>{"use strict";Ye(),Yt(),cr(),ur(),hr(),Yt(),Pr(),tr(),o(Wle,"triangle")});async function Vle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/8,d=u+h,{cssStyles:p}=t,f=70-l,g=f>0?f/2:0,m=Qt.svg(i),y=Jt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=[{x:-l/2-g,y:d/2},...Ih(-l/2-g,d/2,l/2+g,d/2,h,.8),{x:l/2+g,y:-d/2},{x:-l/2-g,y:-d/2}],v=Qr(b),x=m.path(v,y),k=i.insert(()=>x,":first-child");return k.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h-(a.y-(a.top??0))})`),rr(t,k),t.intersect=function(w){return Ht.polygon(t,b,w)},i}var UVe=I(()=>{"use strict";Yt(),cr(),hr(),ur(),o(Vle,"waveEdgedRectangle")});async function Xle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await Er(e,t,_r(t)),s=100,l=50,u=Math.max(a.width+(t.padding??0)*2,t?.width??0),h=Math.max(a.height+(t.padding??0)*2,t?.height??0),d=u/h,p=u,f=h;p>f*d?f=p/d:p=f*d,p=Math.max(p,s),f=Math.max(f,l);let g=Math.min(f*.2,f/4),m=f+g*2,{cssStyles:y}=t,b=Qt.svg(i),v=Jt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");let x=[{x:-p/2,y:m/2},...Ih(-p/2,m/2,p/2,m/2,g,1),{x:p/2,y:-m/2},...Ih(p/2,-m/2,-p/2,-m/2,g,-1)],k=Qr(x),w=b.path(k,v),_=i.insert(()=>w,":first-child");return _.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",y),n&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",n),rr(t,_),t.intersect=function(S){return Ht.polygon(t,x,S)},i}var HVe=I(()=>{"use strict";Yt(),cr(),ur(),hr(),o(Xle,"waveRectangle")});async function Kle(e,t){let{labelStyles:r,nodeStyles:n}=ar(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await Er(e,t,_r(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=5,d=-l/2,p=-u/2,{cssStyles:f}=t,g=Qt.svg(i),m=Jt(t,{}),y=[{x:d-h,y:p-h},{x:d-h,y:p+u},{x:d+l,y:p+u},{x:d+l,y:p-h}],b=`M${d-h},${p-h} L${d+l},${p-h} L${d+l},${p+u} L${d-h},${p+u} L${d-h},${p-h}
                M${d-h},${p} L${d+l},${p}
                M${d},${p-h} L${d},${p+u}`;t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=g.path(b,m),x=i.insert(()=>v,":first-child");return x.attr("transform",`translate(${h/2}, ${h/2})`),x.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)+h/2-(a.x-(a.left??0))}, ${-(a.height/2)+h/2-(a.y-(a.top??0))})`),rr(t,x),t.intersect=function(k){return Ht.polygon(t,y,k)},i}var WVe=I(()=>{"use strict";Yt(),ur(),hr(),cr(),o(Kle,"windowPane")});async function Zle(e,t,r,n,i=r.class.padding??12){let a=n?0:3,s=e.insert("g").attr("class",_r(t)).attr("id",t.domId||t.id),l=null,u=null,h=null,d=null,p=0,f=0,g=0;if(l=s.insert("g").attr("class","annotation-group text"),t.annotations.length>0){let x=t.annotations[0];await d2(l,{text:`\xAB${x}\xBB`},0),p=l.node().getBBox().height}u=s.insert("g").attr("class","label-group text"),await d2(u,t,0,["font-weight: bolder"]);let m=u.node().getBBox();f=m.height,h=s.insert("g").attr("class","members-group text");let y=0;for(let x of t.members){let k=await d2(h,x,y,[x.parseClassifier()]);y+=k+a}g=h.node().getBBox().height,g<=0&&(g=i/2),d=s.insert("g").attr("class","methods-group text");let b=0;for(let x of t.methods){let k=await d2(d,x,b,[x.parseClassifier()]);b+=k+a}let v=s.node().getBBox();if(l!==null){let x=l.node().getBBox();l.attr("transform",`translate(${-x.width/2})`)}return u.attr("transform",`translate(${-m.width/2}, ${p})`),v=s.node().getBBox(),h.attr("transform",`translate(0, ${p+f+i*2})`),v=s.node().getBBox(),d.attr("transform",`translate(0, ${p+f+(g?g+i*4:i*2)})`),v=s.node().getBBox(),{shapeSvg:s,bbox:v}}async function d2(e,t,r,n=[]){let i=e.insert("g").attr("class","label").attr("style",n.join("; ")),a=Yn(),s="useHtmlLabels"in t?t.useHtmlLabels:Nn(a.htmlLabels)??!0,l="";"text"in t?l=t.text:l=t.label,!s&&l.startsWith("\\")&&(l=l.substring(1)),va(l)&&(s=!0);let u=await Qs(i,_C(ic(l)),{width:Ao(l,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a),h,d=1;if(s){let p=u.children[0],f=nt(u);d=p.innerHTML.split("<br>").length,p.innerHTML.includes("</math>")&&(d+=p.innerHTML.split("<mrow>").length-1);let g=p.getElementsByTagName("img");if(g){let m=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(y=>new Promise(b=>{function v(){if(y.style.display="flex",y.style.flexDirection="column",m){let x=a.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,k=parseInt(x,10)*5+"px";y.style.minWidth=k,y.style.maxWidth=k}else y.style.width="100%";b(y)}o(v,"setupImage"),setTimeout(()=>{y.complete&&v()}),y.addEventListener("error",v),y.addEventListener("load",v)})))}h=p.getBoundingClientRect(),f.attr("width",h.width),f.attr("height",h.height)}else{n.includes("font-weight: bolder")&&nt(u).selectAll("tspan").attr("font-weight",""),d=u.children.length;let p=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(p.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),l[1]===" "&&(p.textContent=p.textContent[0]+" "+p.textContent.substring(1))),p.textContent==="undefined"&&(p.textContent=""),h=u.getBBox()}return i.attr("transform","translate(0,"+(-h.height/(2*d)+r)+")"),h.height}var VVe=I(()=>{"use strict";Fr(),xs(),Yt(),Dr(),tr(),ac(),Pr(),o(Zle,"textHelper"),o(d2,"addText")});async function Qle(e,t){let r=we(),n=r.class.padding??12,i=n,a=t.useHtmlLabels??Nn(r.htmlLabels)??!0,s=t;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];let{shapeSvg:l,bbox:u}=await Zle(e,t,r,a,i),{labelStyles:h,nodeStyles:d}=ar(t);t.labelStyle=h,t.cssStyles=s.styles||"";let p=s.styles?.join(";")||d||"";t.cssStyles||(t.cssStyles=p.replaceAll("!important","").split(";"));let f=s.members.length===0&&s.methods.length===0&&!r.class?.hideEmptyMembersBox,g=Qt.svg(l),m=Jt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=u.width,b=u.height;s.members.length===0&&s.methods.length===0?b+=i:s.members.length>0&&s.methods.length===0&&(b+=i*2);let v=-y/2,x=-b/2,k=g.rectangle(v-n,x-n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0),y+2*n,b+2*n+(f?n*2:s.members.length===0&&s.methods.length===0?-n:0),m),w=l.insert(()=>k,":first-child");w.attr("class","basic label-container");let _=w.node().getBBox();l.selectAll(".text").each((N,D,M)=>{let L=nt(M[D]),B=L.attr("transform"),E=0;if(B){let P=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(B);P&&(E=parseFloat(P[2]))}let R=E+x+n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0);a||(R-=4);let O=v;(L.attr("class").includes("label-group")||L.attr("class").includes("annotation-group"))&&(O=-L.node()?.getBBox().width/2||0,l.selectAll("text").each(function(P,A,$){window.getComputedStyle($[A]).textAnchor==="middle"&&(O=0)})),L.attr("transform",`translate(${O}, ${R})`)});let S=l.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,C=l.select(".label-group").node().getBBox().height-(f?n/2:0)||0,T=l.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(s.members.length>0||s.methods.length>0||f){let N=g.line(_.x,S+C+x+n,_.x+_.width,S+C+x+n,m);l.insert(()=>N).attr("class","divider").attr("style",p)}if(f||s.members.length>0||s.methods.length>0){let N=g.line(_.x,S+C+T+x+i*2+n,_.x+_.width,S+C+T+x+n+i*2,m);l.insert(()=>N).attr("class","divider").attr("style",p)}if(s.look!=="handDrawn"&&l.selectAll("path").attr("style",p),w.select(":nth-child(2)").attr("style",p),l.selectAll(".divider").select("path").attr("style",p),t.labelStyle?l.selectAll("span").attr("style",t.labelStyle):l.selectAll("span").attr("style",p),!a){let N=RegExp(/color\s*:\s*([^;]*)/),D=N.exec(p);if(D){let M=D[0].replace("color","fill");l.selectAll("tspan").attr("style",M)}else if(h){let M=N.exec(h);if(M){let L=M[0].replace("color","fill");l.selectAll("tspan").attr("style",L)}}}return rr(t,w),t.intersect=function(N){return Ht.rect(t,N)},l}var XVe=I(()=>{"use strict";Yt(),tr(),Fr(),hr(),ur(),cr(),VVe(),Pr(),o(Qle,"classBox")});async function Jle(e,t,{config:r}){let{labelStyles:n,nodeStyles:i}=ar(t);t.labelStyle=n||"";let a=10,s=t.width;t.width=(t.width??200)-10;let{shapeSvg:l,bbox:u,label:h}=await Er(e,t,_r(t)),d=t.padding||10,p="",f;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(p=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),f=l.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",p).attr("target","_blank"));let g={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1},m,y;f?{label:m,bbox:y}=await O5(f,"ticket"in t&&t.ticket||"",g):{label:m,bbox:y}=await O5(l,"ticket"in t&&t.ticket||"",g);let{label:b,bbox:v}=await O5(l,"assigned"in t&&t.assigned||"",g);t.width=s;let x=10,k=t?.width||0,w=Math.max(y.height,v.height)/2,_=Math.max(u.height+x*2,t?.height||0)+w,S=-k/2,C=-_/2;h.attr("transform","translate("+(d-k/2)+", "+(-w-u.height/2)+")"),m.attr("transform","translate("+(d-k/2)+", "+(-w+u.height/2)+")"),b.attr("transform","translate("+(d+k/2-v.width-2*a)+", "+(-w+u.height/2)+")");let T,{rx:N,ry:D}=t,{cssStyles:M}=t;if(t.look==="handDrawn"){let L=Qt.svg(l),B=Jt(t,{}),E=N||D?L.path(sc(S,C,k,_,N||0),B):L.rectangle(S,C,k,_,B);T=l.insert(()=>E,":first-child"),T.attr("class","basic label-container").attr("style",M||null)}else{T=l.insert("rect",":first-child"),T.attr("class","basic label-container __APA__").attr("style",i).attr("rx",N??5).attr("ry",D??5).attr("x",S).attr("y",C).attr("width",k).attr("height",_);let L="priority"in t&&t.priority;if(L){let B=l.append("line"),E=S+2,R=C+Math.floor((N??0)/2),O=C+_-Math.floor((N??0)/2);B.attr("x1",E).attr("y1",R).attr("x2",E).attr("y2",O).attr("stroke-width","4").attr("stroke",ece(L))}}return rr(t,T),t.height=_,t.intersect=function(L){return Ht.rect(t,L)},l}var ece,KVe=I(()=>{"use strict";Yt(),cr(),b0(),ur(),hr(),ece=o(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority"),o(Jle,"kanbanItem")});function tce(e){return e in NL}var rce,nce,NL,ice=I(()=>{"use strict";HWe(),WWe(),VWe(),XWe(),KWe(),ZWe(),QWe(),JWe(),eVe(),tVe(),rVe(),nVe(),iVe(),aVe(),sVe(),oVe(),lVe(),cVe(),uVe(),hVe(),dVe(),pVe(),gVe(),fVe(),mVe(),yVe(),vVe(),bVe(),xVe(),kVe(),wVe(),TVe(),EVe(),_Ve(),CVe(),SVe(),AVe(),LVe(),NVe(),IVe(),MVe(),DVe(),RVe(),OVe(),PVe(),BVe(),$Ve(),FVe(),zVe(),GVe(),qVe(),jVe(),YVe(),UVe(),HVe(),WVe(),XVe(),KVe(),rce=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Mle},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Lle},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Dle},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Ble},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Uoe},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:$oe},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:wle},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:tle},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:dle},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:hle},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Ule},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:cle},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Koe},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:zle},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Poe},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Nle},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Ple},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Ole},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Joe},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:nle},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Goe},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:qoe},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:joe},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:ple},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Vle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:ele},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Gle},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:gle},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Yoe},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Xoe},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:Wle},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:Kle},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Zoe},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:Hle},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Qoe},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Ile},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:xle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:ble},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Ooe},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:zoe},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:Fle},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:$le},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Xle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Ele},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:vle}],nce=o(()=>{let e=[...Object.entries({state:Rle,choice:Boe,note:kle,rectWithTitle:Ale,labelRect:ule,iconSquare:ole,iconCircle:ale,icon:ile,iconRounded:sle,imageSquare:lle,anchor:Roe,kanbanItem:Jle,classBox:Qle}),...rce.flatMap(t=>[t.shortName,..."aliases"in t?t.aliases:[],..."internalAliases"in t?t.internalAliases:[]].map(r=>[r,t.handler]))];return Object.fromEntries(e)},"generateShapeMap"),NL=nce(),o(tce,"isValidShape")});function IL(e){return typeof e>"u"||e===null}function ace(e){return typeof e=="object"&&e!==null}function sce(e){return Array.isArray(e)?e:IL(e)?[]:[e]}function oce(e,t){var r,n,i,a;if(t)for(a=Object.keys(t),r=0,n=a.length;r<n;r+=1)i=a[r],e[i]=t[i];return e}function lce(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function cce(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}function ML(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function H1(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=ML(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function V5(e,t,r,n,i){var a="",s="",l=Math.floor(i/2)-1;return n-t>l&&(a=" ... ",t=n-l+a.length),r-n>l&&(s=" ...",r=n+l-s.length),{str:a+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+a.length}}function X5(e,t){return Li.repeat(" ",t-e.length)+e}function uce(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,s=-1;a=r.exec(e.buffer);)i.push(a.index),n.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var l="",u,h,d=Math.min(e.line+t.linesAfter,i.length).toString().length,p=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)h=V5(e.buffer,n[s-u],i[s-u],e.position-(n[s]-n[s-u]),p),l=Li.repeat(" ",t.indent)+X5((e.line-u+1).toString(),d)+" | "+h.str+`
`+l;for(h=V5(e.buffer,n[s],i[s],e.position,p),l+=Li.repeat(" ",t.indent)+X5((e.line+1).toString(),d)+" | "+h.str+`
`,l+=Li.repeat("-",t.indent+d+3+h.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=i.length);u++)h=V5(e.buffer,n[s+u],i[s+u],e.position-(n[s]-n[s+u]),p),l+=Li.repeat(" ",t.indent)+X5((e.line+u+1).toString(),d)+" | "+h.str+`
`;return l.replace(/\n$/,"")}function hce(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function dce(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Lue.indexOf(r)===-1)throw new ts('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=hce(t.styleAliases||null),Nue.indexOf(this.kind)===-1)throw new ts('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}function DL(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(a,s){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=s)}),r[i]=n}),r}function pce(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(o(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function K5(e){return this.extend(e)}function gce(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function fce(){return null}function mce(e){return e===null}function yce(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function vce(e){return e==="true"||e==="True"||e==="TRUE"}function bce(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function xce(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function kce(e){return 48<=e&&e<=55}function wce(e){return 48<=e&&e<=57}function Tce(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!xce(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!kce(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!wce(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function Ece(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function _ce(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Li.isNegativeZero(e)}function Cce(e){return!(e===null||!Fue.test(e)||e[e.length-1]==="_")}function Sce(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}function Ace(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Li.isNegativeZero(e))return"-0.0";return r=e.toString(10),zue.test(r)?r.replace("e",".e"):r}function Lce(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Li.isNegativeZero(e))}function Nce(e){return e===null?!1:KL.exec(e)!==null||ZL.exec(e)!==null}function Ice(e){var t,r,n,i,a,s,l,u=0,h=null,d,p,f;if(t=KL.exec(e),t===null&&(t=ZL.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],s=+t[5],l=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],p=+(t[11]||0),h=(d*60+p)*6e4,t[9]==="-"&&(h=-h)),f=new Date(Date.UTC(r,n,i,a,s,l,u)),h&&f.setTime(f.getTime()-h),f}function Mce(e){return e.toISOString()}function Dce(e){return e==="<<"||e===null}function Rce(e){if(e===null)return!1;var t,r,n=0,i=e.length,a=rk;for(r=0;r<i;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Oce(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=rk,s=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)),s=s<<6|a.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)):r===18?(l.push(s>>10&255),l.push(s>>2&255)):r===12&&l.push(s>>4&255),new Uint8Array(l)}function Pce(e){var t="",r=0,n,i,a=e.length,s=rk;for(n=0;n<a;n++)n%3===0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=a%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function Bce(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function $ce(e){if(e===null)return!0;var t=[],r,n,i,a,s,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],s=!1,Wue.call(i)!=="[object Object]")return!1;for(a in i)if(Hue.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function Fce(e){return e!==null?e:[]}function zce(e){if(e===null)return!0;var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],Xue.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[t]=[i[0],n[i[0]]]}return!0}function Gce(e){if(e===null)return[];var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}function qce(e){if(e===null)return!0;var t,r=e;for(t in r)if(Zue.call(r,t)&&r[t]!==null)return!1;return!0}function jce(e){return e!==null?e:{}}function RL(e){return Object.prototype.toString.call(e)}function fl(e){return e===10||e===13}function Oh(e){return e===9||e===32}function es(e){return e===9||e===32||e===10||e===13}function x0(e){return e===44||e===91||e===93||e===123||e===125}function Yce(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Uce(e){return e===120?2:e===117?4:e===85?8:0}function Hce(e){return 48<=e&&e<=57?e-48:-1}function OL(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Wce(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Vce(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||QL,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function PL(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Aue(r),new ts(t,r)}function sr(e,t){throw PL(e,t)}function p2(e,t){e.onWarning&&e.onWarning.call(null,PL(e,t))}function nu(e,t,r,n){var i,a,s,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,a=l.length;i<a;i+=1)s=l.charCodeAt(i),s===9||32<=s&&s<=1114111||sr(e,"expected valid JSON character");else ehe.test(l)&&sr(e,"the stream contains non-printable characters");e.result+=l}}function BL(e,t,r,n){var i,a,s,l;for(Li.isObject(r)||sr(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,l=i.length;s<l;s+=1)a=i[s],iu.call(t,a)||(t[a]=r[a],n[a]=!0)}function k0(e,t,r,n,i,a,s,l,u){var h,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),h=0,d=i.length;h<d;h+=1)Array.isArray(i[h])&&sr(e,"nested arrays are not supported inside keys"),typeof i=="object"&&RL(i[h])==="[object Object]"&&(i[h]="[object Object]");if(typeof i=="object"&&RL(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(h=0,d=a.length;h<d;h+=1)BL(e,t,a[h],r);else BL(e,t,a,r);else!e.json&&!iu.call(r,i)&&iu.call(t,i)&&(e.line=s||e.line,e.lineStart=l||e.lineStart,e.position=u||e.position,sr(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function Z5(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):sr(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ti(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Oh(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(fl(i))for(Z5(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&p2(e,"deficient indentation"),n}function g2(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||es(r)))}function Q5(e,t){t===1?e.result+=" ":t>1&&(e.result+=Li.repeat(`
`,t-1))}function Xce(e,t,r){var n,i,a,s,l,u,h,d,p=e.kind,f=e.result,g;if(g=e.input.charCodeAt(e.position),es(g)||x0(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(i=e.input.charCodeAt(e.position+1),es(i)||r&&x0(i)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,l=!1;g!==0;){if(g===58){if(i=e.input.charCodeAt(e.position+1),es(i)||r&&x0(i))break}else if(g===35){if(n=e.input.charCodeAt(e.position-1),es(n))break}else{if(e.position===e.lineStart&&g2(e)||r&&x0(g))break;if(fl(g))if(u=e.line,h=e.lineStart,d=e.lineIndent,Ti(e,!1,-1),e.lineIndent>=t){l=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=h,e.lineIndent=d;break}}l&&(nu(e,a,s,!1),Q5(e,e.line-u),a=s=e.position,l=!1),Oh(g)||(s=e.position+1),g=e.input.charCodeAt(++e.position)}return nu(e,a,s,!1),e.result?!0:(e.kind=p,e.result=f,!1)}function Kce(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(nu(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else fl(r)?(nu(e,n,i,!0),Q5(e,Ti(e,!1,t)),n=i=e.position):e.position===e.lineStart&&g2(e)?sr(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);sr(e,"unexpected end of the stream within a single quoted scalar")}function Zce(e,t){var r,n,i,a,s,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return nu(e,r,e.position,!0),e.position++,!0;if(l===92){if(nu(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),fl(l))Ti(e,!1,t);else if(l<256&&iN[l])e.result+=aN[l],e.position++;else if((s=Uce(l))>0){for(i=s,a=0;i>0;i--)l=e.input.charCodeAt(++e.position),(s=Yce(l))>=0?a=(a<<4)+s:sr(e,"expected hexadecimal character");e.result+=Wce(a),e.position++}else sr(e,"unknown escape sequence");r=n=e.position}else fl(l)?(nu(e,r,n,!0),Q5(e,Ti(e,!1,t)),r=n=e.position):e.position===e.lineStart&&g2(e)?sr(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}sr(e,"unexpected end of the stream within a double quoted scalar")}function Qce(e,t){var r=!0,n,i,a,s=e.tag,l,u=e.anchor,h,d,p,f,g,m=Object.create(null),y,b,v,x;if(x=e.input.charCodeAt(e.position),x===91)d=93,g=!1,l=[];else if(x===123)d=125,g=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),x=e.input.charCodeAt(++e.position);x!==0;){if(Ti(e,!0,t),x=e.input.charCodeAt(e.position),x===d)return e.position++,e.tag=s,e.anchor=u,e.kind=g?"mapping":"sequence",e.result=l,!0;r?x===44&&sr(e,"expected the node content, but found ','"):sr(e,"missed comma between flow collection entries"),b=y=v=null,p=f=!1,x===63&&(h=e.input.charCodeAt(e.position+1),es(h)&&(p=f=!0,e.position++,Ti(e,!0,t))),n=e.line,i=e.lineStart,a=e.position,w0(e,t,m2,!1,!0),b=e.tag,y=e.result,Ti(e,!0,t),x=e.input.charCodeAt(e.position),(f||e.line===n)&&x===58&&(p=!0,x=e.input.charCodeAt(++e.position),Ti(e,!0,t),w0(e,t,m2,!1,!0),v=e.result),g?k0(e,l,m,b,y,v,n,i,a):p?l.push(k0(e,null,m,b,y,v,n,i,a)):l.push(y),Ti(e,!0,t),x=e.input.charCodeAt(e.position),x===44?(r=!0,x=e.input.charCodeAt(++e.position)):r=!1}sr(e,"unexpected end of the stream within a flow collection")}function Jce(e,t){var r,n,i=nk,a=!1,s=!1,l=t,u=0,h=!1,d,p;if(p=e.input.charCodeAt(e.position),p===124)n=!1;else if(p===62)n=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)nk===i?i=p===43?tN:Jue:sr(e,"repeat of a chomping mode identifier");else if((d=Hce(p))>=0)d===0?sr(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?sr(e,"repeat of an indentation width identifier"):(l=t+d-1,s=!0);else break;if(Oh(p)){do p=e.input.charCodeAt(++e.position);while(Oh(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!fl(p)&&p!==0)}for(;p!==0;){for(Z5(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!s||e.lineIndent<l)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>l&&(l=e.lineIndent),fl(p)){u++;continue}if(e.lineIndent<l){i===tN?e.result+=Li.repeat(`
`,a?1+u:u):i===nk&&a&&(e.result+=`
`);break}for(n?Oh(p)?(h=!0,e.result+=Li.repeat(`
`,a?1+u:u)):h?(h=!1,e.result+=Li.repeat(`
`,u+1)):u===0?a&&(e.result+=" "):e.result+=Li.repeat(`
`,u):e.result+=Li.repeat(`
`,a?1+u:u),a=!0,s=!0,u=0,r=e.position;!fl(p)&&p!==0;)p=e.input.charCodeAt(++e.position);nu(e,r,e.position,!1)}return!0}function $L(e,t){var r,n=e.tag,i=e.anchor,a=[],s,l=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,sr(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!es(s))));){if(l=!0,e.position++,Ti(e,!0,-1)&&e.lineIndent<=t){a.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,w0(e,t,eN,!1,!0),a.push(e.result),Ti(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)sr(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function eue(e,t,r){var n,i,a,s,l,u,h=e.tag,d=e.anchor,p={},f=Object.create(null),g=null,m=null,y=null,b=!1,v=!1,x;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),x=e.input.charCodeAt(e.position);x!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,sr(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,(x===63||x===58)&&es(n))x===63?(b&&(k0(e,p,f,g,m,null,s,l,u),g=m=y=null),v=!0,b=!0,i=!0):b?(b=!1,i=!0):sr(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,x=n;else{if(s=e.line,l=e.lineStart,u=e.position,!w0(e,r,JL,!1,!0))break;if(e.line===a){for(x=e.input.charCodeAt(e.position);Oh(x);)x=e.input.charCodeAt(++e.position);if(x===58)x=e.input.charCodeAt(++e.position),es(x)||sr(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(k0(e,p,f,g,m,null,s,l,u),g=m=y=null),v=!0,b=!1,i=!1,g=e.tag,m=e.result;else if(v)sr(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=d,!0}else if(v)sr(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=d,!0}if((e.line===a||e.lineIndent>t)&&(b&&(s=e.line,l=e.lineStart,u=e.position),w0(e,t,y2,!0,i)&&(b?m=e.result:y=e.result),b||(k0(e,p,f,g,m,y,s,l,u),g=m=y=null),Ti(e,!0,-1),x=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&x!==0)sr(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&k0(e,p,f,g,m,null,s,l,u),v&&(e.tag=h,e.anchor=d,e.kind="mapping",e.result=p),v}function tue(e){var t,r=!1,n=!1,i,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&sr(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):sr(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!es(s);)s===33&&(n?sr(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),rN.test(i)||sr(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),rhe.test(a)&&sr(e,"tag suffix cannot contain flow indicator characters")}a&&!nN.test(a)&&sr(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{sr(e,"tag name is malformed: "+a)}return r?e.tag=a:iu.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:sr(e,'undeclared tag handle "'+i+'"'),!0}function rue(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&sr(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!es(r)&&!x0(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&sr(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function nue(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!es(n)&&!x0(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&sr(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),iu.call(e.anchorMap,r)||sr(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ti(e,!0,-1),!0}function w0(e,t,r,n,i){var a,s,l,u=1,h=!1,d=!1,p,f,g,m,y,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=l=y2===r||eN===r,n&&Ti(e,!0,-1)&&(h=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;tue(e)||rue(e);)Ti(e,!0,-1)?(h=!0,l=a,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):l=!1;if(l&&(l=h||i),(u===1||y2===r)&&(m2===r||JL===r?y=t:y=t+1,b=e.position-e.lineStart,u===1?l&&($L(e,b)||eue(e,b,y))||Qce(e,y)?d=!0:(s&&Jce(e,y)||Kce(e,y)||Zce(e,y)?d=!0:nue(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&sr(e,"alias node should not have any properties")):Xce(e,y,m2===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=l&&$L(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&sr(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,f=e.implicitTypes.length;p<f;p+=1)if(m=e.implicitTypes[p],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(iu.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,g=e.typeMap.multi[e.kind||"fallback"],p=0,f=g.length;p<f;p+=1)if(e.tag.slice(0,g[p].tag.length)===g[p].tag){m=g[p];break}m||sr(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&sr(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):sr(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function iue(e){var t=e.position,r,n,i,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Ti(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!es(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&sr(e,"directive name must not be less than one character in length");s!==0;){for(;Oh(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!fl(s));break}if(fl(s))break;for(r=e.position;s!==0&&!es(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&Z5(e),iu.call(sN,n)?sN[n](e,n,i):p2(e,'unknown document directive "'+n+'"')}if(Ti(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ti(e,!0,-1)):a&&sr(e,"directives end mark is expected"),w0(e,e.lineIndent-1,y2,!1,!0),Ti(e,!0,-1),e.checkLineBreaks&&the.test(e.input.slice(t,e.position))&&p2(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&g2(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ti(e,!0,-1));return}if(e.position<e.length-1)sr(e,"end of the stream or a document separator is expected");else return}function FL(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Vce(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,sr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)iue(r);return r.documents}function aue(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=FL(e,r);if(typeof t!="function")return n;for(var i=0,a=n.length;i<a;i+=1)t(n[i])}function sue(e,t){var r=FL(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new ts("expected a single document in the stream, but found more")}}function oue(e,t){var r,n,i,a,s,l,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,a=n.length;i<a;i+=1)s=n[i],l=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&cN.call(u.styleAliases,l)&&(l=u.styleAliases[l]),r[s]=l;return r}function lue(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ts("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Li.repeat("0",n-t.length)+t}function cue(e){this.schema=e.schema||QL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Li.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=oue(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?K1:The,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function zL(e,t){for(var r=Li.repeat(" ",t),n=0,i=-1,a="",s,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=l):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}function J5(e,t){return`
`+Li.repeat(" ",e.indent*t)}function uue(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function f2(e){return e===ohe||e===ahe}function W1(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==ik||65536<=e&&e<=1114111}function GL(e){return W1(e)&&e!==ik&&e!==she&&e!==X1}function qL(e,t,r){var n=GL(e),i=n&&!f2(e);return(r?n:n&&e!==uN&&e!==hN&&e!==dN&&e!==pN&&e!==gN)&&e!==ak&&!(t===v2&&!i)||GL(t)&&!f2(t)&&e===ak||t===v2&&i}function hue(e){return W1(e)&&e!==ik&&!f2(e)&&e!==ghe&&e!==yhe&&e!==v2&&e!==uN&&e!==hN&&e!==dN&&e!==pN&&e!==gN&&e!==ak&&e!==hhe&&e!==phe&&e!==lhe&&e!==xhe&&e!==fhe&&e!==mhe&&e!==dhe&&e!==che&&e!==uhe&&e!==vhe&&e!==bhe}function due(e){return!f2(e)&&e!==v2}function V1(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function jL(e){var t=/^\n* /;return t.test(e)}function pue(e,t,r,n,i,a,s,l){var u,h=0,d=null,p=!1,f=!1,g=n!==-1,m=-1,y=hue(V1(e,0))&&due(V1(e,e.length-1));if(t||s)for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=V1(e,u),!W1(h))return E0;y=y&&qL(h,d,l),d=h}else{for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=V1(e,u),h===X1)p=!0,g&&(f=f||u-m-1>n&&e[m+1]!==" ",m=u);else if(!W1(h))return E0;y=y&&qL(h,d,l),d=h}f=f||g&&u-m-1>n&&e[m+1]!==" "}return!p&&!f?y&&!s&&!i(e)?fN:a===K1?E0:sk:r>9&&jL(e)?E0:s?a===K1?E0:sk:f?yN:mN}function gue(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===K1?'""':"''";if(!e.noCompatMode&&(khe.indexOf(t)!==-1||whe.test(t)))return e.quotingType===K1?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),l=n||e.flowLevel>-1&&r>=e.flowLevel;function u(h){return uue(e,h)}switch(o(u,"testAmbiguity"),pue(t,l,e.indent,s,u,e.quotingType,e.forceQuotes&&!n,i)){case fN:return t;case sk:return"'"+t.replace(/'/g,"''")+"'";case mN:return"|"+YL(t,e.indent)+UL(zL(t,a));case yN:return">"+YL(t,e.indent)+UL(zL(fue(t,s),a));case E0:return'"'+mue(t)+'"';default:throw new ts("impossible error: invalid scalar style")}}()}function YL(e,t){var r=jL(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),a=i?"+":n?"":"-";return r+a+`
`}function UL(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function fue(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,r.lastIndex=h,HL(e.slice(0,h),t)}(),i=e[0]===`
`||e[0]===" ",a,s;s=r.exec(e);){var l=s[1],u=s[2];a=u[0]===" ",n+=l+(!i&&!a&&u!==""?`
`:"")+HL(u,t),i=a}return n}function HL(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,a,s=0,l=0,u="";n=r.exec(e);)l=n.index,l-i>t&&(a=s>i?s:l,u+=`
`+e.slice(i,a),i=a+1),s=l;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function mue(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=V1(e,i),n=_a[r],!n&&W1(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||lue(r);return t}function yue(e,t,r){var n="",i=e.tag,a,s,l;for(a=0,s=r.length;a<s;a+=1)l=r[a],e.replacer&&(l=e.replacer.call(r,String(a),l)),(oc(e,t,l,!1,!1)||typeof l>"u"&&oc(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function WL(e,t,r,n){var i="",a=e.tag,s,l,u;for(s=0,l=r.length;s<l;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),(oc(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&oc(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=J5(e,t)),e.dump&&X1===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=a,e.dump=i||"[]"}function vue(e,t,r){var n="",i=e.tag,a=Object.keys(r),s,l,u,h,d;for(s=0,l=a.length;s<l;s+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=a[s],h=r[u],e.replacer&&(h=e.replacer.call(r,u,h)),oc(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),oc(e,t,h,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function bue(e,t,r,n){var i="",a=e.tag,s=Object.keys(r),l,u,h,d,p,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new ts("sortKeys must be a boolean or a function");for(l=0,u=s.length;l<u;l+=1)f="",(!n||i!=="")&&(f+=J5(e,t)),h=s[l],d=r[h],e.replacer&&(d=e.replacer.call(r,h,d)),oc(e,t+1,h,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&X1===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,p&&(f+=J5(e,t)),oc(e,t+1,d,!0,p)&&(e.dump&&X1===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=a,e.dump=i||"{}"}function VL(e,t,r){var n,i,a,s,l,u;for(i=r?e.explicitTypes:e.implicitTypes,a=0,s=i.length;a<s;a+=1)if(l=i[a],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(u=e.styleMap[l.tag]||l.defaultStyle,lN.call(l.represent)==="[object Function]")n=l.represent(t,u);else if(cN.call(l.represent,u))n=l.represent[u](t,u);else throw new ts("!<"+l.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function oc(e,t,r,n,i,a,s){e.tag=null,e.dump=r,VL(e,r,!1)||VL(e,r,!0);var l=lN.call(e.dump),u=n,h;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=l==="[object Object]"||l==="[object Array]",p,f;if(d&&(p=e.duplicates.indexOf(r),f=p!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(d&&f&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(bue(e,t,e.dump,i),f&&(e.dump="&ref_"+p+e.dump)):(vue(e,t,e.dump),f&&(e.dump="&ref_"+p+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?WL(e,t-1,e.dump,i):WL(e,t,e.dump,i),f&&(e.dump="&ref_"+p+e.dump)):(yue(e,t,e.dump),f&&(e.dump="&ref_"+p+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&gue(e,e.dump,t,a,u);else{if(l==="[object Undefined]"||e.skipInvalid)return!1;throw new ts("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}function xue(e,t){var r=[],n=[],i,a;for(ek(e,r,n),i=0,a=n.length;i<a;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(a)}function ek(e,t,r){var n,i,a;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)ek(e[i],t,r);else for(n=Object.keys(e),i=0,a=n.length;i<a;i+=1)ek(e[n[i]],t,r)}function kue(e,t){t=t||{};var r=new cue(t);r.noRefs||xue(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),oc(r,0,n,!0,!0)?r.dump+`
`:""}function tk(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var wue,Tue,Eue,_ue,Cue,Sue,Li,ts,Aue,Lue,Nue,Ea,Iue,Mue,Due,Rue,Oue,Pue,Bue,$ue,Fue,zue,Gue,XL,que,KL,ZL,jue,Yue,rk,Uue,Hue,Wue,Vue,Xue,Kue,Zue,Que,QL,iu,m2,JL,eN,y2,nk,Jue,tN,ehe,the,rhe,rN,nN,iN,aN,T0,sN,nhe,ihe,oN,lN,cN,ik,ahe,X1,she,ohe,lhe,che,ak,uhe,hhe,dhe,phe,uN,ghe,v2,fhe,mhe,yhe,vhe,hN,dN,bhe,pN,xhe,gN,_a,khe,whe,The,K1,fN,sk,mN,yN,E0,Ehe,_he,ok,lk,ZVe,QVe,JVe,eXe,tXe,vN=I(()=>{"use strict";for(o(IL,"isNothing"),o(ace,"isObject"),o(sce,"toArray"),o(oce,"extend"),o(lce,"repeat"),o(cce,"isNegativeZero"),wue=IL,Tue=ace,Eue=sce,_ue=lce,Cue=cce,Sue=oce,Li={isNothing:wue,isObject:Tue,toArray:Eue,repeat:_ue,isNegativeZero:Cue,extend:Sue},o(ML,"formatError"),o(H1,"YAMLException$1"),H1.prototype=Object.create(Error.prototype),H1.prototype.constructor=H1,H1.prototype.toString=o(function(e){return this.name+": "+ML(this,e)},"toString"),ts=H1,o(V5,"getLine"),o(X5,"padStart"),o(uce,"makeSnippet"),Aue=uce,Lue=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Nue=["scalar","sequence","mapping"],o(hce,"compileStyleAliases"),o(dce,"Type$1"),Ea=dce,o(DL,"compileList"),o(pce,"compileMap"),o(K5,"Schema$1"),K5.prototype.extend=o(function(e){var t=[],r=[];if(e instanceof Ea)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new ts("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(i){if(!(i instanceof Ea))throw new ts("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new ts("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new ts("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(i){if(!(i instanceof Ea))throw new ts("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(K5.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=DL(n,"implicit"),n.compiledExplicit=DL(n,"explicit"),n.compiledTypeMap=pce(n.compiledImplicit,n.compiledExplicit),n},"extend"),Iue=K5,Mue=new Ea("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(e){return e!==null?e:""},"construct")}),Due=new Ea("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(e){return e!==null?e:[]},"construct")}),Rue=new Ea("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(e){return e!==null?e:{}},"construct")}),Oue=new Iue({explicit:[Mue,Due,Rue]}),o(gce,"resolveYamlNull"),o(fce,"constructYamlNull"),o(mce,"isNull"),Pue=new Ea("tag:yaml.org,2002:null",{kind:"scalar",resolve:gce,construct:fce,predicate:mce,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"}),o(yce,"resolveYamlBoolean"),o(vce,"constructYamlBoolean"),o(bce,"isBoolean"),Bue=new Ea("tag:yaml.org,2002:bool",{kind:"scalar",resolve:yce,construct:vce,predicate:bce,represent:{lowercase:o(function(e){return e?"true":"false"},"lowercase"),uppercase:o(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"}),o(xce,"isHexCode"),o(kce,"isOctCode"),o(wce,"isDecCode"),o(Tce,"resolveYamlInteger"),o(Ece,"constructYamlInteger"),o(_ce,"isInteger"),$ue=new Ea("tag:yaml.org,2002:int",{kind:"scalar",resolve:Tce,construct:Ece,predicate:_ce,represent:{binary:o(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:o(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:o(function(e){return e.toString(10)},"decimal"),hexadecimal:o(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Fue=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),o(Cce,"resolveYamlFloat"),o(Sce,"constructYamlFloat"),zue=/^[-+]?[0-9]+e/,o(Ace,"representYamlFloat"),o(Lce,"isFloat"),Gue=new Ea("tag:yaml.org,2002:float",{kind:"scalar",resolve:Cce,construct:Sce,predicate:Lce,represent:Ace,defaultStyle:"lowercase"}),XL=Oue.extend({implicit:[Pue,Bue,$ue,Gue]}),que=XL,KL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ZL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),o(Nce,"resolveYamlTimestamp"),o(Ice,"constructYamlTimestamp"),o(Mce,"representYamlTimestamp"),jue=new Ea("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Nce,construct:Ice,instanceOf:Date,represent:Mce}),o(Dce,"resolveYamlMerge"),Yue=new Ea("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Dce}),rk=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`,o(Rce,"resolveYamlBinary"),o(Oce,"constructYamlBinary"),o(Pce,"representYamlBinary"),o(Bce,"isBinary"),Uue=new Ea("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Rce,construct:Oce,predicate:Bce,represent:Pce}),Hue=Object.prototype.hasOwnProperty,Wue=Object.prototype.toString,o($ce,"resolveYamlOmap"),o(Fce,"constructYamlOmap"),Vue=new Ea("tag:yaml.org,2002:omap",{kind:"sequence",resolve:$ce,construct:Fce}),Xue=Object.prototype.toString,o(zce,"resolveYamlPairs"),o(Gce,"constructYamlPairs"),Kue=new Ea("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:zce,construct:Gce}),Zue=Object.prototype.hasOwnProperty,o(qce,"resolveYamlSet"),o(jce,"constructYamlSet"),Que=new Ea("tag:yaml.org,2002:set",{kind:"mapping",resolve:qce,construct:jce}),QL=que.extend({implicit:[jue,Yue],explicit:[Uue,Vue,Kue,Que]}),iu=Object.prototype.hasOwnProperty,m2=1,JL=2,eN=3,y2=4,nk=1,Jue=2,tN=3,ehe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,the=/[\x85\u2028\u2029]/,rhe=/[,\[\]\{\}]/,rN=/^(?:!|!!|![a-z\-]+!)$/i,nN=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,o(RL,"_class"),o(fl,"is_EOL"),o(Oh,"is_WHITE_SPACE"),o(es,"is_WS_OR_EOL"),o(x0,"is_FLOW_INDICATOR"),o(Yce,"fromHexCode"),o(Uce,"escapedHexLen"),o(Hce,"fromDecimalCode"),o(OL,"simpleEscapeSequence"),o(Wce,"charFromCodepoint"),iN=new Array(256),aN=new Array(256),T0=0;T0<256;T0++)iN[T0]=OL(T0)?1:0,aN[T0]=OL(T0);o(Vce,"State$1"),o(PL,"generateError"),o(sr,"throwError"),o(p2,"throwWarning"),sN={YAML:o(function(e,t,r){var n,i,a;e.version!==null&&sr(e,"duplication of %YAML directive"),r.length!==1&&sr(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),n===null&&sr(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),a=parseInt(n[2],10),i!==1&&sr(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&p2(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(e,t,r){var n,i;r.length!==2&&sr(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],rN.test(n)||sr(e,"ill-formed tag handle (first argument) of the TAG directive"),iu.call(e.tagMap,n)&&sr(e,'there is a previously declared suffix for "'+n+'" tag handle'),nN.test(i)||sr(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{sr(e,"tag prefix is malformed: "+i)}e.tagMap[n]=i},"handleTagDirective")},o(nu,"captureSegment"),o(BL,"mergeMappings"),o(k0,"storeMappingPair"),o(Z5,"readLineBreak"),o(Ti,"skipSeparationSpace"),o(g2,"testDocumentSeparator"),o(Q5,"writeFoldedLines"),o(Xce,"readPlainScalar"),o(Kce,"readSingleQuotedScalar"),o(Zce,"readDoubleQuotedScalar"),o(Qce,"readFlowCollection"),o(Jce,"readBlockScalar"),o($L,"readBlockSequence"),o(eue,"readBlockMapping"),o(tue,"readTagProperty"),o(rue,"readAnchorProperty"),o(nue,"readAlias"),o(w0,"composeNode"),o(iue,"readDocument"),o(FL,"loadDocuments"),o(aue,"loadAll$1"),o(sue,"load$1"),nhe=aue,ihe=sue,oN={loadAll:nhe,load:ihe},lN=Object.prototype.toString,cN=Object.prototype.hasOwnProperty,ik=65279,ahe=9,X1=10,she=13,ohe=32,lhe=33,che=34,ak=35,uhe=37,hhe=38,dhe=39,phe=42,uN=44,ghe=45,v2=58,fhe=61,mhe=62,yhe=63,vhe=64,hN=91,dN=93,bhe=96,pN=123,xhe=124,gN=125,_a={},_a[0]="\\0",_a[7]="\\a",_a[8]="\\b",_a[9]="\\t",_a[10]="\\n",_a[11]="\\v",_a[12]="\\f",_a[13]="\\r",_a[27]="\\e",_a[34]='\\"',_a[92]="\\\\",_a[133]="\\N",_a[160]="\\_",_a[8232]="\\L",_a[8233]="\\P",khe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],whe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/,o(oue,"compileStyleMap"),o(lue,"encodeHex"),The=1,K1=2,o(cue,"State"),o(zL,"indentString"),o(J5,"generateNextLine"),o(uue,"testImplicitResolving"),o(f2,"isWhitespace"),o(W1,"isPrintable"),o(GL,"isNsCharOrWhitespace"),o(qL,"isPlainSafe"),o(hue,"isPlainSafeFirst"),o(due,"isPlainSafeLast"),o(V1,"codePointAt"),o(jL,"needIndentIndicator"),fN=1,sk=2,mN=3,yN=4,E0=5,o(pue,"chooseScalarStyle"),o(gue,"writeScalar"),o(YL,"blockHeader"),o(UL,"dropEndingNewline"),o(fue,"foldString"),o(HL,"foldLine"),o(mue,"escapeString"),o(yue,"writeFlowSequence"),o(WL,"writeBlockSequence"),o(vue,"writeFlowMapping"),o(bue,"writeBlockMapping"),o(VL,"detectType"),o(oc,"writeNode"),o(xue,"getDuplicateReferences"),o(ek,"inspectNode"),o(kue,"dump$1"),Ehe=kue,_he={dump:Ehe},o(tk,"renamed"),ok=XL,lk=oN.load,ZVe=oN.loadAll,QVe=_he.dump,JVe=tk("safeLoad","load"),eXe=tk("safeLoadAll","loadAll"),tXe=tk("safeDump","dump")});function ck(e){let t=[];for(let r of e){let n=Z1.get(r);n?.styles&&(t=[...t,...n.styles??[]].map(i=>i.trim())),n?.textStyles&&(t=[...t,...n.textStyles??[]].map(i=>i.trim()))}return t}var Che,bN,_0,au,rs,Z1,lc,uk,hk,b2,dk,No,pk,x2,k2,w2,She,Ahe,Lhe,Nhe,Ihe,Mhe,Dhe,gk,Rhe,Ohe,Phe,xN,Bhe,$he,kN,wN,TN,Fhe,EN,zhe,Ghe,qhe,jhe,Yhe,Q1,_N,CN,Uhe,Hhe,SN,Whe,Vhe,Xhe,Khe,Zhe,AN,LN,Qhe,Jhe,ede,tde,rde,nde,fk,ide=I(()=>{"use strict";Fr(),Dr(),tr(),Pr(),ice(),Ye(),vN(),Hi(),Che="flowchart-",bN=0,_0=we(),au=new Map,rs=[],Z1=new Map,lc=[],uk=new Map,hk=new Map,b2=0,dk=!0,x2=[],k2=o(e=>ot.sanitizeText(e,_0),"sanitizeText"),w2=o(function(e){for(let t of au.values())if(t.id===e)return t.domId;return e},"lookUpDomId"),She=o(function(e,t,r,n,i,a,s={},l){if(!e||e.trim().length===0)return;let u,h=au.get(e);if(h===void 0&&(h={id:e,labelType:"text",domId:Che+e+"-"+bN,styles:[],classes:[]},au.set(e,h)),bN++,t!==void 0?(_0=we(),u=k2(t.text.trim()),h.labelType=t.type,u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),h.text=u):h.text===void 0&&(h.text=e),r!==void 0&&(h.type=r),n?.forEach(function(d){h.styles.push(d)}),i?.forEach(function(d){h.classes.push(d)}),a!==void 0&&(h.dir=a),h.props===void 0?h.props=s:s!==void 0&&Object.assign(h.props,s),l!==void 0){let d;l.includes(`
`)?d=l+`
`:d=`{
`+l+`
}`;let p=lk(d,{schema:ok});if(p.shape){if(p.shape!==p.shape.toLowerCase()||p.shape.includes("_"))throw new Error(`No such shape: ${p.shape}. Shape names should be lowercase.`);if(!tce(p.shape))throw new Error(`No such shape: ${p.shape}.`);h.type=p?.shape}p?.label&&(h.text=p?.label),p?.icon&&(h.icon=p?.icon,!p.label?.trim()&&h.text===e&&(h.text="")),p?.form&&(h.form=p?.form),p?.pos&&(h.pos=p?.pos),p?.img&&(h.img=p?.img,!p.label?.trim()&&h.text===e&&(h.text="")),p?.constraint&&(h.constraint=p.constraint),p.w&&(h.assetWidth=Number(p.w)),p.h&&(h.assetHeight=Number(p.h))}},"addVertex"),Ahe=o(function(e,t,r){let n={start:e,end:t,type:void 0,text:"",labelType:"text"};X.info("abc78 Got edge...",n);let i=r.text;if(i!==void 0&&(n.text=k2(i.text.trim()),n.text.startsWith('"')&&n.text.endsWith('"')&&(n.text=n.text.substring(1,n.text.length-1)),n.labelType=i.type),r!==void 0&&(n.type=r.type,n.stroke=r.stroke,n.length=r.length>10?10:r.length),rs.length<(_0.maxEdges??500))X.info("Pushing edge..."),rs.push(n);else throw new Error(`Edge limit exceeded. ${rs.length} edges found, but the limit is ${_0.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)},"addSingleLink"),Lhe=o(function(e,t,r){X.info("addLink",e,t,r);for(let n of e)for(let i of t)Ahe(n,i,r)},"addLink"),Nhe=o(function(e,t){e.forEach(function(r){r==="default"?rs.defaultInterpolate=t:rs[r].interpolate=t})},"updateLinkInterpolate"),Ihe=o(function(e,t){e.forEach(function(r){if(typeof r=="number"&&r>=rs.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${rs.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?rs.defaultStyle=t:(rs[r].style=t,(rs[r]?.style?.length??0)>0&&!rs[r]?.style?.some(n=>n?.startsWith("fill"))&&rs[r]?.style?.push("fill:none"))})},"updateLink"),Mhe=o(function(e,t){e.split(",").forEach(function(r){let n=Z1.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},Z1.set(r,n)),t?.forEach(function(i){if(/color/.exec(i)){let a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)})})},"addClass"),Dhe=o(function(e){No=e,/.*</.exec(No)&&(No="RL"),/.*\^/.exec(No)&&(No="BT"),/.*>/.exec(No)&&(No="LR"),/.*v/.exec(No)&&(No="TB"),No==="TD"&&(No="TB")},"setDirection"),gk=o(function(e,t){for(let r of e.split(",")){let n=au.get(r);n&&n.classes.push(t);let i=uk.get(r);i&&i.classes.push(t)}},"setClass"),Rhe=o(function(e,t){if(t!==void 0){t=k2(t);for(let r of e.split(","))hk.set(pk==="gen-1"?w2(r):r,t)}},"setTooltip"),Ohe=o(function(e,t,r){let n=w2(e);if(we().securityLevel!=="loose"||t===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let l=i[s].trim();l.startsWith('"')&&l.endsWith('"')&&(l=l.substr(1,l.length-2)),i[s]=l}}i.length===0&&i.push(e);let a=au.get(e);a&&(a.haveCallback=!0,x2.push(function(){let s=document.querySelector(`[id="${n}"]`);s!==null&&s.addEventListener("click",function(){Ar.runFunc(t,...i)},!1)}))},"setClickFun"),Phe=o(function(e,t,r){e.split(",").forEach(function(n){let i=au.get(n);i!==void 0&&(i.link=Ar.formatUrl(t,_0),i.linkTarget=r)}),gk(e,"clickable")},"setLink"),xN=o(function(e){return hk.get(e)},"getTooltip"),Bhe=o(function(e,t,r){e.split(",").forEach(function(n){Ohe(n,t,r)}),gk(e,"clickable")},"setClickEvent"),$he=o(function(e){x2.forEach(function(t){t(e)})},"bindFunctions"),kN=o(function(){return No.trim()},"getDirection"),wN=o(function(){return au},"getVertices"),TN=o(function(){return rs},"getEdges"),Fhe=o(function(){return Z1},"getClasses"),EN=o(function(e){let t=nt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=nt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),nt(e).select("svg").selectAll("g.node").on("mouseover",function(){let r=nt(this);if(r.attr("title")===null)return;let n=this?.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(r.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),r.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),nt(this).classed("hover",!1)})},"setupToolTips"),x2.push(EN),zhe=o(function(e="gen-1"){au=new Map,Z1=new Map,rs=[],x2=[EN],lc=[],uk=new Map,b2=0,hk=new Map,dk=!0,pk=e,_0=we(),Yi()},"clear"),Ghe=o(e=>{pk=e||"gen-2"},"setGen"),qhe=o(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),jhe=o(function(e,t,r){let n=e.text.trim(),i=r.text;e===r&&/\s/.exec(r.text)&&(n=void 0);function a(h){let d={boolean:{},number:{},string:{}},p=[],f;return{nodeList:h.filter(function(g){let m=typeof g;return g.stmt&&g.stmt==="dir"?(f=g.value,!1):g.trim()===""?!1:m in d?d[m].hasOwnProperty(g)?!1:d[m][g]=!0:p.includes(g)?!1:p.push(g)}),dir:f}}o(a,"uniq");let{nodeList:s,dir:l}=a(t.flat());if(pk==="gen-1")for(let h=0;h<s.length;h++)s[h]=w2(s[h]);n=n??"subGraph"+b2,i=i||"",i=k2(i),b2=b2+1;let u={id:n,nodes:s,title:i.trim(),classes:[],dir:l,labelType:r.type};return X.info("Adding",u.id,u.nodes,u.dir),u.nodes=LN(u,lc).nodes,lc.push(u),uk.set(n,u),n},"addSubGraph"),Yhe=o(function(e){for(let[t,r]of lc.entries())if(r.id===e)return t;return-1},"getPosForId"),Q1=-1,_N=[],CN=o(function(e,t){let r=lc[t].nodes;if(Q1=Q1+1,Q1>2e3)return{result:!1,count:0};if(_N[Q1]=t,lc[t].id===e)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){let a=Yhe(r[n]);if(a>=0){let s=CN(e,a);if(s.result)return{result:!0,count:i+s.count};i=i+s.count}n=n+1}return{result:!1,count:i}},"indexNodes2"),Uhe=o(function(e){return _N[e]},"getDepthFirstPos"),Hhe=o(function(){Q1=-1,lc.length>0&&CN("none",lc.length-1)},"indexNodes"),SN=o(function(){return lc},"getSubGraphs"),Whe=o(()=>dk?(dk=!1,!0):!1,"firstGraph"),Vhe=o(e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let n="normal";return t.includes("=")&&(n="thick"),t.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),Xhe=o((e,t)=>{let r=t.length,n=0;for(let i=0;i<r;++i)t[i]===e&&++n;return n},"countChar"),Khe=o(e=>{let t=e.trim(),r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t.startsWith("o")&&(n="double_"+n,r=r.slice(1));break}let i="normal",a=r.length-1;r.startsWith("=")&&(i="thick"),r.startsWith("~")&&(i="invisible");let s=Xhe(".",r);return s&&(i="dotted",a=s),{type:n,stroke:i,length:a}},"destructEndLink"),Zhe=o((e,t)=>{let r=Khe(e),n;if(t){if(n=Vhe(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),AN=o((e,t)=>{for(let r of e)if(r.nodes.includes(t))return!0;return!1},"exists"),LN=o((e,t)=>{let r=[];return e.nodes.forEach((n,i)=>{AN(t,n)||r.push(e.nodes[i])}),{nodes:r}},"makeUniq"),Qhe={firstGraph:Whe},Jhe=o(e=>{if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}},"getTypeFromVertex"),ede=o((e,t)=>e.find(r=>r.id===t),"findNode"),tde=o(e=>{let t="none",r="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":r=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":t=e.replace("double_",""),r=t;break}return{arrowTypeStart:t,arrowTypeEnd:r}},"destructEdgeType"),rde=o((e,t,r,n,i,a)=>{let s=r.get(e.id),l=n.get(e.id)??!1,u=ede(t,e.id);if(u)u.cssStyles=e.styles,u.cssCompiledStyles=ck(e.classes),u.cssClasses=e.classes.join(" ");else{let h={id:e.id,label:e.text,labelStyle:"",parentId:s,padding:i.flowchart?.padding||8,cssStyles:e.styles,cssCompiledStyles:ck(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:a,link:e.link,linkTarget:e.linkTarget,tooltip:xN(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};l?t.push({...h,isGroup:!0,shape:"rect"}):t.push({...h,isGroup:!1,shape:Jhe(e)})}},"addNodeFromVertex"),o(ck,"getCompiledStyles"),nde=o(()=>{let e=we(),t=[],r=[],n=SN(),i=new Map,a=new Map;for(let l=n.length-1;l>=0;l--){let u=n[l];u.nodes.length>0&&a.set(u.id,!0);for(let h of u.nodes)i.set(h,u.id)}for(let l=n.length-1;l>=0;l--){let u=n[l];t.push({id:u.id,label:u.title,labelStyle:"",parentId:i.get(u.id),padding:8,cssCompiledStyles:ck(u.classes),cssClasses:u.classes.join(" "),shape:"rect",dir:u.dir,isGroup:!0,look:e.look})}wN().forEach(l=>{rde(l,t,i,a,e,e.look||"classic")});let s=TN();return s.forEach((l,u)=>{let{arrowTypeStart:h,arrowTypeEnd:d}=tde(l.type),p=[...s.defaultStyle??[]];l.style&&p.push(...l.style);let f={id:F9(l.start,l.end,{counter:u,prefix:"L"}),start:l.start,end:l.end,type:l.type??"normal",label:l.text,labelpos:"c",thickness:l.stroke,minlen:l.length,classes:l?.stroke==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:l?.stroke==="invisible"?"none":h,arrowTypeEnd:l?.stroke==="invisible"?"none":d,arrowheadStyle:"fill: #333",labelStyle:p,style:p,pattern:l.stroke,look:e.look};r.push(f)}),{nodes:t,edges:r,other:{},config:e}},"getData"),fk={defaultConfig:o(()=>EC.flowchart,"defaultConfig"),setAccTitle:Ui,getAccTitle:ea,getAccDescription:ra,getData:nde,setAccDescription:ta,addVertex:She,lookUpDomId:w2,addLink:Lhe,updateLinkInterpolate:Nhe,updateLink:Ihe,addClass:Mhe,setDirection:Dhe,setClass:gk,setTooltip:Rhe,getTooltip:xN,setClickEvent:Bhe,setLink:Phe,bindFunctions:$he,getDirection:kN,getVertices:wN,getEdges:TN,getClasses:Fhe,clear:zhe,setGen:Ghe,defaultStyle:qhe,addSubGraph:jhe,getDepthFirstPos:Uhe,indexNodes:Hhe,getSubGraphs:SN,destructLink:Zhe,lex:Qhe,exists:AN,makeUniq:LN,setDiagramTitle:za,getDiagramTitle:na}}),mk,NN=I(()=>{"use strict";Fr(),mk=o((e,t)=>{let r;return t==="sandbox"&&(r=nt("#i"+e)),nt(t==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement")}),J1,yk=I(()=>{"use strict";J1=o(({flowchart:e})=>{let t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins")}),IN,ade,sde,ode,lde,cde,ude,MN,vk,hde,DN=I(()=>{"use strict";tr(),Pr(),Ye(),yk(),Fr(),hr(),ac(),foe(),LL(),b0(),ur(),IN=o(async(e,t)=>{X.info("Creating subgraph rect for ",t.id,t);let r=we(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:l,nodeStyles:u,borderStyles:h,backgroundStyles:d}=ar(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Nn(r.flowchart.htmlLabels),g=p.insert("g").attr("class","cluster-label "),m=await Qs(g,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0}),y=m.getBBox();if(Nn(r.flowchart.htmlLabels)){let C=m.children[0],T=nt(m);y=C.getBoundingClientRect(),T.attr("width",y.width),T.attr("height",y.height)}let b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;let v=t.height,x=t.x-b/2,k=t.y-v/2;X.trace("Data ",t,JSON.stringify(t));let w;if(t.look==="handDrawn"){let C=Qt.svg(p),T=Jt(t,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),N=C.path(sc(x,k,b,v,0),T);w=p.insert(()=>(X.debug("Rough node insert CXC",N),N),":first-child"),w.select("path:nth-child(2)").attr("style",h.join(";")),w.select("path").attr("style",d.join(";").replace("fill","stroke"))}else w=p.insert("rect",":first-child"),w.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",x).attr("y",k).attr("width",b).attr("height",v);let{subGraphTitleTopMargin:_}=J1(r);if(g.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+_})`),l){let C=g.select("span");C&&C.attr("style",l)}let S=w.node().getBBox();return t.offsetX=0,t.width=S.width,t.height=S.height,t.offsetY=y.height-t.padding/2,t.intersect=function(C){return m0(t,C)},{cluster:p,labelBBox:y}},"rect"),ade=o((e,t)=>{let r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,a=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");let s=n.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(l){return m0(t,l)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),sde=o(async(e,t)=>{let r=we(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:l,nodeBorder:u}=n,h=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=h.insert("g",":first-child"),p=h.insert("g").attr("class","cluster-label"),f=h.append("rect"),g=p.node().appendChild(await Rh(t.label,t.labelStyle,void 0,!0)),m=g.getBBox();if(Nn(r.flowchart.htmlLabels)){let N=g.children[0],D=nt(g);m=N.getBoundingClientRect(),D.attr("width",m.width),D.attr("height",m.height)}let y=0*t.padding,b=y/2,v=(t.width<=m.width+t.padding?m.width+t.padding:t.width)+y;t.width<=m.width+t.padding?t.diff=(v-t.width)/2-t.padding:t.diff=-t.padding;let x=t.height+y,k=t.height+y-m.height-6,w=t.x-v/2,_=t.y-x/2;t.width=v;let S=t.y-t.height/2-b+m.height+2,C;if(t.look==="handDrawn"){let N=t.cssClasses.includes("statediagram-cluster-alt"),D=Qt.svg(h),M=t.rx||t.ry?D.path(sc(w,_,v,x,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:u,seed:i}):D.rectangle(w,_,v,x,{seed:i});C=h.insert(()=>M,":first-child");let L=D.rectangle(w,S,v,k,{fill:N?a:s,fillStyle:N?"hachure":"solid",stroke:u,seed:i});C=h.insert(()=>M,":first-child"),f=h.insert(()=>L)}else C=d.insert("rect",":first-child"),C.attr("class","outer").attr("x",w).attr("y",_).attr("width",v).attr("height",x).attr("data-look",t.look),f.attr("class","inner").attr("x",w).attr("y",S).attr("width",v).attr("height",k);p.attr("transform",`translate(${t.x-m.width/2}, ${_+1-(Nn(r.flowchart.htmlLabels)?0:3)})`);let T=C.node().getBBox();return t.height=T.height,t.offsetX=0,t.offsetY=m.height-t.padding/2,t.labelBBox=m,t.intersect=function(N){return m0(t,N)},{cluster:h,labelBBox:m}},"roundedWithTitle"),ode=o(async(e,t)=>{X.info("Creating subgraph rect for ",t.id,t);let r=we(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:l,nodeStyles:u,borderStyles:h,backgroundStyles:d}=ar(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Nn(r.flowchart.htmlLabels),g=p.insert("g").attr("class","cluster-label "),m=await Qs(g,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0,width:t.width}),y=m.getBBox();if(Nn(r.flowchart.htmlLabels)){let C=m.children[0],T=nt(m);y=C.getBoundingClientRect(),T.attr("width",y.width),T.attr("height",y.height)}let b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;let v=t.height,x=t.x-b/2,k=t.y-v/2;X.trace("Data ",t,JSON.stringify(t));let w;if(t.look==="handDrawn"){let C=Qt.svg(p),T=Jt(t,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:i}),N=C.path(sc(x,k,b,v,t.rx),T);w=p.insert(()=>(X.debug("Rough node insert CXC",N),N),":first-child"),w.select("path:nth-child(2)").attr("style",h.join(";")),w.select("path").attr("style",d.join(";").replace("fill","stroke"))}else w=p.insert("rect",":first-child"),w.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",x).attr("y",k).attr("width",b).attr("height",v);let{subGraphTitleTopMargin:_}=J1(r);if(g.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+_})`),l){let C=g.select("span");C&&C.attr("style",l)}let S=w.node().getBBox();return t.offsetX=0,t.width=S.width,t.height=S.height,t.offsetY=y.height-t.padding/2,t.intersect=function(C){return m0(t,C)},{cluster:p,labelBBox:y}},"kanbanSection"),lde=o((e,t)=>{let r=we(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,s=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),l=s.insert("g",":first-child"),u=0*t.padding,h=t.width+u;t.diff=-t.padding;let d=t.height+u,p=t.x-h/2,f=t.y-d/2;t.width=h;let g;if(t.look==="handDrawn"){let y=Qt.svg(s).rectangle(p,f,h,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});g=s.insert(()=>y,":first-child")}else g=l.insert("rect",":first-child"),g.attr("class","divider").attr("x",p).attr("y",f).attr("width",h).attr("height",d).attr("data-look",t.look);let m=g.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(y){return m0(t,y)},{cluster:s,labelBBox:{}}},"divider"),cde=IN,ude={rect:IN,squareRect:cde,roundedWithTitle:sde,noteGroup:ade,divider:lde,kanbanSection:ode},MN=new Map,vk=o(async(e,t)=>{let r=t.shape||"rect",n=await ude[r](e,t);return MN.set(t.id,n),n},"insertCluster"),hde=o(()=>{MN=new Map},"clear")});function T2(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Hn(e),t=Hn(t);let[r,n]=[e.x,e.y],[i,a]=[t.x,t.y],s=i-r,l=a-n;return{angle:Math.atan(l/s),deltaX:s,deltaY:l}}var Js,Hn,RN,dde=I(()=>{"use strict";Js={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4},o(T2,"calculateDeltaAndAngle"),Hn=o(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),RN=o(e=>({x:o(function(t,r,n){let i=0,a=Hn(n[0]).x<Hn(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Js,e.arrowTypeStart)){let{angle:g,deltaX:m}=T2(n[0],n[1]);i=Js[e.arrowTypeStart]*Math.cos(g)*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Js,e.arrowTypeEnd)){let{angle:g,deltaX:m}=T2(n[n.length-1],n[n.length-2]);i=Js[e.arrowTypeEnd]*Math.cos(g)*(m>=0?1:-1)}let s=Math.abs(Hn(t).x-Hn(n[n.length-1]).x),l=Math.abs(Hn(t).y-Hn(n[n.length-1]).y),u=Math.abs(Hn(t).x-Hn(n[0]).x),h=Math.abs(Hn(t).y-Hn(n[0]).y),d=Js[e.arrowTypeStart],p=Js[e.arrowTypeEnd],f=1;if(s<p&&s>0&&l<p){let g=p+f-s;g*=a==="right"?-1:1,i-=g}if(u<d&&u>0&&h<d){let g=d+f-u;g*=a==="right"?-1:1,i+=g}return Hn(t).x+i},"x"),y:o(function(t,r,n){let i=0,a=Hn(n[0]).y<Hn(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Js,e.arrowTypeStart)){let{angle:g,deltaY:m}=T2(n[0],n[1]);i=Js[e.arrowTypeStart]*Math.abs(Math.sin(g))*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Js,e.arrowTypeEnd)){let{angle:g,deltaY:m}=T2(n[n.length-1],n[n.length-2]);i=Js[e.arrowTypeEnd]*Math.abs(Math.sin(g))*(m>=0?1:-1)}let s=Math.abs(Hn(t).y-Hn(n[n.length-1]).y),l=Math.abs(Hn(t).x-Hn(n[n.length-1]).x),u=Math.abs(Hn(t).y-Hn(n[0]).y),h=Math.abs(Hn(t).x-Hn(n[0]).x),d=Js[e.arrowTypeStart],p=Js[e.arrowTypeEnd],f=1;if(s<p&&s>0&&l<p){let g=p+f-s;g*=a==="up"?-1:1,i-=g}if(u<d&&u>0&&h<d){let g=d+f-u;g*=a==="up"?-1:1,i+=g}return Hn(t).y+i},"y")}),"getLineFunctionsWithOffset")}),pde,gde,ON,rXe=I(()=>{"use strict";Ye(),pde=o((e,t,r,n,i)=>{t.arrowTypeStart&&ON(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&ON(e,"end",t.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),gde={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},ON=o((e,t,r,n,i,a)=>{let s=gde[r];if(!s){X.warn(`Unknown arrow type: ${r}`);return}let l=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${a}-${s}${l})`)},"addEdgeMarker")});function E2(e,t){we().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}function fde(e){let t=[],r=[];for(let n=1;n<e.length-1;n++){let i=e[n-1],a=e[n],s=e[n+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(t.push(a),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}var _2,ia,mde,eg,PN,BN,yde,vde,$N,FN,bde,zN,xde=I(()=>{"use strict";tr(),Pr(),Ye(),ac(),Dr(),dde(),yk(),Fr(),hr(),LL(),rXe(),_2=new Map,ia=new Map,mde=o(()=>{_2.clear(),ia.clear()},"clear"),eg=o(e=>e?e.reduce((t,r)=>t+";"+r,""):"","getLabelStyles"),PN=o(async(e,t)=>{let r=Nn(we().flowchart.htmlLabels),n=await Qs(e,t.label,{style:eg(t.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});X.info("abc82",t,t.labelType);let i=e.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(n);let s=n.getBBox();if(r){let u=n.children[0],h=nt(n);s=u.getBoundingClientRect(),h.attr("width",s.width),h.attr("height",s.height)}a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),_2.set(t.id,i),t.width=s.width,t.height=s.height;let l;if(t.startLabelLeft){let u=await Rh(t.startLabelLeft,eg(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);let p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),ia.get(t.id)||ia.set(t.id,{}),ia.get(t.id).startLeft=h,E2(l,t.startLabelLeft)}if(t.startLabelRight){let u=await Rh(t.startLabelRight,eg(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=h.node().appendChild(u),d.node().appendChild(u);let p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),ia.get(t.id)||ia.set(t.id,{}),ia.get(t.id).startRight=h,E2(l,t.startLabelRight)}if(t.endLabelLeft){let u=await Rh(t.endLabelLeft,eg(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);let p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),ia.get(t.id)||ia.set(t.id,{}),ia.get(t.id).endLeft=h,E2(l,t.endLabelLeft)}if(t.endLabelRight){let u=await Rh(t.endLabelRight,eg(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);let p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),ia.get(t.id)||ia.set(t.id,{}),ia.get(t.id).endRight=h,E2(l,t.endLabelRight)}return n},"insertEdgeLabel"),o(E2,"setTerminalWidth"),BN=o((e,t)=>{X.debug("Moving label abc88 ",e.id,e.label,_2.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath,n=we(),{subGraphTitleTotalMargin:i}=J1(n);if(e.label){let a=_2.get(e.id),s=e.x,l=e.y;if(r){let u=Ar.calcLabelPosition(r);X.debug("Moving label "+e.label+" from (",s,",",l,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,l=u.y)}a.attr("transform",`translate(${s}, ${l+i/2})`)}if(e.startLabelLeft){let a=ia.get(e.id).startLeft,s=e.x,l=e.y;if(r){let u=Ar.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.startLabelRight){let a=ia.get(e.id).startRight,s=e.x,l=e.y;if(r){let u=Ar.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelLeft){let a=ia.get(e.id).endLeft,s=e.x,l=e.y;if(r){let u=Ar.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelRight){let a=ia.get(e.id).endRight,s=e.x,l=e.y;if(r){let u=Ar.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}},"positionEdgeLabel"),yde=o((e,t)=>{let r=e.x,n=e.y,i=Math.abs(t.x-r),a=Math.abs(t.y-n),s=e.width/2,l=e.height/2;return i>=s||a>=l},"outsideNode"),vde=o((e,t,r)=>{X.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,i=e.y,a=Math.abs(n-r.x),s=e.width/2,l=r.x<t.x?s-a:s+a,u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*s>Math.abs(n-t.x)*u){let p=r.y<t.y?t.y-u-i:i-u-t.y;l=d*p/h;let f={x:r.x<t.x?r.x+l:r.x-d+l,y:r.y<t.y?r.y+h-p:r.y-h+p};return l===0&&(f.x=t.x,f.y=t.y),d===0&&(f.x=t.x),h===0&&(f.y=t.y),X.debug(`abc89 top/bottom calc, Q ${h}, q ${p}, R ${d}, r ${l}`,f),f}else{r.x<t.x?l=t.x-s-n:l=n-s-t.x;let p=h*l/d,f=r.x<t.x?r.x+d-l:r.x-d+l,g=r.y<t.y?r.y+p:r.y-p;return X.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${l}`,{_x:f,_y:g}),l===0&&(f=t.x,g=t.y),d===0&&(f=t.x),h===0&&(g=t.y),{x:f,y:g}}},"intersection"),$N=o((e,t)=>{X.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(a=>{if(X.info("abc88 checking point",a,t),!yde(t,a)&&!i){let s=vde(t,n,a);X.debug("abc88 inside",a,n,s),X.debug("abc88 intersection",s,t);let l=!1;r.forEach(u=>{l=l||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)?X.warn("abc88 no intersect",s,r):r.push(s),i=!0}else X.warn("abc88 outside",a,n),n=a,i||r.push(a)}),X.debug("returning points",r),r},"cutPathAtIntersect"),o(fde,"extractCornerPoints"),FN=o(function(e,t,r){let n=t.x-e.x,i=t.y-e.y,a=Math.sqrt(n*n+i*i),s=r/a;return{x:t.x-s*n,y:t.y-s*i}},"findAdjacentPoint"),bde=o(function(e){let{cornerPointPositions:t}=fde(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){let i=e[n-1],a=e[n+1],s=e[n],l=FN(i,s,5),u=FN(a,s,5),h=u.x-l.x,d=u.y-l.y;r.push(l);let p=Math.sqrt(2)*2,f={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){X.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));let g=5;s.x===l.x?f={x:h<0?l.x-g+p:l.x+g-p,y:d<0?l.y-p:l.y+p}:f={x:h<0?l.x-p:l.x+p,y:d<0?l.y-g+p:l.y+g-p}}else X.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));r.push(f,u)}else r.push(e[n]);return r},"fixCorners"),zN=o(function(e,t,r,n,i,a,s){let{handDrawnSeed:l}=we(),u=t.points,h=!1,d=i;var p=a;p.intersect&&d.intersect&&(u=u.slice(1,t.points.length-1),u.unshift(d.intersect(u[0])),X.debug("Last point APA12",t.start,"-->",t.end,u[u.length-1],p,p.intersect(u[u.length-1])),u.push(p.intersect(u[u.length-1]))),t.toCluster&&(X.info("to cluster abc88",r.get(t.toCluster)),u=$N(t.points,r.get(t.toCluster).node),h=!0),t.fromCluster&&(X.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(u,null,2)),u=$N(u.reverse(),r.get(t.fromCluster).node).reverse(),h=!0);let f=u.filter(C=>!Number.isNaN(C.y));f=bde(f);let g=T1;t.curve&&(g=t.curve);let{x:m,y}=RN(t),b=bh().x(m).y(y).curve(g),v;switch(t.thickness){case"normal":v="edge-thickness-normal";break;case"thick":v="edge-thickness-thick";break;case"invisible":v="edge-thickness-invisible";break;default:v="edge-thickness-normal"}switch(t.pattern){case"solid":v+=" edge-pattern-solid";break;case"dotted":v+=" edge-pattern-dotted";break;case"dashed":v+=" edge-pattern-dashed";break;default:v+=" edge-pattern-solid"}let x,k=b(f),w=Array.isArray(t.style)?t.style:[t.style];if(t.look==="handDrawn"){let C=Qt.svg(e);Object.assign([],f);let T=C.path(k,{roughness:.3,seed:l});v+=" transition",x=nt(T).select("path").attr("id",t.id).attr("class"," "+v+(t.classes?" "+t.classes:"")).attr("style",w?w.reduce((D,M)=>D+";"+M,""):"");let N=x.attr("d");x.attr("d",N),e.node().appendChild(x.node())}else x=e.append("path").attr("d",k).attr("id",t.id).attr("class"," "+v+(t.classes?" "+t.classes:"")).attr("style",w?w.reduce((C,T)=>C+";"+T,""):"");let _="";(we().flowchart.arrowMarkerAbsolute||we().state.arrowMarkerAbsolute)&&(_=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,_=_.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),X.info("arrowTypeStart",t.arrowTypeStart),X.info("arrowTypeEnd",t.arrowTypeEnd),pde(x,t,_,s,n);let S={};return h&&(S.updatedPath=u),S.originalPath=t.points,S},"insertEdge")}),kde,wde,Tde,Ede,_de,Cde,Sde,Ade,Lde,Nde,Ide,GN,Mde=I(()=>{"use strict";Ye(),kde=o((e,t,r,n)=>{t.forEach(i=>{Ide[i](e,r,n)})},"insertMarkers"),wde=o((e,t,r)=>{X.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Tde=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Ede=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),_de=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Cde=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Sde=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Ade=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Lde=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Nde=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Ide={extension:wde,composition:Tde,aggregation:Ede,dependency:_de,lollipop:Cde,point:Sde,circle:Ade,cross:Lde,barb:Nde},GN=kde});async function bk(e,t,r){let n,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");let a=t.shape?NL[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let s;r.config.securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s??null),i=await a(n,t,r)}else i=await a(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),C2.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}var C2,Dde,Rde,xk,qN=I(()=>{"use strict";Ye(),ice(),C2=new Map,o(bk,"insertNode"),Dde=o((e,t)=>{C2.set(t.id,e)},"setNodeElem"),Rde=o(()=>{C2.clear()},"clear"),xk=o(e=>{let t=C2.get(e.id);X.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode")}),Ode,nXe=I(()=>{"use strict";xs(),Pr(),Ye(),DN(),xde(),Mde(),qN(),Yt(),Dr(),Ode={common:ot,getConfig:Yn,insertCluster:vk,insertEdge:zN,insertEdgeLabel:PN,insertMarkers:GN,insertNode:bk,interpolateToCurve:A9,labelHelper:Er,log:X,positionEdgeLabel:BN}});function Pde(e){return typeof e=="symbol"||Ks(e)&&rc(e)==Bde}var Bde,Ph,tg=I(()=>{"use strict";kh(),pl(),Bde="[object Symbol]",o(Pde,"isSymbol"),Ph=Pde});function $de(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var su,rg=I(()=>{"use strict";o($de,"arrayMap"),su=$de});function jN(e){if(typeof e=="string")return e;if(jr(e))return su(e,jN)+"";if(Ph(e))return UN?UN.call(e):"";var t=e+"";return t=="0"&&1/e==-Fde?"-0":t}var Fde,YN,UN,zde,iXe=I(()=>{"use strict";E1(),rg(),ii(),tg(),Fde=1/0,YN=Vs?Vs.prototype:void 0,UN=YN?YN.toString:void 0,o(jN,"baseToString"),zde=jN});function Gde(e){for(var t=e.length;t--&&qde.test(e.charAt(t)););return t}var qde,jde,aXe=I(()=>{"use strict";qde=/\s/,o(Gde,"trimmedEndIndex"),jde=Gde});function Yde(e){return e&&e.slice(0,jde(e)+1).replace(Ude,"")}var Ude,Hde,sXe=I(()=>{"use strict";aXe(),Ude=/^\s+/,o(Yde,"baseTrim"),Hde=Yde});function Wde(e){if(typeof e=="number")return e;if(Ph(e))return HN;if(Za(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Za(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Hde(e);var r=Xde.test(e);return r||Kde.test(e)?Zde(e.slice(2),r?2:8):Vde.test(e)?HN:+e}var HN,Vde,Xde,Kde,Zde,Qde,oXe=I(()=>{"use strict";sXe(),Co(),tg(),HN=NaN,Vde=/^[-+]0x[0-9a-f]+$/i,Xde=/^0b[01]+$/i,Kde=/^0o[0-7]+$/i,Zde=parseInt,o(Wde,"toNumber"),Qde=Wde});function Jde(e){if(!e)return e===0?e:0;if(e=Qde(e),e===WN||e===-WN){var t=e<0?-1:1;return t*e0e}return e===e?e:0}var WN,e0e,S2,t0e=I(()=>{"use strict";oXe(),WN=1/0,e0e=17976931348623157e292,o(Jde,"toFinite"),S2=Jde});function r0e(e){var t=S2(e),r=t%1;return t===t?r?t-r:t:0}var ng,A2=I(()=>{"use strict";t0e(),o(r0e,"toInteger"),ng=r0e}),n0e,kk,lXe=I(()=>{"use strict";i0(),dl(),n0e=Th(_o,"WeakMap"),kk=n0e});function i0e(){}var Ni,a0e=I(()=>{"use strict";o(i0e,"noop"),Ni=i0e});function s0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var VN,o0e=I(()=>{"use strict";o(s0e,"arrayEach"),VN=s0e});function l0e(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var XN,c0e=I(()=>{"use strict";o(l0e,"baseFindIndex"),XN=l0e});function u0e(e){return e!==e}var h0e,cXe=I(()=>{"use strict";o(u0e,"baseIsNaN"),h0e=u0e});function d0e(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var p0e,uXe=I(()=>{"use strict";o(d0e,"strictIndexOf"),p0e=d0e});function g0e(e,t,r){return t===t?p0e(e,t,r):XN(e,h0e,r)}var wk,KN=I(()=>{"use strict";c0e(),cXe(),uXe(),o(g0e,"baseIndexOf"),wk=g0e});function f0e(e,t){var r=e==null?0:e.length;return!!r&&wk(e,t,0)>-1}var ZN,m0e=I(()=>{"use strict";KN(),o(f0e,"arrayIncludes"),ZN=f0e}),y0e,v0e,hXe=I(()=>{"use strict";Fne(),y0e=c9(Object.keys,Object),v0e=y0e});function b0e(e){if(!N1(e))return v0e(e);var t=[];for(var r in Object(e))k0e.call(e,r)&&r!="constructor"&&t.push(r);return t}var x0e,k0e,Tk,QN=I(()=>{"use strict";$y(),hXe(),x0e=Object.prototype,k0e=x0e.hasOwnProperty,o(b0e,"baseKeys"),Tk=b0e});function w0e(e){return So(e)?w9(e):Tk(e)}var Ii,ou=I(()=>{"use strict";iae(),QN(),gl(),o(w0e,"keys"),Ii=w0e}),T0e,E0e,_0e,Cs,dXe=I(()=>{"use strict";jy(),R1(),Pae(),gl(),$y(),ou(),T0e=Object.prototype,E0e=T0e.hasOwnProperty,_0e=S9(function(e,t){if(N1(t)||So(t)){g0(t,Ii(t),e);return}for(var r in t)E0e.call(t,r)&&D1(e,r,t[r])}),Cs=_0e});function C0e(e,t){if(jr(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ph(e)?!0:A0e.test(e)||!S0e.test(e)||t!=null&&e in Object(t)}var S0e,A0e,Ek,JN=I(()=>{"use strict";ii(),tg(),S0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A0e=/^\w*$/,o(C0e,"isKey"),Ek=C0e});function L0e(e){var t=Ry(e,function(n){return r.size===N0e&&r.clear(),n}),r=t.cache;return t}var N0e,I0e,pXe=I(()=>{"use strict";sne(),N0e=500,o(L0e,"memoizeCapped"),I0e=L0e}),M0e,D0e,R0e,O0e,gXe=I(()=>{"use strict";pXe(),M0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D0e=/\\(\\)?/g,R0e=I0e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(M0e,function(r,n,i,a){t.push(i?a.replace(D0e,"$1"):n||r)}),t}),O0e=R0e});function P0e(e){return e==null?"":zde(e)}var eI,B0e=I(()=>{"use strict";iXe(),o(P0e,"toString"),eI=P0e});function $0e(e,t){return jr(e)?e:Ek(e,t)?[e]:O0e(eI(e))}var L2,_k=I(()=>{"use strict";ii(),JN(),gXe(),B0e(),o($0e,"castPath"),L2=$0e});function F0e(e){if(typeof e=="string"||Ph(e))return e;var t=e+"";return t=="0"&&1/e==-z0e?"-0":t}var z0e,ig,N2=I(()=>{"use strict";tg(),z0e=1/0,o(F0e,"toKey"),ig=F0e});function G0e(e,t){t=L2(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[ig(t[r++])];return r&&r==n?e:void 0}var I2,Ck=I(()=>{"use strict";_k(),N2(),o(G0e,"baseGet"),I2=G0e});function q0e(e,t,r){var n=e==null?void 0:I2(e,t);return n===void 0?r:n}var j0e,fXe=I(()=>{"use strict";Ck(),o(q0e,"get"),j0e=q0e});function Y0e(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Sk,tI=I(()=>{"use strict";o(Y0e,"arrayPush"),Sk=Y0e});function U0e(e){return jr(e)||h0(e)||!!(rI&&e&&e[rI])}var rI,H0e,mXe=I(()=>{"use strict";E1(),Fy(),ii(),rI=Vs?Vs.isConcatSpreadable:void 0,o(U0e,"isFlattenable"),H0e=U0e});function nI(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=H0e),i||(i=[]);++a<s;){var l=e[a];t>0&&r(l)?t>1?nI(l,t-1,r,n,i):Sk(i,l):n||(i[i.length]=l)}return i}var ag,M2=I(()=>{"use strict";tI(),mXe(),o(nI,"baseFlatten"),ag=nI});function W0e(e){var t=e==null?0:e.length;return t?ag(e,1):[]}var Vi,iI=I(()=>{"use strict";M2(),o(W0e,"flatten"),Vi=W0e});function V0e(e){return C9(_9(e,void 0,Vi),e+"")}var X0e,yXe=I(()=>{"use strict";iI(),kae(),Mae(),o(V0e,"flatRest"),X0e=V0e});function K0e(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var aI,Z0e=I(()=>{"use strict";o(K0e,"baseSlice"),aI=K0e});function Q0e(e){return spe.test(e)}var J0e,epe,tpe,rpe,npe,ipe,ape,spe,ope,vXe=I(()=>{"use strict";J0e="\\ud800-\\udfff",epe="\\u0300-\\u036f",tpe="\\ufe20-\\ufe2f",rpe="\\u20d0-\\u20ff",npe=epe+tpe+rpe,ipe="\\ufe0e\\ufe0f",ape="\\u200d",spe=RegExp("["+ape+J0e+npe+ipe+"]"),o(Q0e,"hasUnicode"),ope=Q0e});function lpe(e,t,r,n){var i=-1,a=e==null?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}var cpe,bXe=I(()=>{"use strict";o(lpe,"arrayReduce"),cpe=lpe});function upe(e,t){return e&&g0(t,Ii(t),e)}var hpe,xXe=I(()=>{"use strict";R1(),ou(),o(upe,"baseAssign"),hpe=upe});function dpe(e,t){return e&&g0(t,Eh(t),e)}var ppe,kXe=I(()=>{"use strict";R1(),f0(),o(dpe,"baseAssignIn"),ppe=dpe});function gpe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var Ak,sI=I(()=>{"use strict";o(gpe,"arrayFilter"),Ak=gpe});function fpe(){return[]}var oI,mpe=I(()=>{"use strict";o(fpe,"stubArray"),oI=fpe}),ype,vpe,lI,bpe,Lk,cI=I(()=>{"use strict";sI(),mpe(),ype=Object.prototype,vpe=ype.propertyIsEnumerable,lI=Object.getOwnPropertySymbols,bpe=lI?function(e){return e==null?[]:(e=Object(e),Ak(lI(e),function(t){return vpe.call(e,t)}))}:oI,Lk=bpe});function xpe(e,t){return g0(e,Lk(e),t)}var kpe,wXe=I(()=>{"use strict";R1(),cI(),o(xpe,"copySymbols"),kpe=xpe}),wpe,Tpe,uI,Epe=I(()=>{"use strict";tI(),u9(),cI(),mpe(),wpe=Object.getOwnPropertySymbols,Tpe=wpe?function(e){for(var t=[];e;)Sk(t,Lk(e)),e=h5(e);return t}:oI,uI=Tpe});function _pe(e,t){return g0(e,uI(e),t)}var Cpe,TXe=I(()=>{"use strict";R1(),Epe(),o(_pe,"copySymbolsIn"),Cpe=_pe});function Spe(e,t,r){var n=t(e);return jr(e)?n:Sk(n,r(e))}var hI,Ape=I(()=>{"use strict";tI(),ii(),o(Spe,"baseGetAllKeys"),hI=Spe});function Lpe(e){return hI(e,Ii,Lk)}var Nk,Npe=I(()=>{"use strict";Ape(),cI(),ou(),o(Lpe,"getAllKeys"),Nk=Lpe});function Ipe(e){return hI(e,Eh,uI)}var dI,Mpe=I(()=>{"use strict";Ape(),Epe(),f0(),o(Ipe,"getAllKeysIn"),dI=Ipe}),Dpe,Ik,EXe=I(()=>{"use strict";i0(),dl(),Dpe=Th(_o,"DataView"),Ik=Dpe}),Rpe,Mk,_Xe=I(()=>{"use strict";i0(),dl(),Rpe=Th(_o,"Promise"),Mk=Rpe}),Ope,C0,Ppe=I(()=>{"use strict";i0(),dl(),Ope=Th(_o,"Set"),C0=Ope}),pI,Bpe,gI,fI,mI,yI,$pe,Fpe,zpe,Gpe,qpe,Bh,$h,sg=I(()=>{"use strict";EXe(),ZA(),_Xe(),Ppe(),lXe(),kh(),tre(),pI="[object Map]",Bpe="[object Object]",gI="[object Promise]",fI="[object Set]",mI="[object WeakMap]",yI="[object DataView]",$pe=wh(Ik),Fpe=wh(A1),zpe=wh(Mk),Gpe=wh(C0),qpe=wh(kk),Bh=rc,(Ik&&Bh(new Ik(new ArrayBuffer(1)))!=yI||A1&&Bh(new A1)!=pI||Mk&&Bh(Mk.resolve())!=gI||C0&&Bh(new C0)!=fI||kk&&Bh(new kk)!=mI)&&(Bh=o(function(e){var t=rc(e),r=t==Bpe?e.constructor:void 0,n=r?wh(r):"";if(n)switch(n){case $pe:return yI;case Fpe:return pI;case zpe:return gI;case Gpe:return fI;case qpe:return mI}return t},"getTag")),$h=Bh});function jpe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Upe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ype,Upe,Hpe,CXe=I(()=>{"use strict";Ype=Object.prototype,Upe=Ype.hasOwnProperty,o(jpe,"initCloneArray"),Hpe=jpe});function Wpe(e,t){var r=t?u5(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Vpe,SXe=I(()=>{"use strict";a9(),o(Wpe,"cloneDataView"),Vpe=Wpe});function Xpe(e){var t=new e.constructor(e.source,Kpe.exec(e));return t.lastIndex=e.lastIndex,t}var Kpe,Zpe,AXe=I(()=>{"use strict";Kpe=/\w*$/,o(Xpe,"cloneRegExp"),Zpe=Xpe});function Qpe(e){return bI?Object(bI.call(e)):{}}var vI,bI,Jpe,LXe=I(()=>{"use strict";E1(),vI=Vs?Vs.prototype:void 0,bI=vI?vI.valueOf:void 0,o(Qpe,"cloneSymbol"),Jpe=Qpe});function e1e(e,t,r){var n=e.constructor;switch(t){case c1e:return u5(e);case t1e:case r1e:return new n(+e);case u1e:return Vpe(e,r);case h1e:case d1e:case p1e:case g1e:case f1e:case m1e:case y1e:case v1e:case b1e:return s9(e,r);case n1e:return new n;case i1e:case o1e:return new n(e);case a1e:return Zpe(e);case s1e:return new n;case l1e:return Jpe(e)}}var t1e,r1e,n1e,i1e,a1e,s1e,o1e,l1e,c1e,u1e,h1e,d1e,p1e,g1e,f1e,m1e,y1e,v1e,b1e,x1e,NXe=I(()=>{"use strict";a9(),SXe(),AXe(),LXe(),Dne(),t1e="[object Boolean]",r1e="[object Date]",n1e="[object Map]",i1e="[object Number]",a1e="[object RegExp]",s1e="[object Set]",o1e="[object String]",l1e="[object Symbol]",c1e="[object ArrayBuffer]",u1e="[object DataView]",h1e="[object Float32Array]",d1e="[object Float64Array]",p1e="[object Int8Array]",g1e="[object Int16Array]",f1e="[object Int32Array]",m1e="[object Uint8Array]",y1e="[object Uint8ClampedArray]",v1e="[object Uint16Array]",b1e="[object Uint32Array]",o(e1e,"initCloneByTag"),x1e=e1e});function k1e(e){return Ks(e)&&$h(e)==w1e}var w1e,T1e,IXe=I(()=>{"use strict";sg(),pl(),w1e="[object Map]",o(k1e,"baseIsMap"),T1e=k1e}),xI,E1e,_1e,MXe=I(()=>{"use strict";IXe(),I1(),g5(),xI=Xc&&Xc.isMap,E1e=xI?p0(xI):T1e,_1e=E1e});function C1e(e){return Ks(e)&&$h(e)==S1e}var S1e,A1e,DXe=I(()=>{"use strict";sg(),pl(),S1e="[object Set]",o(C1e,"baseIsSet"),A1e=C1e}),kI,L1e,N1e,RXe=I(()=>{"use strict";DXe(),I1(),g5(),kI=Xc&&Xc.isSet,L1e=kI?p0(kI):A1e,N1e=L1e});function D2(e,t,r,n,i,a){var s,l=t&I1e,u=t&M1e,h=t&D1e;if(r&&(s=i?r(e,n,i,a):r(e)),s!==void 0)return s;if(!Za(e))return e;var d=jr(e);if(d){if(s=Hpe(e),!l)return o9(e,s)}else{var p=$h(e),f=p==TI||p==$1e;if(d0(e))return i9(e,l);if(p==EI||p==wI||f&&!i){if(s=u||f?{}:h9(e),!l)return u?Cpe(e,ppe(s,e)):kpe(e,hpe(s,e))}else{if(!Rn[p])return i?e:{};s=x1e(e,p,l)}}a||(a=new u0);var g=a.get(e);if(g)return g;a.set(e,s),N1e(e)?e.forEach(function(b){s.add(D2(b,t,r,b,e,a))}):_1e(e)&&e.forEach(function(b,v){s.set(v,D2(b,t,r,v,e,a))});var m=h?u?dI:Nk:u?Eh:Ii,y=d?void 0:m(e);return VN(y||e,function(b,v){y&&(v=b,b=e[v]),D1(s,v,D2(b,t,r,v,e,a))}),s}var I1e,M1e,D1e,wI,R1e,O1e,P1e,B1e,TI,$1e,F1e,z1e,EI,G1e,q1e,j1e,Y1e,U1e,H1e,W1e,V1e,X1e,K1e,Z1e,Q1e,J1e,ege,tge,rge,Rn,_I,nge=I(()=>{"use strict";o5(),o0e(),jy(),xXe(),kXe(),Ane(),One(),wXe(),TXe(),Npe(),Mpe(),sg(),CXe(),NXe(),Yne(),ii(),Gy(),MXe(),Co(),RXe(),ou(),f0(),I1e=1,M1e=2,D1e=4,wI="[object Arguments]",R1e="[object Array]",O1e="[object Boolean]",P1e="[object Date]",B1e="[object Error]",TI="[object Function]",$1e="[object GeneratorFunction]",F1e="[object Map]",z1e="[object Number]",EI="[object Object]",G1e="[object RegExp]",q1e="[object Set]",j1e="[object String]",Y1e="[object Symbol]",U1e="[object WeakMap]",H1e="[object ArrayBuffer]",W1e="[object DataView]",V1e="[object Float32Array]",X1e="[object Float64Array]",K1e="[object Int8Array]",Z1e="[object Int16Array]",Q1e="[object Int32Array]",J1e="[object Uint8Array]",ege="[object Uint8ClampedArray]",tge="[object Uint16Array]",rge="[object Uint32Array]",Rn={},Rn[wI]=Rn[R1e]=Rn[H1e]=Rn[W1e]=Rn[O1e]=Rn[P1e]=Rn[V1e]=Rn[X1e]=Rn[K1e]=Rn[Z1e]=Rn[Q1e]=Rn[F1e]=Rn[z1e]=Rn[EI]=Rn[G1e]=Rn[q1e]=Rn[j1e]=Rn[Y1e]=Rn[J1e]=Rn[ege]=Rn[tge]=Rn[rge]=!0,Rn[B1e]=Rn[TI]=Rn[U1e]=!1,o(D2,"baseClone"),_I=D2});function ige(e){return _I(e,age)}var age,Mi,sge=I(()=>{"use strict";nge(),age=4,o(ige,"clone"),Mi=ige});function oge(e){return _I(e,lge|cge)}var lge,cge,uge,OXe=I(()=>{"use strict";nge(),lge=1,cge=4,o(oge,"cloneDeep"),uge=oge});function hge(e){for(var t=-1,r=e==null?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i}var og,PXe=I(()=>{"use strict";o(hge,"compact"),og=hge});function dge(e){return this.__data__.set(e,pge),this}var pge,gge,BXe=I(()=>{"use strict";pge="__lodash_hash_undefined__",o(dge,"setCacheAdd"),gge=dge});function fge(e){return this.__data__.has(e)}var mge,$Xe=I(()=>{"use strict";o(fge,"setCacheHas"),mge=fge});function R2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Dy;++t<r;)this.add(e[t])}var Dk,CI=I(()=>{"use strict";QA(),BXe(),$Xe(),o(R2,"SetCache"),R2.prototype.add=R2.prototype.push=gge,R2.prototype.has=mge,Dk=R2});function yge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var SI,vge=I(()=>{"use strict";o(yge,"arraySome"),SI=yge});function bge(e,t){return e.has(t)}var Rk,AI=I(()=>{"use strict";o(bge,"cacheHas"),Rk=bge});function xge(e,t,r,n,i,a){var s=r&kge,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var p=-1,f=!0,g=r&wge?new Dk:void 0;for(a.set(e,t),a.set(t,e);++p<l;){var m=e[p],y=t[p];if(n)var b=s?n(y,m,p,t,e,a):n(m,y,p,e,t,a);if(b!==void 0){if(b)continue;f=!1;break}if(g){if(!SI(t,function(v,x){if(!Rk(g,x)&&(m===v||i(m,v,r,n,a)))return g.push(x)})){f=!1;break}}else if(!(m===y||i(m,y,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var kge,wge,LI,Tge=I(()=>{"use strict";CI(),vge(),AI(),kge=1,wge=2,o(xge,"equalArrays"),LI=xge});function Ege(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var _ge,FXe=I(()=>{"use strict";o(Ege,"mapToArray"),_ge=Ege});function Cge(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ok,NI=I(()=>{"use strict";o(Cge,"setToArray"),Ok=Cge});function Sge(e,t,r,n,i,a,s){switch(r){case zge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Fge:return!(e.byteLength!=t.byteLength||!a(new By(e),new By(t)));case Nge:case Ige:case Rge:return s0(+e,+t);case Mge:return e.name==t.name&&e.message==t.message;case Oge:case Bge:return e==t+"";case Dge:var l=_ge;case Pge:var u=n&Age;if(l||(l=Ok),e.size!=t.size&&!u)return!1;var h=s.get(e);if(h)return h==t;n|=Lge,s.set(e,t);var d=LI(l(e),l(t),n,i,a,s);return s.delete(e),d;case $ge:if(Pk)return Pk.call(e)==Pk.call(t)}return!1}var Age,Lge,Nge,Ige,Mge,Dge,Rge,Oge,Pge,Bge,$ge,Fge,zge,II,Pk,Gge,zXe=I(()=>{"use strict";E1(),Nne(),S1(),Tge(),FXe(),NI(),Age=1,Lge=2,Nge="[object Boolean]",Ige="[object Date]",Mge="[object Error]",Dge="[object Map]",Rge="[object Number]",Oge="[object RegExp]",Pge="[object Set]",Bge="[object String]",$ge="[object Symbol]",Fge="[object ArrayBuffer]",zge="[object DataView]",II=Vs?Vs.prototype:void 0,Pk=II?II.valueOf:void 0,o(Sge,"equalByTag"),Gge=Sge});function qge(e,t,r,n,i,a){var s=r&jge,l=Nk(e),u=l.length,h=Nk(t),d=h.length;if(u!=d&&!s)return!1;for(var p=u;p--;){var f=l[p];if(!(s?f in t:Uge.call(t,f)))return!1}var g=a.get(e),m=a.get(t);if(g&&m)return g==t&&m==e;var y=!0;a.set(e,t),a.set(t,e);for(var b=s;++p<u;){f=l[p];var v=e[f],x=t[f];if(n)var k=s?n(x,v,f,t,e,a):n(v,x,f,e,t,a);if(!(k===void 0?v===x||i(v,x,r,n,a):k)){y=!1;break}b||(b=f=="constructor")}if(y&&!b){var w=e.constructor,_=t.constructor;w!=_&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof _=="function"&&_ instanceof _)&&(y=!1)}return a.delete(e),a.delete(t),y}var jge,Yge,Uge,Hge,GXe=I(()=>{"use strict";Npe(),jge=1,Yge=Object.prototype,Uge=Yge.hasOwnProperty,o(qge,"equalObjects"),Hge=qge});function Wge(e,t,r,n,i,a){var s=jr(e),l=jr(t),u=s?DI:$h(e),h=l?DI:$h(t);u=u==MI?O2:u,h=h==MI?O2:h;var d=u==O2,p=h==O2,f=u==h;if(f&&d0(e)){if(!d0(t))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new u0),s||qy(e)?LI(e,t,r,n,i,a):Gge(e,t,u,r,n,i,a);if(!(r&Vge)){var g=d&&RI.call(e,"__wrapped__"),m=p&&RI.call(t,"__wrapped__");if(g||m){var y=g?e.value():e,b=m?t.value():t;return a||(a=new u0),i(y,b,r,n,a)}}return f?(a||(a=new u0),Hge(e,t,r,n,i,a)):!1}var Vge,MI,DI,O2,Xge,RI,Kge,qXe=I(()=>{"use strict";o5(),Tge(),zXe(),GXe(),sg(),ii(),Gy(),f5(),Vge=1,MI="[object Arguments]",DI="[object Array]",O2="[object Object]",Xge=Object.prototype,RI=Xge.hasOwnProperty,o(Wge,"baseIsEqualDeep"),Kge=Wge});function OI(e,t,r,n,i){return e===t?!0:e==null||t==null||!Ks(e)&&!Ks(t)?e!==e&&t!==t:Kge(e,t,r,n,OI,i)}var PI,Zge=I(()=>{"use strict";qXe(),pl(),o(OI,"baseIsEqual"),PI=OI});function Qge(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var u=l[0],h=e[u],d=l[1];if(s&&l[2]){if(h===void 0&&!(u in e))return!1}else{var p=new u0;if(n)var f=n(h,d,u,e,t,p);if(!(f===void 0?PI(d,h,Jge|efe,n,p):f))return!1}}return!0}var Jge,efe,tfe,jXe=I(()=>{"use strict";o5(),Zge(),Jge=1,efe=2,o(Qge,"baseIsMatch"),tfe=Qge});function rfe(e){return e===e&&!Za(e)}var BI,nfe=I(()=>{"use strict";Co(),o(rfe,"isStrictComparable"),BI=rfe});function ife(e){for(var t=Ii(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,BI(i)]}return t}var afe,YXe=I(()=>{"use strict";nfe(),ou(),o(ife,"getMatchData"),afe=ife});function sfe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var $I,ofe=I(()=>{"use strict";o(sfe,"matchesStrictComparable"),$I=sfe});function lfe(e){var t=afe(e);return t.length==1&&t[0][2]?$I(t[0][0],t[0][1]):function(r){return r===e||tfe(r,e,t)}}var cfe,UXe=I(()=>{"use strict";jXe(),YXe(),ofe(),o(lfe,"baseMatches"),cfe=lfe});function ufe(e,t){return e!=null&&t in Object(e)}var hfe,HXe=I(()=>{"use strict";o(ufe,"baseHasIn"),hfe=ufe});function dfe(e,t,r){t=L2(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=ig(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&d5(i)&&Yy(s,i)&&(jr(e)||h0(e)))}var FI,pfe=I(()=>{"use strict";_k(),Fy(),ii(),y5(),g9(),N2(),o(dfe,"hasPath"),FI=dfe});function gfe(e,t){return e!=null&&FI(e,t,hfe)}var zI,ffe=I(()=>{"use strict";HXe(),pfe(),o(gfe,"hasIn"),zI=gfe});function mfe(e,t){return Ek(e)&&BI(t)?$I(ig(e),t):function(r){var n=j0e(r,e);return n===void 0&&n===t?zI(r,e):PI(t,n,yfe|vfe)}}var yfe,vfe,bfe,WXe=I(()=>{"use strict";Zge(),fXe(),ffe(),JN(),nfe(),ofe(),N2(),yfe=1,vfe=2,o(mfe,"baseMatchesProperty"),bfe=mfe});function xfe(e){return function(t){return t?.[e]}}var GI,kfe=I(()=>{"use strict";o(xfe,"baseProperty"),GI=xfe});function wfe(e){return function(t){return I2(t,e)}}var Tfe,VXe=I(()=>{"use strict";Ck(),o(wfe,"basePropertyDeep"),Tfe=wfe});function Efe(e){return Ek(e)?GI(ig(e)):Tfe(e)}var _fe,XXe=I(()=>{"use strict";kfe(),VXe(),JN(),N2(),o(Efe,"property"),_fe=Efe});function Cfe(e){return typeof e=="function"?e:e==null?nc:typeof e=="object"?jr(e)?bfe(e[0],e[1]):cfe(e):_fe(e)}var ns,Ss=I(()=>{"use strict";UXe(),WXe(),_h(),ii(),XXe(),o(Cfe,"baseIteratee"),ns=Cfe});function Sfe(e,t,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;){var s=e[i];t(n,s,r(s),e)}return n}var Afe,KXe=I(()=>{"use strict";o(Sfe,"arrayAggregator"),Afe=Sfe});function Lfe(e,t){return e&&c5(e,t,Ii)}var Bk,qI=I(()=>{"use strict";JA(),ou(),o(Lfe,"baseForOwn"),Bk=Lfe});function Nfe(e,t){return function(r,n){if(r==null)return r;if(!So(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var Ife,ZXe=I(()=>{"use strict";gl(),o(Nfe,"createBaseEach"),Ife=Nfe}),Mfe,Fh,S0=I(()=>{"use strict";qI(),ZXe(),Mfe=Ife(Bk),Fh=Mfe});function Dfe(e,t,r,n){return Fh(e,function(i,a,s){t(n,i,r(i),s)}),n}var Rfe,QXe=I(()=>{"use strict";S0(),o(Dfe,"baseAggregator"),Rfe=Dfe});function Ofe(e,t){return function(r,n){var i=jr(r)?Afe:Rfe,a=t?t():{};return i(r,e,ns(n,2),a)}}var Pfe,JXe=I(()=>{"use strict";KXe(),QXe(),Ss(),ii(),o(Ofe,"createAggregator"),Pfe=Ofe}),Bfe,jI,eKe=I(()=>{"use strict";dl(),Bfe=o(function(){return _o.Date.now()},"now"),jI=Bfe}),YI,$fe,Ffe,P2,tKe=I(()=>{"use strict";Uy(),S1(),P1(),f0(),YI=Object.prototype,$fe=YI.hasOwnProperty,Ffe=O1(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&Ch(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],s=Eh(a),l=-1,u=s.length;++l<u;){var h=s[l],d=e[h];(d===void 0||s0(d,YI[h])&&!$fe.call(e,h))&&(e[h]=a[h])}return e}),P2=Ffe});function zfe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var UI,Gfe=I(()=>{"use strict";o(zfe,"arrayIncludesWith"),UI=zfe});function qfe(e,t,r,n){var i=-1,a=ZN,s=!0,l=e.length,u=[],h=t.length;if(!l)return u;r&&(t=su(t,p0(r))),n?(a=UI,s=!1):t.length>=jfe&&(a=Rk,s=!1,t=new Dk(t));e:for(;++i<l;){var d=e[i],p=r==null?d:r(d);if(d=n||d!==0?d:0,s&&p===p){for(var f=h;f--;)if(t[f]===p)continue e;u.push(d)}else a(t,p,n)||u.push(d)}return u}var jfe,Yfe,rKe=I(()=>{"use strict";CI(),m0e(),Gfe(),rg(),I1(),AI(),jfe=200,o(qfe,"baseDifference"),Yfe=qfe}),Ufe,B2,nKe=I(()=>{"use strict";rKe(),M2(),Uy(),f9(),Ufe=O1(function(e,t){return zy(e)?Yfe(e,ag(t,1,zy,!0)):[]}),B2=Ufe});function Hfe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ml,iKe=I(()=>{"use strict";o(Hfe,"last"),ml=Hfe});function Wfe(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:ng(t),aI(e,t<0?0:t,n)):[]}var aa,aKe=I(()=>{"use strict";Z0e(),A2(),o(Wfe,"drop"),aa=Wfe});function Vfe(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:ng(t),t=n-t,aI(e,0,t<0?0:t)):[]}var lg,sKe=I(()=>{"use strict";Z0e(),A2(),o(Vfe,"dropRight"),lg=Vfe});function Xfe(e){return typeof e=="function"?e:nc}var $k,HI=I(()=>{"use strict";_h(),o(Xfe,"castFunction"),$k=Xfe});function Kfe(e,t){var r=jr(e)?VN:Fh;return r(e,$k(t))}var Be,WI=I(()=>{"use strict";o0e(),S0(),HI(),ii(),o(Kfe,"forEach"),Be=Kfe}),oKe=I(()=>{"use strict";WI()});function Zfe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Qfe,lKe=I(()=>{"use strict";o(Zfe,"arrayEvery"),Qfe=Zfe});function Jfe(e,t){var r=!0;return Fh(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var eme,cKe=I(()=>{"use strict";S0(),o(Jfe,"baseEvery"),eme=Jfe});function tme(e,t,r){var n=jr(e)?Qfe:eme;return r&&Ch(e,t,r)&&(t=void 0),n(e,ns(t,3))}var Io,uKe=I(()=>{"use strict";lKe(),cKe(),Ss(),ii(),P1(),o(tme,"every"),Io=tme});function rme(e,t){var r=[];return Fh(e,function(n,i,a){t(n,i,a)&&r.push(n)}),r}var VI,nme=I(()=>{"use strict";S0(),o(rme,"baseFilter"),VI=rme});function ime(e,t){var r=jr(e)?Ak:VI;return r(e,ns(t,3))}var ai,ame=I(()=>{"use strict";sI(),nme(),Ss(),ii(),o(ime,"filter"),ai=ime});function sme(e){return function(t,r,n){var i=Object(t);if(!So(t)){var a=ns(r,3);t=Ii(t),r=o(function(l){return a(i[l],l,i)},"predicate")}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var ome,hKe=I(()=>{"use strict";Ss(),gl(),ou(),o(sme,"createFind"),ome=sme});function lme(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:ng(r);return i<0&&(i=cme(n+i,0)),XN(e,ns(t,3),i)}var cme,ume,dKe=I(()=>{"use strict";c0e(),Ss(),A2(),cme=Math.max,o(lme,"findIndex"),ume=lme}),hme,cc,pKe=I(()=>{"use strict";hKe(),dKe(),hme=ome(ume),cc=hme});function dme(e){return e&&e.length?e[0]:void 0}var Mo,gKe=I(()=>{"use strict";o(dme,"head"),Mo=dme}),fKe=I(()=>{"use strict";gKe()});function pme(e,t){var r=-1,n=So(e)?Array(e.length):[];return Fh(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var XI,gme=I(()=>{"use strict";S0(),gl(),o(pme,"baseMap"),XI=pme});function fme(e,t){var r=jr(e)?su:XI;return r(e,ns(t,3))}var wt,$2=I(()=>{"use strict";rg(),Ss(),gme(),ii(),o(fme,"map"),wt=fme});function mme(e,t){return ag(wt(e,t),1)}var As,yme=I(()=>{"use strict";M2(),$2(),o(mme,"flatMap"),As=mme});function vme(e,t){return e==null?e:c5(e,$k(t),Eh)}var bme,mKe=I(()=>{"use strict";JA(),HI(),f0(),o(vme,"forIn"),bme=vme});function xme(e,t){return e&&Bk(e,$k(t))}var kme,yKe=I(()=>{"use strict";qI(),HI(),o(xme,"forOwn"),kme=xme}),wme,Tme,Eme,_me,vKe=I(()=>{"use strict";Py(),JXe(),wme=Object.prototype,Tme=wme.hasOwnProperty,Eme=Pfe(function(e,t,r){Tme.call(e,r)?e[r].push(t):L1(e,r,[t])}),_me=Eme});function Cme(e,t){return e>t}var Sme,bKe=I(()=>{"use strict";o(Cme,"baseGt"),Sme=Cme});function Ame(e,t){return e!=null&&Nme.call(e,t)}var Lme,Nme,Ime,xKe=I(()=>{"use strict";Lme=Object.prototype,Nme=Lme.hasOwnProperty,o(Ame,"baseHas"),Ime=Ame});function Mme(e,t){return e!=null&&FI(e,t,Ime)}var gr,kKe=I(()=>{"use strict";xKe(),pfe(),o(Mme,"has"),gr=Mme});function Dme(e){return typeof e=="string"||!jr(e)&&Ks(e)&&rc(e)==Rme}var Rme,qa,KI=I(()=>{"use strict";kh(),ii(),pl(),Rme="[object String]",o(Dme,"isString"),qa=Dme});function Ome(e,t){return su(t,function(r){return e[r]})}var Pme,wKe=I(()=>{"use strict";rg(),o(Ome,"baseValues"),Pme=Ome});function Bme(e){return e==null?[]:Pme(e,Ii(e))}var Cn,$me=I(()=>{"use strict";wKe(),ou(),o(Bme,"values"),Cn=Bme});function Fme(e,t,r,n){e=So(e)?e:Cn(e),r=r&&!n?ng(r):0;var i=e.length;return r<0&&(r=zme(i+r,0)),qa(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&wk(e,t,r)>-1}var zme,ja,TKe=I(()=>{"use strict";KN(),gl(),KI(),A2(),$me(),zme=Math.max,o(Fme,"includes"),ja=Fme});function Gme(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:ng(r);return i<0&&(i=qme(n+i,0)),wk(e,t,i)}var qme,ZI,EKe=I(()=>{"use strict";KN(),A2(),qme=Math.max,o(Gme,"indexOf"),ZI=Gme});function jme(e){if(e==null)return!0;if(So(e)&&(jr(e)||typeof e=="string"||typeof e.splice=="function"||d0(e)||qy(e)||h0(e)))return!e.length;var t=$h(e);if(t==Yme||t==Ume)return!e.size;if(N1(e))return!Tk(e).length;for(var r in e)if(Wme.call(e,r))return!1;return!0}var Yme,Ume,Hme,Wme,un,QI=I(()=>{"use strict";QN(),sg(),Fy(),ii(),gl(),Gy(),$y(),f5(),Yme="[object Map]",Ume="[object Set]",Hme=Object.prototype,Wme=Hme.hasOwnProperty,o(jme,"isEmpty"),un=jme});function Vme(e){return Ks(e)&&rc(e)==Xme}var Xme,Kme,_Ke=I(()=>{"use strict";kh(),pl(),Xme="[object RegExp]",o(Vme,"baseIsRegExp"),Kme=Vme}),JI,Zme,uc,CKe=I(()=>{"use strict";_Ke(),I1(),g5(),JI=Xc&&Xc.isRegExp,Zme=JI?p0(JI):Kme,uc=Zme});function Qme(e){return e===void 0}var mn,SKe=I(()=>{"use strict";o(Qme,"isUndefined"),mn=Qme});function Jme(e,t){return e<t}var eM,eye=I(()=>{"use strict";o(Jme,"baseLt"),eM=Jme});function tye(e,t){var r={};return t=ns(t,3),Bk(e,function(n,i,a){L1(r,i,t(n,i,a))}),r}var F2,AKe=I(()=>{"use strict";Py(),qI(),Ss(),o(tye,"mapValues"),F2=tye});function rye(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(l===void 0?s===s&&!Ph(s):r(s,l)))var l=s,u=a}return u}var Fk,tM=I(()=>{"use strict";tg(),o(rye,"baseExtremum"),Fk=rye});function nye(e){return e&&e.length?Fk(e,nc,Sme):void 0}var zh,LKe=I(()=>{"use strict";tM(),bKe(),_h(),o(nye,"max"),zh=nye});function iye(e){return e&&e.length?Fk(e,nc,eM):void 0}var A0,aye=I(()=>{"use strict";tM(),eye(),_h(),o(iye,"min"),A0=iye});function sye(e,t){return e&&e.length?Fk(e,ns(t,2),eM):void 0}var zk,NKe=I(()=>{"use strict";tM(),Ss(),eye(),o(sye,"minBy"),zk=sye});function oye(e){if(typeof e!="function")throw new TypeError(lye);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var lye,cye,IKe=I(()=>{"use strict";lye="Expected a function",o(oye,"negate"),cye=oye});function uye(e,t,r,n){if(!Za(e))return e;t=L2(t,e);for(var i=-1,a=t.length,s=a-1,l=e;l!=null&&++i<a;){var u=ig(t[i]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=s){var d=l[u];h=n?n(d,u,l):void 0,h===void 0&&(h=Za(d)?d:Yy(t[i+1])?[]:{})}D1(l,u,h),l=l[u]}return e}var hye,MKe=I(()=>{"use strict";jy(),_k(),y5(),Co(),N2(),o(uye,"baseSet"),hye=uye});function dye(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var s=t[n],l=I2(e,s);r(l,s)&&hye(a,L2(s,e),l)}return a}var rM,pye=I(()=>{"use strict";Ck(),MKe(),_k(),o(dye,"basePickBy"),rM=dye});function gye(e,t){if(e==null)return{};var r=su(dI(e),function(n){return[n]});return t=ns(t),rM(e,r,function(n,i){return t(n,i[0])})}var Do,DKe=I(()=>{"use strict";rg(),Ss(),pye(),Mpe(),o(gye,"pickBy"),Do=gye});function fye(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var mye,RKe=I(()=>{"use strict";o(fye,"baseSortBy"),mye=fye});function yye(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=Ph(e),s=t!==void 0,l=t===null,u=t===t,h=Ph(t);if(!l&&!h&&!a&&e>t||a&&s&&u&&!l&&!h||n&&s&&u||!r&&u||!i)return 1;if(!n&&!a&&!h&&e<t||h&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!u)return-1}return 0}var vye,OKe=I(()=>{"use strict";tg(),o(yye,"compareAscending"),vye=yye});function bye(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,l=r.length;++n<s;){var u=vye(i[n],a[n]);if(u){if(n>=l)return u;var h=r[n];return u*(h=="desc"?-1:1)}}return e.index-t.index}var xye,PKe=I(()=>{"use strict";OKe(),o(bye,"compareMultiple"),xye=bye});function kye(e,t,r){t.length?t=su(t,function(a){return jr(a)?function(s){return I2(s,a.length===1?a[0]:a)}:a}):t=[nc];var n=-1;t=su(t,p0(ns));var i=XI(e,function(a,s,l){var u=su(t,function(h){return h(a)});return{criteria:u,index:++n,value:a}});return mye(i,function(a,s){return xye(a,s,r)})}var wye,BKe=I(()=>{"use strict";rg(),Ck(),Ss(),gme(),RKe(),I1(),PKe(),_h(),ii(),o(kye,"baseOrderBy"),wye=kye}),Tye,Eye,$Ke=I(()=>{"use strict";kfe(),Tye=GI("length"),Eye=Tye});function _ye(e){for(var t=cM.lastIndex=0;cM.test(e);)++t;return t}var nM,Cye,Sye,Aye,Lye,Nye,Iye,Gk,qk,Mye,iM,aM,sM,Dye,oM,lM,Rye,Oye,Pye,cM,Bye,FKe=I(()=>{"use strict";nM="\\ud800-\\udfff",Cye="\\u0300-\\u036f",Sye="\\ufe20-\\ufe2f",Aye="\\u20d0-\\u20ff",Lye=Cye+Sye+Aye,Nye="\\ufe0e\\ufe0f",Iye="["+nM+"]",Gk="["+Lye+"]",qk="\\ud83c[\\udffb-\\udfff]",Mye="(?:"+Gk+"|"+qk+")",iM="[^"+nM+"]",aM="(?:\\ud83c[\\udde6-\\uddff]){2}",sM="[\\ud800-\\udbff][\\udc00-\\udfff]",Dye="\\u200d",oM=Mye+"?",lM="["+Nye+"]?",Rye="(?:"+Dye+"(?:"+[iM,aM,sM].join("|")+")"+lM+oM+")*",Oye=lM+oM+Rye,Pye="(?:"+[iM+Gk+"?",Gk,aM,sM,Iye].join("|")+")",cM=RegExp(qk+"(?="+qk+")|"+Pye+Oye,"g"),o(_ye,"unicodeSize"),Bye=_ye});function $ye(e){return ope(e)?Bye(e):Eye(e)}var Fye,zKe=I(()=>{"use strict";$Ke(),vXe(),FKe(),o($ye,"stringSize"),Fye=$ye});function zye(e,t){return rM(e,t,function(r,n){return zI(e,n)})}var Gye,GKe=I(()=>{"use strict";pye(),ffe(),o(zye,"basePick"),Gye=zye}),qye,z2,qKe=I(()=>{"use strict";GKe(),yXe(),qye=X0e(function(e,t){return e==null?{}:Gye(e,t)}),z2=qye});function jye(e,t,r,n){for(var i=-1,a=Uye(Yye((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var Yye,Uye,Hye,jKe=I(()=>{"use strict";Yye=Math.ceil,Uye=Math.max,o(jye,"baseRange"),Hye=jye});function Wye(e){return function(t,r,n){return n&&typeof n!="number"&&Ch(t,r,n)&&(r=n=void 0),t=S2(t),r===void 0?(r=t,t=0):r=S2(r),n=n===void 0?t<r?1:-1:S2(n),Hye(t,r,n,e)}}var Vye,YKe=I(()=>{"use strict";jKe(),P1(),t0e(),o(Wye,"createRange"),Vye=Wye}),Xye,L0,UKe=I(()=>{"use strict";YKe(),Xye=Vye(),L0=Xye});function Kye(e,t,r,n,i){return i(e,function(a,s,l){r=n?(n=!1,a):t(r,a,s,l)}),r}var Zye,HKe=I(()=>{"use strict";o(Kye,"baseReduce"),Zye=Kye});function Qye(e,t,r){var n=jr(e)?cpe:Zye,i=arguments.length<3;return n(e,ns(t,4),r,i,Fh)}var Ei,Jye=I(()=>{"use strict";bXe(),S0(),Ss(),HKe(),ii(),o(Qye,"reduce"),Ei=Qye});function e2e(e,t){var r=jr(e)?Ak:VI;return r(e,cye(ns(t,3)))}var G2,WKe=I(()=>{"use strict";sI(),nme(),Ss(),ii(),IKe(),o(e2e,"reject"),G2=e2e});function t2e(e){if(e==null)return 0;if(So(e))return qa(e)?Fye(e):e.length;var t=$h(e);return t==r2e||t==n2e?e.size:Tk(e).length}var r2e,n2e,i2e,VKe=I(()=>{"use strict";QN(),sg(),gl(),KI(),zKe(),r2e="[object Map]",n2e="[object Set]",o(t2e,"size"),i2e=t2e});function a2e(e,t){var r;return Fh(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var s2e,XKe=I(()=>{"use strict";S0(),o(a2e,"baseSome"),s2e=a2e});function o2e(e,t,r){var n=jr(e)?SI:s2e;return r&&Ch(e,t,r)&&(t=void 0),n(e,ns(t,3))}var uM,KKe=I(()=>{"use strict";vge(),Ss(),XKe(),ii(),P1(),o(o2e,"some"),uM=o2e}),l2e,cg,ZKe=I(()=>{"use strict";M2(),BKe(),Uy(),P1(),l2e=O1(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ch(e,t[0],t[1])?t=[]:r>2&&Ch(t[0],t[1],t[2])&&(t=[t[0]]),wye(e,ag(t,1),[])}),cg=l2e}),c2e,u2e,h2e,QKe=I(()=>{"use strict";Ppe(),a0e(),NI(),c2e=1/0,u2e=C0&&1/Ok(new C0([,-0]))[1]==c2e?function(e){return new C0(e)}:Ni,h2e=u2e});function d2e(e,t,r){var n=-1,i=ZN,a=e.length,s=!0,l=[],u=l;if(r)s=!1,i=UI;else if(a>=p2e){var h=t?null:h2e(e);if(h)return Ok(h);s=!1,i=Rk,u=new Dk}else u=t?[]:l;e:for(;++n<a;){var d=e[n],p=t?t(d):d;if(d=r||d!==0?d:0,s&&p===p){for(var f=u.length;f--;)if(u[f]===p)continue e;t&&u.push(p),l.push(d)}else i(u,p,r)||(u!==l&&u.push(p),l.push(d))}return l}var p2e,jk,hM=I(()=>{"use strict";CI(),m0e(),Gfe(),AI(),QKe(),NI(),p2e=200,o(d2e,"baseUniq"),jk=d2e}),g2e,f2e,JKe=I(()=>{"use strict";M2(),Uy(),hM(),f9(),g2e=O1(function(e){return jk(ag(e,1,zy,!0))}),f2e=g2e});function m2e(e){return e&&e.length?jk(e):[]}var Yk,eZe=I(()=>{"use strict";hM(),o(m2e,"uniq"),Yk=m2e});function y2e(e,t){return e&&e.length?jk(e,ns(t,2)):[]}var v2e,tZe=I(()=>{"use strict";Ss(),hM(),o(y2e,"uniqBy"),v2e=y2e});function b2e(e){var t=++x2e;return eI(e)+t}var x2e,Uk,rZe=I(()=>{"use strict";B0e(),x2e=0,o(b2e,"uniqueId"),Uk=b2e});function k2e(e,t,r){for(var n=-1,i=e.length,a=t.length,s={};++n<i;){var l=n<a?t[n]:void 0;r(s,e[n],l)}return s}var w2e,nZe=I(()=>{"use strict";o(k2e,"baseZipObject"),w2e=k2e});function T2e(e,t){return w2e(e||[],t||[],D1)}var E2e,iZe=I(()=>{"use strict";jy(),nZe(),o(T2e,"zipObject"),E2e=T2e}),nr=I(()=>{"use strict";dXe(),sge(),OXe(),PXe(),Tae(),tKe(),nKe(),aKe(),sKe(),oKe(),uKe(),ame(),pKe(),fKe(),yme(),iI(),WI(),mKe(),yKe(),vKe(),kKe(),_h(),TKe(),EKe(),ii(),QI(),e5(),Co(),CKe(),KI(),SKe(),ou(),iKe(),$2(),AKe(),LKe(),$ae(),aye(),NKe(),a0e(),eKe(),qKe(),DKe(),UKe(),Jye(),WKe(),VKe(),KKe(),ZKe(),JKe(),eZe(),rZe(),$me(),iZe()});function dM(e,t){e[t]?e[t]++:e[t]=1}function pM(e,t){--e[t]||delete e[t]}function ug(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var s=i;i=a,a=s}return i+gM+a+gM+(mn(n)?C2e:n)}function _2e(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var s=i;i=a,a=s}var l={v:i,w:a};return n&&(l.name=n),l}function Hk(e,t){return ug(e,t.v,t.w,t.name)}var C2e,Gh,gM,Ca,fM=I(()=>{"use strict";nr(),C2e="\0",Gh="\0",gM="",Ca=class{static{o(this,"Graph")}constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,"directed")?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Kc(void 0),this._defaultEdgeLabelFn=Kc(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Gh]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return Xs(e)||(e=Kc(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return Ii(this._nodes)}sources(){var e=this;return ai(this.nodes(),function(t){return un(e._in[t])})}sinks(){var e=this;return ai(this.nodes(),function(t){return un(e._out[t])})}setNodes(e,t){var r=arguments,n=this;return Be(e,function(i){r.length>1?n.setNode(i,t):n.setNode(i)}),this}setNode(e,t){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Gh,this._children[e]={},this._children[Gh][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var t=o(r=>this.removeEdge(this._edgeObjs[r]),"removeEdge");delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Be(this.children(e),r=>{this.setParent(r)}),delete this._children[e]),Be(Ii(this._in[e]),t),delete this._in[e],delete this._preds[e],Be(Ii(this._out[e]),t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(mn(t))t=Gh;else{t+="";for(var r=t;!mn(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==Gh)return t}}children(e){if(mn(e)&&(e=Gh),this._isCompound){var t=this._children[e];if(t)return Ii(t)}else{if(e===Gh)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return Ii(t)}successors(e){var t=this._sucs[e];if(t)return Ii(t)}neighbors(e){var t=this.predecessors(e);if(t)return f2e(t,this.successors(e))}isLeaf(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;Be(this._nodes,function(a,s){e(s)&&t.setNode(s,a)}),Be(this._edgeObjs,function(a){t.hasNode(a.v)&&t.hasNode(a.w)&&t.setEdge(a,r.edge(a))});var n={};function i(a){var s=r.parent(a);return s===void 0||t.hasNode(s)?(n[a]=s,s):s in n?n[s]:i(s)}return o(i,"findParent"),this._isCompound&&Be(t.nodes(),function(a){t.setParent(a,i(a))}),t}setDefaultEdgeLabel(e){return Xs(e)||(e=Kc(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return Cn(this._edgeObjs)}setPath(e,t){var r=this,n=arguments;return Ei(e,function(i,a){return n.length>1?r.setEdge(i,a,t):r.setEdge(i,a),a}),this}setEdge(){var e,t,r,n,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,t=a.w,r=a.name,arguments.length===2&&(n=arguments[1],i=!0)):(e=a,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,t=""+t,mn(r)||(r=""+r);var s=ug(this._isDirected,e,t,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,s))return i&&(this._edgeLabels[s]=n),this;if(!mn(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=i?n:this._defaultEdgeLabelFn(e,t,r);var l=_2e(this._isDirected,e,t,r);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[s]=l,dM(this._preds[t],e),dM(this._sucs[e],t),this._in[t][s]=l,this._out[e][s]=l,this._edgeCount++,this}edge(e,t,r){var n=arguments.length===1?Hk(this._isDirected,arguments[0]):ug(this._isDirected,e,t,r);return this._edgeLabels[n]}hasEdge(e,t,r){var n=arguments.length===1?Hk(this._isDirected,arguments[0]):ug(this._isDirected,e,t,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,n)}removeEdge(e,t,r){var n=arguments.length===1?Hk(this._isDirected,arguments[0]):ug(this._isDirected,e,t,r),i=this._edgeObjs[n];return i&&(e=i.v,t=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],pM(this._preds[t],e),pM(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,t){var r=this._in[e];if(r){var n=Cn(r);return t?ai(n,function(i){return i.v===t}):n}}outEdges(e,t){var r=this._out[e];if(r){var n=Cn(r);return t?ai(n,function(i){return i.w===t}):n}}nodeEdges(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}},Ca.prototype._nodeCount=0,Ca.prototype._edgeCount=0,o(dM,"incrementOrInitEntry"),o(pM,"decrementOrRemoveEntry"),o(ug,"edgeArgsToId"),o(_2e,"edgeArgsToObj"),o(Hk,"edgeObjToId")}),eo=I(()=>{"use strict";fM()});function mM(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function S2e(e,t){if(e!=="_next"&&e!=="_prev")return t}var A2e,aZe=I(()=>{"use strict";A2e=class{static{o(this,"List")}constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,t=e._prev;if(t!==e)return mM(t),t}enqueue(e){var t=this._sentinel;e._prev&&e._next&&mM(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,S2e)),r=r._prev;return"["+e.join(", ")+"]"}},o(mM,"unlink"),o(S2e,"filterOutLinks")});function L2e(e,t){if(e.nodeCount()<=1)return[];var r=I2e(e,t||M2e),n=N2e(r.graph,r.buckets,r.zeroIdx);return Vi(wt(n,function(i){return e.outEdges(i.v,i.w)}))}function N2e(e,t,r){for(var n=[],i=t[t.length-1],a=t[0],s;e.nodeCount();){for(;s=a.dequeue();)Wk(e,t,r,s);for(;s=i.dequeue();)Wk(e,t,r,s);if(e.nodeCount()){for(var l=t.length-2;l>0;--l)if(s=t[l].dequeue(),s){n=n.concat(Wk(e,t,r,s,!0));break}}}return n}function Wk(e,t,r,n,i){var a=i?[]:void 0;return Be(e.inEdges(n.v),function(s){var l=e.edge(s),u=e.node(s.v);i&&a.push({v:s.v,w:s.w}),u.out-=l,Vk(t,r,u)}),Be(e.outEdges(n.v),function(s){var l=e.edge(s),u=s.w,h=e.node(u);h.in-=l,Vk(t,r,h)}),e.removeNode(n.v),a}function I2e(e,t){var r=new Ca,n=0,i=0;Be(e.nodes(),function(l){r.setNode(l,{v:l,in:0,out:0})}),Be(e.edges(),function(l){var u=r.edge(l.v,l.w)||0,h=t(l),d=u+h;r.setEdge(l.v,l.w,d),i=Math.max(i,r.node(l.v).out+=h),n=Math.max(n,r.node(l.w).in+=h)});var a=L0(i+n+3).map(function(){return new A2e}),s=n+1;return Be(r.nodes(),function(l){Vk(a,s,r.node(l))}),{graph:r,buckets:a,zeroIdx:s}}function Vk(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var M2e,sZe=I(()=>{"use strict";nr(),eo(),aZe(),M2e=Kc(1),o(L2e,"greedyFAS"),o(N2e,"doGreedyFAS"),o(Wk,"removeNode"),o(I2e,"buildState"),o(Vk,"assignBucket")});function D2e(e){var t=e.graph().acyclicer==="greedy"?L2e(e,r(e)):R2e(e);Be(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,Uk("rev"))});function r(n){return function(i){return n.edge(i).weight}}o(r,"weightFn")}function R2e(e){var t=[],r={},n={};function i(a){Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,r[a]=!0,Be(e.outEdges(a),function(s){Object.prototype.hasOwnProperty.call(r,s.w)?t.push(s):i(s.w)}),delete r[a])}return o(i,"dfs"),Be(e.nodes(),i),t}function O2e(e){Be(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var P2e=I(()=>{"use strict";nr(),sZe(),o(D2e,"run"),o(R2e,"dfsFAS"),o(O2e,"undo")});function N0(e,t,r,n){var i;do i=Uk(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function B2e(e){var t=new Ca().setGraph(e.graph());return Be(e.nodes(),function(r){t.setNode(r,e.node(r))}),Be(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function yM(e){var t=new Ca({multigraph:e.isMultigraph()}).setGraph(e.graph());return Be(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Be(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function vM(e,t){var r=e.x,n=e.y,i=t.x-r,a=t.y-n,s=e.width/2,l=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,h;return Math.abs(a)*s>Math.abs(i)*l?(a<0&&(l=-l),u=l*i/a,h=l):(i<0&&(s=-s),u=s,h=s*a/i),{x:r+u,y:n+h}}function q2(e){var t=wt(L0(xM(e)+1),function(){return[]});return Be(e.nodes(),function(r){var n=e.node(r),i=n.rank;mn(i)||(t[i][n.order]=r)}),t}function $2e(e){var t=A0(wt(e.nodes(),function(r){return e.node(r).rank}));Be(e.nodes(),function(r){var n=e.node(r);gr(n,"rank")&&(n.rank-=t)})}function F2e(e){var t=A0(wt(e.nodes(),function(a){return e.node(a).rank})),r=[];Be(e.nodes(),function(a){var s=e.node(a).rank-t;r[s]||(r[s]=[]),r[s].push(a)});var n=0,i=e.graph().nodeRankFactor;Be(r,function(a,s){mn(a)&&s%i!==0?--n:n&&Be(a,function(l){e.node(l).rank+=n})})}function bM(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),N0(e,"border",i,t)}function xM(e){return zh(wt(e.nodes(),function(t){var r=e.node(t).rank;if(!mn(r))return r}))}function z2e(e,t){var r={lhs:[],rhs:[]};return Be(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function G2e(e,t){var r=jI();try{return t()}finally{console.log(e+" time: "+(jI()-r)+"ms")}}function q2e(e,t){return t()}var lu=I(()=>{"use strict";nr(),eo(),o(N0,"addDummyNode"),o(B2e,"simplify"),o(yM,"asNonCompoundGraph"),o(vM,"intersectRect"),o(q2,"buildLayerMatrix"),o($2e,"normalizeRanks"),o(F2e,"removeEmptyRanks"),o(bM,"addBorderNode"),o(xM,"maxRank"),o(z2e,"partition"),o(G2e,"time"),o(q2e,"notime")});function j2e(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&Be(n,t),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)kM(e,"borderLeft","_bl",r,i,a),kM(e,"borderRight","_br",r,i,a)}}o(t,"dfs"),Be(e.children(),t)}function kM(e,t,r,n,i,a){var s={width:0,height:0,rank:a,borderType:t},l=i[t][a-1],u=N0(e,"border",s,r);i[t][a]=u,e.setParent(u,n),l&&e.setEdge(l,u,{weight:1})}var oZe=I(()=>{"use strict";nr(),lu(),o(j2e,"addBorderSegments"),o(kM,"addBorderNode")});function Y2e(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&wM(e)}function U2e(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&H2e(e),(t==="lr"||t==="rl")&&(W2e(e),wM(e))}function wM(e){Be(e.nodes(),function(t){TM(e.node(t))}),Be(e.edges(),function(t){TM(e.edge(t))})}function TM(e){var t=e.width;e.width=e.height,e.height=t}function H2e(e){Be(e.nodes(),function(t){Xk(e.node(t))}),Be(e.edges(),function(t){var r=e.edge(t);Be(r.points,Xk),Object.prototype.hasOwnProperty.call(r,"y")&&Xk(r)})}function Xk(e){e.y=-e.y}function W2e(e){Be(e.nodes(),function(t){Kk(e.node(t))}),Be(e.edges(),function(t){var r=e.edge(t);Be(r.points,Kk),Object.prototype.hasOwnProperty.call(r,"x")&&Kk(r)})}function Kk(e){var t=e.x;e.x=e.y,e.y=t}var lZe=I(()=>{"use strict";nr(),o(Y2e,"adjust"),o(U2e,"undo"),o(wM,"swapWidthHeight"),o(TM,"swapWidthHeightOne"),o(H2e,"reverseY"),o(Xk,"reverseYOne"),o(W2e,"swapXY"),o(Kk,"swapXYOne")});function V2e(e){e.graph().dummyChains=[],Be(e.edges(),function(t){X2e(e,t)})}function X2e(e,t){var r=t.v,n=e.node(r).rank,i=t.w,a=e.node(i).rank,s=t.name,l=e.edge(t),u=l.labelRank;if(a!==n+1){e.removeEdge(t);var h=void 0,d,p;for(p=0,++n;n<a;++p,++n)l.points=[],h={width:0,height:0,edgeLabel:l,edgeObj:t,rank:n},d=N0(e,"edge",h,"_d"),n===u&&(h.width=l.width,h.height=l.height,h.dummy="edge-label",h.labelpos=l.labelpos),e.setEdge(r,d,{weight:l.weight},s),p===0&&e.graph().dummyChains.push(d),r=d;e.setEdge(r,i,{weight:l.weight},s)}}function K2e(e){Be(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}var Z2e=I(()=>{"use strict";nr(),lu(),o(V2e,"run"),o(X2e,"normalizeEdge"),o(K2e,"undo")});function Zk(e){var t={};function r(n){var i=e.node(n);if(Object.prototype.hasOwnProperty.call(t,n))return i.rank;t[n]=!0;var a=A0(wt(e.outEdges(n),function(s){return r(s.w)-e.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}o(r,"dfs"),Be(e.sources(),r)}function hg(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var EM=I(()=>{"use strict";nr(),o(Zk,"longestPath"),o(hg,"slack")});function _M(e){var t=new Ca({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,a;Q2e(t,e)<n;)i=J2e(t,e),a=t.hasNode(i.v)?hg(e,i):-hg(e,i),eve(t,e,a);return t}function Q2e(e,t){function r(n){Be(t.nodeEdges(n),function(i){var a=i.v,s=n===a?i.w:a;!e.hasNode(s)&&!hg(t,i)&&(e.setNode(s,{}),e.setEdge(n,s,{}),r(s))})}return o(r,"dfs"),Be(e.nodes(),r),e.nodeCount()}function J2e(e,t){return zk(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return hg(t,r)})}function eve(e,t,r){Be(e.nodes(),function(n){t.node(n).rank+=r})}var tve=I(()=>{"use strict";nr(),eo(),EM(),o(_M,"feasibleTree"),o(Q2e,"tightTree"),o(J2e,"findMinSlackEdge"),o(eve,"shiftRanks")}),cZe=I(()=>{"use strict"}),rve=I(()=>{"use strict"}),uZe,nve=I(()=>{"use strict";nr(),rve(),uZe=Kc(1)}),hZe=I(()=>{"use strict";nve()}),ive=I(()=>{"use strict"}),dZe=I(()=>{"use strict";ive()}),pZe,gZe=I(()=>{"use strict";nr(),pZe=Kc(1)});function ave(e){var t={},r={},n=[];function i(a){if(Object.prototype.hasOwnProperty.call(r,a))throw new j2;Object.prototype.hasOwnProperty.call(t,a)||(r[a]=!0,t[a]=!0,Be(e.predecessors(a),i),delete r[a],n.push(a))}if(o(i,"visit"),Be(e.sinks(),i),i2e(t)!==e.nodeCount())throw new j2;return n}function j2(){}var sve=I(()=>{"use strict";nr(),ave.CycleException=j2,o(ave,"topsort"),o(j2,"CycleException"),j2.prototype=new Error}),fZe=I(()=>{"use strict";sve()});function CM(e,t,r){jr(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};return Be(t,function(s){if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);SM(e,s,r==="post",a,n,i)}),i}function SM(e,t,r,n,i,a){Object.prototype.hasOwnProperty.call(n,t)||(n[t]=!0,r||a.push(t),Be(i(t),function(s){SM(e,s,r,n,i,a)}),r&&a.push(t))}var ove=I(()=>{"use strict";nr(),o(CM,"dfs"),o(SM,"doDfs")});function lve(e,t){return CM(e,t,"post")}var mZe=I(()=>{"use strict";ove(),o(lve,"postorder")});function cve(e,t){return CM(e,t,"pre")}var yZe=I(()=>{"use strict";ove(),o(cve,"preorder")}),vZe=I(()=>{"use strict";rve(),fM()}),bZe=I(()=>{"use strict";cZe(),nve(),hZe(),dZe(),gZe(),fZe(),mZe(),yZe(),vZe(),ive(),sve()});function qh(e){e=B2e(e),Zk(e);var t=_M(e);Jk(t),Qk(t,e);for(var r,n;r=NM(t);)n=IM(t,e,r),MM(t,e,r,n)}function Qk(e,t){var r=lve(e,e.nodes());r=r.slice(0,r.length-1),Be(r,function(n){uve(e,t,n)})}function uve(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=AM(e,t,r)}function AM(e,t,r){var n=e.node(r),i=n.parent,a=!0,s=t.edge(r,i),l=0;return s||(a=!1,s=t.edge(i,r)),l=s.weight,Be(t.nodeEdges(r),function(u){var h=u.v===r,d=h?u.w:u.v;if(d!==i){var p=h===a,f=t.edge(u).weight;if(l+=p?f:-f,dve(e,r,d)){var g=e.edge(r,d).cutvalue;l+=p?-g:g}}}),l}function Jk(e,t){arguments.length<2&&(t=e.nodes()[0]),LM(e,{},1,t)}function LM(e,t,r,n,i){var a=r,s=e.node(n);return t[n]=!0,Be(e.neighbors(n),function(l){Object.prototype.hasOwnProperty.call(t,l)||(r=LM(e,t,r,l,n))}),s.low=a,s.lim=r++,i?s.parent=i:delete s.parent,r}function NM(e){return cc(e.edges(),function(t){return e.edge(t).cutvalue<0})}function IM(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var a=e.node(n),s=e.node(i),l=a,u=!1;a.lim>s.lim&&(l=s,u=!0);var h=ai(t.edges(),function(d){return u===DM(e,e.node(d.v),l)&&u!==DM(e,e.node(d.w),l)});return zk(h,function(d){return hg(t,d)})}function MM(e,t,r,n){var i=r.v,a=r.w;e.removeEdge(i,a),e.setEdge(n.v,n.w,{}),Jk(e),Qk(e,t),hve(e,t)}function hve(e,t){var r=cc(e.nodes(),function(i){return!t.node(i).parent}),n=cve(e,r);n=n.slice(1),Be(n,function(i){var a=e.node(i).parent,s=t.edge(i,a),l=!1;s||(s=t.edge(a,i),l=!0),t.node(i).rank=t.node(a).rank+(l?s.minlen:-s.minlen)})}function dve(e,t,r){return e.hasEdge(t,r)}function DM(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var xZe=I(()=>{"use strict";nr(),bZe(),lu(),tve(),EM(),qh.initLowLimValues=Jk,qh.initCutValues=Qk,qh.calcCutValue=AM,qh.leaveEdge=NM,qh.enterEdge=IM,qh.exchangeEdges=MM,o(qh,"networkSimplex"),o(Qk,"initCutValues"),o(uve,"assignCutValue"),o(AM,"calcCutValue"),o(Jk,"initLowLimValues"),o(LM,"dfsAssignLowLim"),o(NM,"leaveEdge"),o(IM,"enterEdge"),o(MM,"exchangeEdges"),o(hve,"updateRanks"),o(dve,"isTreeEdge"),o(DM,"isDescendant")});function pve(e){switch(e.graph().ranker){case"network-simplex":RM(e);break;case"tight-tree":gve(e);break;case"longest-path":fve(e);break;default:RM(e)}}function gve(e){Zk(e),_M(e)}function RM(e){qh(e)}var fve,mve=I(()=>{"use strict";tve(),xZe(),EM(),o(pve,"rank"),fve=Zk,o(gve,"tightTreeRanker"),o(RM,"networkSimplexRanker")});function yve(e){var t=N0(e,"root",{},"_root"),r=vve(e),n=zh(Cn(r))-1,i=2*n+1;e.graph().nestingRoot=t,Be(e.edges(),function(s){e.edge(s).minlen*=i});var a=bve(e)+1;Be(e.children(),function(s){OM(e,t,i,a,n,r,s)}),e.graph().nodeRankFactor=i}function OM(e,t,r,n,i,a,s){var l=e.children(s);if(!l.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:r});return}var u=bM(e,"_bt"),h=bM(e,"_bb"),d=e.node(s);e.setParent(u,s),d.borderTop=u,e.setParent(h,s),d.borderBottom=h,Be(l,function(p){OM(e,t,r,n,i,a,p);var f=e.node(p),g=f.borderTop?f.borderTop:p,m=f.borderBottom?f.borderBottom:p,y=f.borderTop?n:2*n,b=g!==m?1:i-a[s]+1;e.setEdge(u,g,{weight:y,minlen:b,nestingEdge:!0}),e.setEdge(m,h,{weight:y,minlen:b,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,u,{weight:0,minlen:i+a[s]})}function vve(e){var t={};function r(n,i){var a=e.children(n);a&&a.length&&Be(a,function(s){r(s,i+1)}),t[n]=i}return o(r,"dfs"),Be(e.children(),function(n){r(n,1)}),t}function bve(e){return Ei(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function xve(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Be(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var kZe=I(()=>{"use strict";nr(),lu(),o(yve,"run"),o(OM,"dfs"),o(vve,"treeDepths"),o(bve,"sumWeights"),o(xve,"cleanup")});function kve(e,t,r){var n={},i;Be(r,function(a){for(var s=e.parent(a),l,u;s;){if(l=e.parent(s),l?(u=n[l],n[l]=s):(u=i,i=s),u&&u!==s){t.setEdge(u,s);return}s=l}})}var wZe=I(()=>{"use strict";nr(),o(kve,"addSubgraphConstraints")});function wve(e,t,r){var n=Tve(e),i=new Ca({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return e.node(a)});return Be(e.nodes(),function(a){var s=e.node(a),l=e.parent(a);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(a),i.setParent(a,l||n),Be(e[r](a),function(u){var h=u.v===a?u.w:u.v,d=i.edge(h,a),p=mn(d)?0:d.weight;i.setEdge(h,a,{weight:e.edge(u).weight+p})}),Object.prototype.hasOwnProperty.call(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function Tve(e){for(var t;e.hasNode(t=Uk("_root")););return t}var TZe=I(()=>{"use strict";nr(),eo(),o(wve,"buildLayerGraph"),o(Tve,"createRootNode")});function Eve(e,t){for(var r=0,n=1;n<t.length;++n)r+=_ve(e,t[n-1],t[n]);return r}function _ve(e,t,r){for(var n=E2e(r,wt(r,function(h,d){return d})),i=Vi(wt(t,function(h){return cg(wt(e.outEdges(h),function(d){return{pos:n[d.w],weight:e.edge(d).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var l=wt(new Array(s),function(){return 0}),u=0;return Be(i.forEach(function(h){var d=h.pos+a;l[d]+=h.weight;for(var p=0;d>0;)d%2&&(p+=l[d+1]),d=d-1>>1,l[d]+=h.weight;u+=h.weight*p})),u}var EZe=I(()=>{"use strict";nr(),o(Eve,"crossCount"),o(_ve,"twoLayerCrossCount")});function Cve(e){var t={},r=ai(e.nodes(),function(l){return!e.children(l).length}),n=zh(wt(r,function(l){return e.node(l).rank})),i=wt(L0(n+1),function(){return[]});function a(l){if(!gr(t,l)){t[l]=!0;var u=e.node(l);i[u.rank].push(l),Be(e.successors(l),a)}}o(a,"dfs");var s=cg(r,function(l){return e.node(l).rank});return Be(s,a),i}var _Ze=I(()=>{"use strict";nr(),o(Cve,"initOrder")});function Sve(e,t){return wt(t,function(r){var n=e.inEdges(r);if(n.length){var i=Ei(n,function(a,s){var l=e.edge(s),u=e.node(s.v);return{sum:a.sum+l.weight*u.order,weight:a.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var CZe=I(()=>{"use strict";nr(),o(Sve,"barycenter")});function Ave(e,t){var r={};Be(e,function(i,a){var s=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};mn(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),Be(t.edges(),function(i){var a=r[i.v],s=r[i.w];!mn(a)&&!mn(s)&&(s.indegree++,a.out.push(r[i.w]))});var n=ai(r,function(i){return!i.indegree});return Lve(n)}function Lve(e){var t=[];function r(a){return function(s){s.merged||(mn(s.barycenter)||mn(a.barycenter)||s.barycenter>=a.barycenter)&&Nve(a,s)}}o(r,"handleIn");function n(a){return function(s){s.in.push(a),--s.indegree===0&&e.push(s)}}for(o(n,"handleOut");e.length;){var i=e.pop();t.push(i),Be(i.in.reverse(),r(i)),Be(i.out,n(i))}return wt(ai(t,function(a){return!a.merged}),function(a){return z2(a,["vs","i","barycenter","weight"])})}function Nve(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var SZe=I(()=>{"use strict";nr(),o(Ave,"resolveConflicts"),o(Lve,"doResolveConflicts"),o(Nve,"mergeEntries")});function Ive(e,t){var r=z2e(e,function(d){return Object.prototype.hasOwnProperty.call(d,"barycenter")}),n=r.lhs,i=cg(r.rhs,function(d){return-d.i}),a=[],s=0,l=0,u=0;n.sort(Mve(!!t)),u=PM(a,i,u),Be(n,function(d){u+=d.vs.length,a.push(d.vs),s+=d.barycenter*d.weight,l+=d.weight,u=PM(a,i,u)});var h={vs:Vi(a)};return l&&(h.barycenter=s/l,h.weight=l),h}function PM(e,t,r){for(var n;t.length&&(n=ml(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function Mve(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var AZe=I(()=>{"use strict";nr(),lu(),o(Ive,"sort"),o(PM,"consumeUnsortable"),o(Mve,"compareWithBias")});function BM(e,t,r,n){var i=e.children(t),a=e.node(t),s=a?a.borderLeft:void 0,l=a?a.borderRight:void 0,u={};s&&(i=ai(i,function(m){return m!==s&&m!==l}));var h=Sve(e,i);Be(h,function(m){if(e.children(m.v).length){var y=BM(e,m.v,r,n);u[m.v]=y,Object.prototype.hasOwnProperty.call(y,"barycenter")&&Rve(m,y)}});var d=Ave(h,r);Dve(d,u);var p=Ive(d,n);if(s&&(p.vs=Vi([s,p.vs,l]),e.predecessors(s).length)){var f=e.node(e.predecessors(s)[0]),g=e.node(e.predecessors(l)[0]);Object.prototype.hasOwnProperty.call(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+f.order+g.order)/(p.weight+2),p.weight+=2}return p}function Dve(e,t){Be(e,function(r){r.vs=Vi(r.vs.map(function(n){return t[n]?t[n].vs:n}))})}function Rve(e,t){mn(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var LZe=I(()=>{"use strict";nr(),CZe(),SZe(),AZe(),o(BM,"sortSubgraph"),o(Dve,"expandSubgraphs"),o(Rve,"mergeBarycenters")});function Ove(e){var t=xM(e),r=$M(e,L0(1,t+1),"inEdges"),n=$M(e,L0(t-1,-1,-1),"outEdges"),i=Cve(e);FM(e,i);for(var a=Number.POSITIVE_INFINITY,s,l=0,u=0;u<4;++l,++u){Pve(l%2?r:n,l%4>=2),i=q2(e);var h=Eve(e,i);h<a&&(u=0,s=uge(i),a=h)}FM(e,s)}function $M(e,t,r){return wt(t,function(n){return wve(e,n,r)})}function Pve(e,t){var r=new Ca;Be(e,function(n){var i=n.graph().root,a=BM(n,i,r,t);Be(a.vs,function(s,l){n.node(s).order=l}),kve(n,r,a.vs)})}function FM(e,t){Be(t,function(r){Be(r,function(n,i){e.node(n).order=i})})}var NZe=I(()=>{"use strict";nr(),eo(),lu(),wZe(),TZe(),EZe(),_Ze(),LZe(),o(Ove,"order"),o($M,"buildLayerGraphs"),o(Pve,"sweepLayerGraphs"),o(FM,"assignOrder")});function Bve(e){var t=Fve(e);Be(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,a=$ve(e,t,i.v,i.w),s=a.path,l=a.lca,u=0,h=s[u],d=!0;r!==i.w;){if(n=e.node(r),d){for(;(h=s[u])!==l&&e.node(h).maxRank<n.rank;)u++;h===l&&(d=!1)}if(!d){for(;u<s.length-1&&e.node(h=s[u+1]).minRank<=n.rank;)u++;h=s[u]}e.setParent(r,h),r=e.successors(r)[0]}})}function $ve(e,t,r,n){var i=[],a=[],s=Math.min(t[r].low,t[n].low),l=Math.max(t[r].lim,t[n].lim),u,h;u=r;do u=e.parent(u),i.push(u);while(u&&(t[u].low>s||l>t[u].lim));for(h=u,u=n;(u=e.parent(u))!==h;)a.push(u);return{path:i.concat(a.reverse()),lca:h}}function Fve(e){var t={},r=0;function n(i){var a=r;Be(e.children(i),n),t[i]={low:a,lim:r++}}return o(n,"dfs"),Be(e.children(),n),t}var IZe=I(()=>{"use strict";nr(),o(Bve,"parentDummyChains"),o($ve,"findPath"),o(Fve,"postorder")});function zve(e,t){var r={};function n(i,a){var s=0,l=0,u=i.length,h=ml(a);return Be(a,function(d,p){var f=qve(e,d),g=f?e.node(f).order:u;(f||d===h)&&(Be(a.slice(l,p+1),function(m){Be(e.predecessors(m),function(y){var b=e.node(y),v=b.order;(v<s||g<v)&&!(b.dummy&&e.node(m).dummy)&&zM(r,y,m)})}),l=p+1,s=g)}),a}return o(n,"visitLayer"),Ei(t,n),r}function Gve(e,t){var r={};function n(a,s,l,u,h){var d;Be(L0(s,l),function(p){d=a[p],e.node(d).dummy&&Be(e.predecessors(d),function(f){var g=e.node(f);g.dummy&&(g.order<u||g.order>h)&&zM(r,f,d)})})}o(n,"scan");function i(a,s){var l=-1,u,h=0;return Be(s,function(d,p){if(e.node(d).dummy==="border"){var f=e.predecessors(d);f.length&&(u=e.node(f[0]).order,n(s,h,p,l,u),h=p,l=u)}n(s,h,s.length,u,a.length)}),s}return o(i,"visitLayer"),Ei(t,i),r}function qve(e,t){if(e.node(t).dummy)return cc(e.predecessors(t),function(r){return e.node(r).dummy})}function zM(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function jve(e,t,r){if(t>r){var n=t;t=r,r=n}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],r)}function Yve(e,t,r,n){var i={},a={},s={};return Be(t,function(l){Be(l,function(u,h){i[u]=u,a[u]=u,s[u]=h})}),Be(t,function(l){var u=-1;Be(l,function(h){var d=n(h);if(d.length){d=cg(d,function(y){return s[y]});for(var p=(d.length-1)/2,f=Math.floor(p),g=Math.ceil(p);f<=g;++f){var m=d[f];a[h]===h&&u<s[m]&&!jve(r,h,m)&&(a[m]=h,a[h]=i[h]=i[m],u=s[m])}}})}),{root:i,align:a}}function Uve(e,t,r,n,i){var a={},s=Hve(e,t,r,i),l=i?"borderLeft":"borderRight";function u(p,f){for(var g=s.nodes(),m=g.pop(),y={};m;)y[m]?p(m):(y[m]=!0,g.push(m),g=g.concat(f(m))),m=g.pop()}o(u,"iterate");function h(p){a[p]=s.inEdges(p).reduce(function(f,g){return Math.max(f,a[g.v]+s.edge(g))},0)}o(h,"pass1");function d(p){var f=s.outEdges(p).reduce(function(m,y){return Math.min(m,a[y.w]-s.edge(y))},Number.POSITIVE_INFINITY),g=e.node(p);f!==Number.POSITIVE_INFINITY&&g.borderType!==l&&(a[p]=Math.max(a[p],f))}return o(d,"pass2"),u(h,s.predecessors.bind(s)),u(d,s.successors.bind(s)),Be(n,function(p){a[p]=a[r[p]]}),a}function Hve(e,t,r,n){var i=new Ca,a=e.graph(),s=Zve(a.nodesep,a.edgesep,n);return Be(t,function(l){var u;Be(l,function(h){var d=r[h];if(i.setNode(d),u){var p=r[u],f=i.edge(p,d);i.setEdge(p,d,Math.max(s(e,h,u),f||0))}u=h})}),i}function Wve(e,t){return zk(Cn(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return bme(r,function(a,s){var l=Qve(e,s)/2;n=Math.max(a+l,n),i=Math.min(a-l,i)}),n-i})}function Vve(e,t){var r=Cn(t),n=A0(r),i=zh(r);Be(["u","d"],function(a){Be(["l","r"],function(s){var l=a+s,u=e[l],h;if(u!==t){var d=Cn(u);h=s==="l"?n-A0(d):i-zh(d),h&&(e[l]=F2(u,function(p){return p+h}))}})})}function Xve(e,t){return F2(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=cg(wt(e,n));return(i[1]+i[2])/2})}function Kve(e){var t=q2(e),r=Hy(zve(e,t),Gve(e,t)),n={},i;Be(["u","d"],function(s){i=s==="u"?t:Cn(t).reverse(),Be(["l","r"],function(l){l==="r"&&(i=wt(i,function(p){return Cn(p).reverse()}));var u=(s==="u"?e.predecessors:e.successors).bind(e),h=Yve(e,i,r,u),d=Uve(e,i,h.root,h.align,l==="r");l==="r"&&(d=F2(d,function(p){return-p})),n[s+l]=d})});var a=Wve(e,n);return Vve(n,a),Xve(n,e.graph().align)}function Zve(e,t,r){return function(n,i,a){var s=n.node(i),l=n.node(a),u=0,h;if(u+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":h=-s.width/2;break;case"r":h=s.width/2;break}if(h&&(u+=r?h:-h),h=0,u+=(s.dummy?t:e)/2,u+=(l.dummy?t:e)/2,u+=l.width/2,Object.prototype.hasOwnProperty.call(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":h=l.width/2;break;case"r":h=-l.width/2;break}return h&&(u+=r?h:-h),h=0,u}}function Qve(e,t){return e.node(t).width}var MZe=I(()=>{"use strict";nr(),eo(),lu(),o(zve,"findType1Conflicts"),o(Gve,"findType2Conflicts"),o(qve,"findOtherInnerSegmentNode"),o(zM,"addConflict"),o(jve,"hasConflict"),o(Yve,"verticalAlignment"),o(Uve,"horizontalCompaction"),o(Hve,"buildBlockGraph"),o(Wve,"findSmallestWidthAlignment"),o(Vve,"alignCoordinates"),o(Xve,"balance"),o(Kve,"positionX"),o(Zve,"sep"),o(Qve,"width")});function Jve(e){e=yM(e),ebe(e),kme(Kve(e),function(t,r){e.node(r).x=t})}function ebe(e){var t=q2(e),r=e.graph().ranksep,n=0;Be(t,function(i){var a=zh(wt(i,function(s){return e.node(s).height}));Be(i,function(s){e.node(s).y=n+a/2}),n+=a+r})}var DZe=I(()=>{"use strict";nr(),lu(),MZe(),o(Jve,"position"),o(ebe,"positionY")});function Y2(e,t){var r=t&&t.debugTiming?G2e:q2e;r("layout",()=>{var n=r("  buildLayoutGraph",()=>nbe(e));r("  runLayout",()=>tbe(n,r)),r("  updateInputGraph",()=>rbe(e,n))})}function tbe(e,t){t("    makeSpaceForEdgeLabels",()=>ibe(e)),t("    removeSelfEdges",()=>pbe(e)),t("    acyclic",()=>D2e(e)),t("    nestingGraph.run",()=>yve(e)),t("    rank",()=>pve(yM(e))),t("    injectEdgeLabelProxies",()=>abe(e)),t("    removeEmptyRanks",()=>F2e(e)),t("    nestingGraph.cleanup",()=>xve(e)),t("    normalizeRanks",()=>$2e(e)),t("    assignRankMinMax",()=>sbe(e)),t("    removeEdgeLabelProxies",()=>obe(e)),t("    normalize.run",()=>V2e(e)),t("    parentDummyChains",()=>Bve(e)),t("    addBorderSegments",()=>j2e(e)),t("    order",()=>Ove(e)),t("    insertSelfEdges",()=>gbe(e)),t("    adjustCoordinateSystem",()=>Y2e(e)),t("    position",()=>Jve(e)),t("    positionSelfEdges",()=>fbe(e)),t("    removeBorderNodes",()=>dbe(e)),t("    normalize.undo",()=>K2e(e)),t("    fixupEdgeLabelCoords",()=>ube(e)),t("    undoCoordinateSystem",()=>U2e(e)),t("    translateGraph",()=>lbe(e)),t("    assignNodeIntersects",()=>cbe(e)),t("    reversePoints",()=>hbe(e)),t("    acyclic.undo",()=>O2e(e))}function rbe(e,t){Be(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),Be(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function nbe(e){var t=new Ca({multigraph:!0,compound:!0}),r=tw(e.graph());return t.setGraph(Hy({},ybe,ew(r,mbe),z2(r,vbe))),Be(e.nodes(),function(n){var i=tw(e.node(n));t.setNode(n,P2(ew(i,bbe),xbe)),t.setParent(n,e.parent(n))}),Be(e.edges(),function(n){var i=tw(e.edge(n));t.setEdge(n,Hy({},wbe,ew(i,kbe),z2(i,Tbe)))}),t}function ibe(e){var t=e.graph();t.ranksep/=2,Be(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function abe(e){Be(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),a={rank:(i.rank-n.rank)/2+n.rank,e:t};N0(e,"edge-proxy",a,"_ep")}})}function sbe(e){var t=0;Be(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=zh(t,n.maxRank))}),e.graph().maxRank=t}function obe(e){Be(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function lbe(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,l=a.marginy||0;function u(h){var d=h.x,p=h.y,f=h.width,g=h.height;t=Math.min(t,d-f/2),r=Math.max(r,d+f/2),n=Math.min(n,p-g/2),i=Math.max(i,p+g/2)}o(u,"getExtremes"),Be(e.nodes(),function(h){u(e.node(h))}),Be(e.edges(),function(h){var d=e.edge(h);Object.prototype.hasOwnProperty.call(d,"x")&&u(d)}),t-=s,n-=l,Be(e.nodes(),function(h){var d=e.node(h);d.x-=t,d.y-=n}),Be(e.edges(),function(h){var d=e.edge(h);Be(d.points,function(p){p.x-=t,p.y-=n}),Object.prototype.hasOwnProperty.call(d,"x")&&(d.x-=t),Object.prototype.hasOwnProperty.call(d,"y")&&(d.y-=n)}),a.width=r-t+s,a.height=i-n+l}function cbe(e){Be(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),a,s;r.points?(a=r.points[0],s=r.points[r.points.length-1]):(r.points=[],a=i,s=n),r.points.unshift(vM(n,a)),r.points.push(vM(i,s))})}function ube(e){Be(e.edges(),function(t){var r=e.edge(t);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function hbe(e){Be(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function dbe(e){Be(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),a=e.node(ml(r.borderLeft)),s=e.node(ml(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),Be(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function pbe(e){Be(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function gbe(e){var t=q2(e);Be(t,function(r){var n=0;Be(r,function(i,a){var s=e.node(i);s.order=a+n,Be(s.selfEdges,function(l){N0(e,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:a+ ++n,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})}function fbe(e){Be(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,a=n.y,s=r.x-i,l=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*s/3,y:a-l},{x:i+5*s/6,y:a-l},{x:i+s,y:a},{x:i+5*s/6,y:a+l},{x:i+2*s/3,y:a+l}],r.label.x=r.x,r.label.y=r.y}})}function ew(e,t){return F2(z2(e,t),Number)}function tw(e){var t={};return Be(e,function(r,n){t[n.toLowerCase()]=r}),t}var mbe,ybe,vbe,bbe,xbe,kbe,wbe,Tbe,RZe=I(()=>{"use strict";nr(),eo(),oZe(),lZe(),P2e(),Z2e(),mve(),kZe(),NZe(),IZe(),DZe(),lu(),o(Y2,"layout"),o(tbe,"runLayout"),o(rbe,"updateInputGraph"),mbe=["nodesep","edgesep","ranksep","marginx","marginy"],ybe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},vbe=["acyclicer","ranker","rankdir","align"],bbe=["width","height"],xbe={width:0,height:0},kbe=["minlen","weight","width","height","labeloffset"],wbe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Tbe=["labelpos"],o(nbe,"buildLayoutGraph"),o(ibe,"makeSpaceForEdgeLabels"),o(abe,"injectEdgeLabelProxies"),o(sbe,"assignRankMinMax"),o(obe,"removeEdgeLabelProxies"),o(lbe,"translateGraph"),o(cbe,"assignNodeIntersects"),o(ube,"fixupEdgeLabelCoords"),o(hbe,"reversePointsForReversedEdges"),o(dbe,"removeBorderNodes"),o(pbe,"removeSelfEdges"),o(gbe,"insertSelfEdges"),o(fbe,"positionSelfEdges"),o(ew,"selectNumberAttrs"),o(tw,"canonicalize")}),rw=I(()=>{"use strict";P2e(),RZe(),Z2e(),mve()});function yl(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Ebe(e),edges:_be(e)};return mn(e.graph())||(t.value=Mi(e.graph())),t}function Ebe(e){return wt(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return mn(r)||(i.value=r),mn(n)||(i.parent=n),i})}function _be(e){return wt(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return mn(t.name)||(n.name=t.name),mn(r)||(n.value=r),n})}var Cbe=I(()=>{"use strict";nr(),fM(),o(yl,"write"),o(Ebe,"writeNodes"),o(_be,"writeEdges")}),zr,jh,GM,Sbe,U2,Abe,qM,jM,Lbe,dg,YM,Nbe,UM,HM,Ibe,OZe=I(()=>{"use strict";Ye(),eo(),Cbe(),zr=new Map,jh=new Map,GM=new Map,Sbe=o(()=>{jh.clear(),GM.clear(),zr.clear()},"clear"),U2=o((e,t)=>{let r=jh.get(t)||[];return X.trace("In isDescendant",t," ",e," = ",r.includes(e)),r.includes(e)},"isDescendant"),Abe=o((e,t)=>{let r=jh.get(t)||[];return X.info("Descendants of ",t," is ",r),X.info("Edge is ",e),e.v===t||e.w===t?!1:r?r.includes(e.v)||U2(e.v,t)||U2(e.w,t)||r.includes(e.w):(X.debug("Tilt, ",t,",not in descendants"),!1)},"edgeInCluster"),qM=o((e,t,r,n)=>{X.warn("Copying children of ",e,"root",n,"data",t.node(e),n);let i=t.children(e)||[];e!==n&&i.push(e),X.warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach(a=>{if(t.children(a).length>0)qM(a,t,r,n);else{let s=t.node(a);X.info("cp ",a," to ",n," with parent ",e),r.setNode(a,s),n!==t.parent(a)&&(X.warn("Setting parent",a,t.parent(a)),r.setParent(a,t.parent(a))),e!==n&&a!==e?(X.debug("Setting parent",a,e),r.setParent(a,e)):(X.info("In copy ",e,"root",n,"data",t.node(e),n),X.debug("Not Setting parent for node=",a,"cluster!==rootId",e!==n,"node!==clusterId",a!==e));let l=t.edges(a);X.debug("Copying Edges",l),l.forEach(u=>{X.info("Edge",u);let h=t.edge(u.v,u.w,u.name);X.info("Edge data",h,n);try{Abe(u,n)?(X.info("Copying as ",u.v,u.w,h,u.name),r.setEdge(u.v,u.w,h,u.name),X.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):X.info("Skipping copy of edge ",u.v,"-->",u.w," rootId: ",n," clusterId:",e)}catch(d){X.error(d)}})}X.debug("Removing node",a),t.removeNode(a)})},"copy"),jM=o((e,t)=>{let r=t.children(e),n=[...r];for(let i of r)GM.set(i,e),n=[...n,...jM(i,t)];return n},"extractDescendants"),Lbe=o((e,t,r)=>{let n=e.edges().filter(l=>l.v===t||l.w===t),i=e.edges().filter(l=>l.v===r||l.w===r),a=n.map(l=>({v:l.v===t?r:l.v,w:l.w===t?t:l.w})),s=i.map(l=>({v:l.v,w:l.w}));return a.filter(l=>s.some(u=>l.v===u.v&&l.w===u.w))},"findCommonEdges"),dg=o((e,t,r)=>{let n=t.children(e);if(X.trace("Searching children of id ",e,n),n.length<1)return e;let i;for(let a of n){let s=dg(a,t,r),l=Lbe(t,r,s);if(s)if(l.length>0)i=s;else return s}return i},"findNonClusterChild"),YM=o(e=>!zr.has(e)||!zr.get(e).externalConnections?e:zr.has(e)?zr.get(e).id:e,"getAnchorId"),Nbe=o((e,t)=>{if(!e||t>10){X.debug("Opting out, no graph ");return}else X.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(X.warn("Cluster identified",r," Replacement id in edges: ",dg(r,e,r)),jh.set(r,jM(r,e)),zr.set(r,{id:dg(r,e,r),clusterData:e.node(r)}))}),e.nodes().forEach(function(r){let n=e.children(r),i=e.edges();n.length>0?(X.debug("Cluster identified",r,jh),i.forEach(a=>{let s=U2(a.v,r),l=U2(a.w,r);s^l&&(X.warn("Edge: ",a," leaves cluster ",r),X.warn("Descendants of XXX ",r,": ",jh.get(r)),zr.get(r).externalConnections=!0)})):X.debug("Not a cluster ",r,jh)});for(let r of zr.keys()){let n=zr.get(r).id,i=e.parent(n);i!==r&&zr.has(i)&&!zr.get(i).externalConnections&&(zr.get(r).id=i)}e.edges().forEach(function(r){let n=e.edge(r);X.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),X.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let i=r.v,a=r.w;if(X.warn("Fix XXX",zr,"ids:",r.v,r.w,"Translating: ",zr.get(r.v)," --- ",zr.get(r.w)),zr.get(r.v)||zr.get(r.w)){if(X.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),i=YM(r.v),a=YM(r.w),e.removeEdge(r.v,r.w,r.name),i!==r.v){let s=e.parent(i);zr.get(s).externalConnections=!0,n.fromCluster=r.v}if(a!==r.w){let s=e.parent(a);zr.get(s).externalConnections=!0,n.toCluster=r.w}X.warn("Fix Replacing with XXX",i,a,r.name),e.setEdge(i,a,n,r.name)}}),X.warn("Adjusted Graph",yl(e)),UM(e,0),X.trace(zr)},"adjustClustersAndEdges"),UM=o((e,t)=>{if(X.warn("extractor - ",t,yl(e),e.children("D")),t>10){X.error("Bailing out");return}let r=e.nodes(),n=!1;for(let i of r){let a=e.children(i);n=n||a.length>0}if(!n){X.debug("Done, no node has children",e.nodes());return}X.debug("Nodes = ",r,t);for(let i of r)if(X.debug("Extracting node",i,zr,zr.has(i)&&!zr.get(i).externalConnections,!e.parent(i),e.node(i),e.children("D")," Depth ",t),!zr.has(i))X.debug("Not a cluster",i,t);else if(!zr.get(i).externalConnections&&e.children(i)&&e.children(i).length>0){X.warn("Cluster without external connections, without a parent and with children",i,t);let a=e.graph().rankdir==="TB"?"LR":"TB";zr.get(i)?.clusterData?.dir&&(a=zr.get(i).clusterData.dir,X.warn("Fixing dir",zr.get(i).clusterData.dir,a));let s=new Ca({multigraph:!0,compound:!0}).setGraph({rankdir:a,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});X.warn("Old graph before copy",yl(e)),qM(i,e,s,i),e.setNode(i,{clusterNode:!0,id:i,clusterData:zr.get(i).clusterData,label:zr.get(i).label,graph:s}),X.warn("New graph after copy node: (",i,")",yl(s)),X.debug("Old graph after copy",yl(e))}else X.warn("Cluster ** ",i," **not meeting the criteria !externalConnections:",!zr.get(i).externalConnections," no parent: ",!e.parent(i)," children ",e.children(i)&&e.children(i).length>0,e.children("D"),t),X.debug(zr);r=e.nodes(),X.warn("New list of nodes",r);for(let i of r){let a=e.node(i);X.warn(" Now next level",i,a),a?.clusterNode&&UM(a.graph,t+1)}},"extractor"),HM=o((e,t)=>{if(t.length===0)return[];let r=Object.assign([],t);return t.forEach(n=>{let i=e.children(n),a=HM(e,i);r=[...r,...a]}),r},"sorter"),Ibe=o(e=>HM(e,e.children()),"sortNodesByHierarchy")}),Mbe={};Nt(Mbe,{render:()=>Dbe});var WM,Dbe,PZe=I(()=>{"use strict";rw(),Cbe(),eo(),Mde(),Yt(),OZe(),qN(),DN(),xde(),Ye(),yk(),tr(),WM=o(async(e,t,r,n,i,a)=>{X.warn("Graph in recursive render:XAX",yl(t),i);let s=t.graph().rankdir;X.trace("Dir in recursive render - dir:",s);let l=e.insert("g").attr("class","root");t.nodes()?X.info("Recursive render XXX",t.nodes()):X.info("No nodes found for",t),t.edges().length>0&&X.info("Recursive edges",t.edge(t.edges()[0]));let u=l.insert("g").attr("class","clusters"),h=l.insert("g").attr("class","edgePaths"),d=l.insert("g").attr("class","edgeLabels"),p=l.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(m){let y=t.node(m);if(i!==void 0){let b=JSON.parse(JSON.stringify(i.clusterData));X.trace(`Setting data for parent cluster XXX
 Node.id = `,m,`
 data=`,b.height,`
Parent cluster`,i.height),t.setNode(i.id,b),t.parent(m)||(X.trace("Setting parent",m,i.id),t.setParent(m,i.id,b))}if(X.info("(Insert) Node XXX"+m+": "+JSON.stringify(t.node(m))),y?.clusterNode){X.info("Cluster identified XBX",m,y.width,t.node(m));let{ranksep:b,nodesep:v}=t.graph();y.graph.setGraph({...y.graph.graph(),ranksep:b+25,nodesep:v});let x=await WM(p,y.graph,r,n,t.node(m),a),k=x.elem;rr(y,k),y.diff=x.diff||0,X.info("New compound node after recursive render XAX",m,"width",y.width,"height",y.height),Dde(k,y)}else t.children(m).length>0?(X.trace("Cluster - the non recursive path XBX",m,y.id,y,y.width,"Graph:",t),X.trace(dg(y.id,t)),zr.set(y.id,{id:dg(y.id,t),node:y})):(X.trace("Node - the non recursive path XAX",m,p,t.node(m),s),await bk(p,t.node(m),{config:a,dir:s}))})),await o(async()=>{let m=t.edges().map(async function(y){let b=t.edge(y.v,y.w,y.name);X.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(y)),X.info("Edge "+y.v+" -> "+y.w+": ",y," ",JSON.stringify(t.edge(y))),X.info("Fix",zr,"ids:",y.v,y.w,"Translating: ",zr.get(y.v),zr.get(y.w)),await PN(d,b)});await Promise.all(m)},"processEdges")(),X.info("Graph before layout:",JSON.stringify(yl(t))),X.info("############################################# XXX"),X.info("###                Layout                 ### XXX"),X.info("############################################# XXX"),Y2(t),X.info("Graph after layout:",JSON.stringify(yl(t)));let f=0,{subGraphTitleTotalMargin:g}=J1(a);return await Promise.all(Ibe(t).map(async function(m){let y=t.node(m);if(X.info("Position XBX => "+m+": ("+y.x,","+y.y,") width: ",y.width," height: ",y.height),y?.clusterNode)y.y+=g,X.info("A tainted cluster node XBX1",m,y.id,y.width,y.height,y.x,y.y,t.parent(m)),zr.get(y.id).node=y,xk(y);else if(t.children(m).length>0){X.info("A pure cluster node XBX1",m,y.id,y.x,y.y,y.width,y.height,t.parent(m)),y.height+=g,t.node(y.parentId);let b=y?.padding/2||0,v=y?.labelBBox?.height||0,x=v-b||0;X.debug("OffsetY",x,"labelHeight",v,"halfPadding",b),await vk(u,y),zr.get(y.id).node=y}else{let b=t.node(y.parentId);y.y+=g/2,X.info("A regular node XBX1 - using the padding",y.id,"parent",y.parentId,y.width,y.height,y.x,y.y,"offsetY",y.offsetY,"parent",b,b?.offsetY,y),xk(y)}})),t.edges().forEach(function(m){let y=t.edge(m);X.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(y),y),y.points.forEach(k=>k.y+=g/2);let b=t.node(m.v);var v=t.node(m.w);let x=zN(h,y,zr,r,b,v,n);BN(y,x)}),t.nodes().forEach(function(m){let y=t.node(m);X.info(m,y.type,y.diff),y.isGroup&&(f=y.diff)}),X.warn("Returning from recursive render XAX",l,f),{elem:l,diff:f}},"recursiveRender"),Dbe=o(async(e,t)=>{let r=new Ca({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:e.config?.nodeSpacing||e.config?.flowchart?.nodeSpacing||e.nodeSpacing,ranksep:e.config?.rankSpacing||e.config?.flowchart?.rankSpacing||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=t.select("g");GN(n,e.markers,e.type,e.diagramId),Rde(),mde(),hde(),Sbe(),e.nodes.forEach(a=>{r.setNode(a.id,{...a}),a.parentId&&r.setParent(a.id,a.parentId)}),X.debug("Edges:",e.edges),e.edges.forEach(a=>{if(a.start===a.end){let s=a.start,l=s+"---"+s+"---1",u=s+"---"+s+"---2",h=r.node(s);r.setNode(l,{domId:l,id:l,parentId:h.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(l,h.parentId),r.setNode(u,{domId:u,id:u,parentId:h.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(u,h.parentId);let d=structuredClone(a),p=structuredClone(a),f=structuredClone(a);d.label="",d.arrowTypeEnd="none",d.id=s+"-cyclic-special-1",p.arrowTypeEnd="none",p.id=s+"-cyclic-special-mid",f.label="",h.isGroup&&(d.fromCluster=s,f.toCluster=s),f.id=s+"-cyclic-special-2",r.setEdge(s,l,d,s+"-cyclic-special-0"),r.setEdge(l,u,p,s+"-cyclic-special-1"),r.setEdge(u,s,f,s+"-cyc<lic-special-2")}else r.setEdge(a.start,a.end,{...a},a.id)}),X.warn("Graph at first:",JSON.stringify(yl(r))),Nbe(r),X.warn("Graph after XAX:",JSON.stringify(yl(r)));let i=we();await WM(n,r,e.type,e.diagramId,void 0,i)},"render")}),pg,VM,Rbe,nw,XM,iw=I(()=>{"use strict";nXe(),Ye(),pg={},VM=o(e=>{for(let t of e)pg[t.name]=t},"registerLayoutLoaders"),Rbe=o(()=>{VM([{name:"dagre",loader:o(async()=>await Promise.resolve().then(()=>(PZe(),Mbe)),"loader")}])},"registerDefaultLayoutLoaders"),Rbe(),nw=o(async(e,t)=>{if(!(e.layoutAlgorithm in pg))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);let r=pg[e.layoutAlgorithm];return(await r.loader()).render(e,t,Ode,{algorithm:r.algorithm})},"render"),XM=o((e="",{fallback:t="dagre"}={})=>{if(e in pg)return e;if(t in pg)return X.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm")}),aw,Obe,Pbe,KM=I(()=>{"use strict";wi(),Ye(),aw=o((e,t,r,n)=>{e.attr("class",r);let{width:i,height:a,x:s,y:l}=Obe(e,t);ba(e,a,i,n);let u=Pbe(s,l,i,a,t);e.attr("viewBox",u),X.debug(`viewBox configured: ${u} with padding: ${t}`)},"setupViewPortForSVG"),Obe=o((e,t)=>{let r=e.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:r.width+t*2,height:r.height+t*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),Pbe=o((e,t,r,n,i)=>`${e-i} ${t-i} ${r} ${n}`,"createViewBox")}),Bbe,$be,Fbe,BZe=I(()=>{"use strict";Fr(),tr(),Ye(),NN(),iw(),KM(),Dr(),ide(),Bbe=o(function(e,t){return t.db.getClasses()},"getClasses"),$be=o(async function(e,t,r,n){X.info("REF0:"),X.info("Drawing state diagram (v2)",t);let{securityLevel:i,flowchart:a,layout:s}=we(),l;i==="sandbox"&&(l=nt("#i"+t));let u=i==="sandbox"?l.nodes()[0].contentDocument:document;X.debug("Before getData: ");let h=n.db.getData();X.debug("Data: ",h);let d=mk(t,i),p=kN();h.type=n.type,h.layoutAlgorithm=XM(s),h.layoutAlgorithm==="dagre"&&s==="elk"&&X.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),h.direction=p,h.nodeSpacing=a?.nodeSpacing||50,h.rankSpacing=a?.rankSpacing||50,h.markers=["point","circle","cross"],h.diagramId=t,X.debug("REF1:",h),await nw(h,d);let f=h.config.flowchart?.diagramPadding??8;Ar.insertTitle(d,"flowchartTitleText",a?.titleTopMargin||0,n.db.getDiagramTitle()),aw(d,f,"flowchart",a?.useMaxWidth||!1);for(let g of h.nodes){let m=nt(`#${t} [id="${g.id}"]`);if(!m||!g.link)continue;let y=u.createElementNS("http://www.w3.org/2000/svg","a");y.setAttributeNS("http://www.w3.org/2000/svg","class",g.cssClasses),y.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?y.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):g.linkTarget&&y.setAttributeNS("http://www.w3.org/2000/svg","target",g.linkTarget);let b=m.insert(function(){return y},":first-child"),v=m.select(".label-container");v&&b.append(function(){return v.node()});let x=m.select(".label");x&&b.append(function(){return x.node()})}},"draw"),Fbe={getClasses:Bbe,draw:$be}}),sw,zbe,$Ze=I(()=>{"use strict";sw=function(){var e=o(function(Mn,ft,zt,ut){for(zt=zt||{},ut=Mn.length;ut--;zt[Mn[ut]]=ft);return zt},"o"),t=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],a=[2,2],s=[1,13],l=[1,14],u=[1,15],h=[1,16],d=[1,23],p=[1,25],f=[1,26],g=[1,27],m=[1,49],y=[1,48],b=[1,29],v=[1,30],x=[1,31],k=[1,32],w=[1,33],_=[1,44],S=[1,46],C=[1,42],T=[1,47],N=[1,43],D=[1,50],M=[1,45],L=[1,51],B=[1,52],E=[1,34],R=[1,35],O=[1,36],P=[1,37],A=[1,57],$=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],F=[1,61],G=[1,60],q=[1,62],W=[8,9,11,75,77],re=[1,77],oe=[1,90],te=[1,95],se=[1,94],Y=[1,91],V=[1,87],U=[1,93],ne=[1,89],K=[1,96],fe=[1,92],Q=[1,97],Te=[1,88],ie=[8,9,10,11,40,75,77],Me=[8,9,10,11,40,46,75,77],Le=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],Ie=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],He=[44,60,88,101,104,105,108,110,113,114,115],We=[1,123],et=[1,122],Ze=[1,130],H=[1,144],ge=[1,145],ce=[1,146],ve=[1,147],J=[1,132],Pe=[1,134],Z=[1,138],Fe=[1,139],ae=[1,140],pe=[1,141],_e=[1,142],Se=[1,143],Re=[1,148],ke=[1,149],Xe=[1,128],Oe=[1,129],lt=[1,136],Dt=[1,131],_t=[1,135],gt=[1,133],Pt=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],st=[1,151],Qe=[1,153],Ke=[8,9,11],It=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],tt=[1,173],Zt=[1,169],jt=[1,170],pt=[1,174],dt=[1,171],it=[1,172],Gt=[77,115,118],Tt=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],hn=[10,105],Ir=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],Gr=[1,242],Xn=[1,240],bn=[1,244],ei=[1,238],$n=[1,239],ti=[1,241],ye=[1,243],xt=[1,245],bt=[1,263],Yr=[8,9,11,105],Vr=[8,9,10,11,60,83,104,105,108,109,110,111],An={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:o(function(Mn,ft,zt,ut,dn,ue,Lr){var me=ue.length-1;switch(dn){case 2:this.$=[];break;case 3:(!Array.isArray(ue[me])||ue[me].length>0)&&ue[me-1].push(ue[me]),this.$=ue[me-1];break;case 4:case 181:this.$=ue[me];break;case 11:ut.setDirection("TB"),this.$="TB";break;case 12:ut.setDirection(ue[me-1]),this.$=ue[me-1];break;case 27:this.$=ue[me-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=ut.addSubGraph(ue[me-6],ue[me-1],ue[me-4]);break;case 34:this.$=ut.addSubGraph(ue[me-3],ue[me-1],ue[me-3]);break;case 35:this.$=ut.addSubGraph(void 0,ue[me-1],void 0);break;case 37:this.$=ue[me].trim(),ut.setAccTitle(this.$);break;case 38:case 39:this.$=ue[me].trim(),ut.setAccDescription(this.$);break;case 43:this.$=ue[me-1]+ue[me];break;case 44:this.$=ue[me];break;case 45:ut.addVertex(ue[me-1][0],void 0,void 0,void 0,void 0,void 0,void 0,ue[me]),ut.addLink(ue[me-3].stmt,ue[me-1],ue[me-2]),this.$={stmt:ue[me-1],nodes:ue[me-1].concat(ue[me-3].nodes)};break;case 46:ut.addLink(ue[me-2].stmt,ue[me],ue[me-1]),this.$={stmt:ue[me],nodes:ue[me].concat(ue[me-2].nodes)};break;case 47:ut.addLink(ue[me-3].stmt,ue[me-1],ue[me-2]),this.$={stmt:ue[me-1],nodes:ue[me-1].concat(ue[me-3].nodes)};break;case 48:this.$={stmt:ue[me-1],nodes:ue[me-1]};break;case 49:ut.addVertex(ue[me-1][0],void 0,void 0,void 0,void 0,void 0,void 0,ue[me]),this.$={stmt:ue[me-1],nodes:ue[me-1],shapeData:ue[me]};break;case 50:this.$={stmt:ue[me],nodes:ue[me]};break;case 51:this.$=[ue[me]];break;case 52:ut.addVertex(ue[me-5][0],void 0,void 0,void 0,void 0,void 0,void 0,ue[me-4]),this.$=ue[me-5].concat(ue[me]);break;case 53:this.$=ue[me-4].concat(ue[me]);break;case 54:this.$=ue[me];break;case 55:this.$=ue[me-2],ut.setClass(ue[me-2],ue[me]);break;case 56:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"square");break;case 57:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"doublecircle");break;case 58:this.$=ue[me-5],ut.addVertex(ue[me-5],ue[me-2],"circle");break;case 59:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"ellipse");break;case 60:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"stadium");break;case 61:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"subroutine");break;case 62:this.$=ue[me-7],ut.addVertex(ue[me-7],ue[me-1],"rect",void 0,void 0,void 0,Object.fromEntries([[ue[me-5],ue[me-3]]]));break;case 63:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"cylinder");break;case 64:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"round");break;case 65:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"diamond");break;case 66:this.$=ue[me-5],ut.addVertex(ue[me-5],ue[me-2],"hexagon");break;case 67:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"odd");break;case 68:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"trapezoid");break;case 69:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"inv_trapezoid");break;case 70:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"lean_right");break;case 71:this.$=ue[me-3],ut.addVertex(ue[me-3],ue[me-1],"lean_left");break;case 72:this.$=ue[me],ut.addVertex(ue[me]);break;case 73:ue[me-1].text=ue[me],this.$=ue[me-1];break;case 74:case 75:ue[me-2].text=ue[me-1],this.$=ue[me-2];break;case 76:this.$=ue[me];break;case 77:var Kn=ut.destructLink(ue[me],ue[me-2]);this.$={type:Kn.type,stroke:Kn.stroke,length:Kn.length,text:ue[me-1]};break;case 78:this.$={text:ue[me],type:"text"};break;case 79:this.$={text:ue[me-1].text+""+ue[me],type:ue[me-1].type};break;case 80:this.$={text:ue[me],type:"string"};break;case 81:this.$={text:ue[me],type:"markdown"};break;case 82:var Kn=ut.destructLink(ue[me]);this.$={type:Kn.type,stroke:Kn.stroke,length:Kn.length};break;case 83:this.$=ue[me-1];break;case 84:this.$={text:ue[me],type:"text"};break;case 85:this.$={text:ue[me-1].text+""+ue[me],type:ue[me-1].type};break;case 86:this.$={text:ue[me],type:"string"};break;case 87:case 102:this.$={text:ue[me],type:"markdown"};break;case 99:this.$={text:ue[me],type:"text"};break;case 100:this.$={text:ue[me-1].text+""+ue[me],type:ue[me-1].type};break;case 101:this.$={text:ue[me],type:"text"};break;case 103:this.$=ue[me-4],ut.addClass(ue[me-2],ue[me]);break;case 104:this.$=ue[me-4],ut.setClass(ue[me-2],ue[me]);break;case 105:case 113:this.$=ue[me-1],ut.setClickEvent(ue[me-1],ue[me]);break;case 106:case 114:this.$=ue[me-3],ut.setClickEvent(ue[me-3],ue[me-2]),ut.setTooltip(ue[me-3],ue[me]);break;case 107:this.$=ue[me-2],ut.setClickEvent(ue[me-2],ue[me-1],ue[me]);break;case 108:this.$=ue[me-4],ut.setClickEvent(ue[me-4],ue[me-3],ue[me-2]),ut.setTooltip(ue[me-4],ue[me]);break;case 109:this.$=ue[me-2],ut.setLink(ue[me-2],ue[me]);break;case 110:this.$=ue[me-4],ut.setLink(ue[me-4],ue[me-2]),ut.setTooltip(ue[me-4],ue[me]);break;case 111:this.$=ue[me-4],ut.setLink(ue[me-4],ue[me-2],ue[me]);break;case 112:this.$=ue[me-6],ut.setLink(ue[me-6],ue[me-4],ue[me]),ut.setTooltip(ue[me-6],ue[me-2]);break;case 115:this.$=ue[me-1],ut.setLink(ue[me-1],ue[me]);break;case 116:this.$=ue[me-3],ut.setLink(ue[me-3],ue[me-2]),ut.setTooltip(ue[me-3],ue[me]);break;case 117:this.$=ue[me-3],ut.setLink(ue[me-3],ue[me-2],ue[me]);break;case 118:this.$=ue[me-5],ut.setLink(ue[me-5],ue[me-4],ue[me]),ut.setTooltip(ue[me-5],ue[me-2]);break;case 119:this.$=ue[me-4],ut.addVertex(ue[me-2],void 0,void 0,ue[me]);break;case 120:this.$=ue[me-4],ut.updateLink([ue[me-2]],ue[me]);break;case 121:this.$=ue[me-4],ut.updateLink(ue[me-2],ue[me]);break;case 122:this.$=ue[me-8],ut.updateLinkInterpolate([ue[me-6]],ue[me-2]),ut.updateLink([ue[me-6]],ue[me]);break;case 123:this.$=ue[me-8],ut.updateLinkInterpolate(ue[me-6],ue[me-2]),ut.updateLink(ue[me-6],ue[me]);break;case 124:this.$=ue[me-6],ut.updateLinkInterpolate([ue[me-4]],ue[me]);break;case 125:this.$=ue[me-6],ut.updateLinkInterpolate(ue[me-4],ue[me]);break;case 126:case 128:this.$=[ue[me]];break;case 127:case 129:ue[me-2].push(ue[me]),this.$=ue[me-2];break;case 131:this.$=ue[me-1]+ue[me];break;case 179:this.$=ue[me];break;case 180:this.$=ue[me-1]+""+ue[me];break;case 182:this.$=ue[me-1]+""+ue[me];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:n},{1:[3]},e(i,a,{5:6}),{4:7,9:t,10:r,12:n},{4:8,9:t,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:l,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:v,85:x,86:k,87:w,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B,120:E,121:R,122:O,123:P},e(i,[2,9]),e(i,[2,10]),e(i,[2,11]),{8:[1,54],9:[1,55],10:A,15:53,18:56},e($,[2,3]),e($,[2,4]),e($,[2,5]),e($,[2,6]),e($,[2,7]),e($,[2,8]),{8:F,9:G,11:q,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:F,9:G,11:q,21:66},{8:F,9:G,11:q,21:67},{8:F,9:G,11:q,21:68},{8:F,9:G,11:q,21:69},{8:F,9:G,11:q,21:70},{8:F,9:G,10:[1,71],11:q,21:72},e($,[2,36]),{35:[1,73]},{37:[1,74]},e($,[2,39]),e(W,[2,50],{18:75,39:76,10:A,40:re}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:oe,44:te,60:se,79:[1,85],88:Y,94:[1,82],96:[1,83],100:84,104:V,105:U,108:ne,110:K,113:fe,114:Q,115:Te,119:86},e($,[2,183]),e($,[2,184]),e($,[2,185]),e($,[2,186]),e(ie,[2,51]),e(ie,[2,54],{46:[1,98]}),e(Me,[2,72],{112:111,29:[1,99],44:m,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:y,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:_,101:S,104:C,105:T,108:N,110:D,113:M,114:L,115:B}),e(Le,[2,179]),e(Le,[2,140]),e(Le,[2,141]),e(Le,[2,142]),e(Le,[2,143]),e(Le,[2,144]),e(Le,[2,145]),e(Le,[2,146]),e(Le,[2,147]),e(Le,[2,148]),e(Le,[2,149]),e(Le,[2,150]),e(i,[2,12]),e(i,[2,18]),e(i,[2,19]),{9:[1,112]},e(Ie,[2,26],{18:113,10:A}),e($,[2,27]),{42:114,43:38,44:m,45:39,47:40,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B},e($,[2,40]),e($,[2,41]),e($,[2,42]),e(He,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:We,118:et},e([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),e($,[2,28]),e($,[2,29]),e($,[2,30]),e($,[2,31]),e($,[2,32]),{10:Ze,12:H,14:ge,27:ce,28:124,32:ve,44:J,60:Pe,75:Z,79:[1,126],80:[1,127],82:137,83:Fe,84:ae,85:pe,86:_e,87:Se,88:Re,89:ke,90:125,104:Xe,108:Oe,110:lt,113:Dt,114:_t,115:gt},e(Pt,a,{5:150}),e($,[2,37]),e($,[2,38]),e(W,[2,48],{44:st}),e(W,[2,49],{18:152,10:A,40:Qe}),e(ie,[2,44]),{44:m,47:154,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B},{101:[1,155],102:156,104:[1,157]},{44:m,47:158,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B},{44:m,47:159,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B},e(Ke,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},e(Ke,[2,113],{119:164,10:[1,163],14:oe,44:te,60:se,88:Y,104:V,105:U,108:ne,110:K,113:fe,114:Q,115:Te}),e(Ke,[2,115],{10:[1,165]}),e(It,[2,181]),e(It,[2,168]),e(It,[2,169]),e(It,[2,170]),e(It,[2,171]),e(It,[2,172]),e(It,[2,173]),e(It,[2,174]),e(It,[2,175]),e(It,[2,176]),e(It,[2,177]),e(It,[2,178]),{44:m,47:166,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B},{30:167,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{30:175,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{30:177,50:[1,176],67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{30:178,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{30:179,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{30:180,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{108:[1,181]},{30:182,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{30:183,65:[1,184],67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{30:185,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{30:186,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{30:187,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},e(Le,[2,180]),e(i,[2,20]),e(Ie,[2,25]),e(W,[2,46],{39:188,18:189,10:A,40:re}),e(He,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{77:[1,193],78:194,115:We,118:et},e(Gt,[2,78]),e(Gt,[2,80]),e(Gt,[2,81]),e(Gt,[2,166]),e(Gt,[2,167]),{8:F,9:G,10:Ze,11:q,12:H,14:ge,21:196,27:ce,29:[1,195],32:ve,44:J,60:Pe,75:Z,82:137,83:Fe,84:ae,85:pe,86:_e,87:Se,88:Re,89:ke,90:197,104:Xe,108:Oe,110:lt,113:Dt,114:_t,115:gt},e(Tt,[2,99]),e(Tt,[2,101]),e(Tt,[2,102]),e(Tt,[2,155]),e(Tt,[2,156]),e(Tt,[2,157]),e(Tt,[2,158]),e(Tt,[2,159]),e(Tt,[2,160]),e(Tt,[2,161]),e(Tt,[2,162]),e(Tt,[2,163]),e(Tt,[2,164]),e(Tt,[2,165]),e(Tt,[2,88]),e(Tt,[2,89]),e(Tt,[2,90]),e(Tt,[2,91]),e(Tt,[2,92]),e(Tt,[2,93]),e(Tt,[2,94]),e(Tt,[2,95]),e(Tt,[2,96]),e(Tt,[2,97]),e(Tt,[2,98]),{6:11,7:12,8:s,9:l,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,198],33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:v,85:x,86:k,87:w,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B,120:E,121:R,122:O,123:P},{10:A,18:199},{44:[1,200]},e(ie,[2,43]),{10:[1,201],44:m,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:111,113:M,114:L,115:B},{10:[1,202]},{10:[1,203],105:[1,204]},e(hn,[2,126]),{10:[1,205],44:m,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:111,113:M,114:L,115:B},{10:[1,206],44:m,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:111,113:M,114:L,115:B},{79:[1,207]},e(Ke,[2,107],{10:[1,208]}),e(Ke,[2,109],{10:[1,209]}),{79:[1,210]},e(It,[2,182]),{79:[1,211],97:[1,212]},e(ie,[2,55],{112:111,44:m,60:y,88:_,101:S,104:C,105:T,108:N,110:D,113:M,114:L,115:B}),{31:[1,213],67:tt,81:214,115:pt,116:dt,117:it},e(Ir,[2,84]),e(Ir,[2,86]),e(Ir,[2,87]),e(Ir,[2,151]),e(Ir,[2,152]),e(Ir,[2,153]),e(Ir,[2,154]),{49:[1,215],67:tt,81:214,115:pt,116:dt,117:it},{30:216,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{51:[1,217],67:tt,81:214,115:pt,116:dt,117:it},{53:[1,218],67:tt,81:214,115:pt,116:dt,117:it},{55:[1,219],67:tt,81:214,115:pt,116:dt,117:it},{57:[1,220],67:tt,81:214,115:pt,116:dt,117:it},{60:[1,221]},{64:[1,222],67:tt,81:214,115:pt,116:dt,117:it},{66:[1,223],67:tt,81:214,115:pt,116:dt,117:it},{30:224,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},{31:[1,225],67:tt,81:214,115:pt,116:dt,117:it},{67:tt,69:[1,226],71:[1,227],81:214,115:pt,116:dt,117:it},{67:tt,69:[1,229],71:[1,228],81:214,115:pt,116:dt,117:it},e(W,[2,45],{18:152,10:A,40:Qe}),e(W,[2,47],{44:st}),e(He,[2,75]),e(He,[2,74]),{62:[1,230],67:tt,81:214,115:pt,116:dt,117:it},e(He,[2,77]),e(Gt,[2,79]),{30:231,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},e(Pt,a,{5:232}),e(Tt,[2,100]),e($,[2,35]),{43:233,44:m,45:39,47:40,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B},{10:A,18:234},{10:Gr,60:Xn,83:bn,91:235,104:ei,106:236,107:237,108:$n,109:ti,110:ye,111:xt},{10:Gr,60:Xn,83:bn,91:246,103:[1,247],104:ei,106:236,107:237,108:$n,109:ti,110:ye,111:xt},{10:Gr,60:Xn,83:bn,91:248,103:[1,249],104:ei,106:236,107:237,108:$n,109:ti,110:ye,111:xt},{104:[1,250]},{10:Gr,60:Xn,83:bn,91:251,104:ei,106:236,107:237,108:$n,109:ti,110:ye,111:xt},{44:m,47:252,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B},e(Ke,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},e(Ke,[2,114]),e(Ke,[2,116],{10:[1,256]}),e(Ke,[2,117]),e(Me,[2,56]),e(Ir,[2,85]),e(Me,[2,57]),{51:[1,257],67:tt,81:214,115:pt,116:dt,117:it},e(Me,[2,64]),e(Me,[2,59]),e(Me,[2,60]),e(Me,[2,61]),{108:[1,258]},e(Me,[2,63]),e(Me,[2,65]),{66:[1,259],67:tt,81:214,115:pt,116:dt,117:it},e(Me,[2,67]),e(Me,[2,68]),e(Me,[2,70]),e(Me,[2,69]),e(Me,[2,71]),e([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:tt,81:214,115:pt,116:dt,117:it},{6:11,7:12,8:s,9:l,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,261],33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:v,85:x,86:k,87:w,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B,120:E,121:R,122:O,123:P},e(ie,[2,53]),{43:262,44:m,45:39,47:40,60:y,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B},e(Ke,[2,119],{105:bt}),e(Yr,[2,128],{107:264,10:Gr,60:Xn,83:bn,104:ei,108:$n,109:ti,110:ye,111:xt}),e(Vr,[2,130]),e(Vr,[2,132]),e(Vr,[2,133]),e(Vr,[2,134]),e(Vr,[2,135]),e(Vr,[2,136]),e(Vr,[2,137]),e(Vr,[2,138]),e(Vr,[2,139]),e(Ke,[2,120],{105:bt}),{10:[1,265]},e(Ke,[2,121],{105:bt}),{10:[1,266]},e(hn,[2,127]),e(Ke,[2,103],{105:bt}),e(Ke,[2,104],{112:111,44:m,60:y,88:_,101:S,104:C,105:T,108:N,110:D,113:M,114:L,115:B}),e(Ke,[2,108]),e(Ke,[2,110],{10:[1,267]}),e(Ke,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:F,9:G,11:q,21:272},e($,[2,34]),e(ie,[2,52]),{10:Gr,60:Xn,83:bn,104:ei,106:273,107:237,108:$n,109:ti,110:ye,111:xt},e(Vr,[2,131]),{14:oe,44:te,60:se,88:Y,100:274,104:V,105:U,108:ne,110:K,113:fe,114:Q,115:Te,119:86},{14:oe,44:te,60:se,88:Y,100:275,104:V,105:U,108:ne,110:K,113:fe,114:Q,115:Te,119:86},{97:[1,276]},e(Ke,[2,118]),e(Me,[2,58]),{30:277,67:tt,79:Zt,80:jt,81:168,115:pt,116:dt,117:it},e(Me,[2,66]),e(Pt,a,{5:278}),e(Yr,[2,129],{107:264,10:Gr,60:Xn,83:bn,104:ei,108:$n,109:ti,110:ye,111:xt}),e(Ke,[2,124],{119:164,10:[1,279],14:oe,44:te,60:se,88:Y,104:V,105:U,108:ne,110:K,113:fe,114:Q,115:Te}),e(Ke,[2,125],{119:164,10:[1,280],14:oe,44:te,60:se,88:Y,104:V,105:U,108:ne,110:K,113:fe,114:Q,115:Te}),e(Ke,[2,112]),{31:[1,281],67:tt,81:214,115:pt,116:dt,117:it},{6:11,7:12,8:s,9:l,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,282],33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:v,85:x,86:k,87:w,88:_,101:S,104:C,105:T,108:N,110:D,112:41,113:M,114:L,115:B,120:E,121:R,122:O,123:P},{10:Gr,60:Xn,83:bn,91:283,104:ei,106:236,107:237,108:$n,109:ti,110:ye,111:xt},{10:Gr,60:Xn,83:bn,91:284,104:ei,106:236,107:237,108:$n,109:ti,110:ye,111:xt},e(Me,[2,62]),e($,[2,33]),e(Ke,[2,122],{105:bt}),e(Ke,[2,123],{105:bt})],defaultActions:{},parseError:o(function(Mn,ft){if(ft.recoverable)this.trace(Mn);else{var zt=new Error(Mn);throw zt.hash=ft,zt}},"parseError"),parse:o(function(Mn){var ft=this,zt=[0],ut=[],dn=[null],ue=[],Lr=this.table,me="",Kn=0,Eqe=0,_qe=0,iit=2,Cqe=1,ait=ue.slice.call(arguments,1),ga=Object.create(this.lexer),Op={yy:{}};for(var Gj in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Gj)&&(Op.yy[Gj]=this.yy[Gj]);ga.setInput(Mn,Op.yy),Op.yy.lexer=ga,Op.yy.parser=this,typeof ga.yylloc>"u"&&(ga.yylloc={});var qj=ga.yylloc;ue.push(qj);var sit=ga.options&&ga.options.ranges;typeof Op.yy.parseError=="function"?this.parseError=Op.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function oit(go){zt.length=zt.length-2*go,dn.length=dn.length-go,ue.length=ue.length-go}o(oit,"popStack");function Sqe(){var go;return go=ut.pop()||ga.lex()||Cqe,typeof go!="number"&&(go instanceof Array&&(ut=go,go=ut.pop()),go=ft.symbols_[go]||go),go}o(Sqe,"lex");for(var ys,jj,Pp,Uo,lit,Yj,Xf={},a8,Ku,Aqe,s8;;){if(Pp=zt[zt.length-1],this.defaultActions[Pp]?Uo=this.defaultActions[Pp]:((ys===null||typeof ys>"u")&&(ys=Sqe()),Uo=Lr[Pp]&&Lr[Pp][ys]),typeof Uo>"u"||!Uo.length||!Uo[0]){var Uj="";s8=[];for(a8 in Lr[Pp])this.terminals_[a8]&&a8>iit&&s8.push("'"+this.terminals_[a8]+"'");ga.showPosition?Uj="Parse error on line "+(Kn+1)+`:
`+ga.showPosition()+`
Expecting `+s8.join(", ")+", got '"+(this.terminals_[ys]||ys)+"'":Uj="Parse error on line "+(Kn+1)+": Unexpected "+(ys==Cqe?"end of input":"'"+(this.terminals_[ys]||ys)+"'"),this.parseError(Uj,{text:ga.match,token:this.terminals_[ys]||ys,line:ga.yylineno,loc:qj,expected:s8})}if(Uo[0]instanceof Array&&Uo.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pp+", token: "+ys);switch(Uo[0]){case 1:zt.push(ys),dn.push(ga.yytext),ue.push(ga.yylloc),zt.push(Uo[1]),ys=null,jj?(ys=jj,jj=null):(Eqe=ga.yyleng,me=ga.yytext,Kn=ga.yylineno,qj=ga.yylloc,_qe>0&&_qe--);break;case 2:if(Ku=this.productions_[Uo[1]][1],Xf.$=dn[dn.length-Ku],Xf._$={first_line:ue[ue.length-(Ku||1)].first_line,last_line:ue[ue.length-1].last_line,first_column:ue[ue.length-(Ku||1)].first_column,last_column:ue[ue.length-1].last_column},sit&&(Xf._$.range=[ue[ue.length-(Ku||1)].range[0],ue[ue.length-1].range[1]]),Yj=this.performAction.apply(Xf,[me,Eqe,Kn,Op.yy,Uo[1],dn,ue].concat(ait)),typeof Yj<"u")return Yj;Ku&&(zt=zt.slice(0,-1*Ku*2),dn=dn.slice(0,-1*Ku),ue=ue.slice(0,-1*Ku)),zt.push(this.productions_[Uo[1]][0]),dn.push(Xf.$),ue.push(Xf._$),Aqe=Lr[zt[zt.length-2]][zt[zt.length-1]],zt.push(Aqe);break;case 3:return!0}}return!0},"parse")},Fn=function(){var Mn={EOF:1,parseError:o(function(ft,zt){if(this.yy.parser)this.yy.parser.parseError(ft,zt);else throw new Error(ft)},"parseError"),setInput:o(function(ft,zt){return this.yy=zt||this.yy||{},this._input=ft,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var ft=this._input[0];this.yytext+=ft,this.yyleng++,this.offset++,this.match+=ft,this.matched+=ft;var zt=ft.match(/(?:\r\n?|\n).*/g);return zt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ft},"input"),unput:o(function(ft){var zt=ft.length,ut=ft.split(/(?:\r\n?|\n)/g);this._input=ft+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-zt),this.offset-=zt;var dn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ut.length-1&&(this.yylineno-=ut.length-1);var ue=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ut?(ut.length===dn.length?this.yylloc.first_column:0)+dn[dn.length-ut.length].length-ut[0].length:this.yylloc.first_column-zt},this.options.ranges&&(this.yylloc.range=[ue[0],ue[0]+this.yyleng-zt]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(ft){this.unput(this.match.slice(ft))},"less"),pastInput:o(function(){var ft=this.matched.substr(0,this.matched.length-this.match.length);return(ft.length>20?"...":"")+ft.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var ft=this.match;return ft.length<20&&(ft+=this._input.substr(0,20-ft.length)),(ft.substr(0,20)+(ft.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var ft=this.pastInput(),zt=new Array(ft.length+1).join("-");return ft+this.upcomingInput()+`
`+zt+"^"},"showPosition"),test_match:o(function(ft,zt){var ut,dn,ue;if(this.options.backtrack_lexer&&(ue={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ue.yylloc.range=this.yylloc.range.slice(0))),dn=ft[0].match(/(?:\r\n?|\n).*/g),dn&&(this.yylineno+=dn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:dn?dn[dn.length-1].length-dn[dn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ft[0].length},this.yytext+=ft[0],this.match+=ft[0],this.matches=ft,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ft[0].length),this.matched+=ft[0],ut=this.performAction.call(this,this.yy,this,zt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ut)return ut;if(this._backtrack){for(var Lr in ue)this[Lr]=ue[Lr];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ft,zt,ut,dn;this._more||(this.yytext="",this.match="");for(var ue=this._currentRules(),Lr=0;Lr<ue.length;Lr++)if(ut=this._input.match(this.rules[ue[Lr]]),ut&&(!zt||ut[0].length>zt[0].length)){if(zt=ut,dn=Lr,this.options.backtrack_lexer){if(ft=this.test_match(ut,ue[Lr]),ft!==!1)return ft;if(this._backtrack){zt=!1;continue}else return!1}else if(!this.options.flex)break}return zt?(ft=this.test_match(zt,ue[dn]),ft!==!1?ft:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var ft=this.next();return ft||this.lex()},"lex"),begin:o(function(ft){this.conditionStack.push(ft)},"begin"),popState:o(function(){var ft=this.conditionStack.length-1;return ft>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(ft){return ft=this.conditionStack.length-1-Math.abs(ft||0),ft>=0?this.conditionStack[ft]:"INITIAL"},"topState"),pushState:o(function(ft){this.begin(ft)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(ft,zt,ut,dn){var ue=dn;switch(ut){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),zt.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:let Lr=/\n\s*/g;return zt.yytext=zt.yytext.replace(Lr,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 17:this.popState();break;case 18:return 95;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 87;case 35:return ft.lex.firstGraph()&&this.begin("dir"),12;case 36:return ft.lex.firstGraph()&&this.begin("dir"),12;case 37:return ft.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 97;case 41:return 97;case 42:return 97;case 43:return 97;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:return 110;case 61:return 46;case 62:return 60;case 63:return 44;case 64:return 8;case 65:return 105;case 66:return 114;case 67:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:return 118;case 70:return this.popState(),77;case 71:return this.pushState("thickEdgeText"),75;case 72:return 118;case 73:return this.popState(),77;case 74:return this.pushState("dottedEdgeText"),75;case 75:return 118;case 76:return 77;case 77:return this.popState(),53;case 78:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 100:return 114;case 101:return 110;case 102:return 44;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 114:return"TEXT";case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}};return Mn}();An.lexer=Fn;function di(){this.yy={}}return o(di,"Parser"),di.prototype=An,An.Parser=di,new di}(),sw.parser=sw,zbe=sw}),Gbe,qbe,jbe,FZe=I(()=>{"use strict";Jo(),Gbe=o((e,t)=>{let r=m8,n=r(e,"r"),i=r(e,"g"),a=r(e,"b");return th(n,i,a,t)},"fade"),qbe=o(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Gbe(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),jbe=qbe}),ow={};Nt(ow,{diagram:()=>Ybe});var Ybe,ZM=I(()=>{"use strict";tr(),ide(),BZe(),$Ze(),FZe(),Ybe={parser:zbe,db:fk,renderer:Fbe,styles:jbe,init:o(e=>{e.flowchart||(e.flowchart={}),e.layout&&TC({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,TC({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),fk.clear(),fk.setGen("gen-2")},"init")}}),lw,Ube,zZe=I(()=>{"use strict";lw=function(){var e=o(function(T,N,D,M){for(D=D||{},M=T.length;M--;D[T[M]]=N);return D},"o"),t=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],i=[1,12],a=[1,13],s=[1,14],l=[1,15],u=[1,21],h=[1,22],d=[1,23],p=[1,24],f=[1,25],g=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],m=[1,34],y=[27,28,46,47],b=[41,42,43,44,45],v=[17,34],x=[1,54],k=[1,53],w=[17,34,36,38],_={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:o(function(T,N,D,M,L,B,E){var R=B.length-1;switch(L){case 1:break;case 2:this.$=[];break;case 3:B[R-1].push(B[R]),this.$=B[R-1];break;case 4:case 5:this.$=B[R];break;case 6:case 7:this.$=[];break;case 8:M.addEntity(B[R-4]),M.addEntity(B[R-2]),M.addRelationship(B[R-4],B[R],B[R-2],B[R-3]);break;case 9:M.addEntity(B[R-3]),M.addAttributes(B[R-3],B[R-1]);break;case 10:M.addEntity(B[R-2]);break;case 11:M.addEntity(B[R]);break;case 12:M.addEntity(B[R-6],B[R-4]),M.addAttributes(B[R-6],B[R-1]);break;case 13:M.addEntity(B[R-5],B[R-3]);break;case 14:M.addEntity(B[R-3],B[R-1]);break;case 15:case 16:this.$=B[R].trim(),M.setAccTitle(this.$);break;case 17:case 18:this.$=B[R].trim(),M.setAccDescription(this.$);break;case 19:case 43:this.$=B[R];break;case 20:case 41:case 42:this.$=B[R].replace(/"/g,"");break;case 21:case 29:this.$=[B[R]];break;case 22:B[R].push(B[R-1]),this.$=B[R];break;case 23:this.$={attributeType:B[R-1],attributeName:B[R]};break;case 24:this.$={attributeType:B[R-2],attributeName:B[R-1],attributeKeyTypeList:B[R]};break;case 25:this.$={attributeType:B[R-2],attributeName:B[R-1],attributeComment:B[R]};break;case 26:this.$={attributeType:B[R-3],attributeName:B[R-2],attributeKeyTypeList:B[R-1],attributeComment:B[R]};break;case 27:case 28:case 31:this.$=B[R];break;case 30:B[R-2].push(B[R]),this.$=B[R-2];break;case 32:this.$=B[R].replace(/"/g,"");break;case 33:this.$={cardA:B[R],relType:B[R-1],cardB:B[R-2]};break;case 34:this.$=M.Cardinality.ZERO_OR_ONE;break;case 35:this.$=M.Cardinality.ZERO_OR_MORE;break;case 36:this.$=M.Cardinality.ONE_OR_MORE;break;case 37:this.$=M.Cardinality.ONLY_ONE;break;case 38:this.$=M.Cardinality.MD_PARENT;break;case 39:this.$=M.Identification.NON_IDENTIFYING;break;case 40:this.$=M.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:i,26:a,27:s,28:l},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:16,11:9,20:r,22:n,24:i,26:a,27:s,28:l},e(t,[2,5]),e(t,[2,6]),e(t,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:u,42:h,43:d,44:p,45:f}),{21:[1,26]},{23:[1,27]},{25:[1,28]},e(t,[2,18]),e(g,[2,19]),e(g,[2,20]),e(t,[2,4]),{11:29,27:s,28:l},{16:30,17:[1,31],29:32,30:33,34:m},{11:35,27:s,28:l},{40:36,46:[1,37],47:[1,38]},e(y,[2,34]),e(y,[2,35]),e(y,[2,36]),e(y,[2,37]),e(y,[2,38]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{13:[1,39]},{17:[1,40]},e(t,[2,10]),{16:41,17:[2,21],29:32,30:33,34:m},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:u,42:h,43:d,44:p,45:f},e(b,[2,39]),e(b,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},e(t,[2,9]),{17:[2,22]},e(v,[2,23],{32:50,33:51,35:52,37:x,38:k}),e([17,34,37,38],[2,28]),e(t,[2,14],{15:[1,55]}),e([27,28],[2,33]),e(t,[2,8]),e(t,[2,41]),e(t,[2,42]),e(t,[2,43]),e(v,[2,24],{33:56,36:[1,57],38:k}),e(v,[2,25]),e(w,[2,29]),e(v,[2,32]),e(w,[2,31]),{16:58,17:[1,59],29:32,30:33,34:m},e(v,[2,26]),{35:60,37:x},{17:[1,61]},e(t,[2,13]),e(w,[2,30]),e(t,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:o(function(T,N){if(N.recoverable)this.trace(T);else{var D=new Error(T);throw D.hash=N,D}},"parseError"),parse:o(function(T){var N=this,D=[0],M=[],L=[null],B=[],E=this.table,R="",O=0,P=0,A=0,$=2,F=1,G=B.slice.call(arguments,1),q=Object.create(this.lexer),W={yy:{}};for(var re in this.yy)Object.prototype.hasOwnProperty.call(this.yy,re)&&(W.yy[re]=this.yy[re]);q.setInput(T,W.yy),W.yy.lexer=q,W.yy.parser=this,typeof q.yylloc>"u"&&(q.yylloc={});var oe=q.yylloc;B.push(oe);var te=q.options&&q.options.ranges;typeof W.yy.parseError=="function"?this.parseError=W.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function se(We){D.length=D.length-2*We,L.length=L.length-We,B.length=B.length-We}o(se,"popStack");function Y(){var We;return We=M.pop()||q.lex()||F,typeof We!="number"&&(We instanceof Array&&(M=We,We=M.pop()),We=N.symbols_[We]||We),We}o(Y,"lex");for(var V,U,ne,K,fe,Q,Te={},ie,Me,Le,Ie;;){if(ne=D[D.length-1],this.defaultActions[ne]?K=this.defaultActions[ne]:((V===null||typeof V>"u")&&(V=Y()),K=E[ne]&&E[ne][V]),typeof K>"u"||!K.length||!K[0]){var He="";Ie=[];for(ie in E[ne])this.terminals_[ie]&&ie>$&&Ie.push("'"+this.terminals_[ie]+"'");q.showPosition?He="Parse error on line "+(O+1)+`:
`+q.showPosition()+`
Expecting `+Ie.join(", ")+", got '"+(this.terminals_[V]||V)+"'":He="Parse error on line "+(O+1)+": Unexpected "+(V==F?"end of input":"'"+(this.terminals_[V]||V)+"'"),this.parseError(He,{text:q.match,token:this.terminals_[V]||V,line:q.yylineno,loc:oe,expected:Ie})}if(K[0]instanceof Array&&K.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ne+", token: "+V);switch(K[0]){case 1:D.push(V),L.push(q.yytext),B.push(q.yylloc),D.push(K[1]),V=null,U?(V=U,U=null):(P=q.yyleng,R=q.yytext,O=q.yylineno,oe=q.yylloc,A>0&&A--);break;case 2:if(Me=this.productions_[K[1]][1],Te.$=L[L.length-Me],Te._$={first_line:B[B.length-(Me||1)].first_line,last_line:B[B.length-1].last_line,first_column:B[B.length-(Me||1)].first_column,last_column:B[B.length-1].last_column},te&&(Te._$.range=[B[B.length-(Me||1)].range[0],B[B.length-1].range[1]]),Q=this.performAction.apply(Te,[R,P,O,W.yy,K[1],L,B].concat(G)),typeof Q<"u")return Q;Me&&(D=D.slice(0,-1*Me*2),L=L.slice(0,-1*Me),B=B.slice(0,-1*Me)),D.push(this.productions_[K[1]][0]),L.push(Te.$),B.push(Te._$),Le=E[D[D.length-2]][D[D.length-1]],D.push(Le);break;case 3:return!0}}return!0},"parse")},S=function(){var T={EOF:1,parseError:o(function(N,D){if(this.yy.parser)this.yy.parser.parseError(N,D);else throw new Error(N)},"parseError"),setInput:o(function(N,D){return this.yy=D||this.yy||{},this._input=N,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var N=this._input[0];this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N;var D=N.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),N},"input"),unput:o(function(N){var D=N.length,M=N.split(/(?:\r\n?|\n)/g);this._input=N+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var B=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===L.length?this.yylloc.first_column:0)+L[L.length-M.length].length-M[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[B[0],B[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(N){this.unput(this.match.slice(N))},"less"),pastInput:o(function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var N=this.match;return N.length<20&&(N+=this._input.substr(0,20-N.length)),(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var N=this.pastInput(),D=new Array(N.length+1).join("-");return N+this.upcomingInput()+`
`+D+"^"},"showPosition"),test_match:o(function(N,D){var M,L,B;if(this.options.backtrack_lexer&&(B={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(B.yylloc.range=this.yylloc.range.slice(0))),L=N[0].match(/(?:\r\n?|\n).*/g),L&&(this.yylineno+=L.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:L?L[L.length-1].length-L[L.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+N[0].length},this.yytext+=N[0],this.match+=N[0],this.matches=N,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(N[0].length),this.matched+=N[0],M=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var E in B)this[E]=B[E];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var N,D,M,L;this._more||(this.yytext="",this.match="");for(var B=this._currentRules(),E=0;E<B.length;E++)if(M=this._input.match(this.rules[B[E]]),M&&(!D||M[0].length>D[0].length)){if(D=M,L=E,this.options.backtrack_lexer){if(N=this.test_match(M,B[E]),N!==!1)return N;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(N=this.test_match(D,B[L]),N!==!1?N:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var N=this.next();return N||this.lex()},"lex"),begin:o(function(N){this.conditionStack.push(N)},"begin"),popState:o(function(){var N=this.conditionStack.length-1;return N>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(N){return N=this.conditionStack.length-1-Math.abs(N||0),N>=0?this.conditionStack[N]:"INITIAL"},"topState"),pushState:o(function(N){this.begin(N)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(N,D,M,L){var B=L;switch(M){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;case 22:return D.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return D.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return T}();_.lexer=S;function C(){this.yy={}}return o(C,"Parser"),C.prototype=_,_.Parser=C,new C}(),lw.parser=lw,Ube=lw}),Yh,cw,Hbe,Wbe,QM,Vbe,Xbe,Kbe,Zbe,Qbe,Jbe,GZe=I(()=>{"use strict";Ye(),tr(),Hi(),Yh=new Map,cw=[],Hbe={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},Wbe={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},QM=o(function(e,t=void 0){return Yh.has(e)?!Yh.get(e).alias&&t&&(Yh.get(e).alias=t,X.info(`Add alias '${t}' to entity '${e}'`)):(Yh.set(e,{attributes:[],alias:t}),X.info("Added new entity :",e)),Yh.get(e)},"addEntity"),Vbe=o(()=>Yh,"getEntities"),Xbe=o(function(e,t){let r=QM(e),n;for(n=t.length-1;n>=0;n--)r.attributes.push(t[n]),X.debug("Added attribute ",t[n].attributeName)},"addAttributes"),Kbe=o(function(e,t,r,n){let i={entityA:e,roleA:t,entityB:r,relSpec:n};cw.push(i),X.debug("Added new relationship :",i)},"addRelationship"),Zbe=o(()=>cw,"getRelationships"),Qbe=o(function(){Yh=new Map,cw=[],Yi()},"clear"),Jbe={Cardinality:Hbe,Identification:Wbe,getConfig:o(()=>we().er,"getConfig"),addEntity:QM,addAttributes:Xbe,getEntities:Vbe,addRelationship:Kbe,getRelationships:Zbe,clear:Qbe,setAccTitle:Ui,getAccTitle:ea,setAccDescription:ta,getAccDescription:ra,setDiagramTitle:za,getDiagramTitle:na}}),Ro,exe,Oo,qZe=I(()=>{"use strict";Ro={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},exe=o(function(e,t){let r;e.append("defs").append("marker").attr("id",Ro.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",Ro.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",Ro.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",Ro.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",Ro.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",Ro.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",Ro.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",Ro.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",Ro.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",Ro.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),Oo={ERMarkers:Ro,insertMarkers:exe}}),txe,jZe=I(()=>{"use strict";txe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function rxe(e){return typeof e=="string"&&txe.test(e)}var nxe,YZe=I(()=>{"use strict";jZe(),o(rxe,"validate"),nxe=rxe});function ixe(e,t=0){return sa[e[t+0]]+sa[e[t+1]]+sa[e[t+2]]+sa[e[t+3]]+"-"+sa[e[t+4]]+sa[e[t+5]]+"-"+sa[e[t+6]]+sa[e[t+7]]+"-"+sa[e[t+8]]+sa[e[t+9]]+"-"+sa[e[t+10]]+sa[e[t+11]]+sa[e[t+12]]+sa[e[t+13]]+sa[e[t+14]]+sa[e[t+15]]}var sa,UZe=I(()=>{"use strict";sa=[];for(let e=0;e<256;++e)sa.push((e+256).toString(16).slice(1));o(ixe,"unsafeStringify")});function axe(e){if(!nxe(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var sxe,HZe=I(()=>{"use strict";YZe(),o(axe,"parse"),sxe=axe});function oxe(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function lxe(e,t,r){function n(i,a,s,l){var u;if(typeof i=="string"&&(i=oxe(i)),typeof a=="string"&&(a=sxe(a)),((u=a)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+i.length);if(h.set(a),h.set(i,a.length),h=r(h),h[6]=h[6]&15|t,h[8]=h[8]&63|128,s){l=l||0;for(let d=0;d<16;++d)s[l+d]=h[d];return s}return ixe(h)}o(n,"generateUUID");try{n.name=e}catch{}return n.DNS=cxe,n.URL=uxe,n}var cxe,uxe,WZe=I(()=>{"use strict";UZe(),HZe(),o(oxe,"stringToBytes"),cxe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",uxe="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o(lxe,"v35")});function hxe(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function uw(e,t){return e<<t|e>>>32-t}function dxe(e){let t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let s=unescape(encodeURIComponent(e));e=[];for(let l=0;l<s.length;++l)e.push(s.charCodeAt(l))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let n=e.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let s=0;s<i;++s){let l=new Uint32Array(16);for(let u=0;u<16;++u)l[u]=e[s*64+u*4]<<24|e[s*64+u*4+1]<<16|e[s*64+u*4+2]<<8|e[s*64+u*4+3];a[s]=l}a[i-1][14]=(e.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(e.length-1)*8&4294967295;for(let s=0;s<i;++s){let l=new Uint32Array(80);for(let g=0;g<16;++g)l[g]=a[s][g];for(let g=16;g<80;++g)l[g]=uw(l[g-3]^l[g-8]^l[g-14]^l[g-16],1);let u=r[0],h=r[1],d=r[2],p=r[3],f=r[4];for(let g=0;g<80;++g){let m=Math.floor(g/20),y=uw(u,5)+hxe(m,h,d,p)+f+t[m]+l[g]>>>0;f=p,p=d,d=uw(h,30)>>>0,h=u,u=y}r[0]=r[0]+u>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+f>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var pxe,VZe=I(()=>{"use strict";o(hxe,"f"),o(uw,"ROTL"),o(dxe,"sha1"),pxe=dxe}),gxe,fxe,XZe=I(()=>{"use strict";WZe(),VZe(),gxe=lxe("v5",80,pxe),fxe=gxe}),KZe=I(()=>{"use strict";XZe()});function mxe(e="",t=""){let r=e.replace(yxe,"");return`${JM(t)}${JM(r)}${fxe(e,_xe)}`}function JM(e=""){return e.length>0?`${e}-`:""}var yxe,Di,gg,vxe,bxe,xxe,kxe,eD,wxe,tD,Txe,Exe,_xe,Cxe,ZZe=I(()=>{"use strict";eo(),Fr(),rw(),tr(),Ye(),Dr(),qZe(),wi(),Pr(),KZe(),yxe=/[^\dA-Za-z](\W)*/g,Di={},gg=new Map,vxe=o(function(e){let t=Object.keys(e);for(let r of t)Di[r]=e[r]},"setConf"),bxe=o((e,t,r)=>{let n=Di.entityPadding/3,i=Di.entityPadding/3,a=Di.fontSize*.85,s=t.node().getBBox(),l=[],u=!1,h=!1,d=0,p=0,f=0,g=0,m=s.height+n*2,y=1;r.forEach(k=>{k.attributeKeyTypeList!==void 0&&k.attributeKeyTypeList.length>0&&(u=!0),k.attributeComment!==void 0&&(h=!0)}),r.forEach(k=>{let w=`${t.node().id}-attr-${y}`,_=0,S=sh(k.attributeType),C=e.append("text").classed("er entityLabel",!0).attr("id",`${w}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",a+"px").text(S),T=e.append("text").classed("er entityLabel",!0).attr("id",`${w}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",a+"px").text(k.attributeName),N={};N.tn=C,N.nn=T;let D=C.node().getBBox(),M=T.node().getBBox();if(d=Math.max(d,D.width),p=Math.max(p,M.width),_=Math.max(D.height,M.height),u){let L=k.attributeKeyTypeList!==void 0?k.attributeKeyTypeList.join(","):"",B=e.append("text").classed("er entityLabel",!0).attr("id",`${w}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",a+"px").text(L);N.kn=B;let E=B.node().getBBox();f=Math.max(f,E.width),_=Math.max(_,E.height)}if(h){let L=e.append("text").classed("er entityLabel",!0).attr("id",`${w}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",we().fontFamily).style("font-size",a+"px").text(k.attributeComment||"");N.cn=L;let B=L.node().getBBox();g=Math.max(g,B.width),_=Math.max(_,B.height)}N.height=_,l.push(N),m+=_+n*2,y+=1});let b=4;u&&(b+=2),h&&(b+=2);let v=d+p+f+g,x={width:Math.max(Di.minEntityWidth,Math.max(s.width+Di.entityPadding*2,v+i*b)),height:r.length>0?m:Math.max(Di.minEntityHeight,s.height+Di.entityPadding*2)};if(r.length>0){let k=Math.max(0,(x.width-v-i*b)/(b/2));t.attr("transform","translate("+x.width/2+","+(n+s.height/2)+")");let w=s.height+n*2,_="attributeBoxOdd";l.forEach(S=>{let C=w+n+S.height/2;S.tn.attr("transform","translate("+i+","+C+")");let T=e.insert("rect","#"+S.tn.node().id).classed(`er ${_}`,!0).attr("x",0).attr("y",w).attr("width",d+i*2+k).attr("height",S.height+n*2),N=parseFloat(T.attr("x"))+parseFloat(T.attr("width"));S.nn.attr("transform","translate("+(N+i)+","+C+")");let D=e.insert("rect","#"+S.nn.node().id).classed(`er ${_}`,!0).attr("x",N).attr("y",w).attr("width",p+i*2+k).attr("height",S.height+n*2),M=parseFloat(D.attr("x"))+parseFloat(D.attr("width"));if(u){S.kn.attr("transform","translate("+(M+i)+","+C+")");let L=e.insert("rect","#"+S.kn.node().id).classed(`er ${_}`,!0).attr("x",M).attr("y",w).attr("width",f+i*2+k).attr("height",S.height+n*2);M=parseFloat(L.attr("x"))+parseFloat(L.attr("width"))}h&&(S.cn.attr("transform","translate("+(M+i)+","+C+")"),e.insert("rect","#"+S.cn.node().id).classed(`er ${_}`,"true").attr("x",M).attr("y",w).attr("width",g+i*2+k).attr("height",S.height+n*2)),w+=S.height+n*2,_=_==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else x.height=Math.max(Di.minEntityHeight,m),t.attr("transform","translate("+x.width/2+","+x.height/2+")");return x},"drawAttributes"),xxe=o(function(e,t,r){let n=[...t.keys()],i;return n.forEach(function(a){let s=mxe(a,"entity");gg.set(a,s);let l=e.append("g").attr("id",s);i=i===void 0?s:i;let u="text-"+s,h=l.append("text").classed("er entityLabel",!0).attr("id",u).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",we().fontFamily).style("font-size",Di.fontSize+"px").text(t.get(a).alias??a),{width:d,height:p}=bxe(l,h,t.get(a).attributes),f=l.insert("rect","#"+u).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",d).attr("height",p).node().getBBox();r.setNode(s,{width:f.width,height:f.height,shape:"rect",id:s})}),i},"drawEntities"),kxe=o(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")})},"adjustEntities"),eD=o(function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},"getEdgeName"),wxe=o(function(e,t){return e.forEach(function(r){t.setEdge(gg.get(r.entityA),gg.get(r.entityB),{relationship:r},eD(r))}),e},"addRelationships"),tD=0,Txe=o(function(e,t,r,n,i){tD++;let a=r.edge(gg.get(t.entityA),gg.get(t.entityB),eD(t)),s=bh().x(function(y){return y.x}).y(function(y){return y.y}).curve(T1),l=e.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",s(a.points)).style("stroke",Di.stroke).style("fill","none");t.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&l.attr("stroke-dasharray","8,8");let u="";switch(Di.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),t.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:l.attr("marker-end","url("+u+"#"+Oo.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:l.attr("marker-end","url("+u+"#"+Oo.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:l.attr("marker-end","url("+u+"#"+Oo.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:l.attr("marker-end","url("+u+"#"+Oo.ERMarkers.ONLY_ONE_END+")");break;case i.db.Cardinality.MD_PARENT:l.attr("marker-end","url("+u+"#"+Oo.ERMarkers.MD_PARENT_END+")");break}switch(t.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:l.attr("marker-start","url("+u+"#"+Oo.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:l.attr("marker-start","url("+u+"#"+Oo.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:l.attr("marker-start","url("+u+"#"+Oo.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:l.attr("marker-start","url("+u+"#"+Oo.ERMarkers.ONLY_ONE_START+")");break;case i.db.Cardinality.MD_PARENT:l.attr("marker-start","url("+u+"#"+Oo.ERMarkers.MD_PARENT_START+")");break}let h=l.node().getTotalLength(),d=l.node().getPointAtLength(h*.5),p="rel"+tD,f=t.roleA.split(/<br ?\/>/g),g=e.append("text").classed("er relationshipLabel",!0).attr("id",p).attr("x",d.x).attr("y",d.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",we().fontFamily).style("font-size",Di.fontSize+"px");if(f.length==1)g.text(t.roleA);else{let y=-(f.length-1)*.5;f.forEach((b,v)=>{g.append("tspan").attr("x",d.x).attr("dy",`${v===0?y:1}em`).text(b)})}let m=g.node().getBBox();e.insert("rect","#"+p).classed("er relationshipLabelBox",!0).attr("x",d.x-m.width/2).attr("y",d.y-m.height/2).attr("width",m.width).attr("height",m.height)},"drawRelationshipFromLayout"),Exe=o(function(e,t,r,n){Di=we().er,X.info("Drawing ER diagram");let i=we().securityLevel,a;i==="sandbox"&&(a=nt("#i"+t));let s=nt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);Oo.insertMarkers(s,Di);let l;l=new Ca({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Di.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let u=xxe(s,n.db.getEntities(),l),h=wxe(n.db.getRelationships(),l);Y2(l),kxe(s,l),h.forEach(function(m){Txe(s,m,l,u,n)});let d=Di.diagramPadding;Ar.insertTitle(s,"entityTitleText",Di.titleTopMargin,n.db.getDiagramTitle());let p=s.node().getBBox(),f=p.width+d*2,g=p.height+d*2;ba(s,g,f,Di.useMaxWidth),s.attr("viewBox",`${p.x-d} ${p.y-d} ${f} ${g}`)},"draw"),_xe="28e9f9db-3c8d-5aa5-9faf-44286ae5937c",o(mxe,"generateId"),o(JM,"strWithHyphen"),Cxe={setConf:vxe,draw:Exe}}),Sxe,Axe,QZe=I(()=>{"use strict";Sxe=o(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),Axe=Sxe}),Lxe={};Nt(Lxe,{diagram:()=>Nxe});var Nxe,JZe=I(()=>{"use strict";zZe(),GZe(),ZZe(),QZe(),Nxe={parser:Ube,db:Jbe,renderer:Cxe,styles:Axe}});function Ri(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function Ls(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function rD(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function fg(e){return typeof e=="object"&&e!==null&&Ri(e.container)&&Ls(e.reference)&&typeof e.message=="string"}function hc(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function I0(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function hw(e){return hc(e)&&typeof e.fullText=="string"}var dw,vl=I(()=>{"use strict";o(Ri,"isAstNode"),o(Ls,"isReference"),o(rD,"isAstNodeDescription"),o(fg,"isLinkingError"),dw=class{static{o(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return Ri(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});let n=r[t];if(n!==void 0)return n;{let i=this.computeIsSubtype(e,t);return r[t]=i,i}}getAllSubTypes(e){let t=this.allSubtypes[e];if(t)return t;{let r=this.getAllTypes(),n=[];for(let i of r)this.isSubtype(i,e)&&n.push(i);return this.allSubtypes[e]=n,n}}},o(hc,"isCompositeCstNode"),o(I0,"isLeafCstNode"),o(hw,"isRootCstNode")});function Ixe(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function H2(e){return!!e&&typeof e[Symbol.iterator]=="function"}function _i(...e){if(e.length===1){let t=e[0];if(t instanceof bl)return t;if(H2(t))return new bl(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new bl(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:is)}return e.length>1?new bl(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];H2(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return is}):W2}var bl,W2,is,M0,V2,to=I(()=>{"use strict";bl=class Ld{static{o(this,"StreamImpl")}constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){let t={state:this.startFn(),next:o(()=>this.nextFn(t.state),"next"),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let t=this.iterator(),r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){let t=[],r=this.iterator(),n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){let n=this.map(i=>[t?t(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(t){let r=t[Symbol.iterator]();return new Ld(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return is})}join(t=","){let r=this.iterator(),n="",i,a=!1;do i=r.next(),i.done||(a&&(n+=t),n+=Ixe(i.value)),a=!0;while(!i.done);return n}indexOf(t,r=0){let n=this.iterator(),i=0,a=n.next();for(;!a.done;){if(i>=r&&a.value===t)return i;a=n.next(),i++}return-1}every(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;)t(i.value,n),i=r.next(),n++}map(t){return new Ld(this.startFn,r=>{let{done:n,value:i}=this.nextFn(r);return n?is:{done:!1,value:t(i)}})}filter(t){return new Ld(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return is})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){let n=this.iterator(),i=r,a=n.next();for(;!a.done;)i===void 0?i=a.value:i=t(i,a.value),a=n.next();return i}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){let i=t.next();if(i.done)return n;let a=this.recursiveReduce(t,r,n);return a===void 0?i.value:r(a,i.value)}find(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;){if(t(i.value))return n;i=r.next(),n++}return-1}includes(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new Ld(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}let{done:n,value:i}=this.nextFn(r.this);if(!n){let a=t(i);if(H2(a))r.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}}while(r.iterator);return is})}flat(t){if(t===void 0&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new Ld(()=>({this:r.startFn()}),n=>{do{if(n.iterator){let s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}let{done:i,value:a}=r.nextFn(n.this);if(!i)if(H2(a))n.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}while(n.iterator);return is})}head(){let t=this.iterator().next();if(!t.done)return t.value}tail(t=1){return new Ld(()=>{let r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new Ld(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?is:this.nextFn(r.state)))}distinct(t){let r=new Set;return this.filter(n=>{let i=t?t(n):n;return r.has(i)?!1:(r.add(i),!0)})}exclude(t,r){let n=new Set;for(let i of t){let a=r?r(i):i;n.add(a)}return this.filter(i=>{let a=r?r(i):i;return!n.has(a)})}},o(Ixe,"toString"),o(H2,"isIterable"),W2=new bl(()=>{},()=>is),is=Object.freeze({done:!0,value:void 0}),o(_i,"stream"),M0=class extends bl{static{o(this,"TreeStreamImpl")}constructor(e,t,r){super(()=>({iterators:r?.includeRoot?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1}),n=>{for(n.pruned&&(n.iterators.pop(),n.pruned=!1);n.iterators.length>0;){let i=n.iterators[n.iterators.length-1].next();if(i.done)n.iterators.pop();else return n.iterators.push(t(i.value)[Symbol.iterator]()),i}return is})}iterator(){let e={state:this.startFn(),next:o(()=>this.nextFn(e.state),"next"),prune:o(()=>{e.state.pruned=!0},"prune"),[Symbol.iterator]:()=>e};return e}},function(e){function t(a){return a.reduce((s,l)=>s+l,0)}o(t,"sum"),e.sum=t;function r(a){return a.reduce((s,l)=>s*l,0)}o(r,"product"),e.product=r;function n(a){return a.reduce((s,l)=>Math.min(s,l))}o(n,"min"),e.min=n;function i(a){return a.reduce((s,l)=>Math.max(s,l))}o(i,"max"),e.max=i}(V2||(V2={}))}),nD={};Nt(nD,{DefaultNameRegexp:()=>fw,RangeComparison:()=>cu,compareRange:()=>aD,findCommentNode:()=>oD,findDeclarationNodeAtOffset:()=>Dxe,findLeafNodeAtOffset:()=>gw,findLeafNodeBeforeOffset:()=>lD,flattenCst:()=>Mxe,getInteriorNodes:()=>Pxe,getNextNode:()=>Rxe,getPreviousNode:()=>uD,getStartlineNode:()=>Oxe,inRange:()=>sD,isChildNode:()=>iD,isCommentNode:()=>pw,streamCst:()=>mg,toDocumentSegment:()=>yg,tokenToRange:()=>X2});function mg(e){return new M0(e,t=>hc(t)?t.content:[],{includeRoot:!0})}function Mxe(e){return mg(e).filter(I0)}function iD(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function X2(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function yg(e){if(!e)return;let{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}function aD(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<e.start.character)return cu.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>t.end.character)return cu.After;let r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?cu.Inside:r?cu.OverlapBack:cu.OverlapFront}function sD(e,t){return aD(e,t)>cu.After}function Dxe(e,t,r=fw){if(e){if(t>0){let n=t-e.offset,i=e.text.charAt(n);r.test(i)||t--}return gw(e,t)}}function oD(e,t){if(e){let r=uD(e,!0);if(r&&pw(r,t))return r;if(hw(e)){let n=e.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){let a=e.content[i];if(pw(a,t))return a}}}}function pw(e,t){return I0(e)&&t.includes(e.tokenType.name)}function gw(e,t){if(I0(e))return e;if(hc(e)){let r=cD(e,t,!1);if(r)return gw(r,t)}}function lD(e,t){if(I0(e))return e;if(hc(e)){let r=cD(e,t,!0);if(r)return lD(r,t)}}function cD(e,t,r){let n=0,i=e.content.length-1,a;for(;n<=i;){let s=Math.floor((n+i)/2),l=e.content[s];if(l.offset<=t&&l.end>t)return l;l.end<=t?(a=r?l:void 0,n=s+1):i=s-1}return a}function uD(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e);for(;n>0;){n--;let i=r.content[n];if(t||!i.hidden)return i}e=r}}function Rxe(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e),i=r.content.length-1;for(;n<i;){n++;let a=r.content[n];if(t||!a.hidden)return a}e=r}}function Oxe(e){if(e.range.start.character===0)return e;let t=e.range.start.line,r=e,n;for(;e.container;){let i=e.container,a=n??i.content.indexOf(e);if(a===0?(e=i,n=void 0):(n=a-1,e=i.content[n]),e.range.start.line!==t)break;r=e}return r}function Pxe(e,t){let r=Bxe(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function Bxe(e,t){let r=hD(e),n=hD(t),i;for(let a=0;a<r.length&&a<n.length;a++){let s=r[a],l=n[a];if(s.parent===l.parent)i={parent:s.parent,a:s.index,b:l.index};else break}return i}function hD(e){let t=[];for(;e.container;){let r=e.container,n=r.content.indexOf(e);t.push({parent:r,index:n}),e=r}return t.reverse()}var cu,fw,dc=I(()=>{"use strict";vl(),to(),o(mg,"streamCst"),o(Mxe,"flattenCst"),o(iD,"isChildNode"),o(X2,"tokenToRange"),o(yg,"toDocumentSegment"),function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside"}(cu||(cu={})),o(aD,"compareRange"),o(sD,"inRange"),fw=/^[\w\p{L}]$/u,o(Dxe,"findDeclarationNodeAtOffset"),o(oD,"findCommentNode"),o(pw,"isCommentNode"),o(gw,"findLeafNodeAtOffset"),o(lD,"findLeafNodeBeforeOffset"),o(cD,"binarySearch"),o(uD,"getPreviousNode"),o(Rxe,"getNextNode"),o(Oxe,"getStartlineNode"),o(Pxe,"getInteriorNodes"),o(Bxe,"getCommonParent"),o(hD,"getParentChain")});function D0(e){throw new Error("Error! The input value was not handled.")}var K2,dD=I(()=>{"use strict";K2=class extends Error{static{o(this,"ErrorWithLocation")}constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}},o(D0,"assertUnreachable")}),$xe={};Nt($xe,{AbstractElement:()=>Ew,AbstractRule:()=>vg,AbstractType:()=>bg,Action:()=>jw,Alternatives:()=>Yw,ArrayLiteral:()=>_w,ArrayType:()=>Cw,Assignment:()=>Uw,BooleanLiteral:()=>Sw,CharacterRange:()=>Hw,Condition:()=>J2,Conjunction:()=>Aw,CrossReference:()=>Ww,Disjunction:()=>Lw,EndOfFile:()=>Vw,Grammar:()=>Nw,GrammarImport:()=>ID,Group:()=>Xw,InferredType:()=>Iw,Interface:()=>Mw,Keyword:()=>Kw,LangiumGrammarAstReflection:()=>s6,LangiumGrammarTerminals:()=>Jxe,NamedArgument:()=>MD,NegatedToken:()=>Zw,Negation:()=>Dw,NumberLiteral:()=>Rw,Parameter:()=>Ow,ParameterReference:()=>Pw,ParserRule:()=>Bw,ReferenceType:()=>$w,RegexToken:()=>Qw,ReturnType:()=>DD,RuleCall:()=>Jw,SimpleType:()=>Fw,StringLiteral:()=>zw,TerminalAlternatives:()=>e6,TerminalGroup:()=>t6,TerminalRule:()=>tv,TerminalRuleCall:()=>r6,Type:()=>Gw,TypeAttribute:()=>RD,TypeDefinition:()=>Tw,UnionType:()=>qw,UnorderedGroup:()=>n6,UntilToken:()=>i6,ValueLiteral:()=>ev,Wildcard:()=>a6,isAbstractElement:()=>mw,isAbstractRule:()=>Fxe,isAbstractType:()=>zxe,isAction:()=>Uh,isAlternatives:()=>xw,isArrayLiteral:()=>Uxe,isArrayType:()=>gD,isAssignment:()=>hu,isBooleanLiteral:()=>fD,isCharacterRange:()=>TD,isCondition:()=>Gxe,isConjunction:()=>mD,isCrossReference:()=>Q2,isDisjunction:()=>yD,isEndOfFile:()=>ED,isFeatureName:()=>qxe,isGrammar:()=>Hxe,isGrammarImport:()=>Wxe,isGroup:()=>R0,isInferredType:()=>yw,isInterface:()=>vw,isKeyword:()=>du,isNamedArgument:()=>Vxe,isNegatedToken:()=>_D,isNegation:()=>vD,isNumberLiteral:()=>Xxe,isParameter:()=>Kxe,isParameterReference:()=>bD,isParserRule:()=>Ns,isPrimitiveType:()=>pD,isReferenceType:()=>xD,isRegexToken:()=>CD,isReturnType:()=>kD,isRuleCall:()=>pu,isSimpleType:()=>bw,isStringLiteral:()=>Zxe,isTerminalAlternatives:()=>SD,isTerminalGroup:()=>AD,isTerminalRule:()=>uu,isTerminalRuleCall:()=>kw,isType:()=>Z2,isTypeAttribute:()=>Qxe,isTypeDefinition:()=>jxe,isUnionType:()=>wD,isUnorderedGroup:()=>ww,isUntilToken:()=>LD,isValueLiteral:()=>Yxe,isWildcard:()=>ND,reflection:()=>Cr});function Fxe(e){return Cr.isInstance(e,vg)}function zxe(e){return Cr.isInstance(e,bg)}function Gxe(e){return Cr.isInstance(e,J2)}function qxe(e){return pD(e)||e==="current"||e==="entry"||e==="extends"||e==="false"||e==="fragment"||e==="grammar"||e==="hidden"||e==="import"||e==="interface"||e==="returns"||e==="terminal"||e==="true"||e==="type"||e==="infer"||e==="infers"||e==="with"||typeof e=="string"&&/\^?[_a-zA-Z][\w_]*/.test(e)}function pD(e){return e==="string"||e==="number"||e==="boolean"||e==="Date"||e==="bigint"}function jxe(e){return Cr.isInstance(e,Tw)}function Yxe(e){return Cr.isInstance(e,ev)}function mw(e){return Cr.isInstance(e,Ew)}function Uxe(e){return Cr.isInstance(e,_w)}function gD(e){return Cr.isInstance(e,Cw)}function fD(e){return Cr.isInstance(e,Sw)}function mD(e){return Cr.isInstance(e,Aw)}function yD(e){return Cr.isInstance(e,Lw)}function Hxe(e){return Cr.isInstance(e,Nw)}function Wxe(e){return Cr.isInstance(e,ID)}function yw(e){return Cr.isInstance(e,Iw)}function vw(e){return Cr.isInstance(e,Mw)}function Vxe(e){return Cr.isInstance(e,MD)}function vD(e){return Cr.isInstance(e,Dw)}function Xxe(e){return Cr.isInstance(e,Rw)}function Kxe(e){return Cr.isInstance(e,Ow)}function bD(e){return Cr.isInstance(e,Pw)}function Ns(e){return Cr.isInstance(e,Bw)}function xD(e){return Cr.isInstance(e,$w)}function kD(e){return Cr.isInstance(e,DD)}function bw(e){return Cr.isInstance(e,Fw)}function Zxe(e){return Cr.isInstance(e,zw)}function uu(e){return Cr.isInstance(e,tv)}function Z2(e){return Cr.isInstance(e,Gw)}function Qxe(e){return Cr.isInstance(e,RD)}function wD(e){return Cr.isInstance(e,qw)}function Uh(e){return Cr.isInstance(e,jw)}function xw(e){return Cr.isInstance(e,Yw)}function hu(e){return Cr.isInstance(e,Uw)}function TD(e){return Cr.isInstance(e,Hw)}function Q2(e){return Cr.isInstance(e,Ww)}function ED(e){return Cr.isInstance(e,Vw)}function R0(e){return Cr.isInstance(e,Xw)}function du(e){return Cr.isInstance(e,Kw)}function _D(e){return Cr.isInstance(e,Zw)}function CD(e){return Cr.isInstance(e,Qw)}function pu(e){return Cr.isInstance(e,Jw)}function SD(e){return Cr.isInstance(e,e6)}function AD(e){return Cr.isInstance(e,t6)}function kw(e){return Cr.isInstance(e,r6)}function ww(e){return Cr.isInstance(e,n6)}function LD(e){return Cr.isInstance(e,i6)}function ND(e){return Cr.isInstance(e,a6)}var Jxe,vg,bg,J2,Tw,ev,Ew,_w,Cw,Sw,Aw,Lw,Nw,ID,Iw,Mw,MD,Dw,Rw,Ow,Pw,Bw,$w,DD,Fw,zw,tv,Gw,RD,qw,jw,Yw,Uw,Hw,Ww,Vw,Xw,Kw,Zw,Qw,Jw,e6,t6,r6,n6,i6,a6,s6,Cr,gu=I(()=>{"use strict";vl(),Jxe={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},vg="AbstractRule",o(Fxe,"isAbstractRule"),bg="AbstractType",o(zxe,"isAbstractType"),J2="Condition",o(Gxe,"isCondition"),o(qxe,"isFeatureName"),o(pD,"isPrimitiveType"),Tw="TypeDefinition",o(jxe,"isTypeDefinition"),ev="ValueLiteral",o(Yxe,"isValueLiteral"),Ew="AbstractElement",o(mw,"isAbstractElement"),_w="ArrayLiteral",o(Uxe,"isArrayLiteral"),Cw="ArrayType",o(gD,"isArrayType"),Sw="BooleanLiteral",o(fD,"isBooleanLiteral"),Aw="Conjunction",o(mD,"isConjunction"),Lw="Disjunction",o(yD,"isDisjunction"),Nw="Grammar",o(Hxe,"isGrammar"),ID="GrammarImport",o(Wxe,"isGrammarImport"),Iw="InferredType",o(yw,"isInferredType"),Mw="Interface",o(vw,"isInterface"),MD="NamedArgument",o(Vxe,"isNamedArgument"),Dw="Negation",o(vD,"isNegation"),Rw="NumberLiteral",o(Xxe,"isNumberLiteral"),Ow="Parameter",o(Kxe,"isParameter"),Pw="ParameterReference",o(bD,"isParameterReference"),Bw="ParserRule",o(Ns,"isParserRule"),$w="ReferenceType",o(xD,"isReferenceType"),DD="ReturnType",o(kD,"isReturnType"),Fw="SimpleType",o(bw,"isSimpleType"),zw="StringLiteral",o(Zxe,"isStringLiteral"),tv="TerminalRule",o(uu,"isTerminalRule"),Gw="Type",o(Z2,"isType"),RD="TypeAttribute",o(Qxe,"isTypeAttribute"),qw="UnionType",o(wD,"isUnionType"),jw="Action",o(Uh,"isAction"),Yw="Alternatives",o(xw,"isAlternatives"),Uw="Assignment",o(hu,"isAssignment"),Hw="CharacterRange",o(TD,"isCharacterRange"),Ww="CrossReference",o(Q2,"isCrossReference"),Vw="EndOfFile",o(ED,"isEndOfFile"),Xw="Group",o(R0,"isGroup"),Kw="Keyword",o(du,"isKeyword"),Zw="NegatedToken",o(_D,"isNegatedToken"),Qw="RegexToken",o(CD,"isRegexToken"),Jw="RuleCall",o(pu,"isRuleCall"),e6="TerminalAlternatives",o(SD,"isTerminalAlternatives"),t6="TerminalGroup",o(AD,"isTerminalGroup"),r6="TerminalRuleCall",o(kw,"isTerminalRuleCall"),n6="UnorderedGroup",o(ww,"isUnorderedGroup"),i6="UntilToken",o(LD,"isUntilToken"),a6="Wildcard",o(ND,"isWildcard"),s6=class extends dw{static{o(this,"LangiumGrammarAstReflection")}getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(e,t){switch(e){case jw:case Yw:case Uw:case Hw:case Ww:case Vw:case Xw:case Kw:case Zw:case Qw:case Jw:case e6:case t6:case r6:case n6:case i6:case a6:return this.isSubtype(Ew,t);case _w:case Rw:case zw:return this.isSubtype(ev,t);case Cw:case $w:case Fw:case qw:return this.isSubtype(Tw,t);case Sw:return this.isSubtype(J2,t)||this.isSubtype(ev,t);case Aw:case Lw:case Dw:case Pw:return this.isSubtype(J2,t);case Iw:case Mw:case Gw:return this.isSubtype(bg,t);case Bw:return this.isSubtype(vg,t)||this.isSubtype(bg,t);case tv:return this.isSubtype(vg,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return bg;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return vg;case"Grammar:usedGrammars":return Nw;case"NamedArgument:parameter":case"ParameterReference:parameter":return Ow;case"TerminalRuleCall:rule":return tv;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}},Cr=new s6}),OD={};Nt(OD,{assignMandatoryProperties:()=>BD,copyAstNode:()=>c6,findLocalReferences:()=>t4e,findRootNode:()=>PD,getContainerOfType:()=>xg,getDocument:()=>ro,hasContainerOfType:()=>e4e,linkContentToContainer:()=>o6,streamAllContents:()=>Hh,streamAst:()=>fu,streamContents:()=>rv,streamReferences:()=>nv});function o6(e){for(let[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{Ri(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=i)}):Ri(r)&&(r.$container=e,r.$containerProperty=t))}function xg(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function e4e(e,t){let r=e;for(;r;){if(t(r))return!0;r=r.$container}return!1}function ro(e){let t=PD(e).$document;if(!t)throw new Error("AST node has no document.");return t}function PD(e){for(;e.$container;)e=e.$container;return e}function rv(e,t){if(!e)throw new Error("Node must be an AstNode.");let r=t?.range;return new bl(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){let i=n.keys[n.keyIndex];if(!i.startsWith("$")){let a=e[i];if(Ri(a)){if(n.keyIndex++,l6(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;n.arrayIndex<a.length;){let s=n.arrayIndex++,l=a[s];if(Ri(l)&&l6(l,r))return{done:!1,value:l}}n.arrayIndex=0}}n.keyIndex++}return is})}function Hh(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new M0(e,r=>rv(r,t))}function fu(e,t){if(e){if(t?.range&&!l6(e,t.range))return new M0(e,()=>[])}else throw new Error("Root node must be an AstNode.");return new M0(e,r=>rv(r,t),{includeRoot:!0})}function l6(e,t){var r;if(!t)return!0;let n=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return n?sD(n,t):!1}function nv(e){return new bl(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){let r=t.keys[t.keyIndex];if(!r.startsWith("$")){let n=e[r];if(Ls(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){let i=t.arrayIndex++,a=n[i];if(Ls(a))return{done:!1,value:{reference:a,container:e,property:r,index:i}}}t.arrayIndex=0}}t.keyIndex++}return is})}function t4e(e,t=ro(e).parseResult.value){let r=[];return fu(t).forEach(n=>{nv(n).forEach(i=>{i.reference.ref===e&&r.push(i.reference)})}),_i(r)}function BD(e,t){let r=e.getTypeMetaData(t.$type),n=t;for(let i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=$D(i.defaultValue))}function $D(e){return Array.isArray(e)?[...e.map($D)]:e}function c6(e,t){let r={$type:e.$type};for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Ri(i))r[n]=c6(i,t);else if(Ls(i))r[n]=t(r,n,i.$refNode,i.$refText);else if(Array.isArray(i)){let a=[];for(let s of i)Ri(s)?a.push(c6(s,t)):Ls(s)?a.push(t(r,n,s.$refNode,s.$refText)):a.push(s);r[n]=a}else r[n]=i;return o6(r),r}var Is=I(()=>{"use strict";vl(),to(),dc(),o(o6,"linkContentToContainer"),o(xg,"getContainerOfType"),o(e4e,"hasContainerOfType"),o(ro,"getDocument"),o(PD,"findRootNode"),o(rv,"streamContents"),o(Hh,"streamAllContents"),o(fu,"streamAst"),o(l6,"isAstNodeInRange"),o(nv,"streamReferences"),o(t4e,"findLocalReferences"),o(BD,"assignMandatoryProperties"),o($D,"copyDefaultValue"),o(c6,"copyAstNode")});function Tr(e){return e.charCodeAt(0)}function u6(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function kg(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function O0(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function iv(){throw Error("Internal Error - Should never get here!")}function FD(e){return e.type==="Character"}var r4e=I(()=>{"use strict";o(Tr,"cc"),o(u6,"insertToSet"),o(kg,"addFlag"),o(O0,"ASSERT_EXISTS"),o(iv,"ASSERT_NEVER_REACH_HERE"),o(FD,"isCharacter")}),av,sv,zD,eQe=I(()=>{"use strict";r4e(),av=[];for(let e=Tr("0");e<=Tr("9");e++)av.push(e);sv=[Tr("_")].concat(av);for(let e=Tr("a");e<=Tr("z");e++)sv.push(e);for(let e=Tr("A");e<=Tr("Z");e++)sv.push(e);zD=[Tr(" "),Tr("\f"),Tr(`
`),Tr("\r"),Tr("	"),Tr("\v"),Tr("	"),Tr("\xA0"),Tr("\u1680"),Tr("\u2000"),Tr("\u2001"),Tr("\u2002"),Tr("\u2003"),Tr("\u2004"),Tr("\u2005"),Tr("\u2006"),Tr("\u2007"),Tr("\u2008"),Tr("\u2009"),Tr("\u200A"),Tr("\u2028"),Tr("\u2029"),Tr("\u202F"),Tr("\u205F"),Tr("\u3000"),Tr("\uFEFF")]}),n4e,ov,i4e,GD,tQe=I(()=>{"use strict";r4e(),eQe(),n4e=/[0-9a-fA-F]/,ov=/[0-9]/,i4e=/[1-9]/,GD=class{static{o(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let t=this.disjunction();this.consumeChar("/");let r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":kg(r,"global");break;case"i":kg(r,"ignoreCase");break;case"m":kg(r,"multiLine");break;case"u":kg(r,"unicode");break;case"y":kg(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){let e=[],t=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){let e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let t;switch(this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break}O0(t);let r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return iv()}quantifier(e=!1){let t,r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":let n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":let i;this.isDigit()?(i=this.integerIncludingZero(),t={atLeast:n,atMost:i}):t={atLeast:n,atMost:1/0},this.consumeChar("}");break}if(e===!0&&t===void 0)return;O0(t);break}if(!(e===!0&&t===void 0)&&O0(t))return this.peekChar(0)==="?"?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t}atom(){let e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),O0(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):iv()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Tr(`
`),Tr("\r"),Tr("\u2028"),Tr("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=av;break;case"D":e=av,t=!0;break;case"s":e=zD;break;case"S":e=zD,t=!0;break;case"w":e=sv;break;case"W":e=sv,t=!0;break}return O0(e)?{type:"Set",value:e,complement:t}:iv()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Tr("\f");break;case"n":e=Tr(`
`);break;case"r":e=Tr("\r");break;case"t":e=Tr("	");break;case"v":e=Tr("\v");break}return O0(e)?{type:"Character",value:e}:iv()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Tr("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let e=this.popChar();return{type:"Character",value:Tr(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let e=this.popChar();return{type:"Character",value:Tr(e)}}}characterClass(){let e=[],t=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),t=!0);this.isClassAtom();){let r=this.classAtom(),n=r.type==="Character";if(FD(r)&&this.isRangeDash()){this.consumeChar("-");let i=this.classAtom(),a=i.type==="Character";if(FD(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else u6(r.value,e),e.push(Tr("-")),u6(i.value,e)}else u6(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Tr("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}let t=this.disjunction();this.consumeChar(")");let r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(i4e.test(e)===!1)throw Error("Expecting a positive integer");for(;ov.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(ov.test(e)===!1)throw Error("Expecting an integer");for(;ov.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Tr(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return ov.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let r=0;r<e;r++){let n=this.popChar();if(n4e.test(n)===!1)throw Error("Expecting a HexDecimal digits");t+=n}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}}),lv,rQe=I(()=>{"use strict";lv=class{static{o(this,"BaseRegExpVisitor")}visitChildren(e){for(let t in e){let r=e[t];e.hasOwnProperty(t)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(n=>{this.visit(n)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}}),h6=I(()=>{"use strict";tQe(),rQe()}),qD={};Nt(qD,{NEWLINE_REGEXP:()=>WD,escapeRegExp:()=>wg,getCaseInsensitivePattern:()=>YD,getTerminalParts:()=>a4e,isMultilineComment:()=>jD,isWhitespace:()=>d6,partialMatches:()=>UD,partialRegExp:()=>HD});function a4e(e){try{typeof e!="string"&&(e=e.source),e=`/${e}/`;let t=VD.pattern(e),r=[];for(let n of t.value.value)Wh.reset(e),Wh.visit(n),r.push({start:Wh.startRegexp,end:Wh.endRegex});return r}catch{return[]}}function jD(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),Wh.reset(e),Wh.visit(VD.pattern(e)),Wh.multiline}catch{return!1}}function d6(e){return(typeof e=="string"?new RegExp(e):e).test(" ")}function wg(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function YD(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:wg(t)).join("")}function UD(e,t){let r=HD(e),n=t.match(r);return!!n&&n[0].length>0}function HD(e){typeof e=="string"&&(e=new RegExp(e));let t=e,r=e.source,n=0;function i(){let a="",s;function l(h){a+=r.substr(n,h),n+=h}o(l,"appendRaw");function u(h){a+="(?:"+r.substr(n,h)+"|$)",n+=h}for(o(u,"appendOptional");n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":u(3);break;case"x":u(4);break;case"u":t.unicode?r[n+2]==="{"?u(r.indexOf("}",n)-n+1):u(6):u(2);break;case"p":case"P":t.unicode?u(r.indexOf("}",n)-n+1):u(2);break;case"k":u(r.indexOf(">",n)-n+1);break;default:u(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=n,s=s.exec(r)||[],u(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":l(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=n,s=s.exec(r),s?l(s[0].length):u(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":s=n,n+=3,i(),a+=r.substr(s,n-s);break;case"<":switch(r[n+3]){case"=":case"!":s=n,n+=4,i(),a+=r.substr(s,n-s);break;default:l(r.indexOf(">",n)-n+1),a+=i()+"|$)";break}break}else l(1),a+=i()+"|$)";break;case")":return++n,a;default:u(1);break}return a}return o(i,"process"),new RegExp(i(),e.flags)}var WD,VD,s4e,Wh,cv=I(()=>{"use strict";h6(),WD=/\r?\n/gm,VD=new GD,s4e=class extends lv{static{o(this,"TerminalRegExpVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){let t=String.fromCharCode(e.value);if(!this.multiline&&t===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let r=wg(t);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitSet(e){if(!this.multiline){let t=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(t);this.multiline=!!`
`.match(r)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(t),this.isStarting&&(this.startRegexp+=t)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}},Wh=new s4e,o(a4e,"getTerminalParts"),o(jD,"isMultilineComment"),o(d6,"isWhitespace"),o(wg,"escapeRegExp"),o(YD,"getCaseInsensitivePattern"),o(UD,"partialMatches"),o(HD,"partialRegExp")}),XD={};Nt(XD,{findAssignment:()=>nR,findNameAssignment:()=>y6,findNodeForKeyword:()=>rR,findNodeForProperty:()=>g6,findNodesForKeyword:()=>o4e,findNodesForKeywordInternal:()=>m6,findNodesForProperty:()=>tR,getActionAtElement:()=>aR,getActionType:()=>oR,getAllReachableRules:()=>p6,getCrossReferenceTerminal:()=>JD,getEntryRule:()=>KD,getExplicitRuleType:()=>b6,getHiddenRules:()=>ZD,getRuleType:()=>lR,getTypeName:()=>Tg,isArrayCardinality:()=>c4e,isArrayOperator:()=>u4e,isCommentTerminal:()=>eR,isDataType:()=>h4e,isDataTypeRule:()=>uv,isOptionalCardinality:()=>l4e,terminalRegex:()=>hv});function KD(e){return e.rules.find(t=>Ns(t)&&t.entry)}function ZD(e){return e.rules.filter(t=>uu(t)&&t.hidden)}function p6(e,t){let r=new Set,n=KD(e);if(!n)return new Set(e.rules);let i=[n].concat(ZD(e));for(let s of i)QD(s,r,t);let a=new Set;for(let s of e.rules)(r.has(s.name)||uu(s)&&s.hidden)&&a.add(s);return a}function QD(e,t,r){t.add(e.name),Hh(e).forEach(n=>{if(pu(n)||r&&kw(n)){let i=n.rule.ref;i&&!t.has(i.name)&&QD(i,t,r)}})}function JD(e){if(e.terminal)return e.terminal;if(e.type.ref)return y6(e.type.ref)?.terminal}function eR(e){return e.hidden&&!hv(e).test(" ")}function tR(e,t){return!e||!t?[]:f6(e,t,e.astNode,!0)}function g6(e,t,r){if(!e||!t)return;let n=f6(e,t,e.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function f6(e,t,r,n){if(!n){let i=xg(e.grammarSource,hu);if(i&&i.feature===t)return[e]}return hc(e)&&e.astNode===r?e.content.flatMap(i=>f6(i,t,r,!1)):[]}function o4e(e,t){return e?m6(e,t,e?.astNode):[]}function rR(e,t,r){if(!e)return;let n=m6(e,t,e?.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function m6(e,t,r){if(e.astNode!==r)return[];if(du(e.grammarSource)&&e.grammarSource.value===t)return[e];let n=mg(e).iterator(),i,a=[];do if(i=n.next(),!i.done){let s=i.value;s.astNode===r?du(s.grammarSource)&&s.grammarSource.value===t&&a.push(s):n.prune()}while(!i.done);return a}function nR(e){var t;let r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){let n=xg(e.grammarSource,hu);if(n)return n;e=e.container}}function y6(e){let t=e;return yw(t)&&(Uh(t.$container)?t=t.$container.$container:Ns(t.$container)?t=t.$container:D0(t.$container)),iR(e,t,new Map)}function iR(e,t,r){var n;function i(a,s){let l;return xg(a,hu)||(l=iR(s,s,r)),r.set(e,l),l}if(o(i,"go"),r.has(e))return r.get(e);r.set(e,void 0);for(let a of Hh(t)){if(hu(a)&&a.feature.toLowerCase()==="name")return r.set(e,a),a;if(pu(a)&&Ns(a.rule.ref))return i(a,a.rule.ref);if(bw(a)&&!((n=a.typeRef)===null||n===void 0)&&n.ref)return i(a,a.typeRef.ref)}}function aR(e){let t=e.$container;if(R0(t)){let r=t.elements,n=r.indexOf(e);for(let i=n-1;i>=0;i--){let a=r[i];if(Uh(a))return a;{let s=Hh(r[i]).find(Uh);if(s)return s}}}if(mw(t))return aR(t)}function l4e(e,t){return e==="?"||e==="*"||R0(t)&&!!t.guardCondition}function c4e(e){return e==="*"||e==="+"}function u4e(e){return e==="+="}function uv(e){return sR(e,new Set)}function sR(e,t){if(t.has(e))return!0;t.add(e);for(let r of Hh(e))if(pu(r)){if(!r.rule.ref||Ns(r.rule.ref)&&!sR(r.rule.ref,t))return!1}else if(hu(r)||Uh(r))return!1;return!!e.definition}function h4e(e){return v6(e.type,new Set)}function v6(e,t){if(t.has(e))return!0;if(t.add(e),gD(e)||xD(e))return!1;if(wD(e))return e.types.every(r=>v6(r,t));if(bw(e)){if(e.primitiveType!==void 0||e.stringType!==void 0)return!0;if(e.typeRef!==void 0){let r=e.typeRef.ref;return Z2(r)?v6(r.type,t):!1}else return!1}else return!1}function b6(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t&&(Ns(t)||vw(t)||Z2(t)))return t.name}}function Tg(e){var t;if(Ns(e))return uv(e)?e.name:(t=b6(e))!==null&&t!==void 0?t:e.name;if(vw(e)||Z2(e)||kD(e))return e.name;if(Uh(e)){let r=oR(e);if(r)return r}else if(yw(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function oR(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return Tg(e.type.ref)}function lR(e){var t,r,n;return uu(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":uv(e)?e.name:(n=b6(e))!==null&&n!==void 0?n:e.name}function hv(e){let t={s:!1,i:!1,u:!1},r=P0(e.definition,t),n=Object.entries(t).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}function P0(e,t){if(SD(e))return d4e(e);if(AD(e))return p4e(e);if(TD(e))return m4e(e);if(kw(e)){let r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return pc(P0(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(_D(e))return f4e(e);if(LD(e))return g4e(e);if(CD(e)){let r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),i=e.regex.substring(r+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),pc(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(ND(e))return pc(k6,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e?.$type}`)}}}function d4e(e){return pc(e.elements.map(t=>P0(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function p4e(e){return pc(e.elements.map(t=>P0(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function g4e(e){return pc(`${k6}*?${P0(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function f4e(e){return pc(`(?!${P0(e.terminal)})${k6}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function m4e(e){return e.right?pc(`[${x6(e.left)}-${x6(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):pc(x6(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function x6(e){return wg(e.value)}function pc(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}var k6,gc=I(()=>{"use strict";dD(),gu(),vl(),Is(),dc(),cv(),o(KD,"getEntryRule"),o(ZD,"getHiddenRules"),o(p6,"getAllReachableRules"),o(QD,"ruleDfs"),o(JD,"getCrossReferenceTerminal"),o(eR,"isCommentTerminal"),o(tR,"findNodesForProperty"),o(g6,"findNodeForProperty"),o(f6,"findNodesForPropertyInternal"),o(o4e,"findNodesForKeyword"),o(rR,"findNodeForKeyword"),o(m6,"findNodesForKeywordInternal"),o(nR,"findAssignment"),o(y6,"findNameAssignment"),o(iR,"findNameAssignmentInternal"),o(aR,"getActionAtElement"),o(l4e,"isOptionalCardinality"),o(c4e,"isArrayCardinality"),o(u4e,"isArrayOperator"),o(uv,"isDataTypeRule"),o(sR,"isDataTypeRuleInternal"),o(h4e,"isDataType"),o(v6,"isDataTypeInternal"),o(b6,"getExplicitRuleType"),o(Tg,"getTypeName"),o(oR,"getActionType"),o(lR,"getRuleType"),o(hv,"terminalRegex"),k6=/[\s\S]/.source,o(P0,"abstractElementToRegex"),o(d4e,"terminalAlternativesToRegex"),o(p4e,"terminalGroupToRegex"),o(g4e,"untilTokenToRegex"),o(f4e,"negateTokenToRegex"),o(m4e,"characterRangeToRegex"),o(x6,"keywordToRegex"),o(pc,"withCardinality")});function cR(e){let t=[],r=e.Grammar;for(let n of r.rules)uu(n)&&eR(n)&&jD(hv(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:fw}}var y4e=I(()=>{"use strict";dc(),gc(),cv(),gu(),o(cR,"createGrammarConfig")}),v4e=I(()=>{"use strict"});function w6(e){console&&console.error&&console.error(`Error: ${e}`)}function uR(e){console&&console.warn&&console.warn(`Warning: ${e}`)}var nQe=I(()=>{"use strict";o(w6,"PRINT_ERROR"),o(uR,"PRINT_WARNING")});function hR(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}var iQe=I(()=>{"use strict";o(hR,"timer")});function dR(e){function t(){}o(t,"FakeConstructor"),t.prototype=e;let r=new t;function n(){return typeof r.bar}return o(n,"fakeAccess"),n(),n(),e}var aQe=I(()=>{"use strict";o(dR,"toFastProperties")}),dv=I(()=>{"use strict";nQe(),iQe(),aQe()});function b4e(e){return x4e(e)?e.LABEL:e.name}function x4e(e){return qa(e.LABEL)&&e.LABEL!==""}function k4e(e){return wt(e,pv)}function pv(e){function t(r){return wt(r,pv)}if(o(t,"convertDefinition"),e instanceof Ya){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return qa(e.label)&&(r.label=e.label),r}else{if(e instanceof as)return{type:"Alternative",definition:t(e.definition)};if(e instanceof oa)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Ms)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Ds)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:pv(new Gn({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof ss)return{type:"RepetitionWithSeparator",idx:e.idx,separator:pv(new Gn({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof si)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof os)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Gn){let r={type:"Terminal",name:e.terminalType.name,label:b4e(e.terminalType),idx:e.idx};qa(e.label)&&(r.terminalLabel=e.label);let n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=uc(n)?n.source:n),r}else{if(e instanceof B0)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}var xl,Ya,B0,as,oa,Ms,Ds,si,ss,os,Gn,pR=I(()=>{"use strict";nr(),o(b4e,"tokenLabel"),o(x4e,"hasTokenLabel"),xl=class{static{o(this,"AbstractProduction")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Be(this.definition,t=>{t.accept(e)})}},Ya=class extends xl{static{o(this,"NonTerminal")}constructor(e){super([]),this.idx=1,Cs(this,Do(e,t=>t!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}},B0=class extends xl{static{o(this,"Rule")}constructor(e){super(e.definition),this.orgText="",Cs(this,Do(e,t=>t!==void 0))}},as=class extends xl{static{o(this,"Alternative")}constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Cs(this,Do(e,t=>t!==void 0))}},oa=class extends xl{static{o(this,"Option")}constructor(e){super(e.definition),this.idx=1,Cs(this,Do(e,t=>t!==void 0))}},Ms=class extends xl{static{o(this,"RepetitionMandatory")}constructor(e){super(e.definition),this.idx=1,Cs(this,Do(e,t=>t!==void 0))}},Ds=class extends xl{static{o(this,"RepetitionMandatoryWithSeparator")}constructor(e){super(e.definition),this.idx=1,Cs(this,Do(e,t=>t!==void 0))}},si=class extends xl{static{o(this,"Repetition")}constructor(e){super(e.definition),this.idx=1,Cs(this,Do(e,t=>t!==void 0))}},ss=class extends xl{static{o(this,"RepetitionWithSeparator")}constructor(e){super(e.definition),this.idx=1,Cs(this,Do(e,t=>t!==void 0))}},os=class extends xl{static{o(this,"Alternation")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Cs(this,Do(e,t=>t!==void 0))}},Gn=class{static{o(this,"Terminal")}constructor(e){this.idx=1,Cs(this,Do(e,t=>t!==void 0))}accept(e){e.visit(this)}},o(k4e,"serializeGrammar"),o(pv,"serializeProduction")}),$0,sQe=I(()=>{"use strict";pR(),$0=class{static{o(this,"GAstVisitor")}visit(e){let t=e;switch(t.constructor){case Ya:return this.visitNonTerminal(t);case as:return this.visitAlternative(t);case oa:return this.visitOption(t);case Ms:return this.visitRepetitionMandatory(t);case Ds:return this.visitRepetitionMandatoryWithSeparator(t);case ss:return this.visitRepetitionWithSeparator(t);case si:return this.visitRepetition(t);case os:return this.visitAlternation(t);case Gn:return this.visitTerminal(t);case B0:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}});function w4e(e){return e instanceof as||e instanceof oa||e instanceof si||e instanceof Ms||e instanceof Ds||e instanceof ss||e instanceof Gn||e instanceof B0}function gv(e,t=[]){return e instanceof oa||e instanceof si||e instanceof ss?!0:e instanceof os?uM(e.definition,r=>gv(r,t)):e instanceof Ya&&ja(t,e)?!1:e instanceof xl?(e instanceof Ya&&t.push(e),Io(e.definition,r=>gv(r,t))):!1}function T4e(e){return e instanceof os}function kl(e){if(e instanceof Ya)return"SUBRULE";if(e instanceof oa)return"OPTION";if(e instanceof os)return"OR";if(e instanceof Ms)return"AT_LEAST_ONE";if(e instanceof Ds)return"AT_LEAST_ONE_SEP";if(e instanceof ss)return"MANY_SEP";if(e instanceof si)return"MANY";if(e instanceof Gn)return"CONSUME";throw Error("non exhaustive match")}var oQe=I(()=>{"use strict";nr(),pR(),o(w4e,"isSequenceProd"),o(gv,"isOptionalProd"),o(T4e,"isBranchingProd"),o(kl,"getProductionDslName")}),Rs=I(()=>{"use strict";pR(),sQe(),oQe()});function gR(e,t,r){return[new oa({definition:[new Gn({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}var fv,fR=I(()=>{"use strict";nr(),Rs(),fv=class{static{o(this,"RestWalker")}walk(e,t=[]){Be(e.definition,(r,n)=>{let i=aa(e.definition,n+1);if(r instanceof Ya)this.walkProdRef(r,i,t);else if(r instanceof Gn)this.walkTerminal(r,i,t);else if(r instanceof as)this.walkFlat(r,i,t);else if(r instanceof oa)this.walkOption(r,i,t);else if(r instanceof Ms)this.walkAtLeastOne(r,i,t);else if(r instanceof Ds)this.walkAtLeastOneSep(r,i,t);else if(r instanceof ss)this.walkManySep(r,i,t);else if(r instanceof si)this.walkMany(r,i,t);else if(r instanceof os)this.walkOr(r,i,t);else throw Error("non exhaustive match")})}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){let n=t.concat(r);this.walk(e,n)}walkOption(e,t,r){let n=t.concat(r);this.walk(e,n)}walkAtLeastOne(e,t,r){let n=[new oa({definition:e.definition})].concat(t,r);this.walk(e,n)}walkAtLeastOneSep(e,t,r){let n=gR(e,t,r);this.walk(e,n)}walkMany(e,t,r){let n=[new oa({definition:e.definition})].concat(t,r);this.walk(e,n)}walkManySep(e,t,r){let n=gR(e,t,r);this.walk(e,n)}walkOr(e,t,r){let n=t.concat(r);Be(e.definition,i=>{let a=new as({definition:[i]});this.walk(a,n)})}},o(gR,"restForRepetitionWithSeparator")});function Eg(e){if(e instanceof Ya)return Eg(e.referencedRule);if(e instanceof Gn)return C4e(e);if(w4e(e))return E4e(e);if(T4e(e))return _4e(e);throw Error("non exhaustive match")}function E4e(e){let t=[],r=e.definition,n=0,i=r.length>n,a,s=!0;for(;i&&s;)a=r[n],s=gv(a),t=t.concat(Eg(a)),n=n+1,i=r.length>n;return Yk(t)}function _4e(e){let t=wt(e.definition,r=>Eg(r));return Yk(Vi(t))}function C4e(e){return[e.terminalType]}var S4e=I(()=>{"use strict";nr(),Rs(),o(Eg,"first"),o(E4e,"firstForSequence"),o(_4e,"firstForBranching"),o(C4e,"firstForTerminal")}),mR,A4e=I(()=>{"use strict";mR="_~IN~_"});function L4e(e){let t={};return Be(e,r=>{let n=new I4e(r).startWalking();Cs(t,n)}),t}function N4e(e,t){return e.name+t+mR}var I4e,lQe=I(()=>{"use strict";fR(),S4e(),nr(),A4e(),Rs(),I4e=class extends fv{static{o(this,"ResyncFollowsWalker")}constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){let n=N4e(e.referencedRule,e.idx)+this.topProd.name,i=t.concat(r),a=new as({definition:i}),s=Eg(a);this.follows[n]=s}},o(L4e,"computeAllProdsFollows"),o(N4e,"buildBetweenProdsFollowPrefix")});function mv(e){let t=e.toString();if(yv.hasOwnProperty(t))return yv[t];{let r=D4e.pattern(t);return yv[t]=r,r}}function M4e(){yv={}}var yv,D4e,yR=I(()=>{"use strict";h6(),yv={},D4e=new GD,o(mv,"getRegExpAst"),o(M4e,"clearRegExpParserCache")});function R4e(e,t=!1){try{let r=mv(e);return T6(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===bR)t&&uR(`${bv}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),w6(`${bv}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function T6(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)T6(e.value[i],t,r);break;case"Alternative":let n=e.value;for(let i=0;i<n.length;i++){let a=n[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let s=a;switch(s.type){case"Character":vv(s.value,t,r);break;case"Set":if(s.complement===!0)throw Error(bR);Be(s.value,u=>{if(typeof u=="number")vv(u,t,r);else{let h=u;if(r===!0)for(let d=h.from;d<=h.to;d++)vv(d,t,r);else{for(let d=h.from;d<=h.to&&d<Cg;d++)vv(d,t,r);if(h.to>=Cg){let d=h.from>=Cg?h.from:Cg,p=h.to,f=mu(d),g=mu(p);for(let m=f;m<=g;m++)t[m]=m}}}});break;case"Group":T6(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}let l=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&E6(s)===!1||s.type!=="Group"&&l===!1)break}break;default:throw Error("non exhaustive match!")}return Cn(t)}function vv(e,t,r){let n=mu(e);t[n]=n,r===!0&&O4e(e,t)}function O4e(e,t){let r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){let i=mu(n.charCodeAt(0));t[i]=i}else{let i=r.toLowerCase();if(i!==r){let a=mu(i.charCodeAt(0));t[a]=a}}}function vR(e,t){return cc(e.value,r=>{if(typeof r=="number")return ja(t,r);{let n=r;return cc(t,i=>n.from<=i&&i<=n.to)!==void 0}})}function E6(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?jr(e.value)?Io(e.value,E6):E6(e.value):!1}function _6(e,t){if(t instanceof RegExp){let r=mv(t),n=new P4e(e);return n.visit(r),n.found}else return cc(t,r=>ja(e,r.charCodeAt(0)))!==void 0}var bR,bv,P4e,cQe=I(()=>{"use strict";h6(),nr(),dv(),yR(),o3e(),bR="Complement Sets are not supported for first char optimization",bv=`Unable to use "first char" lexer optimizations:
`,o(R4e,"getOptimizedStartCodesIndices"),o(T6,"firstCharOptimizedIndices"),o(vv,"addOptimizedIdxToResult"),o(O4e,"handleIgnoreCase"),o(vR,"findCode"),o(E6,"isWholeOptional"),P4e=class extends lv{static{o(this,"CharCodeFinder")}constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){ja(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?vR(e,this.targetCharCodes)===void 0&&(this.found=!0):vR(e,this.targetCharCodes)!==void 0&&(this.found=!0)}},o(_6,"canMatchCharCode")});function B4e(e,t){t=P2(t,{useSticky:_R,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:o((x,k)=>k(),"tracer")});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{n3e()});let n;r("Reject Lexer.NA",()=>{n=G2(e,x=>x[Vh]===ls.NA)});let i=!1,a;r("Transform Patterns",()=>{i=!1,a=wt(n,x=>{let k=x[Vh];if(uc(k)){let w=k.source;return w.length===1&&w!=="^"&&w!=="$"&&w!=="."&&!k.ignoreCase?w:w.length===2&&w[0]==="\\"&&!ja(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],w[1])?w[1]:t.useSticky?kR(k):xR(k)}else{if(Xs(k))return i=!0,{exec:k};if(typeof k=="object")return i=!0,k;if(typeof k=="string"){if(k.length===1)return k;{let w=k.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),_=new RegExp(w);return t.useSticky?kR(_):xR(_)}}else throw Error("non exhaustive match")}})});let s,l,u,h,d;r("misc mapping",()=>{s=wt(n,x=>x.tokenTypeIdx),l=wt(n,x=>{let k=x.GROUP;if(k!==ls.SKIPPED){if(qa(k))return k;if(mn(k))return!1;throw Error("non exhaustive match")}}),u=wt(n,x=>{let k=x.LONGER_ALT;if(k)return jr(k)?wt(k,w=>ZI(n,w)):[ZI(n,k)]}),h=wt(n,x=>x.PUSH_MODE),d=wt(n,x=>gr(x,"POP_MODE"))});let p;r("Line Terminator Handling",()=>{let x=ER(t.lineTerminatorCharacters);p=wt(n,k=>!1),t.positionTracking!=="onlyOffset"&&(p=wt(n,k=>gr(k,"LINE_BREAKS")?!!k.LINE_BREAKS:TR(k,x)===!1&&_6(x,k.PATTERN)))});let f,g,m,y;r("Misc Mapping #2",()=>{f=wt(n,wR),g=wt(a,t3e),m=Ei(n,(x,k)=>{let w=k.GROUP;return qa(w)&&w!==ls.SKIPPED&&(x[w]=[]),x},{}),y=wt(a,(x,k)=>({pattern:a[k],longerAlt:u[k],canLineTerminator:p[k],isCustom:f[k],short:g[k],group:l[k],push:h[k],pop:d[k],tokenTypeIdx:s[k],tokenType:n[k]}))});let b=!0,v=[];return t.safeMode||r("First Char Optimization",()=>{v=Ei(n,(x,k,w)=>{if(typeof k.PATTERN=="string"){let _=k.PATTERN.charCodeAt(0),S=mu(_);C6(x,S,y[w])}else if(jr(k.START_CHARS_HINT)){let _;Be(k.START_CHARS_HINT,S=>{let C=typeof S=="string"?S.charCodeAt(0):S,T=mu(C);_!==T&&(_=T,C6(x,T,y[w]))})}else if(uc(k.PATTERN))if(k.PATTERN.unicode)b=!1,t.ensureOptimizations&&w6(`${bv}	Unable to analyze < ${k.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let _=R4e(k.PATTERN,t.ensureOptimizations);un(_)&&(b=!1),Be(_,S=>{C6(x,S,y[w])})}else t.ensureOptimizations&&w6(`${bv}	TokenType: <${k.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),b=!1;return x},[])}),{emptyGroups:m,patternIdxToConfig:y,charCodeToPatternIdxToConfig:v,hasCustom:i,canBeOptimized:b}}function $4e(e,t){let r=[],n=z4e(e);r=r.concat(n.errors);let i=G4e(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(F4e(a)),r=r.concat(W4e(a)),r=r.concat(V4e(a,t)),r=r.concat(X4e(a)),r}function F4e(e){let t=[],r=ai(e,n=>uc(n[Vh]));return t=t.concat(q4e(r)),t=t.concat(Y4e(r)),t=t.concat(U4e(r)),t=t.concat(H4e(r)),t=t.concat(j4e(r)),t}function z4e(e){let t=ai(e,i=>!gr(i,Vh)),r=wt(t,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:mi.MISSING_PATTERN,tokenTypes:[i]})),n=B2(e,t);return{errors:r,valid:n}}function G4e(e){let t=ai(e,i=>{let a=i[Vh];return!uc(a)&&!Xs(a)&&!gr(a,"exec")&&!qa(a)}),r=wt(t,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:mi.INVALID_PATTERN,tokenTypes:[i]})),n=B2(e,t);return{errors:r,valid:n}}function q4e(e){class t extends lv{static{o(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(i){this.found=!0}}let r=ai(e,n=>{let i=n.PATTERN;try{let a=mv(i),s=new t;return s.visit(a),s.found}catch{return i3e.test(i.source)}});return wt(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:mi.EOI_ANCHOR_FOUND,tokenTypes:[n]}))}function j4e(e){let t=ai(e,r=>r.PATTERN.test(""));return wt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:mi.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}function Y4e(e){class t extends lv{static{o(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(i){this.found=!0}}let r=ai(e,n=>{let i=n.PATTERN;try{let a=mv(i),s=new t;return s.visit(a),s.found}catch{return a3e.test(i.source)}});return wt(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:mi.SOI_ANCHOR_FOUND,tokenTypes:[n]}))}function U4e(e){let t=ai(e,r=>{let n=r[Vh];return n instanceof RegExp&&(n.multiline||n.global)});return wt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:mi.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function H4e(e){let t=[],r=wt(e,i=>Ei(e,(a,s)=>(i.PATTERN.source===s.PATTERN.source&&!ja(t,s)&&s.PATTERN!==ls.NA&&(t.push(s),a.push(s)),a),[]));r=og(r);let n=ai(r,i=>i.length>1);return wt(n,i=>{let a=wt(i,s=>s.name);return{message:`The same RegExp pattern ->${Mo(i).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:mi.DUPLICATE_PATTERNS_FOUND,tokenTypes:i}})}function W4e(e){let t=ai(e,r=>{if(!gr(r,"GROUP"))return!1;let n=r.GROUP;return n!==ls.SKIPPED&&n!==ls.NA&&!qa(n)});return wt(t,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:mi.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function V4e(e,t){let r=ai(e,n=>n.PUSH_MODE!==void 0&&!ja(t,n.PUSH_MODE));return wt(r,n=>({message:`Token Type: ->${n.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${n.PUSH_MODE}<-which does not exist`,type:mi.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[n]}))}function X4e(e){let t=[],r=Ei(e,(n,i,a)=>{let s=i.PATTERN;return s===ls.NA||(qa(s)?n.push({str:s,idx:a,tokenType:i}):uc(s)&&Z4e(s)&&n.push({str:s.source,idx:a,tokenType:i})),n},[]);return Be(e,(n,i)=>{Be(r,({str:a,idx:s,tokenType:l})=>{if(i<s&&K4e(a,n.PATTERN)){let u=`Token: ->${l.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:u,type:mi.UNREACHABLE_PATTERN,tokenTypes:[n,l]})}})}),t}function K4e(e,t){if(uc(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(Xs(t))return t(e,0,[],{});if(gr(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function Z4e(e){return cc([".","\\","[","]","|","^","$","(",")","?","*","+","{"],t=>e.source.indexOf(t)!==-1)===void 0}function xR(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function kR(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function Q4e(e,t,r){let n=[];return gr(e,_g)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+_g+`> property in its definition
`,type:mi.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),gr(e,xv)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+xv+`> property in its definition
`,type:mi.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),gr(e,xv)&&gr(e,_g)&&!gr(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${_g}: <${e.defaultMode}>which does not exist
`,type:mi.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),gr(e,xv)&&Be(e.modes,(i,a)=>{Be(i,(s,l)=>{if(mn(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${l}>
`,type:mi.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(gr(s,"LONGER_ALT")){let u=jr(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];Be(u,h=>{!mn(h)&&!ja(i,h)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${h.name}> on token <${s.name}> outside of mode <${a}>
`,type:mi.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function J4e(e,t,r){let n=[],i=!1,a=og(Vi(Cn(e.modes))),s=G2(a,u=>u[Vh]===ls.NA),l=ER(r);return t&&Be(s,u=>{let h=TR(u,l);if(h!==!1){let d={message:r3e(u,h),type:h.issue,tokenType:u};n.push(d)}else gr(u,"LINE_BREAKS")?u.LINE_BREAKS===!0&&(i=!0):_6(l,u.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:mi.NO_LINE_BREAKS_FLAGS}),n}function e3e(e){let t={},r=Ii(e);return Be(r,n=>{let i=e[n];if(jr(i))t[n]=[];else throw Error("non exhaustive match")}),t}function wR(e){let t=e.PATTERN;if(uc(t))return!1;if(Xs(t)||gr(t,"exec"))return!0;if(qa(t))return!1;throw Error("non exhaustive match")}function t3e(e){return qa(e)&&e.length===1?e.charCodeAt(0):!1}function TR(e,t){if(gr(e,"LINE_BREAKS"))return!1;if(uc(e.PATTERN)){try{_6(t,e.PATTERN)}catch(r){return{issue:mi.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(qa(e.PATTERN))return!1;if(wR(e))return{issue:mi.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function r3e(e,t){if(t.issue===mi.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===mi.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function ER(e){return wt(e,t=>qa(t)?t.charCodeAt(0):t)}function C6(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function mu(e){return e<Cg?e:kv[e]}function n3e(){if(un(kv)){kv=new Array(65536);for(let e=0;e<65536;e++)kv[e]=e>255?255+~~(e/255):e}}var Vh,_g,xv,_R,i3e,a3e,s3e,Cg,kv,o3e=I(()=>{"use strict";h6(),S6(),nr(),dv(),cQe(),yR(),Vh="PATTERN",_g="defaultMode",xv="modes",_R=typeof new RegExp("(?:)").sticky=="boolean",o(B4e,"analyzeTokenTypes"),o($4e,"validatePatterns"),o(F4e,"validateRegExpPattern"),o(z4e,"findMissingPatterns"),o(G4e,"findInvalidPatterns"),i3e=/[^\\][$]/,o(q4e,"findEndOfInputAnchor"),o(j4e,"findEmptyMatchRegExps"),a3e=/[^\\[][\^]|^\^/,o(Y4e,"findStartOfInputAnchor"),o(U4e,"findUnsupportedFlags"),o(H4e,"findDuplicatePatterns"),o(W4e,"findInvalidGroupType"),o(V4e,"findModesThatDoNotExist"),o(X4e,"findUnreachablePatterns"),o(K4e,"testTokenType"),o(Z4e,"noMetaChar"),o(xR,"addStartOfInput"),o(kR,"addStickyFlag"),o(Q4e,"performRuntimeChecks"),o(J4e,"performWarningRuntimeChecks"),o(e3e,"cloneEmptyGroups"),o(wR,"isCustomPattern"),o(t3e,"isShortPattern"),s3e={test:o(function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},"test"),lastIndex:0},o(TR,"checkLineBreaksIssues"),o(r3e,"buildLineBreakIssueMessage"),o(ER,"getCharCodes"),o(C6,"addToMapOfArrays"),Cg=256,kv=[],o(mu,"charCodeToOptimizedIndex"),o(n3e,"initCharCodeToOptimizedIndexMap")});function Sg(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function wv(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}function Ag(e){let t=l3e(e);c3e(t),h3e(t),u3e(t),Be(t,r=>{r.isParent=r.categoryMatches.length>0})}function l3e(e){let t=Mi(e),r=e,n=!0;for(;n;){r=og(Vi(wt(r,a=>a.CATEGORIES)));let i=B2(r,t);t=t.concat(i),un(i)?n=!1:r=i}return t}function c3e(e){Be(e,t=>{SR(t)||(NR[LR]=t,t.tokenTypeIdx=LR++),AR(t)&&!jr(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),AR(t)||(t.CATEGORIES=[]),d3e(t)||(t.categoryMatches=[]),p3e(t)||(t.categoryMatchesMap={})})}function u3e(e){Be(e,t=>{t.categoryMatches=[],Be(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(NR[n].tokenTypeIdx)})})}function h3e(e){Be(e,t=>{CR([],t)})}function CR(e,t){Be(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),Be(t.CATEGORIES,r=>{let n=e.concat(t);ja(n,r)||CR(n,r)})}function SR(e){return gr(e,"tokenTypeIdx")}function AR(e){return gr(e,"CATEGORIES")}function d3e(e){return gr(e,"categoryMatches")}function p3e(e){return gr(e,"categoryMatchesMap")}function g3e(e){return gr(e,"tokenTypeIdx")}var LR,NR,Lg=I(()=>{"use strict";nr(),o(Sg,"tokenStructuredMatcher"),o(wv,"tokenStructuredMatcherNoCategories"),LR=1,NR={},o(Ag,"augmentTokenTypes"),o(l3e,"expandCategories"),o(c3e,"assignTokenDefaultProps"),o(u3e,"assignCategoriesTokensProp"),o(h3e,"assignCategoriesMapProp"),o(CR,"singleAssignCategoriesToksMap"),o(SR,"hasShortKeyProperty"),o(AR,"hasCategoriesProperty"),o(d3e,"hasExtendingTokensTypesProperty"),o(p3e,"hasExtendingTokensTypesMapProperty"),o(g3e,"isTokenType")}),f3e,m3e=I(()=>{"use strict";f3e={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}}}),mi,Ng,ls,S6=I(()=>{"use strict";o3e(),nr(),dv(),Lg(),m3e(),yR(),function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(mi||(mi={})),Ng={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:f3e,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0},Object.freeze(Ng),ls=class{static{o(this,"Lexer")}constructor(e,t=Ng){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(n,i)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${n}>`);let{time:s,value:l}=hR(i),u=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${a}<-- <${n}> time: ${s}ms`),this.traceInitIndent--,l}else return i()},typeof t=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Cs({},Ng,t);let r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let n,i=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Ng.lineTerminatorsPattern)this.config.lineTerminatorsPattern=s3e;else if(this.config.lineTerminatorCharacters===Ng.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),jr(e)?n={modes:{defaultMode:Mi(e)},defaultMode:_g}:(i=!1,n=Mi(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Q4e(n,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(J4e(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),n.modes=n.modes?n.modes:{},Be(n.modes,(s,l)=>{n.modes[l]=G2(s,u=>mn(u))});let a=Ii(n.modes);if(Be(n.modes,(s,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat($4e(s,a))}),un(this.lexerDefinitionErrors)){Ag(s);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=B4e(s,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Cs({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=n.defaultMode,!un(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let s=wt(this.lexerDefinitionErrors,l=>l.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+s)}Be(this.lexerDefinitionWarning,s=>{uR(s.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(_R?(this.chopInput=nc,this.match=this.matchWithTest):(this.updateLastIndex=Ni,this.match=this.matchWithExec),i&&(this.handleModes=Ni),this.trackStartLines===!1&&(this.computeNewColumn=nc),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ni),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let s=Ei(this.canModeBeOptimized,(l,u,h)=>(u===!1&&l.push(h),l),[]);if(t.ensureOptimizations&&!un(s))throw Error(`Lexer Modes: < ${s.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{M4e()}),this.TRACE_INIT("toFastProperties",()=>{dR(this)})})}tokenize(e,t=this.defaultMode){if(!un(this.lexerDefinitionErrors)){let r=wt(this.lexerDefinitionErrors,n=>n.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let r,n,i,a,s,l,u,h,d,p,f,g,m,y,b,v,x=e,k=x.length,w=0,_=0,S=this.hasCustom?0:Math.floor(e.length/10),C=new Array(S),T=[],N=this.trackStartLines?1:void 0,D=this.trackStartLines?1:void 0,M=e3e(this.emptyGroups),L=this.trackStartLines,B=this.config.lineTerminatorsPattern,E=0,R=[],O=[],P=[],A=[];Object.freeze(A);let $;function F(){return R}o(F,"getPossiblePatternsSlow");function G(te){let se=mu(te),Y=O[se];return Y===void 0?A:Y}o(G,"getPossiblePatternsOptimized");let q=o(te=>{if(P.length===1&&te.tokenType.PUSH_MODE===void 0){let se=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(te);T.push({offset:te.startOffset,line:te.startLine,column:te.startColumn,length:te.image.length,message:se})}else{P.pop();let se=ml(P);R=this.patternIdxToConfig[se],O=this.charCodeToPatternIdxToConfig[se],E=R.length;let Y=this.canModeBeOptimized[se]&&this.config.safeMode===!1;O&&Y?$=G:$=F}},"pop_mode");function W(te){P.push(te),O=this.charCodeToPatternIdxToConfig[te],R=this.patternIdxToConfig[te],E=R.length,E=R.length;let se=this.canModeBeOptimized[te]&&this.config.safeMode===!1;O&&se?$=G:$=F}o(W,"push_mode"),W.call(this,t);let re,oe=this.config.recoveryEnabled;for(;w<k;){l=null;let te=x.charCodeAt(w),se=$(te),Y=se.length;for(r=0;r<Y;r++){re=se[r];let V=re.pattern;u=null;let U=re.short;if(U!==!1?te===U&&(l=V):re.isCustom===!0?(v=V.exec(x,w,C,M),v!==null?(l=v[0],v.payload!==void 0&&(u=v.payload)):l=null):(this.updateLastIndex(V,w),l=this.match(V,e,w)),l!==null){if(s=re.longerAlt,s!==void 0){let ne=s.length;for(i=0;i<ne;i++){let K=R[s[i]],fe=K.pattern;if(h=null,K.isCustom===!0?(v=fe.exec(x,w,C,M),v!==null?(a=v[0],v.payload!==void 0&&(h=v.payload)):a=null):(this.updateLastIndex(fe,w),a=this.match(fe,e,w)),a&&a.length>l.length){l=a,u=h,re=K;break}}}break}}if(l!==null){if(d=l.length,p=re.group,p!==void 0&&(f=re.tokenTypeIdx,g=this.createTokenInstance(l,w,f,re.tokenType,N,D,d),this.handlePayload(g,u),p===!1?_=this.addToken(C,_,g):M[p].push(g)),e=this.chopInput(e,d),w=w+d,D=this.computeNewColumn(D,d),L===!0&&re.canLineTerminator===!0){let V=0,U,ne;B.lastIndex=0;do U=B.test(l),U===!0&&(ne=B.lastIndex-1,V++);while(U===!0);V!==0&&(N=N+V,D=d-ne,this.updateTokenEndLineColumnLocation(g,p,ne,V,N,D,d))}this.handleModes(re,q,W,g)}else{let V=w,U=N,ne=D,K=oe===!1;for(;K===!1&&w<k;)for(e=this.chopInput(e,1),w++,n=0;n<E;n++){let fe=R[n],Q=fe.pattern,Te=fe.short;if(Te!==!1?x.charCodeAt(w)===Te&&(K=!0):fe.isCustom===!0?K=Q.exec(x,w,C,M)!==null:(this.updateLastIndex(Q,w),K=Q.exec(e)!==null),K===!0)break}if(m=w-V,D=this.computeNewColumn(D,m),b=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,V,m,U,ne),T.push({offset:V,line:U,column:ne,length:m,message:b}),oe===!1)break}}return this.hasCustom||(C.length=_),{tokens:C,groups:M,errors:T}}handleModes(e,t,r,n){if(e.pop===!0){let i=e.push;t(n),i!==void 0&&r.call(this,i)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,n,i,a,s){let l,u;t!==void 0&&(l=r===s-1,u=l?-1:0,n===1&&l===!0||(e.endLine=i+u,e.endColumn=a-1+-u))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,n){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:n}}createStartOnlyToken(e,t,r,n,i,a){return{image:e,startOffset:t,startLine:i,startColumn:a,tokenTypeIdx:r,tokenType:n}}createFullToken(e,t,r,n,i,a,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:a,endColumn:a+s-1,tokenTypeIdx:r,tokenType:n}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,t++,t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){t!==null&&(e.payload=t)}matchWithTest(e,t,r){return e.test(t)===!0?t.substring(r,e.lastIndex):null}matchWithExec(e,t){let r=e.exec(t);return r!==null?r[0]:null}},ls.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",ls.NA=/NOT_APPLICABLE/});function F0(e){return IR(e)?e.LABEL:e.name}function IR(e){return qa(e.LABEL)&&e.LABEL!==""}function MR(e){return y3e(e)}function y3e(e){let t=e.pattern,r={};if(r.name=e.name,mn(t)||(r.PATTERN=t),gr(e,v3e))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return gr(e,RR)&&(r.CATEGORIES=e[RR]),Ag([r]),gr(e,OR)&&(r.LABEL=e[OR]),gr(e,PR)&&(r.GROUP=e[PR]),gr(e,$R)&&(r.POP_MODE=e[$R]),gr(e,BR)&&(r.PUSH_MODE=e[BR]),gr(e,FR)&&(r.LONGER_ALT=e[FR]),gr(e,zR)&&(r.LINE_BREAKS=e[zR]),gr(e,GR)&&(r.START_CHARS_HINT=e[GR]),r}function A6(e,t,r,n,i,a,s,l){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:s,endColumn:l,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function DR(e,t){return Sg(e,t)}var v3e,RR,OR,PR,BR,$R,FR,zR,GR,yu,Ig=I(()=>{"use strict";nr(),S6(),Lg(),o(F0,"tokenLabel"),o(IR,"hasTokenLabel"),v3e="parent",RR="categories",OR="label",PR="group",BR="push_mode",$R="pop_mode",FR="longer_alt",zR="line_breaks",GR="start_chars_hint",o(MR,"createToken"),o(y3e,"createTokenInternal"),yu=MR({name:"EOF",pattern:ls.NA}),Ag([yu]),o(A6,"createTokenInstance"),o(DR,"tokenMatcher")}),z0,b3e,Xh,Tv=I(()=>{"use strict";Ig(),nr(),Rs(),z0={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${IR(e)?`--> ${F0(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){let a="Expecting: ",s=`
but found: '`+Mo(t).image+"'";if(n)return a+n+s;{let l=Ei(e,(d,p)=>d.concat(p),[]),u=wt(l,d=>`[${wt(d,p=>F0(p)).join(", ")}]`),h=`one of these possible Token sequences:
${wt(u,(d,p)=>`  ${p+1}. ${d}`).join(`
`)}`;return a+h+s}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){let i="Expecting: ",a=`
but found: '`+Mo(t).image+"'";if(r)return i+r+a;{let s=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${wt(e,l=>`[${wt(l,u=>F0(u)).join(",")}]`).join(" ,")}>`;return i+s+a}}},Object.freeze(z0),b3e={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},Xh={buildDuplicateFoundError(e,t){function r(d){return d instanceof Gn?d.terminalType.name:d instanceof Ya?d.nonTerminalName:""}o(r,"getExtraProductionArgument");let n=e.name,i=Mo(t),a=i.idx,s=kl(i),l=r(i),u=a>0,h=`->${s}${u?a:""}<- ${l?`with argument: ->${l}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return h=h.replace(/[ \t]+/g," "),h=h.replace(/\s\s+/g,`
`),h},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=wt(e.prefixPath,n=>F0(n)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=wt(e.prefixPath,i=>F0(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=kl(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=wt(e.leftRecursionPath,i=>i.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof B0?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}}});function x3e(e,t){let r=new k3e(e,t);return r.resolveRefs(),r.errors}var k3e,uQe=I(()=>{"use strict";no(),nr(),Rs(),o(x3e,"resolveGrammar"),k3e=class extends $0{static{o(this,"GastRefResolverVisitor")}constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){Be(Cn(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){let t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{let r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:cs.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}});function L6(e,t,r=[]){r=Mi(r);let n=[],i=0;function a(l){return l.concat(aa(e,i+1))}o(a,"remainingPathWith");function s(l){let u=L6(a(l),t,r);return n.concat(u)}for(o(s,"getAlternativesForProd");r.length<t&&i<e.length;){let l=e[i];if(l instanceof as||l instanceof Ya)return s(l.definition);if(l instanceof oa)n=s(l.definition);else if(l instanceof Ms){let u=l.definition.concat([new si({definition:l.definition})]);return s(u)}else if(l instanceof Ds){let u=[new as({definition:l.definition}),new si({definition:[new Gn({terminalType:l.separator})].concat(l.definition)})];return s(u)}else if(l instanceof ss){let u=l.definition.concat([new si({definition:[new Gn({terminalType:l.separator})].concat(l.definition)})]);n=s(u)}else if(l instanceof si){let u=l.definition.concat([new si({definition:l.definition})]);n=s(u)}else{if(l instanceof os)return Be(l.definition,u=>{un(u.definition)===!1&&(n=s(u.definition))}),n;if(l instanceof Gn)r.push(l.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:aa(e,i)}),n}function qR(e,t,r,n){let i="EXIT_NONE_TERMINAL",a=[i],s="EXIT_ALTERNATIVE",l=!1,u=t.length,h=u-n-1,d=[],p=[];for(p.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!un(p);){let f=p.pop();if(f===s){l&&ml(p).idx<=h&&p.pop();continue}let g=f.def,m=f.idx,y=f.ruleStack,b=f.occurrenceStack;if(un(g))continue;let v=g[0];if(v===i){let x={idx:m,def:aa(g),ruleStack:lg(y),occurrenceStack:lg(b)};p.push(x)}else if(v instanceof Gn)if(m<u-1){let x=m+1,k=t[x];if(r(k,v.terminalType)){let w={idx:x,def:aa(g),ruleStack:y,occurrenceStack:b};p.push(w)}}else if(m===u-1)d.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:y,occurrenceStack:b}),l=!0;else throw Error("non exhaustive match");else if(v instanceof Ya){let x=Mi(y);x.push(v.nonTerminalName);let k=Mi(b);k.push(v.idx);let w={idx:m,def:v.definition.concat(a,aa(g)),ruleStack:x,occurrenceStack:k};p.push(w)}else if(v instanceof oa){let x={idx:m,def:aa(g),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let k={idx:m,def:v.definition.concat(aa(g)),ruleStack:y,occurrenceStack:b};p.push(k)}else if(v instanceof Ms){let x=new si({definition:v.definition,idx:v.idx}),k=v.definition.concat([x],aa(g)),w={idx:m,def:k,ruleStack:y,occurrenceStack:b};p.push(w)}else if(v instanceof Ds){let x=new Gn({terminalType:v.separator}),k=new si({definition:[x].concat(v.definition),idx:v.idx}),w=v.definition.concat([k],aa(g)),_={idx:m,def:w,ruleStack:y,occurrenceStack:b};p.push(_)}else if(v instanceof ss){let x={idx:m,def:aa(g),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let k=new Gn({terminalType:v.separator}),w=new si({definition:[k].concat(v.definition),idx:v.idx}),_=v.definition.concat([w],aa(g)),S={idx:m,def:_,ruleStack:y,occurrenceStack:b};p.push(S)}else if(v instanceof si){let x={idx:m,def:aa(g),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let k=new si({definition:v.definition,idx:v.idx}),w=v.definition.concat([k],aa(g)),_={idx:m,def:w,ruleStack:y,occurrenceStack:b};p.push(_)}else if(v instanceof os)for(let x=v.definition.length-1;x>=0;x--){let k=v.definition[x],w={idx:m,def:k.definition.concat(aa(g)),ruleStack:y,occurrenceStack:b};p.push(w),p.push(s)}else if(v instanceof as)p.push({idx:m,def:v.definition.concat(aa(g)),ruleStack:y,occurrenceStack:b});else if(v instanceof B0)p.push(w3e(v,m,y,b));else throw Error("non exhaustive match")}return d}function w3e(e,t,r,n){let i=Mi(r);i.push(e.name);let a=Mi(n);return a.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:a}}var T3e,E3e,Ev,_3e,jR,C3e,YR,N6=I(()=>{"use strict";nr(),S4e(),fR(),Rs(),T3e=class extends fv{static{o(this,"AbstractNextPossibleTokensWalker")}constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Mi(this.path.ruleStack).reverse(),this.occurrenceStack=Mi(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let n=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,n)}}updateExpectedNext(){un(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},E3e=class extends T3e{static{o(this,"NextAfterTokenWalker")}constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let n=t.concat(r),i=new as({definition:n});this.possibleTokTypes=Eg(i),this.found=!0}}},Ev=class extends fv{static{o(this,"AbstractNextTerminalAfterProductionWalker")}constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},_3e=class extends Ev{static{o(this,"NextTerminalAfterManyWalker")}walkMany(e,t,r){if(e.idx===this.occurrence){let n=Mo(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof Gn&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkMany(e,t,r)}},jR=class extends Ev{static{o(this,"NextTerminalAfterManySepWalker")}walkManySep(e,t,r){if(e.idx===this.occurrence){let n=Mo(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof Gn&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkManySep(e,t,r)}},C3e=class extends Ev{static{o(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){let n=Mo(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof Gn&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOne(e,t,r)}},YR=class extends Ev{static{o(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){let n=Mo(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof Gn&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOneSep(e,t,r)}},o(L6,"possiblePathsFrom"),o(qR,"nextPossibleTokensAfter"),o(w3e,"expandTopLevelRule")});function I6(e){if(e instanceof oa||e==="Option")return oi.OPTION;if(e instanceof si||e==="Repetition")return oi.REPETITION;if(e instanceof Ms||e==="RepetitionMandatory")return oi.REPETITION_MANDATORY;if(e instanceof Ds||e==="RepetitionMandatoryWithSeparator")return oi.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof ss||e==="RepetitionWithSeparator")return oi.REPETITION_WITH_SEPARATOR;if(e instanceof os||e==="Alternation")return oi.ALTERNATION;throw Error("non exhaustive match")}function UR(e){let{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,a=I6(n);return a===oi.ALTERNATION?_v(t,r,i):Cv(t,r,a,i)}function S3e(e,t,r,n,i,a){let s=_v(e,t,r),l=VR(s)?wv:Sg;return a(s,n,l,i)}function A3e(e,t,r,n,i,a){let s=Cv(e,t,i,r),l=VR(s)?wv:Sg;return a(s[0],l,n)}function L3e(e,t,r,n){let i=e.length,a=Io(e,s=>Io(s,l=>l.length===1));if(t)return function(s){let l=wt(s,u=>u.GATE);for(let u=0;u<i;u++){let h=e[u],d=h.length,p=l[u];if(!(p!==void 0&&p.call(this)===!1))e:for(let f=0;f<d;f++){let g=h[f],m=g.length;for(let y=0;y<m;y++){let b=this.LA(y+1);if(r(b,g[y])===!1)continue e}return u}}};if(a&&!n){let s=wt(e,u=>Vi(u)),l=Ei(s,(u,h,d)=>(Be(h,p=>{gr(u,p.tokenTypeIdx)||(u[p.tokenTypeIdx]=d),Be(p.categoryMatches,f=>{gr(u,f)||(u[f]=d)})}),u),{});return function(){let u=this.LA(1);return l[u.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){let l=e[s],u=l.length;e:for(let h=0;h<u;h++){let d=l[h],p=d.length;for(let f=0;f<p;f++){let g=this.LA(f+1);if(r(g,d[f])===!1)continue e}return s}}}}function N3e(e,t,r){let n=Io(e,a=>a.length===1),i=e.length;if(n&&!r){let a=Vi(e);if(a.length===1&&un(a[0].categoryMatches)){let s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}else{let s=Ei(a,(l,u,h)=>(l[u.tokenTypeIdx]=!0,Be(u.categoryMatches,d=>{l[d]=!0}),l),[]);return function(){let l=this.LA(1);return s[l.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<i;a++){let s=e[a],l=s.length;for(let u=0;u<l;u++){let h=this.LA(u+1);if(t(h,s[u])===!1)continue e}return!0}return!1}}function HR(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function M6(e){let t=[""];for(let r=0;r<e.length;r++){let n=e[r],i=[];for(let a=0;a<t.length;a++){let s=t[a];i.push(s+"_"+n.tokenTypeIdx);for(let l=0;l<n.categoryMatches.length;l++){let u="_"+n.categoryMatches[l];i.push(s+u)}}t=i}return t}function I3e(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;let i=e[n];for(let a=0;a<t.length;a++){let s=t[a];if(i[s]===!0)return!1}}return!0}function WR(e,t){let r=wt(e,s=>L6([s],1)),n=HR(r.length),i=wt(r,s=>{let l={};return Be(s,u=>{let h=M6(u.partialPath);Be(h,d=>{l[d]=!0})}),l}),a=r;for(let s=1;s<=t;s++){let l=a;a=HR(l.length);for(let u=0;u<l.length;u++){let h=l[u];for(let d=0;d<h.length;d++){let p=h[d].partialPath,f=h[d].suffixDef,g=M6(p);if(I3e(i,g,u)||un(f)||p.length===t){let m=n[u];if(D6(m,p)===!1){m.push(p);for(let y=0;y<g.length;y++){let b=g[y];i[u][b]=!0}}}else{let m=L6(f,s+1,p);a[u]=a[u].concat(m),Be(m,y=>{let b=M6(y.partialPath);Be(b,v=>{i[u][v]=!0})})}}}}return n}function _v(e,t,r,n){let i=new XR(e,oi.ALTERNATION,n);return t.accept(i),WR(i.result,r)}function Cv(e,t,r,n){let i=new XR(e,r);t.accept(i);let a=i.result,s=new D3e(t,e,r).startWalking(),l=new as({definition:a}),u=new as({definition:s});return WR([l,u],n)}function D6(e,t){e:for(let r=0;r<e.length;r++){let n=e[r];if(n.length===t.length){for(let i=0;i<n.length;i++){let a=t[i],s=n[i];if(!(a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0))continue e}return!0}}return!1}function M3e(e,t){return e.length<t.length&&Io(e,(r,n)=>{let i=t[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function VR(e){return Io(e,t=>Io(t,r=>Io(r,n=>un(n.categoryMatches))))}var oi,D3e,XR,Sv=I(()=>{"use strict";nr(),N6(),fR(),Lg(),Rs(),function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(oi||(oi={})),o(I6,"getProdType"),o(UR,"getLookaheadPaths"),o(S3e,"buildLookaheadFuncForOr"),o(A3e,"buildLookaheadFuncForOptionalProd"),o(L3e,"buildAlternativesLookAheadFunc"),o(N3e,"buildSingleAlternativeLookaheadFunction"),D3e=class extends fv{static{o(this,"RestDefinitionFinderWalker")}constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,n){return e.idx===this.targetOccurrence&&this.targetProdType===t?(this.restDef=r.concat(n),!0):!1}walkOption(e,t,r){this.checkIsTarget(e,oi.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,oi.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,oi.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,oi.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,oi.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}},XR=class extends $0{static{o(this,"InsideDefinitionFinderVisitor")}constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,oi.OPTION)}visitRepetition(e){this.checkIsTarget(e,oi.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,oi.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,oi.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,oi.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,oi.ALTERNATION)}},o(HR,"initializeArrayOfArrays"),o(M6,"pathToHashKeys"),o(I3e,"isUniquePrefixHash"),o(WR,"lookAheadSequenceFromAlternatives"),o(_v,"getLookaheadPathsForOr"),o(Cv,"getLookaheadPathsForOptionalProd"),o(D6,"containsPath"),o(M3e,"isStrictPrefixOfPath"),o(VR,"areTokenCategoriesNotUsed")});function R3e(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return wt(t,r=>Object.assign({type:cs.CUSTOM_LOOKAHEAD_VALIDATION},r))}function O3e(e,t,r,n){let i=As(e,u=>P3e(u,r)),a=H3e(e,t,r),s=As(e,u=>q3e(u,r)),l=As(e,u=>$3e(u,e,n,r));return i.concat(a,s,l)}function P3e(e,t){let r=new W3e;e.accept(r);let n=r.allProductions,i=_me(n,B3e),a=Do(i,s=>s.length>1);return wt(Cn(a),s=>{let l=Mo(s),u=t.buildDuplicateFoundError(e,s),h=kl(l),d={message:u,type:cs.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:h,occurrence:l.idx},p=KR(l);return p&&(d.parameter=p),d})}function B3e(e){return`${kl(e)}_#_${e.idx}_#_${KR(e)}`}function KR(e){return e instanceof Gn?e.terminalType.name:e instanceof Ya?e.nonTerminalName:""}function $3e(e,t,r,n){let i=[];if(Ei(t,(a,s)=>s.name===e.name?a+1:a,0)>1){let a=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:a,type:cs.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function F3e(e,t,r){let n=[],i;return ja(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:cs.INVALID_RULE_OVERRIDE,ruleName:e})),n}function ZR(e,t,r,n=[]){let i=[],a=Av(t.definition);if(un(a))return[];{let s=e.name;ja(a,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:cs.LEFT_RECURSION,ruleName:s});let l=B2(a,n.concat([e])),u=As(l,h=>{let d=Mi(n);return d.push(h),ZR(e,h,r,d)});return i.concat(u)}}function Av(e){let t=[];if(un(e))return t;let r=Mo(e);if(r instanceof Ya)t.push(r.referencedRule);else if(r instanceof as||r instanceof oa||r instanceof Ms||r instanceof Ds||r instanceof ss||r instanceof si)t=t.concat(Av(r.definition));else if(r instanceof os)t=Vi(wt(r.definition,a=>Av(a.definition)));else if(!(r instanceof Gn))throw Error("non exhaustive match");let n=gv(r),i=e.length>1;if(n&&i){let a=aa(e);return t.concat(Av(a))}else return t}function z3e(e,t){let r=new R6;e.accept(r);let n=r.alternations;return As(n,i=>{let a=lg(i.definition);return As(a,(s,l)=>{let u=qR([s],[],Sg,1);return un(u)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:i,emptyChoiceIdx:l}),type:cs.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:i.idx,alternative:l+1}]:[]})})}function G3e(e,t,r){let n=new R6;e.accept(n);let i=n.alternations;return i=G2(i,a=>a.ignoreAmbiguities===!0),As(i,a=>{let s=a.idx,l=a.maxLookahead||t,u=_v(s,e,l,a),h=Y3e(u,a,e,r),d=U3e(u,a,e,r);return h.concat(d)})}function q3e(e,t){let r=new R6;e.accept(r);let n=r.alternations;return As(n,i=>i.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:i}),type:cs.TOO_MANY_ALTS,ruleName:e.name,occurrence:i.idx}]:[])}function j3e(e,t,r){let n=[];return Be(e,i=>{let a=new V3e;i.accept(a);let s=a.allProductions;Be(s,l=>{let u=I6(l),h=l.maxLookahead||t,d=l.idx,p=Cv(d,i,u,h)[0];if(un(Vi(p))){let f=r.buildEmptyRepetitionError({topLevelRule:i,repetition:l});n.push({message:f,type:cs.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function Y3e(e,t,r,n){let i=[],a=Ei(e,(s,l,u)=>(t.definition[u].ignoreAmbiguities===!0||Be(l,h=>{let d=[u];Be(e,(p,f)=>{u!==f&&D6(p,h)&&t.definition[f].ignoreAmbiguities!==!0&&d.push(f)}),d.length>1&&!D6(i,h)&&(i.push(h),s.push({alts:d,path:h}))}),s),[]);return wt(a,s=>{let l=wt(s.alts,u=>u+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:l,prefixPath:s.path}),type:cs.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:s.alts}})}function U3e(e,t,r,n){let i=Ei(e,(a,s,l)=>{let u=wt(s,h=>({idx:l,path:h}));return a.concat(u)},[]);return og(As(i,a=>{if(t.definition[a.idx].ignoreAmbiguities===!0)return[];let s=a.idx,l=a.path,u=ai(i,h=>t.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<s&&M3e(h.path,l));return wt(u,h=>{let d=[h.idx+1,s+1],p=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:d,prefixPath:h.path}),type:cs.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:p,alternatives:d}})}))}function H3e(e,t,r){let n=[],i=wt(t,a=>a.name);return Be(e,a=>{let s=a.name;if(ja(i,s)){let l=r.buildNamespaceConflictError(a);n.push({message:l,type:cs.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}var W3e,R6,V3e,O6=I(()=>{"use strict";nr(),no(),Rs(),Sv(),N6(),Lg(),o(R3e,"validateLookahead"),o(O3e,"validateGrammar"),o(P3e,"validateDuplicateProductions"),o(B3e,"identifyProductionForDuplicates"),o(KR,"getExtraProductionArgument"),W3e=class extends $0{static{o(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}},o($3e,"validateRuleDoesNotAlreadyExist"),o(F3e,"validateRuleIsOverridden"),o(ZR,"validateNoLeftRecursion"),o(Av,"getFirstNoneTerminal"),R6=class extends $0{static{o(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}},o(z3e,"validateEmptyOrAlternative"),o(G3e,"validateAmbiguousAlternationAlternatives"),V3e=class extends $0{static{o(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}},o(q3e,"validateTooManyAlts"),o(j3e,"validateSomeNonEmptyLookaheadPath"),o(Y3e,"checkAlternativesAmbiguities"),o(U3e,"checkPrefixAlternativesAmbiguities"),o(H3e,"checkTerminalAndNoneTerminalsNameSpace")});function X3e(e){let t=P2(e,{errMsgProvider:b3e}),r={};return Be(e.rules,n=>{r[n.name]=n}),x3e(r,t.errMsgProvider)}function K3e(e){return e=P2(e,{errMsgProvider:Xh}),O3e(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}var hQe=I(()=>{"use strict";nr(),uQe(),O6(),Tv(),o(X3e,"resolveGrammar"),o(K3e,"validateGrammar")});function Lv(e){return ja(rO,e.name)}var QR,JR,eO,tO,rO,Nv,nO,Z3e,Q3e,J3e,Iv=I(()=>{"use strict";nr(),QR="MismatchedTokenException",JR="NoViableAltException",eO="EarlyExitException",tO="NotAllInputParsedException",rO=[QR,JR,eO,tO],Object.freeze(rO),o(Lv,"isRecognitionException"),Nv=class extends Error{static{o(this,"RecognitionException")}constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},nO=class extends Nv{static{o(this,"MismatchedTokenException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=QR}},Z3e=class extends Nv{static{o(this,"NoViableAltException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=JR}},Q3e=class extends Nv{static{o(this,"NotAllInputParsedException")}constructor(e,t){super(e,t),this.name=tO}},J3e=class extends Nv{static{o(this,"EarlyExitException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=eO}}});function e5e(e,t,r,n,i,a,s){let l=this.getKeyForAutomaticLookahead(n,i),u=this.firstAfterRepMap[l];if(u===void 0){let f=this.getCurrRuleFullName(),g=this.getGAstProductions()[f];u=new a(g,i).startWalking(),this.firstAfterRepMap[l]=u}let h=u.token,d=u.occurrence,p=u.isEndOfRule;this.RULE_STACK.length===1&&p&&h===void 0&&(h=yu,d=1),!(h===void 0||d===void 0)&&this.shouldInRepetitionRecoveryBeTried(h,d,s)&&this.tryInRepetitionRecovery(e,t,r,h)}var P6,iO,t5e,r5e,n5e=I(()=>{"use strict";Ig(),nr(),Iv(),A4e(),no(),P6={},iO="InRuleRecoveryException",t5e=class extends Error{static{o(this,"InRuleRecoveryException")}constructor(e){super(e),this.name=iO}},r5e=class{static{o(this,"Recoverable")}initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=gr(e,"recoveryEnabled")?e.recoveryEnabled:fc.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=e5e)}getTokenToInsert(e){let t=A6(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,n){let i=this.findReSyncTokenType(),a=this.exportLexerState(),s=[],l=!1,u=this.LA(1),h=this.LA(1),d=o(()=>{let p=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:n,actual:u,previous:p,ruleName:this.getCurrRuleFullName()}),g=new nO(f,u,this.LA(0));g.resyncedTokens=lg(s),this.SAVE_ERROR(g)},"generateErrorMessage");for(;!l;)if(this.tokenMatcher(h,n)){d();return}else if(r.call(this)){d(),e.apply(this,t);return}else this.tokenMatcher(h,i)?l=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,s));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,t,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){let r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new t5e("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||un(t))return!1;let r=this.LA(1);return cc(t,n=>this.tokenMatcher(r,n))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){let t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return ja(r,e)}findReSyncTokenType(){let e=this.flattenFollowSet(),t=this.LA(1),r=2;for(;;){let n=cc(e,i=>DR(t,i));if(n!==void 0)return n;t=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return P6;let e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return wt(e,(r,n)=>n===0?P6:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[n],inRule:this.shortRuleNameToFullName(e[n-1])})}flattenFollowSet(){let e=wt(this.buildFullFollowKeyStack(),t=>this.getFollowSetFromFollowKey(t));return Vi(e)}getFollowSetFromFollowKey(e){if(e===P6)return[yu];let t=e.ruleName+e.idxInCallingRule+mR+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,yu)||t.push(e),t}reSyncTo(e){let t=[],r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return lg(t)}attemptInRepetitionRecovery(e,t,r,n,i,a,s){}getCurrentGrammarPath(e,t){let r=this.getHumanReadableRuleStack(),n=Mi(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:n,lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return wt(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},o(e5e,"attemptInRepetitionRecovery")});function B6(e,t,r){return r|t|e}var aO=I(()=>{"use strict";o(B6,"getKeyForAutomaticLookahead")}),$6,i5e=I(()=>{"use strict";nr(),Tv(),no(),O6(),Sv(),$6=class{static{o(this,"LLkLookaheadStrategy")}constructor(e){var t;this.maxLookahead=(t=e?.maxLookahead)!==null&&t!==void 0?t:fc.maxLookahead}validate(e){let t=this.validateNoLeftRecursion(e.rules);if(un(t)){let r=this.validateEmptyOrAlternatives(e.rules),n=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...r,...n,...i]}return t}validateNoLeftRecursion(e){return As(e,t=>ZR(t,t,Xh))}validateEmptyOrAlternatives(e){return As(e,t=>z3e(t,Xh))}validateAmbiguousAlternationAlternatives(e,t){return As(e,r=>G3e(r,t,Xh))}validateSomeNonEmptyLookaheadPath(e,t){return j3e(e,t,Xh)}buildLookaheadForAlternation(e){return S3e(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,L3e)}buildLookaheadForOptional(e){return A3e(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,I6(e.prodType),N3e)}}});function a5e(e){Mv.reset(),e.accept(Mv);let t=Mv.dslMethods;return Mv.reset(),t}var s5e,o5e,Mv,dQe=I(()=>{"use strict";nr(),no(),aO(),Rs(),i5e(),s5e=class{static{o(this,"LooksAhead")}initLooksAhead(e){this.dynamicTokensEnabled=gr(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:fc.dynamicTokensEnabled,this.maxLookahead=gr(e,"maxLookahead")?e.maxLookahead:fc.maxLookahead,this.lookaheadStrategy=gr(e,"lookaheadStrategy")?e.lookaheadStrategy:new $6({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Be(e,t=>{this.TRACE_INIT(`${t.name} Rule Lookahead`,()=>{let{alternation:r,repetition:n,option:i,repetitionMandatory:a,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:l}=a5e(t);Be(r,u=>{let h=u.idx===0?"":u.idx;this.TRACE_INIT(`${kl(u)}${h}`,()=>{let d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:t,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=B6(this.fullRuleNameToShort[t.name],256,u.idx);this.setLaFuncCache(p,d)})}),Be(n,u=>{this.computeLookaheadFunc(t,u.idx,768,"Repetition",u.maxLookahead,kl(u))}),Be(i,u=>{this.computeLookaheadFunc(t,u.idx,512,"Option",u.maxLookahead,kl(u))}),Be(a,u=>{this.computeLookaheadFunc(t,u.idx,1024,"RepetitionMandatory",u.maxLookahead,kl(u))}),Be(s,u=>{this.computeLookaheadFunc(t,u.idx,1536,"RepetitionMandatoryWithSeparator",u.maxLookahead,kl(u))}),Be(l,u=>{this.computeLookaheadFunc(t,u.idx,1280,"RepetitionWithSeparator",u.maxLookahead,kl(u))})})})}computeLookaheadFunc(e,t,r,n,i,a){this.TRACE_INIT(`${a}${t===0?"":t}`,()=>{let s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:n}),l=B6(this.fullRuleNameToShort[e.name],r,t);this.setLaFuncCache(l,s)})}getKeyForAutomaticLookahead(e,t){let r=this.getLastExplicitRuleShortName();return B6(r,e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},o5e=class extends $0{static{o(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}},Mv=new o5e,o(a5e,"collectMethods")});function sO(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function oO(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function l5e(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function c5e(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}var pQe=I(()=>{"use strict";o(sO,"setNodeLocationOnlyOffset"),o(oO,"setNodeLocationFull"),o(l5e,"addTerminalToCst"),o(c5e,"addNoneTerminalToCst")});function lO(e,t){Object.defineProperty(e,u5e,{enumerable:!1,configurable:!0,writable:!1,value:t})}var u5e,gQe=I(()=>{"use strict";u5e="name",o(lO,"defineNameProp")});function h5e(e,t){let r=Ii(e),n=r.length;for(let i=0;i<n;i++){let a=r[i],s=e[a],l=s.length;for(let u=0;u<l;u++){let h=s[u];h.tokenTypeIdx===void 0&&this[h.name](h.children,t)}}}function d5e(e,t){let r=o(function(){},"derivedConstructor");lO(r,e+"BaseSemantics");let n={visit:o(function(i,a){if(jr(i)&&(i=i[0]),!mn(i))return this[i.name](i.children,a)},"visit"),validateVisitor:o(function(){let i=g5e(this,t);if(!un(i)){let a=wt(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}},"validateVisitor")};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function p5e(e,t,r){let n=o(function(){},"derivedConstructor");lO(n,e+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return Be(t,a=>{i[a]=h5e}),n.prototype=i,n.prototype.constructor=n,n}function g5e(e,t){return f5e(e,t)}function f5e(e,t){let r=ai(t,i=>Xs(e[i])===!1),n=wt(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:cO.MISSING_METHOD,methodName:i}));return og(n)}var cO,fQe=I(()=>{"use strict";nr(),gQe(),o(h5e,"defaultVisit"),o(d5e,"createBaseSemanticVisitorConstructor"),o(p5e,"createBaseVisitorConstructorWithDefaults"),function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(cO||(cO={})),o(g5e,"validateVisitor"),o(f5e,"validateMissingCstMethods")}),m5e,mQe=I(()=>{"use strict";pQe(),nr(),fQe(),no(),m5e=class{static{o(this,"TreeBuilder")}initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=gr(e,"nodeLocationTracking")?e.nodeLocationTracking:fc.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ni,this.cstFinallyStateUpdate=Ni,this.cstPostTerminal=Ni,this.cstPostNonTerminal=Ni,this.cstPostRule=Ni;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=oO,this.setNodeLocationFromNode=oO,this.cstPostRule=Ni,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ni,this.setNodeLocationFromNode=Ni,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=sO,this.setNodeLocationFromNode=sO,this.cstPostRule=Ni,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ni,this.setNodeLocationFromNode=Ni,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ni,this.setNodeLocationFromNode=Ni,this.cstPostRule=Ni,this.setInitialNodeLocation=Ni;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];l5e(r,t,e),this.setNodeLocationFromToken(r.location,t)}cstPostNonTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];c5e(r,t,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(mn(this.baseCstVisitorConstructor)){let e=d5e(this.className,Ii(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(mn(this.baseCstVisitorWithDefaultsConstructor)){let e=p5e(this.className,Ii(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}}),y5e,yQe=I(()=>{"use strict";no(),y5e=class{static{o(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Ov}LA(e){let t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Ov:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}}),v5e,vQe=I(()=>{"use strict";nr(),Iv(),no(),Tv(),O6(),Rs(),v5e=class{static{o(this,"RecognizerApi")}ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,r=Pv){if(ja(this.definedRulesNames,e)){let i={message:Xh.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:cs.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(i)}this.definedRulesNames.push(e);let n=this.defineRule(e,t,r);return this[e]=n,n}OVERRIDE_RULE(e,t,r=Pv){let n=F3e(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(n);let i=this.defineRule(e,t,r);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);let r=this.saveRecogState();try{return e.apply(this,t),!0}catch(n){if(Lv(n))return!1;throw n}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return k4e(Cn(this.gastProductionsCache))}}}),b5e,bQe=I(()=>{"use strict";nr(),aO(),Iv(),Sv(),N6(),no(),n5e(),Ig(),Lg(),b5e=class{static{o(this,"RecognizerEngine")}initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=wv,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},gr(t,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(jr(e)){if(un(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(jr(e))this.tokensMap=Ei(e,(i,a)=>(i[a.name]=a,i),{});else if(gr(e,"modes")&&Io(Vi(Cn(e.modes)),g3e)){let i=Vi(Cn(e.modes)),a=Yk(i);this.tokensMap=Ei(a,(s,l)=>(s[l.name]=l,s),{})}else if(Za(e))this.tokensMap=Mi(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=yu;let r=gr(e,"modes")?Vi(Cn(e.modes)):Cn(e),n=Io(r,i=>un(i.categoryMatches));this.tokenMatcher=n?wv:Sg,Ag(Cn(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let n=gr(r,"resyncEnabled")?r.resyncEnabled:Pv.resyncEnabled,i=gr(r,"recoveryValueFunc")?r.recoveryValueFunc:Pv.recoveryValueFunc,a=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a;let s;return this.outputCst===!0?s=o(function(...l){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),t.apply(this,l);let u=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(u),u}catch(u){return this.invokeRuleCatch(u,n,i)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):s=o(function(...l){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),t.apply(this,l)}catch(u){return this.invokeRuleCatch(u,n,i)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(s,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){let n=this.RULE_STACK.length===1,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(Lv(e)){let a=e;if(i){let s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))if(a.resyncedTokens=this.reSyncTo(s),this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return r(e);else{if(this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,a.partialCstResult=l}throw a}}else{if(n)return this.moveToTerminatedState(),r(e);throw a}}else throw e}optionInternal(e,t){let r=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){let n=this.getLaFuncFromCache(r),i;if(typeof e!="function"){i=e.DEF;let a=e.GATE;if(a!==void 0){let s=n;n=o(()=>a.call(this)&&s.call(this),"lookAheadFunc")}}else i=e;if(n.call(this)===!0)return i.call(this)}atLeastOneInternal(e,t){let r=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){let n=this.getLaFuncFromCache(r),i;if(typeof t!="function"){i=t.DEF;let a=t.GATE;if(a!==void 0){let s=n;n=o(()=>a.call(this)&&s.call(this),"lookAheadFunc")}}else i=t;if(n.call(this)===!0){let a=this.doSingleRepetition(i);for(;n.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i)}else throw this.raiseEarlyExitException(e,oi.REPETITION_MANDATORY,t.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],n,1024,e,C3e)}atLeastOneSepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){n.call(this);let a=o(()=>this.tokenMatcher(this.LA(1),i),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,a,n,YR],a,1536,e,YR)}else throw this.raiseEarlyExitException(e,oi.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG)}manyInternal(e,t){let r=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){let n=this.getLaFuncFromCache(r),i;if(typeof t!="function"){i=t.DEF;let s=t.GATE;if(s!==void 0){let l=n;n=o(()=>s.call(this)&&l.call(this),"lookaheadFunction")}}else i=t;let a=!0;for(;n.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],n,768,e,_3e,a)}manySepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){n.call(this);let a=o(()=>this.tokenMatcher(this.LA(1),i),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,a,n,jR],a,1280,e,jR)}}repetitionSepSecondInternal(e,t,r,n,i){for(;r();)this.CONSUME(t),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,n,i],r,1536,e,i)}doSingleRepetition(e){let t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){let r=this.getKeyForAutomaticLookahead(256,t),n=jr(e)?e:e.DEF,i=this.getLaFuncFromCache(r).call(this,n);if(i!==void 0)return n[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Q3e(t,e))}}subruleInternal(e,t,r){let n;try{let i=r!==void 0?r.ARGS:void 0;return this.subruleIdx=t,n=e.apply(this,i),this.cstPostNonTerminal(n,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),n}catch(i){throw this.subruleInternalError(i,r,e.ruleName)}}subruleInternalError(e,t,r){throw Lv(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,t!==void 0&&t.LABEL!==void 0?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){let n;try{let i=this.LA(1);this.tokenMatcher(i,e)===!0?(this.consumeToken(),n=i):this.consumeInternalError(e,i,r)}catch(i){n=this.consumeInternalRecovery(e,t,i)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,n),n}consumeInternalError(e,t,r){let n,i=this.LA(0);throw r!==void 0&&r.ERR_MSG?n=r.ERR_MSG:n=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new nO(n,t,i))}consumeInternalRecovery(e,t,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){let n=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,n)}catch(i){throw i.name===iO?r:i}}else throw r}saveRecogState(){let e=this.errors,t=Mi(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),yu)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}}),x5e,xQe=I(()=>{"use strict";Iv(),nr(),Sv(),no(),x5e=class{static{o(this,"ErrorHandler")}initErrorHandler(e){this._errors=[],this.errorMessageProvider=gr(e,"errorMessageProvider")?e.errorMessageProvider:fc.errorMessageProvider}SAVE_ERROR(e){if(Lv(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Mi(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Mi(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){let n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],a=Cv(e,i,t,this.maxLookahead)[0],s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));let l=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:s,previous:this.LA(0),customUserDescription:r,ruleName:n});throw this.SAVE_ERROR(new J3e(l,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){let r=this.getCurrRuleFullName(),n=this.getGAstProductions()[r],i=_v(e,n,this.maxLookahead),a=[];for(let u=1;u<=this.maxLookahead;u++)a.push(this.LA(u));let s=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:a,previous:s,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Z3e(l,this.LA(1),s))}}}),k5e,kQe=I(()=>{"use strict";N6(),nr(),k5e=class{static{o(this,"ContentAssist")}initContentAssist(){}computeContentAssist(e,t){let r=this.gastProductionsCache[e];if(mn(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return qR([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let t=Mo(e.ruleStack),r=this.getGAstProductions()[t];return new E3e(r,e).startWalking()}}});function Mg(e,t,r,n=!1){Dv(r);let i=ml(this.recordingProdStack),a=Xs(t)?t:t.DEF,s=new e({definition:[],idx:r});return n&&(s.separator=t.SEP),gr(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),i.definition.push(s),this.recordingProdStack.pop(),Rv}function w5e(e,t){Dv(t);let r=ml(this.recordingProdStack),n=jr(e)===!1,i=n===!1?e:e.DEF,a=new os({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});gr(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);let s=uM(i,l=>Xs(l.GATE));return a.hasPredicates=s,r.definition.push(a),Be(i,l=>{let u=new as({definition:[]});a.definition.push(u),gr(l,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=l.IGNORE_AMBIGUITIES:gr(l,"GATE")&&(u.ignoreAmbiguities=!0),this.recordingProdStack.push(u),l.ALT.call(this),this.recordingProdStack.pop()}),Rv}function uO(e){return e===0?"":`${e}`}function Dv(e){if(e<0||e>dO){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${dO+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}var Rv,hO,dO,pO,gO,T5e,E5e,wQe=I(()=>{"use strict";nr(),Rs(),S6(),Lg(),Ig(),no(),aO(),Rv={description:"This Object indicates the Parser is during Recording Phase"},Object.freeze(Rv),hO=!0,dO=Math.pow(2,8)-1,pO=MR({name:"RECORDING_PHASE_TOKEN",pattern:ls.NA}),Ag([pO]),gO=A6(pO,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1),Object.freeze(gO),T5e={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},E5e=class{static{o(this,"GastRecorder")}initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){let t=e>0?e:"";this[`CONSUME${t}`]=function(r,n){return this.consumeInternalRecord(r,e,n)},this[`SUBRULE${t}`]=function(r,n){return this.subruleInternalRecord(r,e,n)},this[`OPTION${t}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${t}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${t}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${t}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${t}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${t}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let e=this;for(let t=0;t<10;t++){let r=t>0?t:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return Ov}topLevelRuleRecord(e,t){try{let r=new B0({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,t){return Mg.call(this,oa,e,t)}atLeastOneInternalRecord(e,t){Mg.call(this,Ms,t,e)}atLeastOneSepFirstInternalRecord(e,t){Mg.call(this,Ds,t,e,hO)}manyInternalRecord(e,t){Mg.call(this,si,t,e)}manySepFirstInternalRecord(e,t){Mg.call(this,ss,t,e,hO)}orInternalRecord(e,t){return w5e.call(this,e,t)}subruleInternalRecord(e,t,r){if(Dv(t),!e||gr(e,"ruleName")===!1){let s=new Error(`<SUBRULE${uO(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let n=ml(this.recordingProdStack),i=e.ruleName,a=new Ya({idx:t,nonTerminalName:i,label:r?.LABEL,referencedRule:void 0});return n.definition.push(a),this.outputCst?T5e:Rv}consumeInternalRecord(e,t,r){if(Dv(t),!SR(e)){let a=new Error(`<CONSUME${uO(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}let n=ml(this.recordingProdStack),i=new Gn({idx:t,terminalType:e,label:r?.LABEL});return n.definition.push(i),gO}},o(Mg,"recordProd"),o(w5e,"recordOrProd"),o(uO,"getIdxSuffix"),o(Dv,"assertMethodIdxIsValid")}),_5e,TQe=I(()=>{"use strict";nr(),dv(),no(),_5e=class{static{o(this,"PerformanceTracer")}initPerformanceTracer(e){if(gr(e,"traceInitPerf")){let t=e.traceInitPerf,r=typeof t=="number";this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=fc.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(this.traceInitPerf===!0){this.traceInitIndent++;let r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);let{time:n,value:i}=hR(t),a=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,i}else return t()}}});function C5e(e,t){t.forEach(r=>{let n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;let a=Object.getOwnPropertyDescriptor(n,i);a&&(a.get||a.set)?Object.defineProperty(e.prototype,i,a):e.prototype[i]=r.prototype[i]})})}var EQe=I(()=>{"use strict";o(C5e,"applyMixins")});function fO(e=void 0){return function(){return e}}var Ov,fc,Pv,cs,F6,S5e,no=I(()=>{"use strict";nr(),dv(),lQe(),Ig(),Tv(),hQe(),n5e(),dQe(),mQe(),yQe(),vQe(),bQe(),xQe(),kQe(),wQe(),TQe(),EQe(),O6(),Ov=A6(yu,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(Ov),fc=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:z0,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Pv=Object.freeze({recoveryValueFunc:o(()=>{},"recoveryValueFunc"),resyncEnabled:!0}),function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(cs||(cs={})),o(fO,"EMPTY_ALT"),F6=class Dqe{static{o(this,"Parser")}static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{dR(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Be(this.definedRulesNames,i=>{let a=this[i].originalGrammarAction,s;this.TRACE_INIT(`${i} Rule`,()=>{s=this.topLevelRuleRecord(i,a)}),this.gastProductionsCache[i]=s})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=X3e({rules:Cn(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(un(n)&&this.skipValidations===!1){let i=K3e({rules:Cn(this.gastProductionsCache),tokenTypes:Cn(this.tokensMap),errMsgProvider:Xh,grammarName:r}),a=R3e({lookaheadStrategy:this.lookaheadStrategy,rules:Cn(this.gastProductionsCache),tokenTypes:Cn(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,a)}}),un(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let i=L4e(Cn(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,a;(a=(i=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(i,{rules:Cn(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Cn(this.gastProductionsCache))})),!Dqe.DEFER_DEFINITION_ERRORS_HANDLING&&!un(this.definitionErrors))throw t=wt(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),gr(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=gr(r,"skipValidations")?r.skipValidations:fc.skipValidations}},F6.DEFER_DEFINITION_ERRORS_HANDLING=!1,C5e(F6,[r5e,s5e,m5e,y5e,b5e,v5e,x5e,k5e,E5e,_5e]),S5e=class extends F6{static{o(this,"EmbeddedActionsParser")}constructor(e,t=fc){let r=Mi(t);r.outputCst=!1,super(e,r)}}}),_Qe=I(()=>{"use strict";Rs()}),CQe=I(()=>{"use strict"}),SQe=I(()=>{"use strict";_Qe(),CQe()}),AQe=I(()=>{"use strict";v4e()}),Dg=I(()=>{"use strict";v4e(),no(),S6(),Ig(),Sv(),i5e(),Tv(),Iv(),m3e(),Rs(),Rs(),SQe(),AQe()});function G0(e,t,r){return`${e.name}_${t}_${r}`}function A5e(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};L5e(t,e);let r=e.length;for(let n=0;n<r;n++){let i=e[n],a=Kh(t,i,i);a!==void 0&&z5e(t,i,a)}return t}function L5e(e,t){let r=t.length;for(let n=0;n<r;n++){let i=t[n],a=Xi(e,i,void 0,{type:q5e}),s=Xi(e,i,void 0,{type:Rg});a.stop=s,e.ruleToStartState.set(i,a),e.ruleToStopState.set(i,s)}}function mO(e,t,r){return r instanceof Gn?z6(e,t,r.terminalType,r):r instanceof Ya?F5e(e,t,r):r instanceof os?R5e(e,t,r):r instanceof oa?O5e(e,t,r):r instanceof si?N5e(e,t,r):r instanceof ss?I5e(e,t,r):r instanceof Ms?M5e(e,t,r):r instanceof Ds?D5e(e,t,r):Kh(e,t,r)}function N5e(e,t,r){let n=Xi(e,t,r,{type:xO});vu(e,n);let i=q0(e,t,n,r,Kh(e,t,r));return vO(e,t,r,i)}function I5e(e,t,r){let n=Xi(e,t,r,{type:xO});vu(e,n);let i=q0(e,t,n,r,Kh(e,t,r)),a=z6(e,t,r.separator,r);return vO(e,t,r,i,a)}function M5e(e,t,r){let n=Xi(e,t,r,{type:bO});vu(e,n);let i=q0(e,t,n,r,Kh(e,t,r));return yO(e,t,r,i)}function D5e(e,t,r){let n=Xi(e,t,r,{type:bO});vu(e,n);let i=q0(e,t,n,r,Kh(e,t,r)),a=z6(e,t,r.separator,r);return yO(e,t,r,i,a)}function R5e(e,t,r){let n=Xi(e,t,r,{type:bu});vu(e,n);let i=wt(r.definition,a=>mO(e,t,a));return q0(e,t,n,r,...i)}function O5e(e,t,r){let n=Xi(e,t,r,{type:bu});vu(e,n);let i=q0(e,t,n,r,Kh(e,t,r));return P5e(e,t,r,i)}function Kh(e,t,r){let n=ai(wt(r.definition,i=>mO(e,t,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:$5e(e,n)}function yO(e,t,r,n,i){let a=n.left,s=n.right,l=Xi(e,t,r,{type:H5e});vu(e,l);let u=Xi(e,t,r,{type:kO});return a.loopback=l,u.loopback=l,e.decisionMap[G0(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=l,Ci(s,l),i===void 0?(Ci(l,a),Ci(l,u)):(Ci(l,u),Ci(l,i.left),Ci(i.right,a)),{left:a,right:u}}function vO(e,t,r,n,i){let a=n.left,s=n.right,l=Xi(e,t,r,{type:U5e});vu(e,l);let u=Xi(e,t,r,{type:kO}),h=Xi(e,t,r,{type:Y5e});return l.loopback=h,u.loopback=h,Ci(l,a),Ci(l,u),Ci(s,h),i!==void 0?(Ci(h,u),Ci(h,i.left),Ci(i.right,a)):Ci(h,l),e.decisionMap[G0(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=l,{left:l,right:u}}function P5e(e,t,r,n){let i=n.left,a=n.right;return Ci(i,a),e.decisionMap[G0(t,"Option",r.idx)]=i,n}function vu(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function q0(e,t,r,n,...i){let a=Xi(e,t,n,{type:j5e,start:r});r.end=a;for(let l of i)l!==void 0?(Ci(r,l.left),Ci(l.right,a)):Ci(r,a);let s={left:r,right:a};return e.decisionMap[G0(t,B5e(n),n.idx)]=r,s}function B5e(e){if(e instanceof os)return"Alternation";if(e instanceof oa)return"Option";if(e instanceof si)return"Repetition";if(e instanceof ss)return"RepetitionWithSeparator";if(e instanceof Ms)return"RepetitionMandatory";if(e instanceof Ds)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function $5e(e,t){let r=t.length;for(let a=0;a<r-1;a++){let s=t[a],l;s.left.transitions.length===1&&(l=s.left.transitions[0]);let u=l instanceof Y6,h=l,d=t[a+1].left;s.left.type===bu&&s.right.type===bu&&l!==void 0&&(u&&h.followState===s.right||l.target===s.right)?(u?h.followState=d:l.target=d,G5e(e,s.right)):Ci(s.right,d)}let n=t[0],i=t[r-1];return{left:n.left,right:i.right}}function z6(e,t,r,n){let i=Xi(e,t,n,{type:bu}),a=Xi(e,t,n,{type:bu});return G6(i,new j6(a,r)),{left:i,right:a}}function F5e(e,t,r){let n=r.referencedRule,i=e.ruleToStartState.get(n),a=Xi(e,t,r,{type:bu}),s=Xi(e,t,r,{type:bu}),l=new Y6(i,n,s);return G6(a,l),{left:a,right:s}}function z5e(e,t,r){let n=e.ruleToStartState.get(t);Ci(n,r.left);let i=e.ruleToStopState.get(t);return Ci(r.right,i),{left:n,right:i}}function Ci(e,t){let r=new wO(t);G6(e,r)}function Xi(e,t,r,n){let i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function G6(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function G5e(e,t){e.states.splice(e.states.indexOf(t),1)}var bu,q5e,bO,xO,Rg,j5e,Y5e,U5e,H5e,kO,q6,j6,wO,Y6,LQe=I(()=>{"use strict";$2(),ame(),Dg(),o(G0,"buildATNKey"),bu=1,q5e=2,bO=4,xO=5,Rg=7,j5e=8,Y5e=9,U5e=10,H5e=11,kO=12,q6=class{static{o(this,"AbstractTransition")}constructor(e){this.target=e}isEpsilon(){return!1}},j6=class extends q6{static{o(this,"AtomTransition")}constructor(e,t){super(e),this.tokenType=t}},wO=class extends q6{static{o(this,"EpsilonTransition")}constructor(e){super(e)}isEpsilon(){return!0}},Y6=class extends q6{static{o(this,"RuleTransition")}constructor(e,t,r){super(e),this.rule=t,this.followState=r}isEpsilon(){return!0}},o(A5e,"createATN"),o(L5e,"createRuleStartAndStopATNStates"),o(mO,"atom"),o(N5e,"repetition"),o(I5e,"repetitionSep"),o(M5e,"repetitionMandatory"),o(D5e,"repetitionMandatorySep"),o(R5e,"alternation"),o(O5e,"option"),o(Kh,"block"),o(yO,"plus"),o(vO,"star"),o(P5e,"optional"),o(vu,"defineDecisionState"),o(q0,"makeAlts"),o(B5e,"getProdType"),o($5e,"makeBlock"),o(z6,"tokenRef"),o(F5e,"ruleRef"),o(z5e,"buildRuleHandle"),o(Ci,"epsilon"),o(Xi,"newState"),o(G6,"addTransition"),o(G5e,"removeState")});function TO(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}var Bv,U6,NQe=I(()=>{"use strict";$2(),Bv={},U6=class{static{o(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){let t=TO(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return wt(this.configs,e=>e.alt)}get key(){let e="";for(let t in this.map)e+=t+":";return e}},o(TO,"getATNConfigKey")});function W5e(e,t){let r={};return n=>{let i=n.toString(),a=r[i];return a!==void 0||(a={atnStartState:e,decision:t,states:{}},r[i]=a),a}}function EO(e,t=!0){let r=new Set;for(let n of e){let i=new Set;for(let a of n){if(a===void 0){if(t)break;return!1}let s=[a.tokenTypeIdx].concat(a.categoryMatches);for(let l of s)if(r.has(l)){if(!i.has(l))return!1}else r.add(l),i.add(l)}}return!0}function V5e(e){let t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=W5e(e.decisionStates[n],n);return r}function H6(e,t,r,n){let i=e[t](r),a=i.start;if(a===void 0){let s=ake(i.atnStartState);a=SO(i,_O(s)),i.start=a}return X5e.apply(this,[i,a,r,n])}function X5e(e,t,r,n){let i=t,a=1,s=[],l=this.LA(a++);for(;;){let u=tke(i,l);if(u===void 0&&(u=K5e.apply(this,[e,i,l,a,r,n])),u===Bv)return eke(s,i,l);if(u.isAcceptState===!0)return u.prediction;i=u,s.push(l),l=this.LA(a++)}}function K5e(e,t,r,n,i,a){let s=rke(t.configs,r,i);if(s.size===0)return CO(e,t,r,Bv),Bv;let l=_O(s),u=ike(s,i);if(u!==void 0)l.isAcceptState=!0,l.prediction=u,l.configs.uniqueAlt=u;else if(cke(s)){let h=A0(s.alts);l.isAcceptState=!0,l.prediction=h,l.configs.uniqueAlt=h,Z5e.apply(this,[e,n,s.alts,a])}return l=CO(e,t,r,l),l}function Z5e(e,t,r,n){let i=[];for(let h=1;h<=t;h++)i.push(this.LA(h).tokenType);let a=e.atnStartState,s=a.rule,l=a.production,u=Q5e({topLevelRule:s,ambiguityIndices:r,production:l,prefixPath:i});n(u)}function Q5e(e){let t=wt(e.prefixPath,i=>F0(i)).join(", "),r=e.production.idx===0?"":e.production.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${J5e(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function J5e(e){if(e instanceof Ya)return"SUBRULE";if(e instanceof oa)return"OPTION";if(e instanceof os)return"OR";if(e instanceof Ms)return"AT_LEAST_ONE";if(e instanceof Ds)return"AT_LEAST_ONE_SEP";if(e instanceof ss)return"MANY_SEP";if(e instanceof si)return"MANY";if(e instanceof Gn)return"CONSUME";throw Error("non exhaustive match")}function eke(e,t,r){let n=As(t.configs.elements,a=>a.state.transitions),i=v2e(n.filter(a=>a instanceof j6).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:e}}function tke(e,t){return e.edges[t.tokenTypeIdx]}function rke(e,t,r){let n=new U6,i=[];for(let s of e.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===Rg){i.push(s);continue}let l=s.state.transitions.length;for(let u=0;u<l;u++){let h=s.state.transitions[u],d=nke(h,t);d!==void 0&&n.add({state:d,alt:s.alt,stack:s.stack})}}let a;if(i.length===0&&n.size===1&&(a=n),a===void 0){a=new U6;for(let s of n.elements)$v(s,a)}if(i.length>0&&!oke(a))for(let s of i)a.add(s);return a}function nke(e,t){if(e instanceof j6&&DR(t,e.tokenType))return e.target}function ike(e,t){let r;for(let n of e.elements)if(t.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function _O(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function CO(e,t,r,n){return n=SO(e,n),t.edges[r.tokenTypeIdx]=n,n}function SO(e,t){if(t===Bv)return t;let r=t.configs.key,n=e.states[r];return n!==void 0?n:(t.configs.finalize(),e.states[r]=t,t)}function ake(e){let t=new U6,r=e.transitions.length;for(let n=0;n<r;n++){let i={state:e.transitions[n].target,alt:n,stack:[]};$v(i,t)}return t}function $v(e,t){let r=e.state;if(r.type===Rg){if(e.stack.length>0){let i=[...e.stack],a={state:i.pop(),alt:e.alt,stack:i};$v(a,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);let n=r.transitions.length;for(let i=0;i<n;i++){let a=r.transitions[i],s=ske(e,a);s!==void 0&&$v(s,t)}}function ske(e,t){if(t instanceof wO)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof Y6){let r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function oke(e){for(let t of e.elements)if(t.state.type===Rg)return!0;return!1}function lke(e){for(let t of e.elements)if(t.state.type!==Rg)return!1;return!0}function cke(e){if(lke(e))return!0;let t=uke(e.elements);return hke(t)&&!dke(t)}function uke(e){let t=new Map;for(let r of e){let n=TO(r,!1),i=t.get(n);i===void 0&&(i={},t.set(n,i)),i[r.alt]=!0}return t}function hke(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function dke(e){for(let t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var AO,LO,pke,IQe=I(()=>{"use strict";Dg(),LQe(),NQe(),aye(),yme(),tZe(),$2(),iI(),WI(),QI(),Jye(),o(W5e,"createDFACache"),AO=class{static{o(this,"PredicateSet")}constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="",t=this.predicates.length;for(let r=0;r<t;r++)e+=this.predicates[r]===!0?"1":"0";return e}},LO=new AO,pke=class extends $6{static{o(this,"LLStarLookaheadStrategy")}constructor(e){var t;super(),this.logging=(t=e?.logging)!==null&&t!==void 0?t:r=>console.log(r)}initialize(e){this.atn=A5e(e.rules),this.dfas=V5e(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){let{prodOccurrence:t,rule:r,hasPredicates:n,dynamicTokensEnabled:i}=e,a=this.dfas,s=this.logging,l=G0(r,"Alternation",t),u=this.atn.decisionMap[l].decision,h=wt(UR({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:r}),d=>wt(d,p=>p[0]));if(EO(h,!1)&&!i){let d=Ei(h,(p,f,g)=>(Be(f,m=>{m&&(p[m.tokenTypeIdx]=g,Be(m.categoryMatches,y=>{p[y]=g}))}),p),{});return n?function(p){var f;let g=this.LA(1),m=d[g.tokenTypeIdx];if(p!==void 0&&m!==void 0){let y=(f=p[m])===null||f===void 0?void 0:f.GATE;if(y!==void 0&&y.call(this)===!1)return}return m}:function(){let p=this.LA(1);return d[p.tokenTypeIdx]}}else return n?function(d){let p=new AO,f=d===void 0?0:d.length;for(let m=0;m<f;m++){let y=d?.[m].GATE;p.set(m,y===void 0||y.call(this))}let g=H6.call(this,a,u,p,s);return typeof g=="number"?g:void 0}:function(){let d=H6.call(this,a,u,LO,s);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(e){let{prodOccurrence:t,rule:r,prodType:n,dynamicTokensEnabled:i}=e,a=this.dfas,s=this.logging,l=G0(r,n,t),u=this.atn.decisionMap[l].decision,h=wt(UR({maxLookahead:1,occurrence:t,prodType:n,rule:r}),d=>wt(d,p=>p[0]));if(EO(h)&&h[0][0]&&!i){let d=h[0],p=Vi(d);if(p.length===1&&un(p[0].categoryMatches)){let f=p[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===f}}else{let f=Ei(p,(g,m)=>(m!==void 0&&(g[m.tokenTypeIdx]=!0,Be(m.categoryMatches,y=>{g[y]=!0})),g),{});return function(){let g=this.LA(1);return f[g.tokenTypeIdx]===!0}}}return function(){let d=H6.call(this,a,u,LO,s);return typeof d=="object"?!1:d===0}}},o(EO,"isLL1Sequence"),o(V5e,"initATNSimulator"),o(H6,"adaptivePredict"),o(X5e,"performLookahead"),o(K5e,"computeLookaheadTarget"),o(Z5e,"reportLookaheadAmbiguity"),o(Q5e,"buildAmbiguityError"),o(J5e,"getProductionDslName"),o(eke,"buildAdaptivePredictError"),o(tke,"getExistingTargetState"),o(rke,"computeReachSet"),o(nke,"getReachableTarget"),o(ike,"getUniqueAlt"),o(_O,"newDFAState"),o(CO,"addDFAEdge"),o(SO,"addDFAState"),o(ake,"computeStartState"),o($v,"closure"),o(ske,"getEpsilonTarget"),o(oke,"hasConfigInRuleStopState"),o(lke,"allConfigsInRuleStopStates"),o(cke,"hasConflictTerminatingPrediction"),o(uke,"getConflictingAltSets"),o(hke,"hasConflictingAltSet"),o(dke,"hasStateAssociatedWithOneAlt")}),MQe=I(()=>{"use strict";IQe()}),gke,NO,fke,W6,kn,Jr,V6,mke,IO,yke,vke,bke,xke,MO,kke,wke,Tke,X6,Og,Pg,DO,Bg,Eke,RO,OO,PO,BO,$O,_ke,Cke,FO,Ske,zO,Fv,Ake,Lke,Nke,Ike,Mke,Dke,Rke,Oke,K6,Pke,Bke,$ke,Fke,zke,Gke,qke,jke,Yke,Uke,Hke,Z6,Wke,Vke,Xke,Kke,Zke,Qke,Jke,ewe,twe,rwe,nwe,iwe,awe,GO,qO,swe,owe,lwe,cwe,uwe,hwe,dwe,pwe,gwe,fwe,qe,mwe=I(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(gke||(gke={})),function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t}(NO||(NO={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t}(fke||(fke={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t}(W6||(W6={})),function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=W6.MAX_VALUE),i===Number.MAX_VALUE&&(i=W6.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&qe.uinteger(i.line)&&qe.uinteger(i.character)}o(r,"is"),e.is=r}(kn||(kn={})),function(e){function t(n,i,a,s){if(qe.uinteger(n)&&qe.uinteger(i)&&qe.uinteger(a)&&qe.uinteger(s))return{start:kn.create(n,i),end:kn.create(a,s)};if(kn.is(n)&&kn.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${a}, ${s}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&kn.is(i.start)&&kn.is(i.end)}o(r,"is"),e.is=r}(Jr||(Jr={})),function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&Jr.is(i.range)&&(qe.string(i.uri)||qe.undefined(i.uri))}o(r,"is"),e.is=r}(V6||(V6={})),function(e){function t(n,i,a,s){return{targetUri:n,targetRange:i,targetSelectionRange:a,originSelectionRange:s}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&Jr.is(i.targetRange)&&qe.string(i.targetUri)&&Jr.is(i.targetSelectionRange)&&(Jr.is(i.originSelectionRange)||qe.undefined(i.originSelectionRange))}o(r,"is"),e.is=r}(mke||(mke={})),function(e){function t(n,i,a,s){return{red:n,green:i,blue:a,alpha:s}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&qe.numberRange(i.red,0,1)&&qe.numberRange(i.green,0,1)&&qe.numberRange(i.blue,0,1)&&qe.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r}(IO||(IO={})),function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&Jr.is(i.range)&&IO.is(i.color)}o(r,"is"),e.is=r}(yke||(yke={})),function(e){function t(n,i,a){return{label:n,textEdit:i,additionalTextEdits:a}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&qe.string(i.label)&&(qe.undefined(i.textEdit)||Pg.is(i))&&(qe.undefined(i.additionalTextEdits)||qe.typedArray(i.additionalTextEdits,Pg.is))}o(r,"is"),e.is=r}(vke||(vke={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(bke||(bke={})),function(e){function t(n,i,a,s,l,u){let h={startLine:n,endLine:i};return qe.defined(a)&&(h.startCharacter=a),qe.defined(s)&&(h.endCharacter=s),qe.defined(l)&&(h.kind=l),qe.defined(u)&&(h.collapsedText=u),h}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&qe.uinteger(i.startLine)&&qe.uinteger(i.startLine)&&(qe.undefined(i.startCharacter)||qe.uinteger(i.startCharacter))&&(qe.undefined(i.endCharacter)||qe.uinteger(i.endCharacter))&&(qe.undefined(i.kind)||qe.string(i.kind))}o(r,"is"),e.is=r}(xke||(xke={})),function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&V6.is(i.location)&&qe.string(i.message)}o(r,"is"),e.is=r}(MO||(MO={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(kke||(kke={})),function(e){e.Unnecessary=1,e.Deprecated=2}(wke||(wke={})),function(e){function t(r){let n=r;return qe.objectLiteral(n)&&qe.string(n.href)}o(t,"is"),e.is=t}(Tke||(Tke={})),function(e){function t(n,i,a,s,l,u){let h={range:n,message:i};return qe.defined(a)&&(h.severity=a),qe.defined(s)&&(h.code=s),qe.defined(l)&&(h.source=l),qe.defined(u)&&(h.relatedInformation=u),h}o(t,"create"),e.create=t;function r(n){var i;let a=n;return qe.defined(a)&&Jr.is(a.range)&&qe.string(a.message)&&(qe.number(a.severity)||qe.undefined(a.severity))&&(qe.integer(a.code)||qe.string(a.code)||qe.undefined(a.code))&&(qe.undefined(a.codeDescription)||qe.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&(qe.string(a.source)||qe.undefined(a.source))&&(qe.undefined(a.relatedInformation)||qe.typedArray(a.relatedInformation,MO.is))}o(r,"is"),e.is=r}(X6||(X6={})),function(e){function t(n,i,...a){let s={title:n,command:i};return qe.defined(a)&&a.length>0&&(s.arguments=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&qe.string(i.title)&&qe.string(i.command)}o(r,"is"),e.is=r}(Og||(Og={})),function(e){function t(a,s){return{range:a,newText:s}}o(t,"replace"),e.replace=t;function r(a,s){return{range:{start:a,end:a},newText:s}}o(r,"insert"),e.insert=r;function n(a){return{range:a,newText:""}}o(n,"del"),e.del=n;function i(a){let s=a;return qe.objectLiteral(s)&&qe.string(s.newText)&&Jr.is(s.range)}o(i,"is"),e.is=i}(Pg||(Pg={})),function(e){function t(n,i,a){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),a!==void 0&&(s.description=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&qe.string(i.label)&&(qe.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(qe.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r}(DO||(DO={})),function(e){function t(r){let n=r;return qe.string(n)}o(t,"is"),e.is=t}(Bg||(Bg={})),function(e){function t(a,s,l){return{range:a,newText:s,annotationId:l}}o(t,"replace"),e.replace=t;function r(a,s,l){return{range:{start:a,end:a},newText:s,annotationId:l}}o(r,"insert"),e.insert=r;function n(a,s){return{range:a,newText:"",annotationId:s}}o(n,"del"),e.del=n;function i(a){let s=a;return Pg.is(s)&&(DO.is(s.annotationId)||Bg.is(s.annotationId))}o(i,"is"),e.is=i}(Eke||(Eke={})),function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&FO.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r}(RO||(RO={})),function(e){function t(n,i,a){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&qe.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||qe.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||qe.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Bg.is(i.annotationId))}o(r,"is"),e.is=r}(OO||(OO={})),function(e){function t(n,i,a,s){let l={kind:"rename",oldUri:n,newUri:i};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(l.options=a),s!==void 0&&(l.annotationId=s),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&qe.string(i.oldUri)&&qe.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||qe.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||qe.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Bg.is(i.annotationId))}o(r,"is"),e.is=r}(PO||(PO={})),function(e){function t(n,i,a){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&qe.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||qe.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||qe.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Bg.is(i.annotationId))}o(r,"is"),e.is=r}(BO||(BO={})),function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>qe.string(i.kind)?OO.is(i)||PO.is(i)||BO.is(i):RO.is(i)))}o(t,"is"),e.is=t}($O||($O={})),function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&qe.string(i.uri)}o(r,"is"),e.is=r}(_ke||(_ke={})),function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&qe.string(i.uri)&&qe.integer(i.version)}o(r,"is"),e.is=r}(Cke||(Cke={})),function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&qe.string(i.uri)&&(i.version===null||qe.integer(i.version))}o(r,"is"),e.is=r}(FO||(FO={})),function(e){function t(n,i,a,s){return{uri:n,languageId:i,version:a,text:s}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&qe.string(i.uri)&&qe.string(i.languageId)&&qe.integer(i.version)&&qe.string(i.text)}o(r,"is"),e.is=r}(Ske||(Ske={})),function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t}(zO||(zO={})),function(e){function t(r){let n=r;return qe.objectLiteral(r)&&zO.is(n.kind)&&qe.string(n.value)}o(t,"is"),e.is=t}(Fv||(Fv={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(Ake||(Ake={})),function(e){e.PlainText=1,e.Snippet=2}(Lke||(Lke={})),function(e){e.Deprecated=1}(Nke||(Nke={})),function(e){function t(n,i,a){return{newText:n,insert:i,replace:a}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&qe.string(i.newText)&&Jr.is(i.insert)&&Jr.is(i.replace)}o(r,"is"),e.is=r}(Ike||(Ike={})),function(e){e.asIs=1,e.adjustIndentation=2}(Mke||(Mke={})),function(e){function t(r){let n=r;return n&&(qe.string(n.detail)||n.detail===void 0)&&(qe.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t}(Dke||(Dke={})),function(e){function t(r){return{label:r}}o(t,"create"),e.create=t}(Rke||(Rke={})),function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t}(Oke||(Oke={})),function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return qe.string(i)||qe.objectLiteral(i)&&qe.string(i.language)&&qe.string(i.value)}o(r,"is"),e.is=r}(K6||(K6={})),function(e){function t(r){let n=r;return!!n&&qe.objectLiteral(n)&&(Fv.is(n.contents)||K6.is(n.contents)||qe.typedArray(n.contents,K6.is))&&(r.range===void 0||Jr.is(r.range))}o(t,"is"),e.is=t}(Pke||(Pke={})),function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t}(Bke||(Bke={})),function(e){function t(r,n,...i){let a={label:r};return qe.defined(n)&&(a.documentation=n),qe.defined(i)?a.parameters=i:a.parameters=[],a}o(t,"create"),e.create=t}($ke||($ke={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Fke||(Fke={})),function(e){function t(r,n){let i={range:r};return qe.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t}(zke||(zke={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Gke||(Gke={})),function(e){e.Deprecated=1}(qke||(qke={})),function(e){function t(r,n,i,a,s){let l={name:r,kind:n,location:{uri:a,range:i}};return s&&(l.containerName=s),l}o(t,"create"),e.create=t}(jke||(jke={})),function(e){function t(r,n,i,a){return a!==void 0?{name:r,kind:n,location:{uri:i,range:a}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t}(Yke||(Yke={})),function(e){function t(n,i,a,s,l,u){let h={name:n,detail:i,kind:a,range:s,selectionRange:l};return u!==void 0&&(h.children=u),h}o(t,"create"),e.create=t;function r(n){let i=n;return i&&qe.string(i.name)&&qe.number(i.kind)&&Jr.is(i.range)&&Jr.is(i.selectionRange)&&(i.detail===void 0||qe.string(i.detail))&&(i.deprecated===void 0||qe.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r}(Uke||(Uke={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Hke||(Hke={})),function(e){e.Invoked=1,e.Automatic=2}(Z6||(Z6={})),function(e){function t(n,i,a){let s={diagnostics:n};return i!=null&&(s.only=i),a!=null&&(s.triggerKind=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&qe.typedArray(i.diagnostics,X6.is)&&(i.only===void 0||qe.typedArray(i.only,qe.string))&&(i.triggerKind===void 0||i.triggerKind===Z6.Invoked||i.triggerKind===Z6.Automatic)}o(r,"is"),e.is=r}(Wke||(Wke={})),function(e){function t(n,i,a){let s={title:n},l=!0;return typeof i=="string"?(l=!1,s.kind=i):Og.is(i)?s.command=i:s.edit=i,l&&a!==void 0&&(s.kind=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return i&&qe.string(i.title)&&(i.diagnostics===void 0||qe.typedArray(i.diagnostics,X6.is))&&(i.kind===void 0||qe.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Og.is(i.command))&&(i.isPreferred===void 0||qe.boolean(i.isPreferred))&&(i.edit===void 0||$O.is(i.edit))}o(r,"is"),e.is=r}(Vke||(Vke={})),function(e){function t(n,i){let a={range:n};return qe.defined(i)&&(a.data=i),a}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&Jr.is(i.range)&&(qe.undefined(i.command)||Og.is(i.command))}o(r,"is"),e.is=r}(Xke||(Xke={})),function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&qe.uinteger(i.tabSize)&&qe.boolean(i.insertSpaces)}o(r,"is"),e.is=r}(Kke||(Kke={})),function(e){function t(n,i,a){return{range:n,target:i,data:a}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&Jr.is(i.range)&&(qe.undefined(i.target)||qe.string(i.target))}o(r,"is"),e.is=r}(Zke||(Zke={})),function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&Jr.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r}(Qke||(Qke={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(Jke||(Jke={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(ewe||(ewe={})),function(e){function t(r){let n=r;return qe.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t}(twe||(twe={})),function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Jr.is(i.range)&&qe.string(i.text)}o(r,"is"),e.is=r}(rwe||(rwe={})),function(e){function t(n,i,a){return{range:n,variableName:i,caseSensitiveLookup:a}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Jr.is(i.range)&&qe.boolean(i.caseSensitiveLookup)&&(qe.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r}(nwe||(nwe={})),function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Jr.is(i.range)&&(qe.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r}(iwe||(iwe={})),function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.defined(i)&&Jr.is(n.stoppedLocation)}o(r,"is"),e.is=r}(awe||(awe={})),function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t}(GO||(GO={})),function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&(i.tooltip===void 0||qe.string(i.tooltip)||Fv.is(i.tooltip))&&(i.location===void 0||V6.is(i.location))&&(i.command===void 0||Og.is(i.command))}o(r,"is"),e.is=r}(qO||(qO={})),function(e){function t(n,i,a){let s={position:n,label:i};return a!==void 0&&(s.kind=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return qe.objectLiteral(i)&&kn.is(i.position)&&(qe.string(i.label)||qe.typedArray(i.label,qO.is))&&(i.kind===void 0||GO.is(i.kind))&&i.textEdits===void 0||qe.typedArray(i.textEdits,Pg.is)&&(i.tooltip===void 0||qe.string(i.tooltip)||Fv.is(i.tooltip))&&(i.paddingLeft===void 0||qe.boolean(i.paddingLeft))&&(i.paddingRight===void 0||qe.boolean(i.paddingRight))}o(r,"is"),e.is=r}(swe||(swe={})),function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t}(owe||(owe={})),function(e){function t(r,n,i,a){return{insertText:r,filterText:n,range:i,command:a}}o(t,"create"),e.create=t}(lwe||(lwe={})),function(e){function t(r){return{items:r}}o(t,"create"),e.create=t}(cwe||(cwe={})),function(e){e.Invoked=0,e.Automatic=1}(uwe||(uwe={})),function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t}(hwe||(hwe={})),function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t}(dwe||(dwe={})),function(e){function t(r){let n=r;return qe.objectLiteral(n)&&NO.is(n.uri)&&qe.string(n.name)}o(t,"is"),e.is=t}(pwe||(pwe={})),function(e){function t(a,s,l,u){return new fwe(a,s,l,u)}o(t,"create"),e.create=t;function r(a){let s=a;return!!(qe.defined(s)&&qe.string(s.uri)&&(qe.undefined(s.languageId)||qe.string(s.languageId))&&qe.uinteger(s.lineCount)&&qe.func(s.getText)&&qe.func(s.positionAt)&&qe.func(s.offsetAt))}o(r,"is"),e.is=r;function n(a,s){let l=a.getText(),u=i(s,(d,p)=>{let f=d.range.start.line-p.range.start.line;return f===0?d.range.start.character-p.range.start.character:f}),h=l.length;for(let d=u.length-1;d>=0;d--){let p=u[d],f=a.offsetAt(p.range.start),g=a.offsetAt(p.range.end);if(g<=h)l=l.substring(0,f)+p.newText+l.substring(g,l.length);else throw new Error("Overlapping edit");h=f}return l}o(n,"applyEdits"),e.applyEdits=n;function i(a,s){if(a.length<=1)return a;let l=a.length/2|0,u=a.slice(0,l),h=a.slice(l);i(u,s),i(h,s);let d=0,p=0,f=0;for(;d<u.length&&p<h.length;)s(u[d],h[p])<=0?a[f++]=u[d++]:a[f++]=h[p++];for(;d<u.length;)a[f++]=u[d++];for(;p<h.length;)a[f++]=h[p++];return a}o(i,"mergeSort")}(gwe||(gwe={})),fwe=class{static{o(this,"FullTextDocument")}constructor(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,r=!0;for(let n=0;n<t.length;n++){r&&(e.push(n),r=!1);let i=t.charAt(n);r=i==="\r"||i===`
`,i==="\r"&&n+1<t.length&&t.charAt(n+1)===`
`&&n++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),r=0,n=t.length;if(n===0)return kn.create(0,e);for(;r<n;){let a=Math.floor((r+n)/2);t[a]>e?n=a:r=a+1}let i=r-1;return kn.create(i,e-t[i])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)}get lineCount(){return this.getLineOffsets().length}},function(e){let t=Object.prototype.toString;function r(g){return typeof g<"u"}o(r,"defined"),e.defined=r;function n(g){return typeof g>"u"}o(n,"undefined"),e.undefined=n;function i(g){return g===!0||g===!1}o(i,"boolean"),e.boolean=i;function a(g){return t.call(g)==="[object String]"}o(a,"string"),e.string=a;function s(g){return t.call(g)==="[object Number]"}o(s,"number"),e.number=s;function l(g,m,y){return t.call(g)==="[object Number]"&&m<=g&&g<=y}o(l,"numberRange"),e.numberRange=l;function u(g){return t.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}o(u,"integer"),e.integer=u;function h(g){return t.call(g)==="[object Number]"&&0<=g&&g<=2147483647}o(h,"uinteger"),e.uinteger=h;function d(g){return t.call(g)==="[object Function]"}o(d,"func"),e.func=d;function p(g){return g!==null&&typeof g=="object"}o(p,"objectLiteral"),e.objectLiteral=p;function f(g,m){return Array.isArray(g)&&g.every(m)}o(f,"typedArray"),e.typedArray=f}(qe||(qe={}))}),jO,Q6,zv,Gv,ywe,J6,YO=I(()=>{"use strict";mwe(),vl(),dc(),jO=class{static{o(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new J6(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let t=new Gv;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){let r=new zv(e.startOffset,e.image.length,X2(e),e.tokenType,!1);return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){let t=e.container;if(t){let r=t.content.indexOf(e);r>=0&&t.content.splice(r,1)}}construct(e){let t=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=t;let r=this.nodeStack.pop();r?.content.length===0&&this.removeNode(r)}addHiddenTokens(e){for(let t of e){let r=new zv(t.startOffset,t.image.length,X2(t),t.tokenType,!0);r.root=this.rootNode,this.addHiddenToken(this.rootNode,r)}}addHiddenToken(e,t){let{offset:r,end:n}=t;for(let i=0;i<e.content.length;i++){let a=e.content[i],{offset:s,end:l}=a;if(hc(a)&&r>s&&n<l){this.addHiddenToken(a,t);return}else if(n<=s){e.content.splice(i,0,t);return}}e.content.push(t)}},Q6=class{static{o(this,"AbstractCstNode")}get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;let r=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(t=this.container)===null||t===void 0?void 0:t.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},zv=class extends Q6{static{o(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,r,n,i=!1){super(),this._hidden=i,this._offset=e,this._tokenType=n,this._length=t,this._range=r}},Gv=class extends Q6{static{o(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new ywe(this)}get children(){return this.content}get offset(){var e,t;return(t=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&t!==void 0?t:0}get length(){return this.end-this.offset}get end(){var e,t;return(t=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&t!==void 0?t:0}get range(){let e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(this._rangeCache===void 0){let{range:r}=e,{range:n}=t;this._rangeCache={start:r.start,end:n.end.line<r.start.line?r.start:n.end}}return this._rangeCache}else return{start:kn.create(0,0),end:kn.create(0,0)}}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}},ywe=class Rqe extends Array{static{o(this,"CstNodeContainer")}constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,Rqe.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...n){return this.addParents(n),super.splice(t,r,...n)}addParents(t){for(let r of t)r.container=this.parent}},J6=class extends Gv{static{o(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}});function e7(e){return e.$type===qv}var qv,UO,HO,t7,WO,VO,r7,XO,vwe,bwe,n7=I(()=>{"use strict";Dg(),MQe(),gu(),gc(),Is(),YO(),qv=Symbol("Datatype"),o(e7,"isDataTypeNode"),UO="\u200B",HO=o(e=>e.endsWith(UO)?e:e+UO,"withRuleSuffix"),t7=class{static{o(this,"AbstractLangiumParser")}constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;let t=this.lexer.definition;this.wrapper=new bwe(t,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},WO=class extends t7{static{o(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new jO,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){let r=e.fragment?void 0:uv(e)?qv:Tg(e),n=this.wrapper.DEFINE_RULE(HO(e.name),this.startImplementation(r,t).bind(this));return e.entry&&(this.mainRule=n),n}parse(e){this.nodeBuilder.buildRootNode(e);let t=this.lexer.tokenize(e);this.wrapper.input=t.tokens;let r=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(t.hidden),this.unorderedGroups.clear(),{value:r,lexerErrors:t.errors,parserErrors:this.wrapper.errors}}startImplementation(e,t){return r=>{if(!this.isRecording()){let i={$type:e};this.stack.push(i),e===qv&&(i.value="")}let n;try{n=t(r)}catch{n=void 0}return!this.isRecording()&&n===void 0&&(n=this.construct()),n}}consume(e,t,r){let n=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(n)){let i=this.nodeBuilder.buildLeafNode(n,r),{assignment:a,isCrossRef:s}=this.getAssignment(r),l=this.current;if(a){let u=du(r)?n.image:this.converter.convert(n.image,i);this.assign(a.operator,a.feature,u,i,s)}else if(e7(l)){let u=n.image;du(r)||(u=this.converter.convert(u,i).toString()),l.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,t,r,n){let i;this.isRecording()||(i=this.nodeBuilder.buildCompositeNode(r));let a=this.wrapper.wrapSubrule(e,t,n);!this.isRecording()&&i&&i.length>0&&this.performSubruleAssignment(a,r,i)}performSubruleAssignment(e,t,r){let{assignment:n,isCrossRef:i}=this.getAssignment(t);if(n)this.assign(n.operator,n.feature,e,r,i);else if(!n){let a=this.current;if(e7(a))a.value+=e.toString();else if(typeof e=="object"&&e){let s=e.$type,l=this.assignWithoutOverride(e,a);s&&(l.$type=s);let u=l;this.stack.pop(),this.stack.push(u)}}}action(e,t){if(!this.isRecording()){let r=this.current;if(!r.$cstNode&&t.feature&&t.operator){r=this.construct(!1);let i=r.$cstNode.feature;this.nodeBuilder.buildCompositeNode(i)}let n={$type:e};this.stack.pop(),this.stack.push(n),t.feature&&t.operator&&this.assign(t.operator,t.feature,r,r.$cstNode,!1)}}construct(e=!0){if(this.isRecording())return;let t=this.current;return o6(t),this.nodeBuilder.construct(t),e&&this.stack.pop(),e7(t)?this.converter.convert(t.value,t.$cstNode):(BD(this.astReflection,t),t)}getAssignment(e){if(!this.assignmentMap.has(e)){let t=xg(e,hu);this.assignmentMap.set(e,{assignment:t,isCrossRef:t?Q2(t.terminal):!1})}return this.assignmentMap.get(e)}assign(e,t,r,n,i){let a=this.current,s;switch(i&&typeof r=="string"?s=this.linker.buildReference(a,t,n,r):s=r,e){case"=":{a[t]=s;break}case"?=":{a[t]=!0;break}case"+=":Array.isArray(a[t])||(a[t]=[]),a[t].push(s)}}assignWithoutOverride(e,t){for(let[r,n]of Object.entries(t)){let i=e[r];i===void 0?e[r]=n:Array.isArray(i)&&Array.isArray(n)&&(n.push(...i),e[r]=n)}return e}get definitionErrors(){return this.wrapper.definitionErrors}},VO=class{static{o(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(e){return z0.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return z0.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return z0.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return z0.buildEarlyExitMessage(e)}},r7=class extends VO{static{o(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},XO=class extends t7{static{o(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let t=this.lexer.tokenize(e);return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){let r=this.wrapper.DEFINE_RULE(HO(e.name),this.startImplementation(t).bind(this));return e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{let r=this.keepStackSize();try{e(t)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,r){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,r,n){this.before(r),this.wrapper.wrapSubrule(e,t,n),this.after(r)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}},vwe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new r7},bwe=class extends S5e{static{o(this,"ChevrotainWrapper")}constructor(e,t){let r=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},vwe),{lookaheadStrategy:r?new $6({maxLookahead:t.maxLookahead}):new pke}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,r){return this.subrule(e,t,{ARGS:[r]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}}});function KO(e,t,r){return xwe({parser:t,tokens:r,rules:new Map,ruleNames:new Map},e),t}function xwe(e,t){let r=p6(t,!1),n=_i(t.rules).filter(Ns).filter(i=>r.has(i));for(let i of n){let a=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});a.rules.set(i.name,e.parser.rule(i,Zh(a,i.definition)))}}function Zh(e,t,r=!1){let n;if(du(t))n=Swe(e,t);else if(Uh(t))n=kwe(e,t);else if(hu(t))n=Zh(e,t.terminal);else if(Q2(t))n=ZO(e,t);else if(pu(t))n=wwe(e,t);else if(xw(t))n=Ewe(e,t);else if(ww(t))n=_we(e,t);else if(R0(t))n=Cwe(e,t);else if(ED(t)){let i=e.consume++;n=o(()=>e.parser.consume(i,yu,t),"method")}else throw new K2(t.$cstNode,`Unexpected element type: ${t.$type}`);return QO(e,r?void 0:jv(t),n,t.cardinality)}function kwe(e,t){let r=Tg(t);return()=>e.parser.action(r,t)}function wwe(e,t){let r=t.rule.ref;if(Ns(r)){let n=e.subrule++,i=t.arguments.length>0?Twe(r,t.arguments):()=>({});return a=>e.parser.subrule(n,JO(e,r),t,i(a))}else if(uu(r)){let n=e.consume++,i=i7(e,r.name);return()=>e.parser.consume(n,i,t)}else if(r)D0(r);else throw new K2(t.$cstNode,`Undefined rule type: ${t.$type}`)}function Twe(e,t){let r=t.map(n=>mc(n.value));return n=>{let i={};for(let a=0;a<r.length;a++){let s=e.parameters[a],l=r[a];i[s.name]=l(n)}return i}}function mc(e){if(yD(e)){let t=mc(e.left),r=mc(e.right);return n=>t(n)||r(n)}else if(mD(e)){let t=mc(e.left),r=mc(e.right);return n=>t(n)&&r(n)}else if(vD(e)){let t=mc(e.value);return r=>!t(r)}else if(bD(e)){let t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(fD(e)){let t=!!e.true;return()=>t}D0(e)}function Ewe(e,t){if(t.elements.length===1)return Zh(e,t.elements[0]);{let r=[];for(let i of t.elements){let a={ALT:Zh(e,i,!0)},s=jv(i);s&&(a.GATE=mc(s)),r.push(a)}let n=e.or++;return i=>e.parser.alternatives(n,r.map(a=>{let s={ALT:o(()=>a.ALT(i),"ALT")},l=a.GATE;return l&&(s.GATE=()=>l(i)),s}))}}function _we(e,t){if(t.elements.length===1)return Zh(e,t.elements[0]);let r=[];for(let l of t.elements){let u={ALT:Zh(e,l,!0)},h=jv(l);h&&(u.GATE=mc(h)),r.push(u)}let n=e.or++,i=o((l,u)=>{let h=u.getRuleStack().join("-");return`uGroup_${l}_${h}`},"idFunc"),a=o(l=>e.parser.alternatives(n,r.map((u,h)=>{let d={ALT:o(()=>!0,"ALT")},p=e.parser;d.ALT=()=>{if(u.ALT(l),!p.isRecording()){let g=i(n,p);p.unorderedGroups.get(g)||p.unorderedGroups.set(g,[]);let m=p.unorderedGroups.get(g);typeof m?.[h]>"u"&&(m[h]=!0)}};let f=u.GATE;return f?d.GATE=()=>f(l):d.GATE=()=>!p.unorderedGroups.get(i(n,p))?.[h],d})),"alternatives"),s=QO(e,jv(t),a,"*");return l=>{s(l),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(n,e.parser))}}function Cwe(e,t){let r=t.elements.map(n=>Zh(e,n));return n=>r.forEach(i=>i(n))}function jv(e){if(R0(e))return e.guardCondition}function ZO(e,t,r=t.terminal){if(r)if(pu(r)&&Ns(r.rule.ref)){let n=e.subrule++;return i=>e.parser.subrule(n,JO(e,r.rule.ref),t,i)}else if(pu(r)&&uu(r.rule.ref)){let n=e.consume++,i=i7(e,r.rule.ref.name);return()=>e.parser.consume(n,i,t)}else if(du(r)){let n=e.consume++,i=i7(e,r.value);return()=>e.parser.consume(n,i,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let n=y6(t.type.ref),i=n?.terminal;if(!i)throw new Error("Could not find name assignment for type: "+Tg(t.type.ref));return ZO(e,t,i)}}function Swe(e,t){let r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function QO(e,t,r,n){let i=t&&mc(t);if(!n)if(i){let a=e.or++;return s=>e.parser.alternatives(a,[{ALT:o(()=>r(s),"ALT"),GATE:o(()=>i(s),"GATE")},{ALT:fO(),GATE:o(()=>!i(s),"GATE")}])}else return r;if(n==="*"){let a=e.many++;return s=>e.parser.many(a,{DEF:o(()=>r(s),"DEF"),GATE:i?()=>i(s):void 0})}else if(n==="+"){let a=e.many++;if(i){let s=e.or++;return l=>e.parser.alternatives(s,[{ALT:o(()=>e.parser.atLeastOne(a,{DEF:o(()=>r(l),"DEF")}),"ALT"),GATE:o(()=>i(l),"GATE")},{ALT:fO(),GATE:o(()=>!i(l),"GATE")}])}else return s=>e.parser.atLeastOne(a,{DEF:o(()=>r(s),"DEF")})}else if(n==="?"){let a=e.optional++;return s=>e.parser.optional(a,{DEF:o(()=>r(s),"DEF"),GATE:i?()=>i(s):void 0})}else D0(n)}function JO(e,t){let r=Awe(e,t),n=e.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function Awe(e,t){if(Ns(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!Ns(n);)(R0(n)||xw(n)||ww(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}}function i7(e,t){let r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}var Lwe=I(()=>{"use strict";Dg(),gu(),dD(),to(),gc(),o(KO,"createParser"),o(xwe,"buildRules"),o(Zh,"buildElement"),o(kwe,"buildAction"),o(wwe,"buildRuleCall"),o(Twe,"buildRuleCallPredicate"),o(mc,"buildPredicate"),o(Ewe,"buildAlternatives"),o(_we,"buildUnorderedGroup"),o(Cwe,"buildGroup"),o(jv,"getGuardCondition"),o(ZO,"buildCrossReference"),o(Swe,"buildKeyword"),o(QO,"wrap"),o(JO,"getRule"),o(Awe,"getRuleName"),o(i7,"getToken")});function eP(e){let t=e.Grammar,r=e.parser.Lexer,n=new XO(e);return KO(t,n,r.definition),n.finalize(),n}var Nwe=I(()=>{"use strict";n7(),Lwe(),o(eP,"createCompletionParser")});function tP(e){let t=rP(e);return t.finalize(),t}function rP(e){let t=e.Grammar,r=e.parser.Lexer,n=new WO(e);return KO(t,n,r.definition)}var Iwe=I(()=>{"use strict";n7(),Lwe(),o(tP,"createLangiumParser"),o(rP,"prepareLangiumParser")}),a7,Mwe=I(()=>{"use strict";Dg(),gu(),Is(),gc(),cv(),to(),a7=class{static{o(this,"DefaultTokenBuilder")}buildTokens(e,t){let r=_i(p6(e,!1)),n=this.buildTerminalTokens(r),i=this.buildKeywordTokens(r,n,t);return n.forEach(a=>{let s=a.PATTERN;typeof s=="object"&&s&&"test"in s&&d6(s)?i.unshift(a):i.push(a)}),i}buildTerminalTokens(e){return e.filter(uu).filter(t=>!t.fragment).map(t=>this.buildTerminalToken(t)).toArray()}buildTerminalToken(e){let t=hv(e),r=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,n={name:e.name,PATTERN:r,LINE_BREAKS:!0};return e.hidden&&(n.GROUP=d6(t)?ls.SKIPPED:"hidden"),n}requiresCustomPattern(e){return e.flags.includes("u")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){let t=new RegExp(e,e.flags+"y");return(r,n)=>(t.lastIndex=n,t.exec(r))}buildKeywordTokens(e,t,r){return e.filter(Ns).flatMap(n=>Hh(n).filter(du)).distinct(n=>n.value).toArray().sort((n,i)=>i.value.length-n.value.length).map(n=>this.buildKeywordToken(n,t,!!r?.caseInsensitive))}buildKeywordToken(e,t,r){return{name:e.value,PATTERN:this.buildKeywordPattern(e,r),LONGER_ALT:this.findLongerAlt(e,t)}}buildKeywordPattern(e,t){return t?new RegExp(YD(e.value)):e.value}findLongerAlt(e,t){return t.reduce((r,n)=>{let i=n?.PATTERN;return i?.source&&UD("^"+i.source+"$",e.value)&&r.push(n),r},[])}}}),s7,yc,Dwe=I(()=>{"use strict";gu(),gc(),s7=class{static{o(this,"DefaultValueConverter")}convert(e,t){let r=t.grammarSource;if(Q2(r)&&(r=JD(r)),pu(r)){let n=r.rule.ref;if(!n)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(n,e,t)}return e}runConverter(e,t,r){var n;switch(e.name.toUpperCase()){case"INT":return yc.convertInt(t);case"STRING":return yc.convertString(t);case"ID":return yc.convertID(t)}switch((n=lR(e))===null||n===void 0?void 0:n.toLowerCase()){case"number":return yc.convertNumber(t);case"boolean":return yc.convertBoolean(t);case"bigint":return yc.convertBigint(t);case"date":return yc.convertDate(t);default:return t}}},function(e){function t(h){let d="";for(let p=1;p<h.length-1;p++){let f=h.charAt(p);if(f==="\\"){let g=h.charAt(++p);d+=r(g)}else d+=f}return d}o(t,"convertString"),e.convertString=t;function r(h){switch(h){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return h}}o(r,"convertEscapeCharacter");function n(h){return h.charAt(0)==="^"?h.substring(1):h}o(n,"convertID"),e.convertID=n;function i(h){return parseInt(h)}o(i,"convertInt"),e.convertInt=i;function a(h){return BigInt(h)}o(a,"convertBigint"),e.convertBigint=a;function s(h){return new Date(h)}o(s,"convertDate"),e.convertDate=s;function l(h){return Number(h)}o(l,"convertNumber"),e.convertNumber=l;function u(h){return h.toLowerCase()==="true"}o(u,"convertBoolean"),e.convertBoolean=u}(yc||(yc={}))}),Rwe=Mt(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t;function r(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}o(r,"RAL"),function(n){function i(a){if(a===void 0)throw new Error("No runtime abstraction layer provided");t=a}o(i,"install"),n.install=i}(r||(r={})),e.default=r}),DQe=Mt(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0;function t(u){return u===!0||u===!1}o(t,"boolean"),e.boolean=t;function r(u){return typeof u=="string"||u instanceof String}o(r,"string"),e.string=r;function n(u){return typeof u=="number"||u instanceof Number}o(n,"number"),e.number=n;function i(u){return u instanceof Error}o(i,"error"),e.error=i;function a(u){return typeof u=="function"}o(a,"func"),e.func=a;function s(u){return Array.isArray(u)}o(s,"array"),e.array=s;function l(u){return s(u)&&u.every(h=>r(h))}o(l,"stringArray"),e.stringArray=l}),Owe=Mt(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;var t=Rwe(),r;(function(a){let s={dispose(){}};a.None=function(){return s}})(r||(e.Event=r={}));var n=class{static{o(this,"CallbackList")}add(a,s=null,l){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(a),this._contexts.push(s),Array.isArray(l)&&l.push({dispose:o(()=>this.remove(a,s),"dispose")})}remove(a,s=null){if(!this._callbacks)return;let l=!1;for(let u=0,h=this._callbacks.length;u<h;u++)if(this._callbacks[u]===a)if(this._contexts[u]===s){this._callbacks.splice(u,1),this._contexts.splice(u,1);return}else l=!0;if(l)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...a){if(!this._callbacks)return[];let s=[],l=this._callbacks.slice(0),u=this._contexts.slice(0);for(let h=0,d=l.length;h<d;h++)try{s.push(l[h].apply(u[h],a))}catch(p){(0,t.default)().console.error(p)}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},i=class Oqe{static{o(this,"Emitter")}constructor(s){this._options=s}get event(){return this._event||(this._event=(s,l,u)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,l);let h={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(s,l),h.dispose=Oqe._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(u)&&u.push(h),h}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};e.Emitter=i,i._noop=function(){}}),RQe=Mt(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;var t=Rwe(),r=DQe(),n=Owe(),i;(function(u){u.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),u.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function h(d){let p=d;return p&&(p===u.None||p===u.Cancelled||r.boolean(p.isCancellationRequested)&&!!p.onCancellationRequested)}o(h,"is"),u.is=h})(i||(e.CancellationToken=i={}));var a=Object.freeze(function(u,h){let d=(0,t.default)().timer.setTimeout(u.bind(h),0);return{dispose(){d.dispose()}}}),s=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},l=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=i.None}};e.CancellationTokenSource=l}),yi={},wl=I(()=>{"use strict";ri(yi,xr(RQe(),1))});function o7(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}function nP(){return l7=Date.now(),new yi.CancellationTokenSource}function iP(e){aP=e}function $g(e){return e===xu}async function Os(e){if(e===yi.CancellationToken.None)return;let t=Date.now();if(t-l7>=aP&&(l7=t,await o7()),e.isCancellationRequested)throw xu}var l7,aP,xu,vc,Tl=I(()=>{"use strict";wl(),o(o7,"delayNextTick"),l7=0,aP=10,o(nP,"startCancelableOperation"),o(iP,"setInterruptionPeriod"),xu=Symbol("OperationCancelled"),o($g,"isOperationCancelled"),o(Os,"interruptAndCheck"),vc=class{static{o(this,"Deferred")}constructor(){this.promise=new Promise((e,t)=>{this.resolve=r=>(e(r),this),this.reject=r=>(t(r),this)})}}});function c7(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);c7(n,t),c7(i,t);let a=0,s=0,l=0;for(;a<n.length&&s<i.length;)t(n[a],i[s])<=0?e[l++]=n[a++]:e[l++]=i[s++];for(;a<n.length;)e[l++]=n[a++];for(;s<i.length;)e[l++]=i[s++];return e}function sP(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);oP(a)&&(a===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function oP(e){return e===13||e===10}function lP(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function Pwe(e){let t=lP(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var cP,u7,OQe=I(()=>{"use strict";cP=class Vj{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(Vj.isIncremental(n)){let i=lP(n.range),a=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(s,this._content.length);let l=Math.max(i.start.line,0),u=Math.max(i.end.line,0),h=this._lineOffsets,d=sP(n.text,!1,a);if(u-l===d.length)for(let f=0,g=d.length;f<g;f++)h[f+l+1]=d[f];else d.length<1e4?h.splice(l+1,u-l,...d):this._lineOffsets=h=h.slice(0,l+1).concat(d,h.slice(u+1));let p=n.text.length-(s-a);if(p!==0)for(let f=l+1+d.length,g=h.length;f<g;f++)h[f]=h[f]+p}else if(Vj.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=sP(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}let a=n-1;return t=this.ensureBeforeEOL(t,r[a]),{line:a,character:t-r[a]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,a=Math.min(n+t.character,i);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(t,r){for(;t>r&&oP(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},function(e){function t(i,a,s,l){return new cP(i,a,s,l)}o(t,"create"),e.create=t;function r(i,a,s){if(i instanceof cP)return i.update(a,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,a){let s=i.getText(),l=c7(a.map(Pwe),(d,p)=>{let f=d.range.start.line-p.range.start.line;return f===0?d.range.start.character-p.range.start.character:f}),u=0,h=[];for(let d of l){let p=i.offsetAt(d.range.start);if(p<u)throw new Error("Overlapping edit");p>u&&h.push(s.substring(u,p)),d.newText.length&&h.push(d.newText),u=i.offsetAt(d.range.end)}return h.push(s.substr(u)),h.join("")}o(n,"applyEdits"),e.applyEdits=n}(u7||(u7={})),o(c7,"mergeSort"),o(sP,"computeLineOffsets"),o(oP,"isEOL"),o(lP,"getWellformedRange"),o(Pwe,"getWellformedEdit")}),Bwe,ku,Fg,$we=I(()=>{"use strict";(()=>{"use strict";var e={470:i=>{function a(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}o(a,"e");function s(u,h){for(var d,p="",f=0,g=-1,m=0,y=0;y<=u.length;++y){if(y<u.length)d=u.charCodeAt(y);else{if(d===47)break;d=47}if(d===47){if(!(g===y-1||m===1))if(g!==y-1&&m===2){if(p.length<2||f!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var b=p.lastIndexOf("/");if(b!==p.length-1){b===-1?(p="",f=0):f=(p=p.slice(0,b)).length-1-p.lastIndexOf("/"),g=y,m=0;continue}}else if(p.length===2||p.length===1){p="",f=0,g=y,m=0;continue}}h&&(p.length>0?p+="/..":p="..",f=2)}else p.length>0?p+="/"+u.slice(g+1,y):p=u.slice(g+1,y),f=y-g-1;g=y,m=0}else d===46&&m!==-1?++m:m=-1}return p}o(s,"r");var l={resolve:o(function(){for(var u,h="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var f;p>=0?f=arguments[p]:(u===void 0&&(u=process.cwd()),f=u),a(f),f.length!==0&&(h=f+"/"+h,d=f.charCodeAt(0)===47)}return h=s(h,!d),d?h.length>0?"/"+h:"/":h.length>0?h:"."},"resolve"),normalize:o(function(u){if(a(u),u.length===0)return".";var h=u.charCodeAt(0)===47,d=u.charCodeAt(u.length-1)===47;return(u=s(u,!h)).length!==0||h||(u="."),u.length>0&&d&&(u+="/"),h?"/"+u:u},"normalize"),isAbsolute:o(function(u){return a(u),u.length>0&&u.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var u,h=0;h<arguments.length;++h){var d=arguments[h];a(d),d.length>0&&(u===void 0?u=d:u+="/"+d)}return u===void 0?".":l.normalize(u)},"join"),relative:o(function(u,h){if(a(u),a(h),u===h||(u=l.resolve(u))===(h=l.resolve(h)))return"";for(var d=1;d<u.length&&u.charCodeAt(d)===47;++d);for(var p=u.length,f=p-d,g=1;g<h.length&&h.charCodeAt(g)===47;++g);for(var m=h.length-g,y=f<m?f:m,b=-1,v=0;v<=y;++v){if(v===y){if(m>y){if(h.charCodeAt(g+v)===47)return h.slice(g+v+1);if(v===0)return h.slice(g+v)}else f>y&&(u.charCodeAt(d+v)===47?b=v:v===0&&(b=0));break}var x=u.charCodeAt(d+v);if(x!==h.charCodeAt(g+v))break;x===47&&(b=v)}var k="";for(v=d+b+1;v<=p;++v)v!==p&&u.charCodeAt(v)!==47||(k.length===0?k+="..":k+="/..");return k.length>0?k+h.slice(g+b):(g+=b,h.charCodeAt(g)===47&&++g,h.slice(g))},"relative"),_makeLong:o(function(u){return u},"_makeLong"),dirname:o(function(u){if(a(u),u.length===0)return".";for(var h=u.charCodeAt(0),d=h===47,p=-1,f=!0,g=u.length-1;g>=1;--g)if((h=u.charCodeAt(g))===47){if(!f){p=g;break}}else f=!1;return p===-1?d?"/":".":d&&p===1?"//":u.slice(0,p)},"dirname"),basename:o(function(u,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');a(u);var d,p=0,f=-1,g=!0;if(h!==void 0&&h.length>0&&h.length<=u.length){if(h.length===u.length&&h===u)return"";var m=h.length-1,y=-1;for(d=u.length-1;d>=0;--d){var b=u.charCodeAt(d);if(b===47){if(!g){p=d+1;break}}else y===-1&&(g=!1,y=d+1),m>=0&&(b===h.charCodeAt(m)?--m==-1&&(f=d):(m=-1,f=y))}return p===f?f=y:f===-1&&(f=u.length),u.slice(p,f)}for(d=u.length-1;d>=0;--d)if(u.charCodeAt(d)===47){if(!g){p=d+1;break}}else f===-1&&(g=!1,f=d+1);return f===-1?"":u.slice(p,f)},"basename"),extname:o(function(u){a(u);for(var h=-1,d=0,p=-1,f=!0,g=0,m=u.length-1;m>=0;--m){var y=u.charCodeAt(m);if(y!==47)p===-1&&(f=!1,p=m+1),y===46?h===-1?h=m:g!==1&&(g=1):h!==-1&&(g=-1);else if(!f){d=m+1;break}}return h===-1||p===-1||g===0||g===1&&h===p-1&&h===d+1?"":u.slice(h,p)},"extname"),format:o(function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(h,d){var p=d.dir||d.root,f=d.base||(d.name||"")+(d.ext||"");return p?p===d.root?p+f:p+"/"+f:f}(0,u)},"format"),parse:o(function(u){a(u);var h={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return h;var d,p=u.charCodeAt(0),f=p===47;f?(h.root="/",d=1):d=0;for(var g=-1,m=0,y=-1,b=!0,v=u.length-1,x=0;v>=d;--v)if((p=u.charCodeAt(v))!==47)y===-1&&(b=!1,y=v+1),p===46?g===-1?g=v:x!==1&&(x=1):g!==-1&&(x=-1);else if(!b){m=v+1;break}return g===-1||y===-1||x===0||x===1&&g===y-1&&g===m+1?y!==-1&&(h.base=h.name=m===0&&f?u.slice(1,y):u.slice(m,y)):(m===0&&f?(h.name=u.slice(1,g),h.base=u.slice(1,y)):(h.name=u.slice(m,g),h.base=u.slice(m,y)),h.ext=u.slice(g,y)),m>0?h.dir=u.slice(0,m-1):f&&(h.dir="/"),h},"parse"),sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,i.exports=l}},t={};function r(i){var a=t[i];if(a!==void 0)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}o(r,"r"),r.d=(i,a)=>{for(var s in a)r.o(a,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:a[s]})},r.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:o(()=>f,"URI"),Utils:o(()=>D,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,s=/^\//,l=/^\/\//;function u(M,L){if(!M.scheme&&L)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${M.authority}", path: "${M.path}", query: "${M.query}", fragment: "${M.fragment}"}`);if(M.scheme&&!a.test(M.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(M.path){if(M.authority){if(!s.test(M.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(M.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(u,"s");let h="",d="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static{o(this,"f")}static isUri(L){return L instanceof f||!!L&&typeof L.authority=="string"&&typeof L.fragment=="string"&&typeof L.path=="string"&&typeof L.query=="string"&&typeof L.scheme=="string"&&typeof L.fsPath=="string"&&typeof L.with=="function"&&typeof L.toString=="function"}scheme;authority;path;query;fragment;constructor(L,B,E,R,O,P=!1){typeof L=="object"?(this.scheme=L.scheme||h,this.authority=L.authority||h,this.path=L.path||h,this.query=L.query||h,this.fragment=L.fragment||h):(this.scheme=function(A,$){return A||$?A:"file"}(L,P),this.authority=B||h,this.path=function(A,$){switch(A){case"https":case"http":case"file":$?$[0]!==d&&($=d+$):$=d}return $}(this.scheme,E||h),this.query=R||h,this.fragment=O||h,u(this,P))}get fsPath(){return x(this,!1)}with(L){if(!L)return this;let{scheme:B,authority:E,path:R,query:O,fragment:P}=L;return B===void 0?B=this.scheme:B===null&&(B=h),E===void 0?E=this.authority:E===null&&(E=h),R===void 0?R=this.path:R===null&&(R=h),O===void 0?O=this.query:O===null&&(O=h),P===void 0?P=this.fragment:P===null&&(P=h),B===this.scheme&&E===this.authority&&R===this.path&&O===this.query&&P===this.fragment?this:new m(B,E,R,O,P)}static parse(L,B=!1){let E=p.exec(L);return E?new m(E[2]||h,S(E[4]||h),S(E[5]||h),S(E[7]||h),S(E[9]||h),B):new m(h,h,h,h,h)}static file(L){let B=h;if(i&&(L=L.replace(/\\/g,d)),L[0]===d&&L[1]===d){let E=L.indexOf(d,2);E===-1?(B=L.substring(2),L=d):(B=L.substring(2,E),L=L.substring(E)||d)}return new m("file",B,L,h,h)}static from(L){let B=new m(L.scheme,L.authority,L.path,L.query,L.fragment);return u(B,!0),B}toString(L=!1){return k(this,L)}toJSON(){return this}static revive(L){if(L){if(L instanceof f)return L;{let B=new m(L);return B._formatted=L.external,B._fsPath=L._sep===g?L.fsPath:null,B}}return L}}let g=i?1:void 0;class m extends f{static{o(this,"l")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(L=!1){return L?k(this,!0):(this._formatted||(this._formatted=k(this,!1)),this._formatted)}toJSON(){let L={$mid:1};return this._fsPath&&(L.fsPath=this._fsPath,L._sep=g),this._formatted&&(L.external=this._formatted),this.path&&(L.path=this.path),this.scheme&&(L.scheme=this.scheme),this.authority&&(L.authority=this.authority),this.query&&(L.query=this.query),this.fragment&&(L.fragment=this.fragment),L}}let y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b(M,L,B){let E,R=-1;for(let O=0;O<M.length;O++){let P=M.charCodeAt(O);if(P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===45||P===46||P===95||P===126||L&&P===47||B&&P===91||B&&P===93||B&&P===58)R!==-1&&(E+=encodeURIComponent(M.substring(R,O)),R=-1),E!==void 0&&(E+=M.charAt(O));else{E===void 0&&(E=M.substr(0,O));let A=y[P];A!==void 0?(R!==-1&&(E+=encodeURIComponent(M.substring(R,O)),R=-1),E+=A):R===-1&&(R=O)}}return R!==-1&&(E+=encodeURIComponent(M.substring(R))),E!==void 0?E:M}o(b,"d");function v(M){let L;for(let B=0;B<M.length;B++){let E=M.charCodeAt(B);E===35||E===63?(L===void 0&&(L=M.substr(0,B)),L+=y[E]):L!==void 0&&(L+=M[B])}return L!==void 0?L:M}o(v,"p");function x(M,L){let B;return B=M.authority&&M.path.length>1&&M.scheme==="file"?`//${M.authority}${M.path}`:M.path.charCodeAt(0)===47&&(M.path.charCodeAt(1)>=65&&M.path.charCodeAt(1)<=90||M.path.charCodeAt(1)>=97&&M.path.charCodeAt(1)<=122)&&M.path.charCodeAt(2)===58?L?M.path.substr(1):M.path[1].toLowerCase()+M.path.substr(2):M.path,i&&(B=B.replace(/\//g,"\\")),B}o(x,"m");function k(M,L){let B=L?v:b,E="",{scheme:R,authority:O,path:P,query:A,fragment:$}=M;if(R&&(E+=R,E+=":"),(O||R==="file")&&(E+=d,E+=d),O){let F=O.indexOf("@");if(F!==-1){let G=O.substr(0,F);O=O.substr(F+1),F=G.lastIndexOf(":"),F===-1?E+=B(G,!1,!1):(E+=B(G.substr(0,F),!1,!1),E+=":",E+=B(G.substr(F+1),!1,!0)),E+="@"}O=O.toLowerCase(),F=O.lastIndexOf(":"),F===-1?E+=B(O,!1,!0):(E+=B(O.substr(0,F),!1,!0),E+=O.substr(F))}if(P){if(P.length>=3&&P.charCodeAt(0)===47&&P.charCodeAt(2)===58){let F=P.charCodeAt(1);F>=65&&F<=90&&(P=`/${String.fromCharCode(F+32)}:${P.substr(3)}`)}else if(P.length>=2&&P.charCodeAt(1)===58){let F=P.charCodeAt(0);F>=65&&F<=90&&(P=`${String.fromCharCode(F+32)}:${P.substr(2)}`)}E+=B(P,!0,!1)}return A&&(E+="?",E+=B(A,!1,!1)),$&&(E+="#",E+=L?$:b($,!1,!1)),E}o(k,"y");function w(M){try{return decodeURIComponent(M)}catch{return M.length>3?M.substr(0,3)+w(M.substr(3)):M}}o(w,"v");let _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(M){return M.match(_)?M.replace(_,L=>w(L)):M}o(S,"C");var C=r(470);let T=C.posix||C,N="/";var D;(function(M){M.joinPath=function(L,...B){return L.with({path:T.join(L.path,...B)})},M.resolvePath=function(L,...B){let E=L.path,R=!1;E[0]!==N&&(E=N+E,R=!0);let O=T.resolve(E,...B);return R&&O[0]===N&&!L.authority&&(O=O.substring(1)),L.with({path:O})},M.dirname=function(L){if(L.path.length===0||L.path===N)return L;let B=T.dirname(L.path);return B.length===1&&B.charCodeAt(0)===46&&(B=""),L.with({path:B})},M.basename=function(L){return T.basename(L.path)},M.extname=function(L){return T.extname(L.path)}})(D||(D={}))})(),Bwe=n})(),{URI:ku,Utils:Fg}=Bwe}),bc,wu=I(()=>{"use strict";$we(),function(e){e.basename=Fg.basename,e.dirname=Fg.dirname,e.extname=Fg.extname,e.joinPath=Fg.joinPath,e.resolvePath=Fg.resolvePath;function t(n,i){return n?.toString()===i?.toString()}o(t,"equals"),e.equals=t;function r(n,i){let a=typeof n=="string"?n:n.path,s=typeof i=="string"?i:i.path,l=a.split("/").filter(f=>f.length>0),u=s.split("/").filter(f=>f.length>0),h=0;for(;h<l.length&&l[h]===u[h];h++);let d="../".repeat(l.length-h),p=u.slice(h).join("/");return d+p}o(r,"relative"),e.relative=r}(bc||(bc={}))}),Wn,uP,hP,Yv=I(()=>{"use strict";OQe(),Yv(),wl(),to(),wu(),function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(Wn||(Wn={})),uP=class{static{o(this,"DefaultLangiumDocumentFactory")}constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,t=yi.CancellationToken.None){let r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,t)}fromTextDocument(e,t,r){return t=t??ku.parse(e.uri),r?this.createAsync(t,e,r):this.create(t,e)}fromString(e,t,r){return r?this.createAsync(t,e,r):this.create(t,e)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t){if(typeof t=="string"){let r=this.parse(e,t);return this.createLangiumDocument(r,e,void 0,t)}else if("$model"in t){let r={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(r,e)}else{let r=this.parse(e,t.getText());return this.createLangiumDocument(r,e,t)}}async createAsync(e,t,r){if(typeof t=="string"){let n=await this.parseAsync(e,t,r);return this.createLangiumDocument(n,e,void 0,t)}else{let n=await this.parseAsync(e,t.getText(),r);return this.createLangiumDocument(n,e,t)}}createLangiumDocument(e,t,r,n){let i;if(r)i={parseResult:e,uri:t,state:Wn.Parsed,references:[],textDocument:r};else{let a=this.createTextDocumentGetter(t,n);i={parseResult:e,uri:t,state:Wn.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=i,i}async update(e,t){var r,n;let i=(r=e.parseResult.value.$cstNode)===null||r===void 0?void 0:r.root.fullText,a=(n=this.textDocuments)===null||n===void 0?void 0:n.get(e.uri.toString()),s=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{let l=this.createTextDocumentGetter(e.uri,s);Object.defineProperty(e,"textDocument",{get:l})}return i!==s&&(e.parseResult=await this.parseAsync(e.uri,s,t),e.parseResult.value.$document=e),e.state=Wn.Parsed,e}parse(e,t){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t)}parseAsync(e,t,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,r)}createTextDocumentGetter(e,t){let r=this.serviceRegistry,n;return()=>n??(n=u7.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,t??""))}},hP=class{static{o(this,"DefaultLangiumDocuments")}constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory}get all(){return _i(this.documentMap.values())}addDocument(e){let t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getDocument(e){let t=e.toString();return this.documentMap.get(t)}async getOrCreateDocument(e,t){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,t),this.addDocument(r),r)}createDocument(e,t,r){if(r)return this.langiumDocumentFactory.fromString(t,e,r).then(n=>(this.addDocument(n),n));{let n=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(n),n}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=Wn.Changed,r.precomputedScopes=void 0,r.references=[],r.diagnostics=void 0),r}deleteDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=Wn.Changed,this.documentMap.delete(t)),r}}}),dP,Fwe=I(()=>{"use strict";wl(),vl(),Is(),Tl(),Yv(),dP=class{static{o(this,"DefaultLinker")}constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=yi.CancellationToken.None){for(let r of fu(e.parseResult.value))await Os(t),nv(r).forEach(n=>this.doLink(n,e))}doLink(e,t){let r=e.reference;if(r._ref===void 0)try{let n=this.getCandidate(e);if(fg(n))r._ref=n;else if(r._nodeDescription=n,this.langiumDocuments().hasDocument(n.documentUri)){let i=this.loadAstNode(n);r._ref=i??this.createLinkingError(e,n)}}catch(n){r._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${r.$refText}': ${n}`})}t.references.push(r)}unlink(e){for(let t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}buildReference(e,t,r,n){let i=this,a={$refNode:r,$refText:n,get ref(){var s;if(Ri(this._ref))return this._ref;if(rD(this._nodeDescription)){let l=i.loadAstNode(this._nodeDescription);this._ref=l??i.createLinkingError({reference:a,container:e,property:t},this._nodeDescription)}else if(this._ref===void 0){let l=i.getLinkedNode({reference:a,container:e,property:t});if(l.error&&ro(e).state<Wn.ComputedScopes)return;this._ref=(s=l.node)!==null&&s!==void 0?s:l.error,this._nodeDescription=l.descr}return Ri(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return fg(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){try{let t=this.getCandidate(e);if(fg(t))return{error:t};let r=this.loadAstNode(t);return r?{node:r,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(t){return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${t}`})}}}loadAstNode(e){if(e.node)return e.node;let t=this.langiumDocuments().getDocument(e.documentUri);if(t)return this.astNodeLocator.getAstNode(t.parseResult.value,e.path)}createLinkingError(e,t){let r=ro(e.container);r.state<Wn.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);let n=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${n} named '${e.reference.$refText}'.`,targetDescription:t})}}});function pP(e){return typeof e.name=="string"}var gP,zwe=I(()=>{"use strict";gc(),o(pP,"isNamed"),gP=class{static{o(this,"DefaultNameProvider")}getName(e){if(pP(e))return e.name}getNameNode(e){return g6(e.$cstNode,"name")}}}),fP,Gwe=I(()=>{"use strict";gc(),vl(),Is(),dc(),to(),wu(),fP=class{static{o(this,"DefaultReferences")}constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){let t=nR(e),r=e.astNode;if(t&&r){let n=r[t.feature];if(Ls(n))return n.ref;if(Array.isArray(n)){for(let i of n)if(Ls(i)&&i.$refNode&&i.$refNode.offset<=e.offset&&i.$refNode.end>=e.end)return i.ref}}if(r){let n=this.nameProvider.getNameNode(r);if(n&&(n===e||iD(e,n)))return r}}}findDeclarationNode(e){let t=this.findDeclaration(e);if(t?.$cstNode)return this.nameProvider.getNameNode(t)??t.$cstNode}findReferences(e,t){let r=[];if(t.includeDeclaration){let i=this.getReferenceToSelf(e);i&&r.push(i)}let n=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(n=n.filter(i=>bc.equals(i.sourceUri,t.documentUri))),r.push(...n),_i(r)}getReferenceToSelf(e){let t=this.nameProvider.getNameNode(e);if(t){let r=ro(e),n=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:n,targetUri:r.uri,targetPath:n,segment:yg(t),local:!0}}}}}),zg,Uv,Hv=I(()=>{"use strict";to(),zg=class{static{o(this,"MultiMap")}constructor(e){if(this.map=new Map,e)for(let[t,r]of e)this.add(t,r)}get size(){return V2.sum(_i(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,t){if(t===void 0)return this.map.delete(e);{let r=this.map.get(e);if(r){let n=r.indexOf(t);if(n>=0)return r.length===1?this.map.delete(e):r.splice(n,1),!0}return!1}}get(e){var t;return(t=this.map.get(e))!==null&&t!==void 0?t:[]}has(e,t){if(t===void 0)return this.map.has(e);{let r=this.map.get(e);return r?r.indexOf(t)>=0:!1}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach((t,r)=>t.forEach(n=>e(n,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return _i(this.map.entries()).flatMap(([e,t])=>t.map(r=>[e,r]))}keys(){return _i(this.map.keys())}values(){return _i(this.map.values()).flat()}entriesGroupedByKey(){return _i(this.map.entries())}},Uv=class{static{o(this,"BiMap")}get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(let[t,r]of e)this.set(t,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){let t=this.map.get(e);return t!==void 0?(this.map.delete(e),this.inverse.delete(t),!0):!1}}}),mP,qwe=I(()=>{"use strict";wl(),Is(),Hv(),Tl(),mP=class{static{o(this,"DefaultScopeComputation")}constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=yi.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,r=rv,n=yi.CancellationToken.None){let i=[];this.exportNode(e,i,t);for(let a of r(e))await Os(n),this.exportNode(a,i,t);return i}exportNode(e,t,r){let n=this.nameProvider.getName(e);n&&t.push(this.descriptions.createDescription(e,n,r))}async computeLocalScopes(e,t=yi.CancellationToken.None){let r=e.parseResult.value,n=new zg;for(let i of Hh(r))await Os(t),this.processNode(i,e,n);return n}processNode(e,t,r){let n=e.$container;if(n){let i=this.nameProvider.getName(e);i&&r.add(n,this.descriptions.createDescription(e,i,t))}}}}),h7,yP,jwe,Ywe=I(()=>{"use strict";to(),h7=class{static{o(this,"StreamScope")}constructor(e,t,r){var n;this.elements=e,this.outerScope=t,this.caseInsensitive=(n=r?.caseInsensitive)!==null&&n!==void 0?n:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let t=this.caseInsensitive?this.elements.find(r=>r.name.toLowerCase()===e.toLowerCase()):this.elements.find(r=>r.name===e);if(t)return t;if(this.outerScope)return this.outerScope.getElement(e)}},yP=class{static{o(this,"MapScope")}constructor(e,t,r){var n;this.elements=new Map,this.caseInsensitive=(n=r?.caseInsensitive)!==null&&n!==void 0?n:!1;for(let i of e){let a=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.set(a,i)}this.outerScope=t}getElement(e){let t=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(t);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=_i(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},jwe={getElement(){},getAllElements(){return W2}}}),Wv,d7,Vv,vP,p7,bP=I(()=>{"use strict";Wv=class{static{o(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},d7=class extends Wv{static{o(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){let r=t();return this.cache.set(e,r),r}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},Vv=class extends Wv{static{o(this,"ContextCache")}constructor(e){super(),this.cache=new Map,this.converter=e??(t=>t)}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,r){this.throwIfDisposed(),this.cacheForContext(e).set(t,r)}get(e,t,r){this.throwIfDisposed();let n=this.cacheForContext(e);if(n.has(t))return n.get(t);if(r){let i=r();return n.set(t,i),i}else return}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){let t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){let t=this.converter(e),r=this.cache.get(t);return r||(r=new Map,this.cache.set(t,r)),r}},vP=class extends Vv{static{o(this,"DocumentCache")}constructor(e){super(t=>t.toString()),this.onDispose(e.workspace.DocumentBuilder.onUpdate((t,r)=>{let n=t.concat(r);for(let i of n)this.clear(i)}))}},p7=class extends d7{static{o(this,"WorkspaceCache")}constructor(e){super(),this.onDispose(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}}),xP,Uwe=I(()=>{"use strict";Ywe(),Is(),to(),bP(),xP=class{static{o(this,"DefaultScopeProvider")}constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new p7(e.shared)}getScope(e){let t=[],r=this.reflection.getReferenceType(e),n=ro(e.container).precomputedScopes;if(n){let a=e.container;do{let s=n.get(a);s.length>0&&t.push(_i(s).filter(l=>this.reflection.isSubtype(l.type,r))),a=a.$container}while(a)}let i=this.getGlobalScope(r,e);for(let a=t.length-1;a>=0;a--)i=this.createScope(t[a],i);return i}createScope(e,t,r){return new h7(_i(e),t,r)}createScopeForNodes(e,t,r){let n=_i(e).map(i=>{let a=this.nameProvider.getName(i);if(a)return this.descriptions.createDescription(i,a)}).nonNullable();return new h7(n,t,r)}getGlobalScope(e,t){return this.globalScopeCache.get(e,()=>new yP(this.indexManager.allElements(e)))}}});function kP(e){return typeof e.$comment=="string"}function wP(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}var TP,EP=I(()=>{"use strict";$we(),vl(),Is(),gc(),o(kP,"isAstNodeWithComment"),o(wP,"isIntermediateReference"),TP=class{static{o(this,"DefaultJsonSerializer")}constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t={}){let r=t?.replacer,n=o((a,s)=>this.replacer(a,s,t),"defaultReplacer"),i=r?(a,s)=>r(a,s,n):n;try{return this.currentDocument=ro(e),JSON.stringify(e,i,t?.space)}finally{this.currentDocument=void 0}}deserialize(e,t={}){let r=JSON.parse(e);return this.linkNode(r,r,t),r}replacer(e,t,{refText:r,sourceText:n,textRegions:i,comments:a,uriConverter:s}){var l,u,h,d;if(!this.ignoreProperties.has(e))if(Ls(t)){let p=t.ref,f=r?t.$refText:void 0;if(p){let g=ro(p),m="";this.currentDocument&&this.currentDocument!==g&&(s?m=s(g.uri,t):m=g.uri.toString());let y=this.astNodeLocator.getAstNodePath(p);return{$ref:`${m}#${y}`,$refText:f}}else return{$error:(u=(l=t.error)===null||l===void 0?void 0:l.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:f}}else if(Ri(t)){let p;if(i&&(p=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),(!e||t.$document)&&p?.$textRegion&&(p.$textRegion.documentURI=(h=this.currentDocument)===null||h===void 0?void 0:h.uri.toString())),n&&!e&&(p??(p=Object.assign({},t)),p.$sourceText=(d=t.$cstNode)===null||d===void 0?void 0:d.text),a){p??(p=Object.assign({},t));let f=this.commentProvider.getComment(t);f&&(p.$comment=f.replace(/\r/g,""))}return p??t}else return t}addAstNodeRegionWithAssignmentsTo(e){let t=o(r=>({offset:r.offset,end:r.end,length:r.length,range:r.range}),"createDocumentSegment");if(e.$cstNode){let r=e.$textRegion=t(e.$cstNode),n=r.assignments={};return Object.keys(e).filter(i=>!i.startsWith("$")).forEach(i=>{let a=tR(e.$cstNode,i).map(t);a.length!==0&&(n[i]=a)}),e}}linkNode(e,t,r,n,i,a){for(let[l,u]of Object.entries(e))if(Array.isArray(u))for(let h=0;h<u.length;h++){let d=u[h];wP(d)?u[h]=this.reviveReference(e,l,t,d,r):Ri(d)&&this.linkNode(d,t,r,e,l,h)}else wP(u)?e[l]=this.reviveReference(e,l,t,u,r):Ri(u)&&this.linkNode(u,t,r,e,l);let s=e;s.$container=n,s.$containerProperty=i,s.$containerIndex=a}reviveReference(e,t,r,n,i){let a=n.$refText,s=n.$error;if(n.$ref){let l=this.getRefNode(r,n.$ref,i.uriConverter);if(Ri(l))return a||(a=this.nameProvider.getName(l)),{$refText:a??"",ref:l};s=l}if(s){let l={$refText:a??""};return l.error={container:e,property:t,message:s,reference:l},l}else return}getRefNode(e,t,r){try{let n=t.indexOf("#");if(n===0)return this.astNodeLocator.getAstNode(e,t.substring(1))||"Could not resolve path: "+t;if(n<0){let l=r?r(t):ku.parse(t),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+t}let i=r?r(t.substring(0,n)):ku.parse(t.substring(0,n)),a=this.langiumDocuments.getDocument(i);return a?n===t.length-1?a.parseResult.value:this.astNodeLocator.getAstNode(a.parseResult.value,t.substring(n+1))||"Could not resolve URI: "+t:"Could not find document for URI: "+t}catch(n){return String(n)}}}}),_P,Hwe=I(()=>{"use strict";wu(),_P=class{static{o(this,"DefaultServiceRegistry")}register(e){if(!this.singleton&&!this.map){this.singleton=e;return}if(!this.map&&(this.map={},this.singleton)){for(let t of this.singleton.LanguageMetaData.fileExtensions)this.map[t]=this.singleton;this.singleton=void 0}for(let t of e.LanguageMetaData.fileExtensions)this.map[t]!==void 0&&this.map[t]!==e&&console.warn(`The file extension ${t} is used by multiple languages. It is now assigned to '${e.LanguageMetaData.languageId}'.`),this.map[t]=e}getServices(e){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let t=bc.extname(e),r=this.map[t];if(!r)throw new Error(`The service registry contains no services for the extension '${t}'.`);return r}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}}});function g7(e){return{code:e}}var Xv,CP,f7=I(()=>{"use strict";Hv(),Tl(),to(),o(g7,"diagnosticData"),function(e){e.all=["fast","slow","built-in"]}(Xv||(Xv={})),CP=class{static{o(this,"ValidationRegistry")}constructor(e){this.entries=new zg,this.reflection=e.shared.AstReflection}register(e,t=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[n,i]of Object.entries(e)){let a=i;if(Array.isArray(a))for(let s of a){let l={check:this.wrapValidationException(s,t),category:r};this.addEntry(n,l)}else if(typeof a=="function"){let s={check:this.wrapValidationException(a,t),category:r};this.addEntry(n,s)}}}wrapValidationException(e,t){return async(r,n,i)=>{try{await e.call(t,r,n,i)}catch(a){if($g(a))throw a;console.error("An error occurred during validation:",a);let s=a instanceof Error?a.message:String(a);a instanceof Error&&a.stack&&console.error(a.stack),n("error","An error occurred during validation: "+s,{node:r})}}}addEntry(e,t){if(e==="AstNode"){this.entries.add("AstNode",t);return}for(let r of this.reflection.getAllSubTypes(e))this.entries.add(r,t)}getChecks(e,t){let r=_i(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(r=r.filter(n=>t.includes(n.category))),r.map(n=>n.check)}}});function SP(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=g6(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=rR(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Kv(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}var AP,Tu,Wwe=I(()=>{"use strict";wl(),gc(),Is(),dc(),Tl(),f7(),AP=class{static{o(this,"DefaultDocumentValidator")}constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},r=yi.CancellationToken.None){let n=e.parseResult,i=[];if(await Os(r),(!t.categories||t.categories.includes("built-in"))&&(this.processLexingErrors(n,i,t),t.stopAfterLexingErrors&&i.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===Tu.LexingError})||(this.processParsingErrors(n,i,t),t.stopAfterParsingErrors&&i.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===Tu.ParsingError}))||(this.processLinkingErrors(e,i,t),t.stopAfterLinkingErrors&&i.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===Tu.LinkingError}))))return i;try{i.push(...await this.validateAst(n.value,t,r))}catch(a){if($g(a))throw a;console.error("An error occurred during validation:",a)}return await Os(r),i}processLexingErrors(e,t,r){for(let n of e.lexerErrors){let i={severity:Kv("error"),range:{start:{line:n.line-1,character:n.column-1},end:{line:n.line-1,character:n.column+n.length-1}},message:n.message,data:g7(Tu.LexingError),source:this.getSource()};t.push(i)}}processParsingErrors(e,t,r){for(let n of e.parserErrors){let i;if(isNaN(n.token.startOffset)){if("previousToken"in n){let a=n.previousToken;if(isNaN(a.startOffset)){let s={line:0,character:0};i={start:s,end:s}}else{let s={line:a.endLine-1,character:a.endColumn};i={start:s,end:s}}}}else i=X2(n.token);if(i){let a={severity:Kv("error"),range:i,message:n.message,data:g7(Tu.ParsingError),source:this.getSource()};t.push(a)}}}processLinkingErrors(e,t,r){for(let n of e.references){let i=n.error;if(i){let a={node:i.container,property:i.property,index:i.index,data:{code:Tu.LinkingError,containerType:i.container.$type,property:i.property,refText:i.reference.$refText}};t.push(this.toDiagnostic("error",i.message,a))}}}async validateAst(e,t,r=yi.CancellationToken.None){let n=[],i=o((a,s,l)=>{n.push(this.toDiagnostic(a,s,l))},"acceptor");return await Promise.all(fu(e).map(async a=>{await Os(r);let s=this.validationRegistry.getChecks(a.$type,t.categories);for(let l of s)await l(a,i,r)})),n}toDiagnostic(e,t,r){return{message:t,range:SP(r),severity:Kv(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}},o(SP,"getDiagnosticRange"),o(Kv,"toDiagnosticSeverity"),function(e){e.LexingError="lexing-error",e.ParsingError="parsing-error",e.LinkingError="linking-error"}(Tu||(Tu={}))}),LP,NP,Vwe=I(()=>{"use strict";wl(),vl(),Is(),dc(),Tl(),wu(),LP=class{static{o(this,"DefaultAstNodeDescriptionProvider")}constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t,r=ro(e)){t??(t=this.nameProvider.getName(e));let n=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error(`Node at path ${n} has no name.`);let i,a=o(()=>{var s;return i??(i=yg((s=this.nameProvider.getNameNode(e))!==null&&s!==void 0?s:e.$cstNode))},"nameSegmentGetter");return{node:e,name:t,get nameSegment(){return a()},selectionSegment:yg(e.$cstNode),type:e.$type,documentUri:r.uri,path:n}}},NP=class{static{o(this,"DefaultReferenceDescriptionProvider")}constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=yi.CancellationToken.None){let r=[],n=e.parseResult.value;for(let i of fu(n))await Os(t),nv(i).filter(a=>!fg(a)).forEach(a=>{let s=this.createDescription(a);s&&r.push(s)});return r}createDescription(e){let t=e.reference.$nodeDescription,r=e.reference.$refNode;if(!t||!r)return;let n=ro(e.container).uri;return{sourceUri:n,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:yg(r),local:bc.equals(t.documentUri,n)}}}}),IP,Xwe=I(()=>{"use strict";IP=class{static{o(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){let t=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return t+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return t!==void 0?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce((r,n)=>{if(!r||n.length===0)return r;let i=n.indexOf(this.indexSeparator);if(i>0){let a=n.substring(0,i),s=parseInt(n.substring(i+1));return r[a]?.[s]}return r[n]},e)}}}),MP,Kwe=I(()=>{"use strict";Tl(),MP=class{static{o(this,"DefaultConfigurationProvider")}constructor(e){this._ready=new vc,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,r;this.workspaceConfig=(r=(t=e.capabilities.workspace)===null||t===void 0?void 0:t.configuration)!==null&&r!==void 0?r:!1}async initialized(e){if(this.workspaceConfig){if(e.register){let t=this.serviceRegistry.all;e.register({section:t.map(r=>this.toSectionName(r.LanguageMetaData.languageId))})}if(e.fetchConfiguration){let t=this.serviceRegistry.all.map(n=>({section:this.toSectionName(n.LanguageMetaData.languageId)})),r=await e.fetchConfiguration(t);t.forEach((n,i)=>{this.updateSectionConfiguration(n.section,r[i])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(t=>{this.updateSectionConfiguration(t,e.settings[t])})}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){await this.ready;let r=this.toSectionName(e);if(this.settings[r])return this.settings[r][t]}toSectionName(e){return`${e}`}}}),Gg,Zwe=I(()=>{"use strict";(function(e){function t(r){return{dispose:o(async()=>await r(),"dispose")}}o(t,"create"),e.create=t})(Gg||(Gg={}))}),DP,Qwe=I(()=>{"use strict";wl(),Zwe(),Hv(),Tl(),to(),f7(),Yv(),DP=class{static{o(this,"DefaultDocumentBuilder")}constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new zg,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Wn.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},r=yi.CancellationToken.None){var n,i;for(let a of e){let s=a.uri.toString();if(a.state===Wn.Validated){if(typeof t.validation=="boolean"&&t.validation)a.state=Wn.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(s);else if(typeof t.validation=="object"){let l=this.buildState.get(s),u=(n=l?.result)===null||n===void 0?void 0:n.validationChecks;if(u){let h=((i=t.validation.categories)!==null&&i!==void 0?i:Xv.all).filter(d=>!u.includes(d));h.length>0&&(this.buildState.set(s,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:h})},result:l.result}),a.state=Wn.IndexedReferences)}}}else this.buildState.delete(s)}this.currentState=Wn.Changed,await this.emitUpdate(e.map(a=>a.uri),[]),await this.buildDocuments(e,t,r)}async update(e,t,r=yi.CancellationToken.None){this.currentState=Wn.Changed;for(let a of t)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(let a of e){if(!this.langiumDocuments.invalidateDocument(a)){let s=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);s.state=Wn.Changed,this.langiumDocuments.addDocument(s)}this.buildState.delete(a.toString())}let n=_i(e).concat(t).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!n.has(a.uri.toString())&&this.shouldRelink(a,n)).forEach(a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,Wn.ComputedScopes),a.diagnostics=void 0}),await this.emitUpdate(e,t),await Os(r);let i=this.langiumDocuments.all.filter(a=>{var s;return a.state<Wn.Linked||!(!((s=this.buildState.get(a.uri.toString()))===null||s===void 0)&&s.completed)}).toArray();await this.buildDocuments(i,this.updateBuildOptions,r)}async emitUpdate(e,t){await Promise.all(this.updateListeners.map(r=>r(e,t)))}shouldRelink(e,t){return e.references.some(r=>r.error!==void 0)?!0:this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),Gg.create(()=>{let t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)})}async buildDocuments(e,t,r){this.prepareBuild(e,t),await this.runCancelable(e,Wn.Parsed,r,i=>this.langiumDocumentFactory.update(i,r)),await this.runCancelable(e,Wn.IndexedContent,r,i=>this.indexManager.updateContent(i,r)),await this.runCancelable(e,Wn.ComputedScopes,r,async i=>{let a=this.serviceRegistry.getServices(i.uri).references.ScopeComputation;i.precomputedScopes=await a.computeLocalScopes(i,r)}),await this.runCancelable(e,Wn.Linked,r,i=>this.serviceRegistry.getServices(i.uri).references.Linker.link(i,r)),await this.runCancelable(e,Wn.IndexedReferences,r,i=>this.indexManager.updateReferences(i,r));let n=e.filter(i=>this.shouldValidate(i));await this.runCancelable(n,Wn.Validated,r,i=>this.validate(i,r));for(let i of e){let a=this.buildState.get(i.uri.toString());a&&(a.completed=!0)}}prepareBuild(e,t){for(let r of e){let n=r.uri.toString(),i=this.buildState.get(n);(!i||i.completed)&&this.buildState.set(n,{completed:!1,options:t,result:i?.result})}}async runCancelable(e,t,r,n){let i=e.filter(a=>a.state<t);for(let a of i)await Os(r),await n(a),a.state=t;await this.notifyBuildPhase(i,t,r),this.currentState=t}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),Gg.create(()=>{this.buildPhaseListeners.delete(e,t)})}waitUntil(e,t,r){let n;if(t&&"path"in t?n=t:r=t,r??(r=yi.CancellationToken.None),n){let i=this.langiumDocuments.getDocument(n);if(i&&i.state>e)return Promise.resolve(n)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(xu):new Promise((i,a)=>{let s=this.onBuildPhase(e,()=>{if(s.dispose(),l.dispose(),n){let u=this.langiumDocuments.getDocument(n);i(u?.uri)}else i(void 0)}),l=r.onCancellationRequested(()=>{s.dispose(),l.dispose(),a(xu)})})}async notifyBuildPhase(e,t,r){if(e.length===0)return;let n=this.buildPhaseListeners.get(t);for(let i of n)await Os(r),await i(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,t){var r,n;let i=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,s=typeof a=="object"?a:void 0,l=await i.validateDocument(e,s,t);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;let u=this.buildState.get(e.uri.toString());if(u){(r=u.result)!==null&&r!==void 0||(u.result={});let h=(n=s?.categories)!==null&&n!==void 0?n:Xv.all;u.result.validationChecks?u.result.validationChecks.push(...h):u.result.validationChecks=[...h]}}getBuildOptions(e){var t,r;return(r=(t=this.buildState.get(e.uri.toString()))===null||t===void 0?void 0:t.options)!==null&&r!==void 0?r:{}}}}),RP,Jwe=I(()=>{"use strict";Is(),bP(),wl(),to(),wu(),RP=class{static{o(this,"DefaultIndexManager")}constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new Vv,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){let r=ro(e).uri,n=[];return this.referenceIndex.forEach(i=>{i.forEach(a=>{bc.equals(a.targetUri,r)&&a.targetPath===t&&n.push(a)})}),_i(n)}allElements(e,t){let r=_i(this.symbolIndex.keys());return t&&(r=r.filter(n=>!t||t.has(n))),r.map(n=>this.getFileDescriptions(n,e)).flat()}getFileDescriptions(e,t){var r;return t?this.symbolByTypeIndex.get(e,t,()=>{var n;return((n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]).filter(i=>this.astReflection.isSubtype(i.type,t))}):(r=this.symbolIndex.get(e))!==null&&r!==void 0?r:[]}remove(e){let t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}async updateContent(e,t=yi.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,t),n=e.uri.toString();this.symbolIndex.set(n,r),this.symbolByTypeIndex.clear(n)}async updateReferences(e,t=yi.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),r)}isAffected(e,t){let r=this.referenceIndex.get(e.uri.toString());return r?r.some(n=>!n.local&&t.has(n.targetUri.toString())):!1}}}),OP,e6e=I(()=>{"use strict";wl(),Tl(),wu(),OP=class{static{o(this,"DefaultWorkspaceManager")}constructor(e){this.initialBuildOptions={},this._ready=new vc,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(e){var t;this.folders=(t=e.workspaceFolders)!==null&&t!==void 0?t:void 0}initialized(e){return this.mutex.write(t=>{var r;return this.initializeWorkspace((r=this.folders)!==null&&r!==void 0?r:[],t)})}async initializeWorkspace(e,t=yi.CancellationToken.None){let r=await this.performStartup(e);await Os(t),await this.documentBuilder.build(r,this.initialBuildOptions,t)}async performStartup(e){let t=this.serviceRegistry.all.flatMap(i=>i.LanguageMetaData.fileExtensions),r=[],n=o(i=>{r.push(i),this.langiumDocuments.hasDocument(i.uri)||this.langiumDocuments.addDocument(i)},"collector");return await this.loadAdditionalDocuments(e,n),await Promise.all(e.map(i=>[i,this.getRootFolder(i)]).map(async i=>this.traverseFolder(...i,t,n))),this._ready.resolve(),r}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return ku.parse(e.uri)}async traverseFolder(e,t,r,n){let i=await this.fileSystemProvider.readDirectory(t);await Promise.all(i.map(async a=>{if(this.includeEntry(e,a,r)){if(a.isDirectory)await this.traverseFolder(e,a.uri,r,n);else if(a.isFile){let s=await this.langiumDocuments.getOrCreateDocument(a.uri);n(s)}}}))}includeEntry(e,t,r){let n=bc.basename(t.uri);if(n.startsWith("."))return!1;if(t.isDirectory)return n!=="node_modules"&&n!=="out";if(t.isFile){let i=bc.extname(t.uri);return r.includes(i)}return!1}}});function PP(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function m7(e){return e&&"modes"in e&&"defaultMode"in e}function y7(e){return!PP(e)&&!m7(e)}var BP,t6e=I(()=>{"use strict";Dg(),BP=class{static{o(this,"DefaultLexer")}constructor(e){let t=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);let r=y7(t)?Object.values(t):t;this.chevrotainLexer=new ls(r,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var t;let r=this.chevrotainLexer.tokenize(e);return{tokens:r.tokens,errors:r.errors,hidden:(t=r.groups.hidden)!==null&&t!==void 0?t:[]}}toTokenTypeDictionary(e){if(y7(e))return e;let t=m7(e)?Object.values(e.modes).flat():e,r={};return t.forEach(n=>r[n.name]=n),r}},o(PP,"isTokenTypeArray"),o(m7,"isIMultiModeLexerDefinition"),o(y7,"isTokenTypeDictionary")});function $P(e,t,r){let n,i;typeof e=="string"?(i=t,n=r):(i=e.range.start,n=t),i||(i=kn.create(0,0));let a=zP(e),s=b7(n),l=r6e({lines:a,position:i,options:s});return a6e({index:0,tokens:l,position:i})}function FP(e,t){let r=b7(t),n=zP(e);if(n.length===0)return!1;let i=n[0],a=n[n.length-1],s=r.start,l=r.end;return!!s?.exec(i)&&!!l?.exec(a)}function zP(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(WD)}function r6e(e){var t,r,n;let i=[],a=e.position.line,s=e.position.character;for(let l=0;l<e.lines.length;l++){let u=l===0,h=l===e.lines.length-1,d=e.lines[l],p=0;if(u&&e.options.start){let f=(t=e.options.start)===null||t===void 0?void 0:t.exec(d);f&&(p=f.index+f[0].length)}else{let f=(r=e.options.line)===null||r===void 0?void 0:r.exec(d);f&&(p=f.index+f[0].length)}if(h){let f=(n=e.options.end)===null||n===void 0?void 0:n.exec(d);f&&(d=d.substring(0,f.index))}if(d=d.substring(0,i6e(d)),v7(d,p)>=d.length){if(i.length>0){let f=kn.create(a,s);i.push({type:"break",content:"",range:Jr.create(f,f)})}}else{UP.lastIndex=p;let f=UP.exec(d);if(f){let g=f[0],m=f[1],y=kn.create(a,s+p),b=kn.create(a,s+p+g.length);i.push({type:"tag",content:m,range:Jr.create(y,b)}),p+=g.length,p=v7(d,p)}if(p<d.length){let g=d.substring(p),m=Array.from(g.matchAll(h6e));i.push(...n6e(m,g,a,s+p))}}a++,s=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function n6e(e,t,r,n){let i=[];if(e.length===0){let a=kn.create(r,n),s=kn.create(r,n+t.length);i.push({type:"text",content:t,range:Jr.create(a,s)})}else{let a=0;for(let l of e){let u=l.index,h=t.substring(a,u);h.length>0&&i.push({type:"text",content:t.substring(a,u),range:Jr.create(kn.create(r,a+n),kn.create(r,u+n))});let d=h.length+1,p=l[1];if(i.push({type:"inline-tag",content:p,range:Jr.create(kn.create(r,a+d+n),kn.create(r,a+d+p.length+n))}),d+=p.length,l.length===4){d+=l[2].length;let f=l[3];i.push({type:"text",content:f,range:Jr.create(kn.create(r,a+d+n),kn.create(r,a+d+f.length+n))})}else i.push({type:"text",content:"",range:Jr.create(kn.create(r,a+d+n),kn.create(r,a+d+n))});a=u+l[0].length}let s=t.substring(a);s.length>0&&i.push({type:"text",content:s,range:Jr.create(kn.create(r,a+n),kn.create(r,a+n+s.length))})}return i}function v7(e,t){let r=e.substring(t).match(d6e);return r?t+r.index:e.length}function i6e(e){let t=e.match(p6e);if(t&&typeof t.index=="number")return t.index}function a6e(e){var t,r,n,i;let a=kn.create(e.position.line,e.position.character);if(e.tokens.length===0)return new HP([],Jr.create(a,a));let s=[];for(;e.index<e.tokens.length;){let h=s6e(e,s[s.length-1]);h&&s.push(h)}let l=(r=(t=s[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:a,u=(i=(n=s[s.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:a;return new HP(s,Jr.create(l,u))}function s6e(e,t){let r=e.tokens[e.index];if(r.type==="tag")return qP(e,!1);if(r.type==="text"||r.type==="inline-tag")return GP(e);o6e(r,t),e.index++}function o6e(e,t){if(t){let r=new WP("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function GP(e){let t=e.tokens[e.index],r=t,n=t,i=[];for(;t&&t.type!=="break"&&t.type!=="tag";)i.push(l6e(e)),n=t,t=e.tokens[e.index];return new w7(i,Jr.create(r.range.start,n.range.end))}function l6e(e){return e.tokens[e.index].type==="inline-tag"?qP(e,!0):jP(e)}function qP(e,t){let r=e.tokens[e.index++],n=r.content.substring(1);if(e.tokens[e.index]?.type==="text")if(t){let a=jP(e);return new k7(n,new w7([a],a.range),t,Jr.create(r.range.start,a.range.end))}else{let a=GP(e);return new k7(n,a,t,Jr.create(r.range.start,a.range.end))}else{let a=r.range;return new k7(n,new w7([],a),t,a)}}function jP(e){let t=e.tokens[e.index++];return new WP(t.content,t.range)}function b7(e){if(!e)return b7({start:"/**",end:"*/",line:"*"});let{start:t,end:r,line:n}=e;return{start:x7(t,!0),end:x7(r,!1),line:x7(n,!0)}}function x7(e,t){if(typeof e=="string"||typeof e=="object"){let r=typeof e=="string"?wg(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}function c6e(e,t,r){var n,i;if(e==="linkplain"||e==="linkcode"||e==="link"){let a=t.indexOf(" "),s=t;if(a>0){let l=v7(t,a);s=t.substring(l),t=t.substring(0,a)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(s=`\`${s}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,t,s))!==null&&i!==void 0?i:u6e(t,s)}}function u6e(e,t){try{return ku.parse(e,!0),`[${t}](${e})`}catch{return e}}function YP(e){return e.endsWith(`
`)?`
`:`

`}var UP,h6e,d6e,p6e,HP,k7,w7,WP,g6e=I(()=>{"use strict";mwe(),cv(),wu(),o($P,"parseJSDoc"),o(FP,"isJSDoc"),o(zP,"getLines"),UP=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,h6e=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu,o(r6e,"tokenize"),o(n6e,"buildInlineTokens"),d6e=/\S/,p6e=/\s*$/,o(v7,"skipWhitespace"),o(i6e,"lastCharacter"),o(a6e,"parseJSDocComment"),o(s6e,"parseJSDocElement"),o(o6e,"appendEmptyLine"),o(GP,"parseJSDocText"),o(l6e,"parseJSDocInline"),o(qP,"parseJSDocTag"),o(jP,"parseJSDocLine"),o(b7,"normalizeOptions"),o(x7,"normalizeOption"),HP=class{static{o(this,"JSDocCommentImpl")}constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find(t=>t.name===e)}getTags(e){return this.getAllTags().filter(t=>t.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(let t of this.elements)if(e.length===0)e=t.toString();else{let r=t.toString();e+=YP(e)+r}return e.trim()}toMarkdown(e){let t="";for(let r of this.elements)if(t.length===0)t=r.toMarkdown(e);else{let n=r.toMarkdown(e);t+=YP(t)+n}return t.trim()}},k7=class{static{o(this,"JSDocTagImpl")}constructor(e,t,r,n){this.name=e,this.content=t,this.inline=r,this.range=n}toString(){let e=`@${this.name}`,t=this.content.toString();return this.content.inlines.length===1?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}
${t}`),this.inline?`{${e}}`:e}toMarkdown(e){var t,r;return(r=(t=e?.renderTag)===null||t===void 0?void 0:t.call(e,this))!==null&&r!==void 0?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){let t=this.content.toMarkdown(e);if(this.inline){let i=c6e(this.name,t,e??{});if(typeof i=="string")return i}let r="";e?.tag==="italic"||e?.tag===void 0?r="*":e?.tag==="bold"?r="**":e?.tag==="bold-italic"&&(r="***");let n=`${r}@${this.name}${r}`;return this.content.inlines.length===1?n=`${n} \u2014 ${t}`:this.content.inlines.length>1&&(n=`${n}
${t}`),this.inline?`{${n}}`:n}},o(c6e,"renderInlineTag"),o(u6e,"renderLinkDefault"),w7=class{static{o(this,"JSDocTextImpl")}constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){let r=this.inlines[t],n=this.inlines[t+1];e+=r.toString(),n&&n.range.start.line>r.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let t="";for(let r=0;r<this.inlines.length;r++){let n=this.inlines[r],i=this.inlines[r+1];t+=n.toMarkdown(e),i&&i.range.start.line>n.range.start.line&&(t+=`
`)}return t}},WP=class{static{o(this,"JSDocLineImpl")}constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}},o(YP,"fillNewlines")}),VP,f6e=I(()=>{"use strict";Is(),g6e(),VP=class{static{o(this,"JSDocDocumentationProvider")}constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){let t=this.commentProvider.getComment(e);if(t&&FP(t))return $P(t).toMarkdown({renderLink:o((r,n)=>this.documentationLinkRenderer(e,r,n),"renderLink"),renderTag:o(r=>this.documentationTagRenderer(e,r),"renderTag")})}documentationLinkRenderer(e,t,r){var n;let i=(n=this.findNameInPrecomputedScopes(e,t))!==null&&n!==void 0?n:this.findNameInGlobalScope(e,t);if(i&&i.nameSegment){let a=i.nameSegment.range.start.line+1,s=i.nameSegment.range.start.character+1,l=i.documentUri.with({fragment:`L${a},${s}`});return`[${r}](${l.toString()})`}else return}documentationTagRenderer(e,t){}findNameInPrecomputedScopes(e,t){let r=ro(e).precomputedScopes;if(!r)return;let n=e;do{let i=r.get(n).find(a=>a.name===t);if(i)return i;n=n.$container}while(n)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find(r=>r.name===t)}}}),XP,m6e=I(()=>{"use strict";EP(),dc(),XP=class{static{o(this,"DefaultCommentProvider")}constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return kP(e)?e.$comment:(t=oD(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||t===void 0?void 0:t.text}}}),KP={},y6e=I(()=>{"use strict";ri(KP,xr(Owe(),1))}),ZP,v6e,b6e,x6e=I(()=>{"use strict";Tl(),y6e(),ZP=class{static{o(this,"DefaultAsyncParser")}constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}},v6e=class{static{o(this,"AbstractThreadedAsyncParser")}constructor(e){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=e.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let e=this.createWorker();e.onReady(()=>{if(this.queue.length>0){let t=this.queue.shift();t&&(e.lock(),t.resolve(e))}}),this.workerPool.push(e)}}async parse(e,t){let r=await this.acquireParserWorker(t),n=new vc,i,a=t.onCancellationRequested(()=>{i=setTimeout(()=>{this.terminateWorker(r)},this.terminationDelay)});return r.parse(e).then(s=>{let l=this.hydrator.hydrate(s);n.resolve(l)}).catch(s=>{n.reject(s)}).finally(()=>{a.dispose(),clearTimeout(i)}),n.promise}terminateWorker(e){e.terminate();let t=this.workerPool.indexOf(e);t>=0&&this.workerPool.splice(t,1)}async acquireParserWorker(e){this.initializeWorkers();for(let r of this.workerPool)if(r.ready)return r.lock(),r;let t=new vc;return e.onCancellationRequested(()=>{let r=this.queue.indexOf(t);r>=0&&this.queue.splice(r,1),t.reject(xu)}),this.queue.push(t),t.promise}},b6e=class{static{o(this,"ParserWorker")}get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(e,t,r,n){this.onReadyEmitter=new KP.Emitter,this.deferred=new vc,this._ready=!0,this._parsing=!1,this.sendMessage=e,this._terminate=n,t(i=>{let a=i;this.deferred.resolve(a),this.unlock()}),r(i=>{this.deferred.reject(i),this.unlock()})}terminate(){this.deferred.reject(xu),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(e){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new vc,this.sendMessage(e),this.deferred.promise}}}),QP,k6e=I(()=>{"use strict";wl(),Tl(),QP=class{static{o(this,"DefaultWorkspaceLock")}constructor(){this.previousTokenSource=new yi.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();let t=new yi.CancellationTokenSource;return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,r){let n=new vc,i={action:t,deferred:n,cancellationToken:r??yi.CancellationToken.None};return e.push(i),this.performNextOperation(),n.promise}async performNextOperation(){if(!this.done)return;let e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:t,deferred:r,cancellationToken:n})=>{try{let i=await Promise.resolve().then(()=>t(n));r.resolve(i)}catch(i){$g(i)?r.resolve(void 0):r.reject(i)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}}),JP,w6e=I(()=>{"use strict";YO(),gu(),vl(),Is(),Hv(),dc(),JP=class{static{o(this,"DefaultHydrator")}constructor(e){this.grammarElementIdMap=new Uv,this.tokenTypeIdMap=new Uv,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors.map(t=>Object.assign({},t)),parserErrors:e.parserErrors.map(t=>Object.assign({},t)),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}createDehyrationContext(e){let t=new Map,r=new Map;for(let n of fu(e))t.set(n,{});if(e.$cstNode)for(let n of mg(e.$cstNode))r.set(n,{});return{astNodes:t,cstNodes:r}}dehydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,t));for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(i)){let a=[];r[n]=a;for(let s of i)Ri(s)?a.push(this.dehydrateAstNode(s,t)):Ls(s)?a.push(this.dehydrateReference(s,t)):a.push(s)}else Ri(i)?r[n]=this.dehydrateAstNode(i,t):Ls(i)?r[n]=this.dehydrateReference(i,t):i!==void 0&&(r[n]=i);return r}dehydrateReference(e,t){let r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=t.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,t){let r=t.cstNodes.get(e);return hw(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=t.astNodes.get(e.astNode),hc(e)?r.content=e.content.map(n=>this.dehydrateCstNode(n,t)):I0(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){let t=e.value,r=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,r),{lexerErrors:e.lexerErrors,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,r)}}createHydrationContext(e){let t=new Map,r=new Map;for(let i of fu(e))t.set(i,{});let n;if(e.$cstNode)for(let i of mg(e.$cstNode)){let a;"fullText"in i?(a=new J6(i.fullText),n=a):"content"in i?a=new Gv:"tokenType"in i&&(a=this.hydrateCstLeafNode(i)),a&&(r.set(i,a),a.root=n)}return{astNodes:t,cstNodes:r}}hydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=t.cstNodes.get(e.$cstNode));for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(i)){let a=[];r[n]=a;for(let s of i)Ri(s)?a.push(this.setParent(this.hydrateAstNode(s,t),r)):Ls(s)?a.push(this.hydrateReference(s,r,n,t)):a.push(s)}else Ri(i)?r[n]=this.setParent(this.hydrateAstNode(i,t),r):Ls(i)?r[n]=this.hydrateReference(i,r,n,t):i!==void 0&&(r[n]=i);return r}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,r,n){return this.linker.buildReference(t,r,n.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,r=0){let n=t.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(n.grammarSource=this.getGrammarElement(e.grammarSource)),n.astNode=t.astNodes.get(e.astNode),hc(n))for(let i of e.content){let a=this.hydrateCstNode(i,t,r++);n.content.push(a)}return n}hydrateCstLeafNode(e){let t=this.getTokenType(e.tokenType),r=e.offset,n=e.length,i=e.startLine,a=e.startColumn,s=e.endLine,l=e.endColumn,u=e.hidden;return new zv(r,n,{start:{line:i,character:a},end:{line:s,character:l}},t,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();let t=this.grammarElementIdMap.getKey(e);if(t)return t;throw new Error("Invalid grammar element id: "+e)}createGrammarElementIdMap(){let e=0;for(let t of fu(this.grammar))mw(t)&&this.grammarElementIdMap.set(t,e++)}}});function Qh(e){return{documentation:{CommentProvider:o(t=>new XP(t),"CommentProvider"),DocumentationProvider:o(t=>new VP(t),"DocumentationProvider")},parser:{AsyncParser:o(t=>new ZP(t),"AsyncParser"),GrammarConfig:o(t=>cR(t),"GrammarConfig"),LangiumParser:o(t=>tP(t),"LangiumParser"),CompletionParser:o(t=>eP(t),"CompletionParser"),ValueConverter:o(()=>new s7,"ValueConverter"),TokenBuilder:o(()=>new a7,"TokenBuilder"),Lexer:o(t=>new BP(t),"Lexer"),ParserErrorMessageProvider:o(()=>new r7,"ParserErrorMessageProvider")},workspace:{AstNodeLocator:o(()=>new IP,"AstNodeLocator"),AstNodeDescriptionProvider:o(t=>new LP(t),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:o(t=>new NP(t),"ReferenceDescriptionProvider")},references:{Linker:o(t=>new dP(t),"Linker"),NameProvider:o(()=>new gP,"NameProvider"),ScopeProvider:o(t=>new xP(t),"ScopeProvider"),ScopeComputation:o(t=>new mP(t),"ScopeComputation"),References:o(t=>new fP(t),"References")},serializer:{Hydrator:o(t=>new JP(t),"Hydrator"),JsonSerializer:o(t=>new TP(t),"JsonSerializer")},validation:{DocumentValidator:o(t=>new AP(t),"DocumentValidator"),ValidationRegistry:o(t=>new CP(t),"ValidationRegistry")},shared:o(()=>e.shared,"shared")}}function Jh(e){return{ServiceRegistry:o(()=>new _P,"ServiceRegistry"),workspace:{LangiumDocuments:o(t=>new hP(t),"LangiumDocuments"),LangiumDocumentFactory:o(t=>new uP(t),"LangiumDocumentFactory"),DocumentBuilder:o(t=>new DP(t),"DocumentBuilder"),IndexManager:o(t=>new RP(t),"IndexManager"),WorkspaceManager:o(t=>new OP(t),"WorkspaceManager"),FileSystemProvider:o(t=>e.fileSystemProvider(t),"FileSystemProvider"),WorkspaceLock:o(()=>new QP,"WorkspaceLock"),ConfigurationProvider:o(t=>new MP(t),"ConfigurationProvider")}}}var T6e=I(()=>{"use strict";y4e(),Nwe(),Iwe(),Mwe(),Dwe(),Fwe(),zwe(),Gwe(),qwe(),Uwe(),EP(),Hwe(),Wwe(),f7(),Vwe(),Xwe(),Kwe(),Qwe(),Yv(),Jwe(),e6e(),t6e(),f6e(),m6e(),n7(),x6e(),k6e(),w6e(),o(Qh,"createDefaultCoreModule"),o(Jh,"createDefaultSharedCoreModule")});function Ps(e,t,r,n,i,a,s,l,u){let h=[e,t,r,n,i,a,s,l,u].reduce(Zv,{});return tB(h)}function eB(e){if(e&&e[T7])for(let t of Object.values(e))eB(t);return e}function tB(e,t){let r=new Proxy({},{deleteProperty:o(()=>!1,"deleteProperty"),get:o((n,i)=>rB(n,i,e,t||r),"get"),getOwnPropertyDescriptor:o((n,i)=>(rB(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i)),"getOwnPropertyDescriptor"),has:o((n,i)=>i in e,"has"),ownKeys:o(()=>[...Reflect.ownKeys(e),T7],"ownKeys")});return r[T7]=!0,r}function rB(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===iB)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){let i=r[t];e[t]=iB;try{e[t]=typeof i=="function"?i(n):tB(i,n)}catch(a){throw e[t]=a instanceof Error?a:void 0,a}return e[t]}else return}function Zv(e,t){if(t){for(let[r,n]of Object.entries(t))if(n!==void 0){let i=e[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?e[r]=Zv(i,n):e[r]=n}}return e}var nB,T7,iB,E6e=I(()=>{"use strict";(function(e){e.merge=(t,r)=>Zv(Zv({},t),r)})(nB||(nB={})),o(Ps,"inject"),T7=Symbol("isProxy"),o(eB,"eagerLoad"),o(tB,"_inject"),iB=Symbol(),o(rB,"_resolve"),o(Zv,"_merge")}),PQe=I(()=>{"use strict"}),BQe=I(()=>{"use strict";m6e(),f6e(),g6e()}),$Qe=I(()=>{"use strict"}),FQe=I(()=>{"use strict";y4e(),$Qe()}),zQe=I(()=>{"use strict"}),GQe=I(()=>{"use strict";x6e(),Nwe(),YO(),Iwe(),n7(),t6e(),zQe(),Mwe(),Dwe()}),qQe=I(()=>{"use strict";Fwe(),zwe(),Gwe(),Ywe(),qwe(),Uwe()}),jQe=I(()=>{"use strict";w6e(),EP()}),aB,ed,_6e=I(()=>{"use strict";aB=class{static{o(this,"EmptyFileSystemProvider")}readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},ed={fileSystemProvider:o(()=>new aB,"fileSystemProvider")}});function C6e(){let e=Ps(Jh(ed),A6e),t=Ps(Qh({shared:e}),S6e);return e.ServiceRegistry.register(t),t}function td(e){var t;let r=C6e(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,ku.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}var S6e,A6e,YQe=I(()=>{"use strict";T6e(),E6e(),gu(),_6e(),wu(),S6e={Grammar:o(()=>{},"Grammar"),LanguageMetaData:o(()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"}),"LanguageMetaData")},A6e={AstReflection:o(()=>new s6,"AstReflection")},o(C6e,"createMinimalGrammarServices"),o(td,"loadGrammarFromJson")}),sB={};Nt(sB,{AstUtils:()=>OD,BiMap:()=>Uv,Cancellation:()=>yi,ContextCache:()=>Vv,CstUtils:()=>nD,DONE_RESULT:()=>is,Deferred:()=>vc,Disposable:()=>Gg,DisposableCache:()=>Wv,DocumentCache:()=>vP,EMPTY_STREAM:()=>W2,ErrorWithLocation:()=>K2,GrammarUtils:()=>XD,MultiMap:()=>zg,OperationCancelled:()=>xu,Reduction:()=>V2,RegExpUtils:()=>qD,SimpleCache:()=>d7,StreamImpl:()=>bl,TreeStreamImpl:()=>M0,URI:()=>ku,UriUtils:()=>bc,WorkspaceCache:()=>p7,assertUnreachable:()=>D0,delayNextTick:()=>o7,interruptAndCheck:()=>Os,isOperationCancelled:()=>$g,loadGrammarFromJson:()=>td,setInterruptionPeriod:()=>iP,startCancelableOperation:()=>nP,stream:()=>_i});var UQe=I(()=>{"use strict";bP(),y6e(),ri(sB,KP),Hv(),Zwe(),dD(),YQe(),Tl(),to(),wu(),Is(),wl(),dc(),gc(),cv()}),HQe=I(()=>{"use strict";Wwe(),f7()}),WQe=I(()=>{"use strict";Vwe(),Xwe(),Kwe(),Qwe(),Yv(),_6e(),Jwe(),k6e(),e6e()}),L6e={};Nt(L6e,{AbstractAstReflection:()=>dw,AbstractCstNode:()=>Q6,AbstractLangiumParser:()=>t7,AbstractParserErrorMessageProvider:()=>VO,AbstractThreadedAsyncParser:()=>v6e,AstUtils:()=>OD,BiMap:()=>Uv,Cancellation:()=>yi,CompositeCstNodeImpl:()=>Gv,ContextCache:()=>Vv,CstNodeBuilder:()=>jO,CstUtils:()=>nD,DONE_RESULT:()=>is,DatatypeSymbol:()=>qv,DefaultAstNodeDescriptionProvider:()=>LP,DefaultAstNodeLocator:()=>IP,DefaultAsyncParser:()=>ZP,DefaultCommentProvider:()=>XP,DefaultConfigurationProvider:()=>MP,DefaultDocumentBuilder:()=>DP,DefaultDocumentValidator:()=>AP,DefaultHydrator:()=>JP,DefaultIndexManager:()=>RP,DefaultJsonSerializer:()=>TP,DefaultLangiumDocumentFactory:()=>uP,DefaultLangiumDocuments:()=>hP,DefaultLexer:()=>BP,DefaultLinker:()=>dP,DefaultNameProvider:()=>gP,DefaultReferenceDescriptionProvider:()=>NP,DefaultReferences:()=>fP,DefaultScopeComputation:()=>mP,DefaultScopeProvider:()=>xP,DefaultServiceRegistry:()=>_P,DefaultTokenBuilder:()=>a7,DefaultValueConverter:()=>s7,DefaultWorkspaceLock:()=>QP,DefaultWorkspaceManager:()=>OP,Deferred:()=>vc,Disposable:()=>Gg,DisposableCache:()=>Wv,DocumentCache:()=>vP,DocumentState:()=>Wn,DocumentValidator:()=>Tu,EMPTY_SCOPE:()=>jwe,EMPTY_STREAM:()=>W2,EmptyFileSystem:()=>ed,EmptyFileSystemProvider:()=>aB,ErrorWithLocation:()=>K2,GrammarAST:()=>$xe,GrammarUtils:()=>XD,JSDocDocumentationProvider:()=>VP,LangiumCompletionParser:()=>XO,LangiumParser:()=>WO,LangiumParserErrorMessageProvider:()=>r7,LeafCstNodeImpl:()=>zv,MapScope:()=>yP,Module:()=>nB,MultiMap:()=>zg,OperationCancelled:()=>xu,ParserWorker:()=>b6e,Reduction:()=>V2,RegExpUtils:()=>qD,RootCstNodeImpl:()=>J6,SimpleCache:()=>d7,StreamImpl:()=>bl,StreamScope:()=>h7,TextDocument:()=>u7,TreeStreamImpl:()=>M0,URI:()=>ku,UriUtils:()=>bc,ValidationCategory:()=>Xv,ValidationRegistry:()=>CP,ValueConverter:()=>yc,WorkspaceCache:()=>p7,assertUnreachable:()=>D0,createCompletionParser:()=>eP,createDefaultCoreModule:()=>Qh,createDefaultSharedCoreModule:()=>Jh,createGrammarConfig:()=>cR,createLangiumParser:()=>tP,delayNextTick:()=>o7,diagnosticData:()=>g7,eagerLoad:()=>eB,getDiagnosticRange:()=>SP,inject:()=>Ps,interruptAndCheck:()=>Os,isAstNode:()=>Ri,isAstNodeDescription:()=>rD,isAstNodeWithComment:()=>kP,isCompositeCstNode:()=>hc,isIMultiModeLexerDefinition:()=>m7,isJSDoc:()=>FP,isLeafCstNode:()=>I0,isLinkingError:()=>fg,isNamed:()=>pP,isOperationCancelled:()=>$g,isReference:()=>Ls,isRootCstNode:()=>hw,isTokenTypeArray:()=>PP,isTokenTypeDictionary:()=>y7,loadGrammarFromJson:()=>td,parseJSDoc:()=>$P,prepareLangiumParser:()=>rP,setInterruptionPeriod:()=>iP,startCancelableOperation:()=>nP,stream:()=>_i,toDiagnosticSeverity:()=>Kv});var Eu=I(()=>{"use strict";T6e(),E6e(),Hwe(),PQe(),vl(),BQe(),FQe(),GQe(),qQe(),jQe(),UQe(),ri(L6e,sB),HQe(),WQe(),gu()});function N6e(e){return Po.isInstance(e,j6e)}function I6e(e){return Po.isInstance(e,oB)}function M6e(e){return Po.isInstance(e,lB)}function D6e(e){return Po.isInstance(e,H6e)}function R6e(e){return Po.isInstance(e,cB)}function O6e(e){return Po.isInstance(e,W6e)}function P6e(e){return Po.isInstance(e,uB)}function B6e(e){return Po.isInstance(e,V6e)}function $6e(e){return Po.isInstance(e,X6e)}function F6e(e){return Po.isInstance(e,K6e)}function z6e(e){return Po.isInstance(e,Z6e)}var G6e,Wt,q6e,j6e,oB,Y6e,U6e,lB,H6e,cB,W6e,uB,V6e,X6e,K6e,Z6e,Q6e,hB,Po,J6e,e7e,t7e,r7e,n7e,i7e,a7e,s7e,o7e,l7e,c7e,u7e,h7e,d7e,p7e,qg,g7e,f7e,m7e,y7e,v7e,b7e,x7e,k7e,w7e,E7,_7,j0,VQe,El=I(()=>{"use strict";Eu(),Eu(),Eu(),Eu(),G6e=Object.defineProperty,Wt=o((e,t)=>G6e(e,"name",{value:t,configurable:!0}),"__name"),q6e="Statement",j6e="Architecture",o(N6e,"isArchitecture"),Wt(N6e,"isArchitecture"),oB="Branch",o(I6e,"isBranch"),Wt(I6e,"isBranch"),Y6e="Checkout",U6e="CherryPicking",lB="Commit",o(M6e,"isCommit"),Wt(M6e,"isCommit"),H6e="Common",o(D6e,"isCommon"),Wt(D6e,"isCommon"),cB="GitGraph",o(R6e,"isGitGraph"),Wt(R6e,"isGitGraph"),W6e="Info",o(O6e,"isInfo"),Wt(O6e,"isInfo"),uB="Merge",o(P6e,"isMerge"),Wt(P6e,"isMerge"),V6e="Packet",o(B6e,"isPacket"),Wt(B6e,"isPacket"),X6e="PacketBlock",o($6e,"isPacketBlock"),Wt($6e,"isPacketBlock"),K6e="Pie",o(F6e,"isPie"),Wt(F6e,"isPie"),Z6e="PieSection",o(z6e,"isPieSection"),Wt(z6e,"isPieSection"),Q6e="Direction",hB=class extends dw{static{o(this,"MermaidAstReflection")}static{Wt(this,"MermaidAstReflection")}getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(e,t){switch(e){case oB:case Y6e:case U6e:case lB:case uB:return this.isSubtype(q6e,t);case Q6e:return this.isSubtype(cB,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},Po=new hB,e7e=Wt(()=>J6e??(J6e=td('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),r7e=Wt(()=>t7e??(t7e=td(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),i7e=Wt(()=>n7e??(n7e=td('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),s7e=Wt(()=>a7e??(a7e=td('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),l7e=Wt(()=>o7e??(o7e=td(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),c7e={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},u7e={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},h7e={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},d7e={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},p7e={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},qg={AstReflection:Wt(()=>new hB,"AstReflection")},g7e={Grammar:Wt(()=>e7e(),"Grammar"),LanguageMetaData:Wt(()=>c7e,"LanguageMetaData"),parser:{}},f7e={Grammar:Wt(()=>r7e(),"Grammar"),LanguageMetaData:Wt(()=>u7e,"LanguageMetaData"),parser:{}},m7e={Grammar:Wt(()=>i7e(),"Grammar"),LanguageMetaData:Wt(()=>h7e,"LanguageMetaData"),parser:{}},y7e={Grammar:Wt(()=>s7e(),"Grammar"),LanguageMetaData:Wt(()=>d7e,"LanguageMetaData"),parser:{}},v7e={Grammar:Wt(()=>l7e(),"Grammar"),LanguageMetaData:Wt(()=>p7e,"LanguageMetaData"),parser:{}},b7e=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,x7e=/accTitle[\t ]*:([^\n\r]*)/,k7e=/title([\t ][^\n\r]*|)/,w7e={ACC_DESCR:b7e,ACC_TITLE:x7e,TITLE:k7e},E7=class extends s7{static{o(this,"AbstractMermaidValueConverter")}static{Wt(this,"AbstractMermaidValueConverter")}runConverter(e,t,r){let n=this.runCommonConverter(e,t,r);return n===void 0&&(n=this.runCustomConverter(e,t,r)),n===void 0?super.runConverter(e,t,r):n}runCommonConverter(e,t,r){let n=w7e[e.name];if(n===void 0)return;let i=n.exec(t);if(i!==null){if(i[1]!==void 0)return i[1].trim().replace(/[\t ]{2,}/gm," ");if(i[2]!==void 0)return i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},_7=class extends E7{static{o(this,"CommonValueConverter")}static{Wt(this,"CommonValueConverter")}runCustomConverter(e,t,r){}},j0=class extends a7{static{o(this,"AbstractMermaidTokenBuilder")}static{Wt(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,r){let n=super.buildKeywordTokens(e,t,r);return n.forEach(i=>{this.keywords.has(i.name)&&i.PATTERN!==void 0&&(i.PATTERN=new RegExp(i.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),n}},VQe=class extends j0{static{o(this,"CommonTokenBuilder")}static{Wt(this,"CommonTokenBuilder")}}});function dB(e=ed){let t=Ps(Jh(e),qg),r=Ps(Qh({shared:t}),v7e,pB);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}var T7e,pB,E7e=I(()=>{"use strict";El(),Eu(),T7e=class extends j0{static{o(this,"GitGraphTokenBuilder")}static{Wt(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},pB={parser:{TokenBuilder:Wt(()=>new T7e,"TokenBuilder"),ValueConverter:Wt(()=>new _7,"ValueConverter")}},o(dB,"createGitGraphServices"),Wt(dB,"createGitGraphServices")});function gB(e=ed){let t=Ps(Jh(e),qg),r=Ps(Qh({shared:t}),g7e,fB);return t.ServiceRegistry.register(r),{shared:t,Info:r}}var _7e,fB,C7e=I(()=>{"use strict";El(),Eu(),_7e=class extends j0{static{o(this,"InfoTokenBuilder")}static{Wt(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},fB={parser:{TokenBuilder:Wt(()=>new _7e,"TokenBuilder"),ValueConverter:Wt(()=>new _7,"ValueConverter")}},o(gB,"createInfoServices"),Wt(gB,"createInfoServices")});function mB(e=ed){let t=Ps(Jh(e),qg),r=Ps(Qh({shared:t}),f7e,yB);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}var S7e,yB,A7e=I(()=>{"use strict";El(),Eu(),S7e=class extends j0{static{o(this,"PacketTokenBuilder")}static{Wt(this,"PacketTokenBuilder")}constructor(){super(["packet-beta"])}},yB={parser:{TokenBuilder:Wt(()=>new S7e,"TokenBuilder"),ValueConverter:Wt(()=>new _7,"ValueConverter")}},o(mB,"createPacketServices"),Wt(mB,"createPacketServices")});function vB(e=ed){let t=Ps(Jh(e),qg),r=Ps(Qh({shared:t}),m7e,bB);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}var L7e,N7e,bB,I7e=I(()=>{"use strict";El(),Eu(),L7e=class extends j0{static{o(this,"PieTokenBuilder")}static{Wt(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},N7e=class extends E7{static{o(this,"PieValueConverter")}static{Wt(this,"PieValueConverter")}runCustomConverter(e,t,r){if(e.name==="PIE_SECTION_LABEL")return t.replace(/"/g,"").trim()}},bB={parser:{TokenBuilder:Wt(()=>new L7e,"TokenBuilder"),ValueConverter:Wt(()=>new N7e,"ValueConverter")}},o(vB,"createPieServices"),Wt(vB,"createPieServices")});function xB(e=ed){let t=Ps(Jh(e),qg),r=Ps(Qh({shared:t}),y7e,kB);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}var M7e,D7e,kB,R7e=I(()=>{"use strict";El(),Eu(),M7e=class extends j0{static{o(this,"ArchitectureTokenBuilder")}static{Wt(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},D7e=class extends E7{static{o(this,"ArchitectureValueConverter")}static{Wt(this,"ArchitectureValueConverter")}runCustomConverter(e,t,r){if(e.name==="ARCH_ICON")return t.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return t.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return t.replace(/[[\]]/g,"").trim()}},kB={parser:{TokenBuilder:Wt(()=>new M7e,"TokenBuilder"),ValueConverter:Wt(()=>new D7e,"ValueConverter")}},o(xB,"createArchitectureServices"),Wt(xB,"createArchitectureServices")}),O7e={};Nt(O7e,{InfoModule:()=>fB,createInfoServices:()=>gB});var XQe=I(()=>{"use strict";C7e(),El()}),P7e={};Nt(P7e,{PacketModule:()=>yB,createPacketServices:()=>mB});var KQe=I(()=>{"use strict";A7e(),El()}),B7e={};Nt(B7e,{PieModule:()=>bB,createPieServices:()=>vB});var ZQe=I(()=>{"use strict";I7e(),El()}),$7e={};Nt($7e,{ArchitectureModule:()=>kB,createArchitectureServices:()=>xB});var QQe=I(()=>{"use strict";R7e(),El()}),F7e={};Nt(F7e,{GitGraphModule:()=>pB,createGitGraphServices:()=>dB});var JQe=I(()=>{"use strict";E7e(),El()});async function Y0(e,t){let r=z7e[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);rd[e]||await r();let n=rd[e].parse(t);if(n.lexerErrors.length>0||n.parserErrors.length>0)throw new G7e(n);return n.value}var rd,z7e,G7e,Qv=I(()=>{"use strict";E7e(),C7e(),A7e(),I7e(),R7e(),El(),rd={},z7e={info:Wt(async()=>{let{createInfoServices:e}=await Promise.resolve().then(()=>(XQe(),O7e)),t=e().Info.parser.LangiumParser;rd.info=t},"info"),packet:Wt(async()=>{let{createPacketServices:e}=await Promise.resolve().then(()=>(KQe(),P7e)),t=e().Packet.parser.LangiumParser;rd.packet=t},"packet"),pie:Wt(async()=>{let{createPieServices:e}=await Promise.resolve().then(()=>(ZQe(),B7e)),t=e().Pie.parser.LangiumParser;rd.pie=t},"pie"),architecture:Wt(async()=>{let{createArchitectureServices:e}=await Promise.resolve().then(()=>(QQe(),$7e)),t=e().Architecture.parser.LangiumParser;rd.architecture=t},"architecture"),gitGraph:Wt(async()=>{let{createGitGraphServices:e}=await Promise.resolve().then(()=>(JQe(),F7e)),t=e().GitGraph.parser.LangiumParser;rd.gitGraph=t},"gitGraph")},o(Y0,"parse"),Wt(Y0,"parse"),G7e=class extends Error{static{o(this,"MermaidParseError")}constructor(e){let t=e.lexerErrors.map(n=>n.message).join(`
`),r=e.parserErrors.map(n=>n.message).join(`
`);super(`Parsing failed: ${t} ${r}`),this.result=e}static{Wt(this,"MermaidParseError")}}});function Jv(e,t){e.accDescr&&t.setAccDescription?.(e.accDescr),e.accTitle&&t.setAccTitle?.(e.accTitle),e.title&&t.setDiagramTitle?.(e.title)}var C7=I(()=>{"use strict";o(Jv,"populateCommonDb")}),wn,wB=I(()=>{"use strict";wn={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4}}),S7,TB=I(()=>{"use strict";S7=class{constructor(e){this.init=e,this.records=this.init()}static{o(this,"ImperativeState")}reset(){this.records=this.init()}}});function A7(){return B9({length:7})}function q7e(e,t){let r=Object.create(null);return e.reduce((n,i)=>{let a=t(i);return r[a]||(r[a]=!0,n.push(i)),n},[])}function EB(e,t,r){let n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}function _B(e){let t=e.reduce((i,a)=>i.seq>a.seq?i:a,e[0]),r="";e.forEach(function(i){i===t?r+="	*":r+="	|"});let n=[r,t.id,t.seq];for(let i in Lt.records.branches)Lt.records.branches.get(i)===t.id&&n.push(i);if(X.debug(n.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){let i=Lt.records.commits.get(t.parents[0]);EB(e,t,i),t.parents[1]&&e.push(Lt.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){let i=Lt.records.commits.get(t.parents[0]);EB(e,t,i)}}e=q7e(e,i=>i.id),_B(e)}var j7e,nd,Lt,Y7e,U7e,H7e,W7e,V7e,X7e,K7e,CB,Z7e,Q7e,J7e,eTe,tTe,SB,rTe,nTe,iTe,AB,aTe=I(()=>{"use strict";Ye(),Dr(),xs(),Pr(),Hi(),wB(),TB(),Gs(),j7e=Kr.gitGraph,nd=o(()=>Zc({...j7e,...Yn().gitGraph}),"getConfig"),Lt=new S7(()=>{let e=nd(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}}),o(A7,"getID"),o(q7e,"uniqBy"),Y7e=o(function(e){Lt.records.direction=e},"setDirection"),U7e=o(function(e){X.debug("options str",e),e=e?.trim(),e=e||"{}";try{Lt.records.options=JSON.parse(e)}catch(t){X.error("error while parsing gitGraph options",t.message)}},"setOptions"),H7e=o(function(){return Lt.records.options},"getOptions"),W7e=o(function(e){let t=e.msg,r=e.id,n=e.type,i=e.tags;X.info("commit",t,r,n,i),X.debug("Entering commit:",t,r,n,i);let a=nd();r=ot.sanitizeText(r,a),t=ot.sanitizeText(t,a),i=i?.map(l=>ot.sanitizeText(l,a));let s={id:r||Lt.records.seq+"-"+A7(),message:t,seq:Lt.records.seq++,type:n??wn.NORMAL,tags:i??[],parents:Lt.records.head==null?[]:[Lt.records.head.id],branch:Lt.records.currBranch};Lt.records.head=s,X.info("main branch",a.mainBranchName),Lt.records.commits.set(s.id,s),Lt.records.branches.set(Lt.records.currBranch,s.id),X.debug("in pushCommit "+s.id)},"commit"),V7e=o(function(e){let t=e.name,r=e.order;if(t=ot.sanitizeText(t,nd()),Lt.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);Lt.records.branches.set(t,Lt.records.head!=null?Lt.records.head.id:null),Lt.records.branchConfig.set(t,{name:t,order:r}),CB(t),X.debug("in createBranch")},"branch"),X7e=o(e=>{let t=e.branch,r=e.id,n=e.type,i=e.tags,a=nd();t=ot.sanitizeText(t,a),r&&(r=ot.sanitizeText(r,a));let s=Lt.records.branches.get(Lt.records.currBranch),l=Lt.records.branches.get(t),u=s?Lt.records.commits.get(s):void 0,h=l?Lt.records.commits.get(l):void 0;if(u&&h&&u.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(Lt.records.currBranch===t){let f=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},f}if(u===void 0||!u){let f=new Error(`Incorrect usage of "merge". Current branch (${Lt.records.currBranch})has no commits`);throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},f}if(!Lt.records.branches.has(t)){let f=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},f}if(h===void 0||!h){let f=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},f}if(u===h){let f=new Error('Incorrect usage of "merge". Both branches have same head');throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},f}if(r&&Lt.records.commits.has(r)){let f=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw f.hash={text:`merge ${t} ${r} ${n} ${i?.join(" ")}`,token:`merge ${t} ${r} ${n} ${i?.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${n} ${i?.join(" ")}`]},f}let d=l||"",p={id:r||`${Lt.records.seq}-${A7()}`,message:`merged branch ${t} into ${Lt.records.currBranch}`,seq:Lt.records.seq++,parents:Lt.records.head==null?[]:[Lt.records.head.id,d],branch:Lt.records.currBranch,type:wn.MERGE,customType:n,customId:!!r,tags:i??[]};Lt.records.head=p,Lt.records.commits.set(p.id,p),Lt.records.branches.set(Lt.records.currBranch,p.id),X.debug(Lt.records.branches),X.debug("in mergeBranch")},"merge"),K7e=o(function(e){let t=e.id,r=e.targetId,n=e.tags,i=e.parent;X.debug("Entering cherryPick:",t,r,n);let a=nd();if(t=ot.sanitizeText(t,a),r=ot.sanitizeText(r,a),n=n?.map(u=>ot.sanitizeText(u,a)),i=ot.sanitizeText(i,a),!t||!Lt.records.commits.has(t)){let u=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw u.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},u}let s=Lt.records.commits.get(t);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&!(Array.isArray(s.parents)&&s.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let l=s.branch;if(s.type===wn.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!Lt.records.commits.has(r)){if(l===Lt.records.currBranch){let p=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let u=Lt.records.branches.get(Lt.records.currBranch);if(u===void 0||!u){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${Lt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let h=Lt.records.commits.get(u);if(h===void 0||!h){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${Lt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let d={id:Lt.records.seq+"-"+A7(),message:`cherry-picked ${s?.message} into ${Lt.records.currBranch}`,seq:Lt.records.seq++,parents:Lt.records.head==null?[]:[Lt.records.head.id,s.id],branch:Lt.records.currBranch,type:wn.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${s.id}${s.type===wn.MERGE?`|parent:${i}`:""}`]};Lt.records.head=d,Lt.records.commits.set(d.id,d),Lt.records.branches.set(Lt.records.currBranch,d.id),X.debug(Lt.records.branches),X.debug("in cherryPick")}},"cherryPick"),CB=o(function(e){if(e=ot.sanitizeText(e,nd()),Lt.records.branches.has(e)){Lt.records.currBranch=e;let t=Lt.records.branches.get(Lt.records.currBranch);t===void 0||!t?Lt.records.head=null:Lt.records.head=Lt.records.commits.get(t)??null}else{let t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}},"checkout"),o(EB,"upsert"),o(_B,"prettyPrintCommitHistory"),Z7e=o(function(){X.debug(Lt.records.commits);let e=SB()[0];_B([e])},"prettyPrint"),Q7e=o(function(){Lt.reset(),Yi()},"clear"),J7e=o(function(){return[...Lt.records.branchConfig.values()].map((e,t)=>e.order!==null&&e.order!==void 0?e:{...e,order:parseFloat(`0.${t}`)}).sort((e,t)=>(e.order??0)-(t.order??0)).map(({name:e})=>({name:e}))},"getBranchesAsObjArray"),eTe=o(function(){return Lt.records.branches},"getBranches"),tTe=o(function(){return Lt.records.commits},"getCommits"),SB=o(function(){let e=[...Lt.records.commits.values()];return e.forEach(function(t){X.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),rTe=o(function(){return Lt.records.currBranch},"getCurrentBranch"),nTe=o(function(){return Lt.records.direction},"getDirection"),iTe=o(function(){return Lt.records.head},"getHead"),AB={commitType:wn,getConfig:nd,setDirection:Y7e,setOptions:U7e,getOptions:H7e,commit:W7e,branch:V7e,merge:X7e,cherryPick:K7e,checkout:CB,prettyPrint:Z7e,clear:Q7e,getBranchesAsObjArray:J7e,getBranches:eTe,getCommits:tTe,getCommitsArray:SB,getCurrentBranch:rTe,getDirection:nTe,getHead:iTe,setAccTitle:Ui,getAccTitle:ea,getAccDescription:ra,setAccDescription:ta,setDiagramTitle:za,getDiagramTitle:na}}),sTe,oTe,lTe,cTe,uTe,hTe,dTe,pTe,eJe=I(()=>{"use strict";Qv(),Ye(),C7(),aTe(),wB(),sTe=o((e,t)=>{Jv(e,t),e.dir&&t.setDirection(e.dir);for(let r of e.statements)oTe(r,t)},"populate"),oTe=o((e,t)=>{let r={Commit:o(n=>t.commit(lTe(n)),"Commit"),Branch:o(n=>t.branch(cTe(n)),"Branch"),Merge:o(n=>t.merge(uTe(n)),"Merge"),Checkout:o(n=>t.checkout(hTe(n)),"Checkout"),CherryPicking:o(n=>t.cherryPick(dTe(n)),"CherryPicking")}[e.$type];r?r(e):X.error(`Unknown statement type: ${e.$type}`)},"parseStatement"),lTe=o(e=>({id:e.id,msg:e.message??"",type:e.type!==void 0?wn[e.type]:wn.NORMAL,tags:e.tags??void 0}),"parseCommit"),cTe=o(e=>({name:e.name,order:e.order??0}),"parseBranch"),uTe=o(e=>({branch:e.branch,id:e.id??"",type:e.type!==void 0?wn[e.type]:void 0,tags:e.tags??void 0}),"parseMerge"),hTe=o(e=>e.branch,"parseCheckout"),dTe=o(e=>({id:e.id,targetId:"",tags:e.tags?.length===0?void 0:e.tags,parent:e.parent}),"parseCherryPicking"),pTe={parse:o(async e=>{let t=await Y0("gitGraph",e);X.debug(t),sTe(t,AB)},"parse")}}),gTe,io,_u,Cu,_l,xc,id,us,hs,eb,jg,tb,Su,Wr,fTe,LB,NB,mTe,yTe,vTe,bTe,xTe,kTe,wTe,TTe,ETe,_Te,CTe,STe,IB,ATe,Yg,LTe,NTe,ITe,MTe,DTe,RTe,tJe=I(()=>{"use strict";Fr(),tr(),Ye(),Dr(),wB(),gTe=we(),io=gTe?.gitGraph,_u=10,Cu=40,_l=4,xc=2,id=8,us=new Map,hs=new Map,eb=30,jg=new Map,tb=[],Su=0,Wr="LR",fTe=o(()=>{us.clear(),hs.clear(),jg.clear(),Su=0,tb=[],Wr="LR"},"clear"),LB=o(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(r=>{let n=document.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","0"),n.setAttribute("class","row"),n.textContent=r.trim(),t.appendChild(n)}),t},"drawText"),NB=o(e=>{let t,r,n;return Wr==="BT"?(r=o((i,a)=>i<=a,"comparisonFunc"),n=1/0):(r=o((i,a)=>i>=a,"comparisonFunc"),n=0),e.forEach(i=>{let a=Wr==="TB"||Wr=="BT"?hs.get(i)?.y:hs.get(i)?.x;a!==void 0&&r(a,n)&&(t=i,n=a)}),t},"findClosestParent"),mTe=o(e=>{let t="",r=1/0;return e.forEach(n=>{let i=hs.get(n).y;i<=r&&(t=n,r=i)}),t||void 0},"findClosestParentBT"),yTe=o((e,t,r)=>{let n=r,i=r,a=[];e.forEach(s=>{let l=t.get(s);if(!l)throw new Error(`Commit not found for key ${s}`);l.parents.length?(n=bTe(l),i=Math.max(n,i)):a.push(l),xTe(l,n)}),n=i,a.forEach(s=>{kTe(s,n,r)}),e.forEach(s=>{let l=t.get(s);if(l?.parents.length){let u=mTe(l.parents);n=hs.get(u).y-Cu,n<=i&&(i=n);let h=us.get(l.branch).pos,d=n-_u;hs.set(l.id,{x:h,y:d})}})},"setParallelBTPos"),vTe=o(e=>{let t=NB(e.parents.filter(n=>n!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);let r=hs.get(t)?.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return r},"findClosestParentPos"),bTe=o(e=>vTe(e)+Cu,"calculateCommitPosition"),xTe=o((e,t)=>{let r=us.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);let n=r.pos,i=t+_u;return hs.set(e.id,{x:n,y:i}),{x:n,y:i}},"setCommitPosition"),kTe=o((e,t,r)=>{let n=us.get(e.branch);if(!n)throw new Error(`Branch not found for commit ${e.id}`);let i=t+r,a=n.pos;hs.set(e.id,{x:a,y:i})},"setRootPosition"),wTe=o((e,t,r,n,i,a)=>{if(a===wn.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${i%id} ${n}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${i%id} ${n}-inner`);else if(a===wn.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`);else{let s=e.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",t.type===wn.MERGE?9:10),s.attr("class",`commit ${t.id} commit${i%id}`),a===wn.MERGE){let l=e.append("circle");l.attr("cx",r.x),l.attr("cy",r.y),l.attr("r",6),l.attr("class",`commit ${n} ${t.id} commit${i%id}`)}a===wn.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${t.id} commit${i%id}`)}},"drawCommitBullet"),TTe=o((e,t,r,n)=>{if(t.type!==wn.CHERRY_PICK&&(t.customId&&t.type===wn.MERGE||t.type!==wn.MERGE)&&io?.showCommitLabel){let i=e.append("g"),a=i.insert("rect").attr("class","commit-label-bkg"),s=i.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(t.id),l=s.node()?.getBBox();if(l&&(a.attr("x",r.posWithOffset-l.width/2-xc).attr("y",r.y+13.5).attr("width",l.width+2*xc).attr("height",l.height+2*xc),Wr==="TB"||Wr==="BT"?(a.attr("x",r.x-(l.width+4*_l+5)).attr("y",r.y-12),s.attr("x",r.x-(l.width+4*_l)).attr("y",r.y+l.height-12)):s.attr("x",r.posWithOffset-l.width/2),io.rotateCommitLabel))if(Wr==="TB"||Wr==="BT")s.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),a.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{let u=-7.5-(l.width+10)/25*9.5,h=10+l.width/25*8.5;i.attr("transform","translate("+u+", "+h+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),ETe=o((e,t,r,n)=>{if(t.tags.length>0){let i=0,a=0,s=0,l=[];for(let u of t.tags.reverse()){let h=e.insert("polygon"),d=e.append("circle"),p=e.append("text").attr("y",r.y-16-i).attr("class","tag-label").text(u),f=p.node()?.getBBox();if(!f)throw new Error("Tag bbox not found");a=Math.max(a,f.width),s=Math.max(s,f.height),p.attr("x",r.posWithOffset-f.width/2),l.push({tag:p,hole:d,rect:h,yOffset:i}),i+=20}for(let{tag:u,hole:h,rect:d,yOffset:p}of l){let f=s/2,g=r.y-19.2-p;if(d.attr("class","tag-label-bkg").attr("points",`
      ${n-a/2-_l/2},${g+xc}  
      ${n-a/2-_l/2},${g-xc}
      ${r.posWithOffset-a/2-_l},${g-f-xc}
      ${r.posWithOffset+a/2+_l},${g-f-xc}
      ${r.posWithOffset+a/2+_l},${g+f+xc}
      ${r.posWithOffset-a/2-_l},${g+f+xc}`),h.attr("cy",g).attr("cx",n-a/2+_l/2).attr("r",1.5).attr("class","tag-hole"),Wr==="TB"||Wr==="BT"){let m=n+p;d.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${m+2}
        ${r.x},${m-2}
        ${r.x+_u},${m-f-2}
        ${r.x+_u+a+4},${m-f-2}
        ${r.x+_u+a+4},${m+f+2}
        ${r.x+_u},${m+f+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("cx",r.x+_l/2).attr("cy",m).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),u.attr("x",r.x+5).attr("y",m+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),_Te=o(e=>{switch(e.customType??e.type){case wn.NORMAL:return"commit-normal";case wn.REVERSE:return"commit-reverse";case wn.HIGHLIGHT:return"commit-highlight";case wn.MERGE:return"commit-merge";case wn.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),CTe=o((e,t,r,n)=>{let i={x:0,y:0};if(e.parents.length>0){let a=NB(e.parents);if(a){let s=n.get(a)??i;return t==="TB"?s.y+Cu:t==="BT"?(n.get(e.id)??i).y-Cu:s.x+Cu}}else return t==="TB"?eb:t==="BT"?(n.get(e.id)??i).y-Cu:0;return 0},"calculatePosition"),STe=o((e,t,r)=>{let n=Wr==="BT"&&r?t:t+_u,i=Wr==="TB"||Wr==="BT"?n:us.get(e.branch)?.pos,a=Wr==="TB"||Wr==="BT"?us.get(e.branch)?.pos:n;if(a===void 0||i===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:a,y:i,posWithOffset:n}},"getCommitPosition"),IB=o((e,t,r)=>{if(!io)throw new Error("GitGraph config not found");let n=e.append("g").attr("class","commit-bullets"),i=e.append("g").attr("class","commit-labels"),a=Wr==="TB"||Wr==="BT"?eb:0,s=[...t.keys()],l=io?.parallelCommits??!1,u=o((d,p)=>{let f=t.get(d)?.seq,g=t.get(p)?.seq;return f!==void 0&&g!==void 0?f-g:0},"sortKeys"),h=s.sort(u);Wr==="BT"&&(l&&yTe(h,t,a),h=h.reverse()),h.forEach(d=>{let p=t.get(d);if(!p)throw new Error(`Commit not found for key ${d}`);l&&(a=CTe(p,Wr,a,hs));let f=STe(p,a,l);if(r){let g=_Te(p),m=p.customType??p.type,y=us.get(p.branch)?.index??0;wTe(n,p,f,g,y,m),TTe(i,p,f,a),ETe(i,p,f,a)}Wr==="TB"||Wr==="BT"?hs.set(p.id,{x:f.x,y:f.posWithOffset}):hs.set(p.id,{x:f.posWithOffset,y:f.y}),a=Wr==="BT"&&l?a+Cu:a+Cu+_u,a>Su&&(Su=a)})},"drawCommits"),ATe=o((e,t,r,n,i)=>{let a=(Wr==="TB"||Wr==="BT"?r.x<n.x:r.y<n.y)?t.branch:e.branch,s=o(u=>u.branch===a,"isOnBranchToGetCurve"),l=o(u=>u.seq>e.seq&&u.seq<t.seq,"isBetweenCommits");return[...i.values()].some(u=>l(u)&&s(u))},"shouldRerouteArrow"),Yg=o((e,t,r=0)=>{let n=e+Math.abs(e-t)/2;if(r>5)return n;if(tb.every(a=>Math.abs(a-n)>=10))return tb.push(n),n;let i=Math.abs(e-t);return Yg(e,t-i/5,r+1)},"findLane"),LTe=o((e,t,r,n)=>{let i=hs.get(t.id),a=hs.get(r.id);if(i===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);let s=ATe(t,r,i,a,n),l="",u="",h=0,d=0,p=us.get(r.branch)?.index;r.type===wn.MERGE&&t.id!==r.parents[0]&&(p=us.get(t.branch)?.index);let f;if(s){l="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",h=10,d=10;let g=i.y<a.y?Yg(i.y,a.y):Yg(a.y,i.y),m=i.x<a.x?Yg(i.x,a.x):Yg(a.x,i.x);Wr==="TB"?i.x<a.x?f=`M ${i.x} ${i.y} L ${m-h} ${i.y} ${u} ${m} ${i.y+d} L ${m} ${a.y-h} ${l} ${m+d} ${a.y} L ${a.x} ${a.y}`:(p=us.get(t.branch)?.index,f=`M ${i.x} ${i.y} L ${m+h} ${i.y} ${l} ${m} ${i.y+d} L ${m} ${a.y-h} ${u} ${m-d} ${a.y} L ${a.x} ${a.y}`):Wr==="BT"?i.x<a.x?f=`M ${i.x} ${i.y} L ${m-h} ${i.y} ${l} ${m} ${i.y-d} L ${m} ${a.y+h} ${u} ${m+d} ${a.y} L ${a.x} ${a.y}`:(p=us.get(t.branch)?.index,f=`M ${i.x} ${i.y} L ${m+h} ${i.y} ${u} ${m} ${i.y-d} L ${m} ${a.y+h} ${l} ${m-d} ${a.y} L ${a.x} ${a.y}`):i.y<a.y?f=`M ${i.x} ${i.y} L ${i.x} ${g-h} ${l} ${i.x+d} ${g} L ${a.x-h} ${g} ${u} ${a.x} ${g+d} L ${a.x} ${a.y}`:(p=us.get(t.branch)?.index,f=`M ${i.x} ${i.y} L ${i.x} ${g+h} ${u} ${i.x+d} ${g} L ${a.x-h} ${g} ${l} ${a.x} ${g-d} L ${a.x} ${a.y}`)}else l="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,Wr==="TB"?(i.x<a.x&&(r.type===wn.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y-h} ${l} ${i.x+d} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${u} ${a.x} ${i.y+d} L ${a.x} ${a.y}`),i.x>a.x&&(l="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,r.type===wn.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y-h} ${u} ${i.x-d} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x+h} ${i.y} ${l} ${a.x} ${i.y+d} L ${a.x} ${a.y}`),i.x===a.x&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):Wr==="BT"?(i.x<a.x&&(r.type===wn.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y+h} ${u} ${i.x+d} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${l} ${a.x} ${i.y-d} L ${a.x} ${a.y}`),i.x>a.x&&(l="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,r.type===wn.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y+h} ${l} ${i.x-d} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${l} ${a.x} ${i.y-d} L ${a.x} ${a.y}`),i.x===a.x&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):(i.y<a.y&&(r.type===wn.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${u} ${a.x} ${i.y+d} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${a.y-h} ${l} ${i.x+d} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(r.type===wn.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${l} ${a.x} ${i.y-d} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${a.y+h} ${u} ${i.x+d} ${a.y} L ${a.x} ${a.y}`),i.y===a.y&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`));if(f===void 0)throw new Error("Line definition not found");e.append("path").attr("d",f).attr("class","arrow arrow"+p%id)},"drawArrow"),NTe=o((e,t)=>{let r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(n=>{let i=t.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(a=>{LTe(r,t.get(a),i,t)})})},"drawArrows"),ITe=o((e,t)=>{let r=e.append("g");t.forEach((n,i)=>{let a=i%id,s=us.get(n.name)?.pos;if(s===void 0)throw new Error(`Position not found for branch ${n.name}`);let l=r.append("line");l.attr("x1",0),l.attr("y1",s),l.attr("x2",Su),l.attr("y2",s),l.attr("class","branch branch"+a),Wr==="TB"?(l.attr("y1",eb),l.attr("x1",s),l.attr("y2",Su),l.attr("x2",s)):Wr==="BT"&&(l.attr("y1",Su),l.attr("x1",s),l.attr("y2",eb),l.attr("x2",s)),tb.push(s);let u=n.name,h=LB(u),d=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);p.node().appendChild(h);let f=h.getBBox();d.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-f.width-4-(io?.rotateCommitLabel===!0?30:0)).attr("y",-f.height/2+8).attr("width",f.width+18).attr("height",f.height+4),p.attr("transform","translate("+(-f.width-14-(io?.rotateCommitLabel===!0?30:0))+", "+(s-f.height/2-1)+")"),Wr==="TB"?(d.attr("x",s-f.width/2-10).attr("y",0),p.attr("transform","translate("+(s-f.width/2-5)+", 0)")):Wr==="BT"?(d.attr("x",s-f.width/2-10).attr("y",Su),p.attr("transform","translate("+(s-f.width/2-5)+", "+Su+")")):d.attr("transform","translate(-19, "+(s-f.height/2)+")")})},"drawBranches"),MTe=o(function(e,t,r,n,i){return us.set(e,{pos:t,index:r}),t+=50+(i?40:0)+(Wr==="TB"||Wr==="BT"?n.width/2:0),t},"setBranchPosition"),DTe=o(function(e,t,r,n){if(fTe(),X.debug("in gitgraph renderer",e+`
`,"id:",t,r),!io)throw new Error("GitGraph config not found");let i=io.rotateCommitLabel??!1,a=n.db;jg=a.getCommits();let s=a.getBranchesAsObjArray();Wr=a.getDirection();let l=nt(`[id="${t}"]`),u=0;s.forEach((h,d)=>{let p=LB(h.name),f=l.append("g"),g=f.insert("g").attr("class","branchLabel"),m=g.insert("g").attr("class","label branch-label");m.node()?.appendChild(p);let y=p.getBBox();u=MTe(h.name,u,d,y,i),m.remove(),g.remove(),f.remove()}),IB(l,jg,!1),io.showBranches&&ITe(l,s),NTe(l,jg),IB(l,jg,!0),Ar.insertTitle(l,"gitTitleText",io.titleTopMargin??0,a.getDiagramTitle()),CC(void 0,l,io.diagramPadding,io.useMaxWidth)},"draw"),RTe={draw:DTe}}),OTe,PTe,rJe=I(()=>{"use strict";OTe=o(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),PTe=OTe}),BTe={};Nt(BTe,{diagram:()=>$Te});var $Te,nJe=I(()=>{"use strict";eJe(),aTe(),tJe(),rJe(),$Te={parser:pTe,db:AB,renderer:RTe,styles:PTe}}),L7,FTe,iJe=I(()=>{"use strict";L7=function(){var e=o(function(B,E,R,O){for(R=R||{},O=B.length;O--;R[B[O]]=E);return R},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],a=[1,29],s=[1,30],l=[1,31],u=[1,32],h=[1,33],d=[1,34],p=[1,9],f=[1,10],g=[1,11],m=[1,12],y=[1,13],b=[1,14],v=[1,15],x=[1,16],k=[1,19],w=[1,20],_=[1,21],S=[1,22],C=[1,23],T=[1,25],N=[1,35],D={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:o(function(B,E,R,O,P,A,$){var F=A.length-1;switch(P){case 1:return A[F-1];case 2:this.$=[];break;case 3:A[F-1].push(A[F]),this.$=A[F-1];break;case 4:case 5:this.$=A[F];break;case 6:case 7:this.$=[];break;case 8:O.setWeekday("monday");break;case 9:O.setWeekday("tuesday");break;case 10:O.setWeekday("wednesday");break;case 11:O.setWeekday("thursday");break;case 12:O.setWeekday("friday");break;case 13:O.setWeekday("saturday");break;case 14:O.setWeekday("sunday");break;case 15:O.setWeekend("friday");break;case 16:O.setWeekend("saturday");break;case 17:O.setDateFormat(A[F].substr(11)),this.$=A[F].substr(11);break;case 18:O.enableInclusiveEndDates(),this.$=A[F].substr(18);break;case 19:O.TopAxis(),this.$=A[F].substr(8);break;case 20:O.setAxisFormat(A[F].substr(11)),this.$=A[F].substr(11);break;case 21:O.setTickInterval(A[F].substr(13)),this.$=A[F].substr(13);break;case 22:O.setExcludes(A[F].substr(9)),this.$=A[F].substr(9);break;case 23:O.setIncludes(A[F].substr(9)),this.$=A[F].substr(9);break;case 24:O.setTodayMarker(A[F].substr(12)),this.$=A[F].substr(12);break;case 27:O.setDiagramTitle(A[F].substr(6)),this.$=A[F].substr(6);break;case 28:this.$=A[F].trim(),O.setAccTitle(this.$);break;case 29:case 30:this.$=A[F].trim(),O.setAccDescription(this.$);break;case 31:O.addSection(A[F].substr(8)),this.$=A[F].substr(8);break;case 33:O.addTask(A[F-1],A[F]),this.$="task";break;case 34:this.$=A[F-1],O.setClickEvent(A[F-1],A[F],null);break;case 35:this.$=A[F-2],O.setClickEvent(A[F-2],A[F-1],A[F]);break;case 36:this.$=A[F-2],O.setClickEvent(A[F-2],A[F-1],null),O.setLink(A[F-2],A[F]);break;case 37:this.$=A[F-3],O.setClickEvent(A[F-3],A[F-2],A[F-1]),O.setLink(A[F-3],A[F]);break;case 38:this.$=A[F-2],O.setClickEvent(A[F-2],A[F],null),O.setLink(A[F-2],A[F-1]);break;case 39:this.$=A[F-3],O.setClickEvent(A[F-3],A[F-1],A[F]),O.setLink(A[F-3],A[F-2]);break;case 40:this.$=A[F-1],O.setLink(A[F-1],A[F]);break;case 41:case 47:this.$=A[F-1]+" "+A[F];break;case 42:case 43:case 45:this.$=A[F-2]+" "+A[F-1]+" "+A[F];break;case 44:case 46:this.$=A[F-3]+" "+A[F-2]+" "+A[F-1]+" "+A[F];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:a,16:s,17:l,18:u,19:18,20:h,21:d,22:p,23:f,24:g,25:m,26:y,27:b,28:v,29:x,30:k,31:w,33:_,35:S,36:C,37:24,38:T,40:N},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:a,16:s,17:l,18:u,19:18,20:h,21:d,22:p,23:f,24:g,25:m,26:y,27:b,28:v,29:x,30:k,31:w,33:_,35:S,36:C,37:24,38:T,40:N},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:o(function(B,E){if(E.recoverable)this.trace(B);else{var R=new Error(B);throw R.hash=E,R}},"parseError"),parse:o(function(B){var E=this,R=[0],O=[],P=[null],A=[],$=this.table,F="",G=0,q=0,W=0,re=2,oe=1,te=A.slice.call(arguments,1),se=Object.create(this.lexer),Y={yy:{}};for(var V in this.yy)Object.prototype.hasOwnProperty.call(this.yy,V)&&(Y.yy[V]=this.yy[V]);se.setInput(B,Y.yy),Y.yy.lexer=se,Y.yy.parser=this,typeof se.yylloc>"u"&&(se.yylloc={});var U=se.yylloc;A.push(U);var ne=se.options&&se.options.ranges;typeof Y.yy.parseError=="function"?this.parseError=Y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function K(ce){R.length=R.length-2*ce,P.length=P.length-ce,A.length=A.length-ce}o(K,"popStack");function fe(){var ce;return ce=O.pop()||se.lex()||oe,typeof ce!="number"&&(ce instanceof Array&&(O=ce,ce=O.pop()),ce=E.symbols_[ce]||ce),ce}o(fe,"lex");for(var Q,Te,ie,Me,Le,Ie,He={},We,et,Ze,H;;){if(ie=R[R.length-1],this.defaultActions[ie]?Me=this.defaultActions[ie]:((Q===null||typeof Q>"u")&&(Q=fe()),Me=$[ie]&&$[ie][Q]),typeof Me>"u"||!Me.length||!Me[0]){var ge="";H=[];for(We in $[ie])this.terminals_[We]&&We>re&&H.push("'"+this.terminals_[We]+"'");se.showPosition?ge="Parse error on line "+(G+1)+`:
`+se.showPosition()+`
Expecting `+H.join(", ")+", got '"+(this.terminals_[Q]||Q)+"'":ge="Parse error on line "+(G+1)+": Unexpected "+(Q==oe?"end of input":"'"+(this.terminals_[Q]||Q)+"'"),this.parseError(ge,{text:se.match,token:this.terminals_[Q]||Q,line:se.yylineno,loc:U,expected:H})}if(Me[0]instanceof Array&&Me.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ie+", token: "+Q);switch(Me[0]){case 1:R.push(Q),P.push(se.yytext),A.push(se.yylloc),R.push(Me[1]),Q=null,Te?(Q=Te,Te=null):(q=se.yyleng,F=se.yytext,G=se.yylineno,U=se.yylloc,W>0&&W--);break;case 2:if(et=this.productions_[Me[1]][1],He.$=P[P.length-et],He._$={first_line:A[A.length-(et||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(et||1)].first_column,last_column:A[A.length-1].last_column},ne&&(He._$.range=[A[A.length-(et||1)].range[0],A[A.length-1].range[1]]),Ie=this.performAction.apply(He,[F,q,G,Y.yy,Me[1],P,A].concat(te)),typeof Ie<"u")return Ie;et&&(R=R.slice(0,-1*et*2),P=P.slice(0,-1*et),A=A.slice(0,-1*et)),R.push(this.productions_[Me[1]][0]),P.push(He.$),A.push(He._$),Ze=$[R[R.length-2]][R[R.length-1]],R.push(Ze);break;case 3:return!0}}return!0},"parse")},M=function(){var B={EOF:1,parseError:o(function(E,R){if(this.yy.parser)this.yy.parser.parseError(E,R);else throw new Error(E)},"parseError"),setInput:o(function(E,R){return this.yy=R||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var E=this._input[0];this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E;var R=E.match(/(?:\r\n?|\n).*/g);return R?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},"input"),unput:o(function(E){var R=E.length,O=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-R),this.offset-=R;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1&&(this.yylineno-=O.length-1);var A=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===P.length?this.yylloc.first_column:0)+P[P.length-O.length].length-O[0].length:this.yylloc.first_column-R},this.options.ranges&&(this.yylloc.range=[A[0],A[0]+this.yyleng-R]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(E){this.unput(this.match.slice(E))},"less"),pastInput:o(function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var E=this.pastInput(),R=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+R+"^"},"showPosition"),test_match:o(function(E,R){var O,P,A;if(this.options.backtrack_lexer&&(A={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(A.yylloc.range=this.yylloc.range.slice(0))),P=E[0].match(/(?:\r\n?|\n).*/g),P&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],O=this.performAction.call(this,this.yy,this,R,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var $ in A)this[$]=A[$];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var E,R,O,P;this._more||(this.yytext="",this.match="");for(var A=this._currentRules(),$=0;$<A.length;$++)if(O=this._input.match(this.rules[A[$]]),O&&(!R||O[0].length>R[0].length)){if(R=O,P=$,this.options.backtrack_lexer){if(E=this.test_match(O,A[$]),E!==!1)return E;if(this._backtrack){R=!1;continue}else return!1}else if(!this.options.flex)break}return R?(E=this.test_match(R,A[P]),E!==!1?E:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var E=this.next();return E||this.lex()},"lex"),begin:o(function(E){this.conditionStack.push(E)},"begin"),popState:o(function(){var E=this.conditionStack.length-1;return E>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(E){return E=this.conditionStack.length-1-Math.abs(E||0),E>=0?this.conditionStack[E]:"INITIAL"},"topState"),pushState:o(function(E){this.begin(E)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(E,R,O,P){var A=P;switch(O){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return B}();D.lexer=M;function L(){this.yy={}}return o(L,"Parser"),L.prototype=D,D.Parser=L,new L}(),L7.parser=L7,FTe=L7}),aJe=Mt((e,t)=>{"use strict";(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isoWeek=n()})(e,function(){"use strict";var r="day";return function(n,i,a){var s=o(function(h){return h.add(4-h.isoWeekday(),r)},"a"),l=i.prototype;l.isoWeekYear=function(){return s(this).year()},l.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),r);var d,p,f,g,m=s(this),y=(d=this.isoWeekYear(),p=this.$u,f=(p?a.utc:a)().year(d).startOf("year"),g=4-f.isoWeekday(),f.isoWeekday()>4&&(g+=7),f.add(g,r));return m.diff(y,"week")+1},l.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var u=l.startOf;l.startOf=function(h,d){var p=this.$utils(),f=!!p.u(d)||d;return p.p(h)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):u.bind(this)(h,d)}}})}),sJe=Mt((e,t)=>{"use strict";(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=n()})(e,function(){"use strict";var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,u={},h=o(function(b){return(b=+b)+(b>68?1900:2e3)},"a"),d=o(function(b){return function(v){this[b]=+v}},"f"),p=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),k=60*x[1]+(+x[2]||0);return k===0?0:x[0]==="+"?-k:k}(b)}],f=o(function(b){var v=u[b];return v&&(v.indexOf?v:v.s.concat(v.f))},"u"),g=o(function(b,v){var x,k=u.meridiem;if(k){for(var w=1;w<=24;w+=1)if(b.indexOf(k(w,0,v))>-1){x=w>12;break}}else x=b===(v?"pm":"PM");return x},"d"),m={A:[l,function(b){this.afternoon=g(b,!1)}],a:[l,function(b){this.afternoon=g(b,!0)}],Q:[i,function(b){this.month=3*(b-1)+1}],S:[i,function(b){this.milliseconds=100*+b}],SS:[a,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[a,d("day")],Do:[l,function(b){var v=u.ordinal,x=b.match(/\d+/);if(this.day=x[0],v)for(var k=1;k<=31;k+=1)v(k).replace(/\[|\]/g,"")===b&&(this.day=k)}],w:[s,d("week")],ww:[a,d("week")],M:[s,d("month")],MM:[a,d("month")],MMM:[l,function(b){var v=f("months"),x=(f("monthsShort")||v.map(function(k){return k.slice(0,3)})).indexOf(b)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[l,function(b){var v=f("months").indexOf(b)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(b){this.year=h(b)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function y(b){var v,x;v=b,x=u&&u.formats;for(var k=(b=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,M,L){var B=L&&L.toUpperCase();return M||x[L]||r[L]||x[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,R,O){return R||O.slice(1)})})).match(n),w=k.length,_=0;_<w;_+=1){var S=k[_],C=m[S],T=C&&C[0],N=C&&C[1];k[_]=N?{regex:T,parser:N}:S.replace(/^\[|\]$/g,"")}return function(D){for(var M={},L=0,B=0;L<w;L+=1){var E=k[L];if(typeof E=="string")B+=E.length;else{var R=E.regex,O=E.parser,P=D.slice(B),A=R.exec(P)[0];O.call(M,A),D=D.replace(A,"")}}return function($){var F=$.afternoon;if(F!==void 0){var G=$.hours;F?G<12&&($.hours+=12):G===12&&($.hours=0),delete $.afternoon}}(M),M}}return o(y,"l"),function(b,v,x){x.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(h=b.parseTwoDigitYear);var k=v.prototype,w=k.parse;k.parse=function(_){var S=_.date,C=_.utc,T=_.args;this.$u=C;var N=T[1];if(typeof N=="string"){var D=T[2]===!0,M=T[3]===!0,L=D||M,B=T[2];M&&(B=T[2]),u=this.$locale(),!D&&B&&(u=x.Ls[B]),this.$d=function(P,A,$,F){try{if(["x","X"].indexOf(A)>-1)return new Date((A==="X"?1e3:1)*P);var G=y(A)(P),q=G.year,W=G.month,re=G.day,oe=G.hours,te=G.minutes,se=G.seconds,Y=G.milliseconds,V=G.zone,U=G.week,ne=new Date,K=re||(q||W?1:ne.getDate()),fe=q||ne.getFullYear(),Q=0;q&&!W||(Q=W>0?W-1:ne.getMonth());var Te,ie=oe||0,Me=te||0,Le=se||0,Ie=Y||0;return V?new Date(Date.UTC(fe,Q,K,ie,Me,Le,Ie+60*V.offset*1e3)):$?new Date(Date.UTC(fe,Q,K,ie,Me,Le,Ie)):(Te=new Date(fe,Q,K,ie,Me,Le,Ie),U&&(Te=F(Te).week(U).toDate()),Te)}catch{return new Date("")}}(S,N,C,x),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),L&&S!=this.format(N)&&(this.$d=new Date("")),u={}}else if(N instanceof Array)for(var E=N.length,R=1;R<=E;R+=1){T[1]=N[R-1];var O=x.apply(this,T);if(O.isValid()){this.$d=O.$d,this.$L=O.$L,this.init();break}R===E&&(this.$d=new Date(""))}else w.call(this,_)}}})}),oJe=Mt((e,t)=>{"use strict";(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_advancedFormat=n()})(e,function(){"use strict";return function(r,n){var i=n.prototype,a=i.format;i.format=function(s){var l=this,u=this.$locale();if(!this.isValid())return a.bind(this)(s);var h=this.$utils(),d=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return u.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return u.ordinal(l.week(),"W");case"w":case"ww":return h.s(l.week(),p==="w"?1:2,"0");case"W":case"WW":return h.s(l.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return h.s(String(l.$H===0?24:l.$H),p==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return p}});return a.bind(this)(d)}}})});function MB(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){let a="^\\s*"+i+"\\s*$",s=new RegExp(a);e[0].match(s)&&(t[i]=!0,e.shift(1),n=!0)})}var zTe,ao,GTe,qTe,jTe,DB,Cl,N7,RB,I7,Ug,Hg,M7,D7,rb,U0,R7,OB,O7,Wg,P7,B7,nb,$7,YTe,UTe,HTe,WTe,VTe,XTe,KTe,ZTe,QTe,JTe,eEe,tEe,rEe,nEe,iEe,aEe,sEe,oEe,lEe,cEe,uEe,hEe,dEe,PB,pEe,gEe,fEe,BB,mEe,F7,$B,FB,ib,H0,yEe,vEe,zB,z7,Oi,GB,bEe,ad,xEe,qB,kEe,jB,wEe,YB,TEe,EEe,_Ee,lJe=I(()=>{"use strict";zTe=xr(Ay(),1),ao=xr(Xr(),1),GTe=xr(aJe(),1),qTe=xr(sJe(),1),jTe=xr(oJe(),1),Ye(),tr(),Dr(),Hi(),ao.default.extend(GTe.default),ao.default.extend(qTe.default),ao.default.extend(jTe.default),DB={friday:5,saturday:6},Cl="",N7="",I7="",Ug=[],Hg=[],M7=new Map,D7=[],rb=[],U0="",R7="",OB=["active","done","crit","milestone"],O7=[],Wg=!1,P7=!1,B7="sunday",nb="saturday",$7=0,YTe=o(function(){D7=[],rb=[],U0="",O7=[],ib=0,zB=void 0,z7=void 0,Oi=[],Cl="",N7="",R7="",RB=void 0,I7="",Ug=[],Hg=[],Wg=!1,P7=!1,$7=0,M7=new Map,Yi(),B7="sunday",nb="saturday"},"clear"),UTe=o(function(e){N7=e},"setAxisFormat"),HTe=o(function(){return N7},"getAxisFormat"),WTe=o(function(e){RB=e},"setTickInterval"),VTe=o(function(){return RB},"getTickInterval"),XTe=o(function(e){I7=e},"setTodayMarker"),KTe=o(function(){return I7},"getTodayMarker"),ZTe=o(function(e){Cl=e},"setDateFormat"),QTe=o(function(){Wg=!0},"enableInclusiveEndDates"),JTe=o(function(){return Wg},"endDatesAreInclusive"),eEe=o(function(){P7=!0},"enableTopAxis"),tEe=o(function(){return P7},"topAxisEnabled"),rEe=o(function(e){R7=e},"setDisplayMode"),nEe=o(function(){return R7},"getDisplayMode"),iEe=o(function(){return Cl},"getDateFormat"),aEe=o(function(e){Ug=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),sEe=o(function(){return Ug},"getIncludes"),oEe=o(function(e){Hg=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),lEe=o(function(){return Hg},"getExcludes"),cEe=o(function(){return M7},"getLinks"),uEe=o(function(e){U0=e,D7.push(e)},"addSection"),hEe=o(function(){return D7},"getSections"),dEe=o(function(){let e=qB(),t=10,r=0;for(;!e&&r<t;)e=qB(),r++;return rb=Oi,rb},"getTasks"),PB=o(function(e,t,r,n){return n.includes(e.format(t.trim()))?!1:r.includes("weekends")&&(e.isoWeekday()===DB[nb]||e.isoWeekday()===DB[nb]+1)||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(e.format(t.trim()))},"isInvalidDate"),pEe=o(function(e){B7=e},"setWeekday"),gEe=o(function(){return B7},"getWeekday"),fEe=o(function(e){nb=e},"setWeekend"),BB=o(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let i;e.startTime instanceof Date?i=(0,ao.default)(e.startTime):i=(0,ao.default)(e.startTime,t,!0),i=i.add(1,"d");let a;e.endTime instanceof Date?a=(0,ao.default)(e.endTime):a=(0,ao.default)(e.endTime,t,!0);let[s,l]=mEe(i,a,t,r,n);e.endTime=s.toDate(),e.renderEndTime=l},"checkTaskDates"),mEe=o(function(e,t,r,n,i){let a=!1,s=null;for(;e<=t;)a||(s=t.toDate()),a=PB(e,r,n,i),a&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,s]},"fixTaskDates"),F7=o(function(e,t,r){r=r.trim();let n=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(n!==null){let a=null;for(let l of n.groups.ids.split(" ")){let u=ad(l);u!==void 0&&(!a||u.endTime>a.endTime)&&(a=u)}if(a)return a.endTime;let s=new Date;return s.setHours(0,0,0,0),s}let i=(0,ao.default)(r,t.trim(),!0);if(i.isValid())return i.toDate();{X.debug("Invalid date:"+r),X.debug("With date format:"+t.trim());let a=new Date(r);if(a===void 0||isNaN(a.getTime())||a.getFullYear()<-1e4||a.getFullYear()>1e4)throw new Error("Invalid date:"+r);return a}},"getStartDate"),$B=o(function(e){let t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),FB=o(function(e,t,r,n=!1){r=r.trim();let i=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let h=null;for(let p of i.groups.ids.split(" ")){let f=ad(p);f!==void 0&&(!h||f.startTime<h.startTime)&&(h=f)}if(h)return h.startTime;let d=new Date;return d.setHours(0,0,0,0),d}let a=(0,ao.default)(r,t.trim(),!0);if(a.isValid())return n&&(a=a.add(1,"d")),a.toDate();let s=(0,ao.default)(e),[l,u]=$B(r);if(!Number.isNaN(l)){let h=s.add(l,u);h.isValid()&&(s=h)}return s.toDate()},"getEndDate"),ib=0,H0=o(function(e){return e===void 0?(ib=ib+1,"task"+ib):e},"parseId"),yEe=o(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};MB(n,i,OB);for(let s=0;s<n.length;s++)n[s]=n[s].trim();let a="";switch(n.length){case 1:i.id=H0(),i.startTime=e.endTime,a=n[0];break;case 2:i.id=H0(),i.startTime=F7(void 0,Cl,n[0]),a=n[1];break;case 3:i.id=H0(n[0]),i.startTime=F7(void 0,Cl,n[1]),a=n[2];break;default:}return a&&(i.endTime=FB(i.startTime,Cl,a,Wg),i.manualEndTime=(0,ao.default)(a,"YYYY-MM-DD",!0).isValid(),BB(i,Cl,Hg,Ug)),i},"compileData"),vEe=o(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};MB(n,i,OB);for(let a=0;a<n.length;a++)n[a]=n[a].trim();switch(n.length){case 1:i.id=H0(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=H0(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=H0(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break;default:}return i},"parseData"),Oi=[],GB={},bEe=o(function(e,t){let r={section:U0,type:U0,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=vEe(z7,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=z7,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=$7,$7++;let i=Oi.push(r);z7=r.id,GB[r.id]=i-1},"addTask"),ad=o(function(e){let t=GB[e];return Oi[t]},"findTaskById"),xEe=o(function(e,t){let r={section:U0,type:U0,description:e,task:e,classes:[]},n=yEe(zB,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,zB=r,rb.push(r)},"addTaskOrg"),qB=o(function(){let e=o(function(r){let n=Oi[r],i="";switch(Oi[r].raw.startTime.type){case"prevTaskEnd":{let a=ad(n.prevTaskId);n.startTime=a.endTime;break}case"getStartDate":i=F7(void 0,Cl,Oi[r].raw.startTime.startData),i&&(Oi[r].startTime=i);break}return Oi[r].startTime&&(Oi[r].endTime=FB(Oi[r].startTime,Cl,Oi[r].raw.endTime.data,Wg),Oi[r].endTime&&(Oi[r].processed=!0,Oi[r].manualEndTime=(0,ao.default)(Oi[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),BB(Oi[r],Cl,Hg,Ug))),Oi[r].processed},"compileTask"),t=!0;for(let[r,n]of Oi.entries())e(r),t=t&&n.processed;return t},"compileTasks"),kEe=o(function(e,t){let r=t;we().securityLevel!=="loose"&&(r=(0,zTe.sanitizeUrl)(t)),e.split(",").forEach(function(n){ad(n)!==void 0&&(YB(n,()=>{window.open(r,"_self")}),M7.set(n,r))}),jB(e,"clickable")},"setLink"),jB=o(function(e,t){e.split(",").forEach(function(r){let n=ad(r);n!==void 0&&n.classes.push(t)})},"setClass"),wEe=o(function(e,t,r){if(we().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let i=0;i<n.length;i++){let a=n[i].trim();a.startsWith('"')&&a.endsWith('"')&&(a=a.substr(1,a.length-2)),n[i]=a}}n.length===0&&n.push(e),ad(e)!==void 0&&YB(e,()=>{Ar.runFunc(t,...n)})},"setClickFun"),YB=o(function(e,t){O7.push(function(){let r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){let r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),TEe=o(function(e,t,r){e.split(",").forEach(function(n){wEe(n,t,r)}),jB(e,"clickable")},"setClickEvent"),EEe=o(function(e){O7.forEach(function(t){t(e)})},"bindFunctions"),_Ee={getConfig:o(()=>we().gantt,"getConfig"),clear:YTe,setDateFormat:ZTe,getDateFormat:iEe,enableInclusiveEndDates:QTe,endDatesAreInclusive:JTe,enableTopAxis:eEe,topAxisEnabled:tEe,setAxisFormat:UTe,getAxisFormat:HTe,setTickInterval:WTe,getTickInterval:VTe,setTodayMarker:XTe,getTodayMarker:KTe,setAccTitle:Ui,getAccTitle:ea,setDiagramTitle:za,getDiagramTitle:na,setDisplayMode:rEe,getDisplayMode:nEe,setAccDescription:ta,getAccDescription:ra,addSection:uEe,getSections:hEe,getTasks:dEe,addTask:bEe,findTaskById:ad,addTaskOrg:xEe,setIncludes:aEe,getIncludes:sEe,setExcludes:oEe,getExcludes:lEe,setClickEvent:TEe,setLink:kEe,getLinks:cEe,bindFunctions:EEe,parseDuration:$B,isInvalidDate:PB,setWeekday:pEe,getWeekday:gEe,setWeekend:fEe},o(MB,"getTaskTags")}),G7,CEe,UB,SEe,Au,AEe,LEe,cJe=I(()=>{"use strict";G7=xr(Xr(),1),Ye(),Fr(),Pr(),tr(),wi(),CEe=o(function(){X.debug("Something is calling, setConf, remove the call")},"setConf"),UB={monday:m1,tuesday:ZS,wednesday:QS,thursday:yh,friday:JS,saturday:eA,sunday:f1},SEe=o((e,t)=>{let r=[...e].map(()=>-1/0),n=[...e].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),i=0;for(let a of n)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+t,s>i&&(i=s);break}return i},"getMaxIntersections"),AEe=o(function(e,t,r,n){let i=we().gantt,a=we().securityLevel,s;a==="sandbox"&&(s=nt("#i"+t));let l=nt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=a==="sandbox"?s.nodes()[0].contentDocument:document,h=u.getElementById(t);Au=h.parentElement.offsetWidth,Au===void 0&&(Au=1200),i.useWidth!==void 0&&(Au=i.useWidth);let d=n.db.getTasks(),p=[];for(let T of d)p.push(T.type);p=C(p);let f={},g=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){let T={};for(let D of d)T[D.section]===void 0?T[D.section]=[D]:T[D.section].push(D);let N=0;for(let D of Object.keys(T)){let M=SEe(T[D],N)+1;N+=M,g+=M*(i.barHeight+i.barGap),f[D]=M}}else{g+=d.length*(i.barHeight+i.barGap);for(let T of p)f[T]=d.filter(N=>N.type===T).length}h.setAttribute("viewBox","0 0 "+Au+" "+g);let m=l.select(`[id="${t}"]`),y=Tee().domain([TV(d,function(T){return T.startTime}),wV(d,function(T){return T.endTime})]).rangeRound([0,Au-i.leftPadding-i.rightPadding]);function b(T,N){let D=T.startTime,M=N.startTime,L=0;return D>M?L=1:D<M&&(L=-1),L}o(b,"taskCompare"),d.sort(b),v(d,Au,g),ba(m,g,Au,i.useMaxWidth),m.append("text").text(n.db.getDiagramTitle()).attr("x",Au/2).attr("y",i.titleTopMargin).attr("class","titleText");function v(T,N,D){let M=i.barHeight,L=M+i.barGap,B=i.topPadding,E=i.leftPadding,R=Qd().domain([0,p.length]).range(["#00B9FA","#F95002"]).interpolate(cZ);k(L,B,E,N,D,T,n.db.getExcludes(),n.db.getIncludes()),w(E,B,N,D),x(T,L,B,E,M,R,N,D),_(L,B,E,M,R),S(E,B,N,D)}o(v,"makeGantt");function x(T,N,D,M,L,B,E){let R=[...new Set(T.map(A=>A.order))].map(A=>T.find($=>$.order===A));m.append("g").selectAll("rect").data(R).enter().append("rect").attr("x",0).attr("y",function(A,$){return $=A.order,$*N+D-2}).attr("width",function(){return E-i.rightPadding/2}).attr("height",N).attr("class",function(A){for(let[$,F]of p.entries())if(A.type===F)return"section section"+$%i.numberSectionStyles;return"section section0"});let O=m.append("g").selectAll("rect").data(T).enter(),P=n.db.getLinks();if(O.append("rect").attr("id",function(A){return A.id}).attr("rx",3).attr("ry",3).attr("x",function(A){return A.milestone?y(A.startTime)+M+.5*(y(A.endTime)-y(A.startTime))-.5*L:y(A.startTime)+M}).attr("y",function(A,$){return $=A.order,$*N+D}).attr("width",function(A){return A.milestone?L:y(A.renderEndTime||A.endTime)-y(A.startTime)}).attr("height",L).attr("transform-origin",function(A,$){return $=A.order,(y(A.startTime)+M+.5*(y(A.endTime)-y(A.startTime))).toString()+"px "+($*N+D+.5*L).toString()+"px"}).attr("class",function(A){let $="task",F="";A.classes.length>0&&(F=A.classes.join(" "));let G=0;for(let[W,re]of p.entries())A.type===re&&(G=W%i.numberSectionStyles);let q="";return A.active?A.crit?q+=" activeCrit":q=" active":A.done?A.crit?q=" doneCrit":q=" done":A.crit&&(q+=" crit"),q.length===0&&(q=" task"),A.milestone&&(q=" milestone "+q),q+=G,q+=" "+F,$+q}),O.append("text").attr("id",function(A){return A.id+"-text"}).text(function(A){return A.task}).attr("font-size",i.fontSize).attr("x",function(A){let $=y(A.startTime),F=y(A.renderEndTime||A.endTime);A.milestone&&($+=.5*(y(A.endTime)-y(A.startTime))-.5*L),A.milestone&&(F=$+L);let G=this.getBBox().width;return G>F-$?F+G+1.5*i.leftPadding>E?$+M-5:F+M+5:(F-$)/2+$+M}).attr("y",function(A,$){return $=A.order,$*N+i.barHeight/2+(i.fontSize/2-2)+D}).attr("text-height",L).attr("class",function(A){let $=y(A.startTime),F=y(A.endTime);A.milestone&&(F=$+L);let G=this.getBBox().width,q="";A.classes.length>0&&(q=A.classes.join(" "));let W=0;for(let[oe,te]of p.entries())A.type===te&&(W=oe%i.numberSectionStyles);let re="";return A.active&&(A.crit?re="activeCritText"+W:re="activeText"+W),A.done?A.crit?re=re+" doneCritText"+W:re=re+" doneText"+W:A.crit&&(re=re+" critText"+W),A.milestone&&(re+=" milestoneText"),G>F-$?F+G+1.5*i.leftPadding>E?q+" taskTextOutsideLeft taskTextOutside"+W+" "+re:q+" taskTextOutsideRight taskTextOutside"+W+" "+re+" width-"+G:q+" taskText taskText"+W+" "+re+" width-"+G}),we().securityLevel==="sandbox"){let A;A=nt("#i"+t);let $=A.nodes()[0].contentDocument;O.filter(function(F){return P.has(F.id)}).each(function(F){var G=$.querySelector("#"+F.id),q=$.querySelector("#"+F.id+"-text");let W=G.parentNode;var re=$.createElement("a");re.setAttribute("xlink:href",P.get(F.id)),re.setAttribute("target","_top"),W.appendChild(re),re.appendChild(G),re.appendChild(q)})}}o(x,"drawRects");function k(T,N,D,M,L,B,E,R){if(E.length===0&&R.length===0)return;let O,P;for(let{startTime:q,endTime:W}of B)(O===void 0||q<O)&&(O=q),(P===void 0||W>P)&&(P=W);if(!O||!P)return;if((0,G7.default)(P).diff((0,G7.default)(O),"year")>5){X.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let A=n.db.getDateFormat(),$=[],F=null,G=(0,G7.default)(O);for(;G.valueOf()<=P;)n.db.isInvalidDate(G,A,E,R)?F?F.end=G:F={start:G,end:G}:F&&($.push(F),F=null),G=G.add(1,"d");m.append("g").selectAll("rect").data($).enter().append("rect").attr("id",function(q){return"exclude-"+q.start.format("YYYY-MM-DD")}).attr("x",function(q){return y(q.start)+D}).attr("y",i.gridLineStartPadding).attr("width",function(q){let W=q.end.add(1,"day");return y(W)-y(q.start)}).attr("height",L-N-i.gridLineStartPadding).attr("transform-origin",function(q,W){return(y(q.start)+D+.5*(y(q.end)-y(q.start))).toString()+"px "+(W*T+.5*L).toString()+"px"}).attr("class","exclude-range")}o(k,"drawExcludeDays");function w(T,N,D,M){let L=MV(y).tickSize(-M+N+i.gridLineStartPadding).tickFormat(G3(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d")),B=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(B!==null){let E=B[1],R=B[2],O=n.db.getWeekday()||i.weekday;switch(R){case"millisecond":L.ticks(Jd.every(E));break;case"second":L.ticks(Hc.every(E));break;case"minute":L.ticks(p1.every(E));break;case"hour":L.ticks(g1.every(E));break;case"day":L.ticks(gh.every(E));break;case"week":L.ticks(UB[O].every(E));break;case"month":L.ticks(y1.every(E));break}}if(m.append("g").attr("class","grid").attr("transform","translate("+T+", "+(M-50)+")").call(L).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let E=IV(y).tickSize(-M+N+i.gridLineStartPadding).tickFormat(G3(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(B!==null){let R=B[1],O=B[2],P=n.db.getWeekday()||i.weekday;switch(O){case"millisecond":E.ticks(Jd.every(R));break;case"second":E.ticks(Hc.every(R));break;case"minute":E.ticks(p1.every(R));break;case"hour":E.ticks(g1.every(R));break;case"day":E.ticks(gh.every(R));break;case"week":E.ticks(UB[P].every(R));break;case"month":E.ticks(y1.every(R));break}}m.append("g").attr("class","grid").attr("transform","translate("+T+", "+N+")").call(E).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}o(w,"makeGrid");function _(T,N){let D=0,M=Object.keys(f).map(L=>[L,f[L]]);m.append("g").selectAll("text").data(M).enter().append(function(L){let B=L[0].split(ot.lineBreakRegex),E=-(B.length-1)/2,R=u.createElementNS("http://www.w3.org/2000/svg","text");R.setAttribute("dy",E+"em");for(let[O,P]of B.entries()){let A=u.createElementNS("http://www.w3.org/2000/svg","tspan");A.setAttribute("alignment-baseline","central"),A.setAttribute("x","10"),O>0&&A.setAttribute("dy","1em"),A.textContent=P,R.appendChild(A)}return R}).attr("x",10).attr("y",function(L,B){if(B>0)for(let E=0;E<B;E++)return D+=M[B-1][1],L[1]*T/2+D*T+N;else return L[1]*T/2+N}).attr("font-size",i.sectionFontSize).attr("class",function(L){for(let[B,E]of p.entries())if(L[0]===E)return"sectionTitle sectionTitle"+B%i.numberSectionStyles;return"sectionTitle"})}o(_,"vertLabels");function S(T,N,D,M){let L=n.db.getTodayMarker();if(L==="off")return;let B=m.append("g").attr("class","today"),E=new Date,R=B.append("line");R.attr("x1",y(E)+T).attr("x2",y(E)+T).attr("y1",i.titleTopMargin).attr("y2",M-i.titleTopMargin).attr("class","today"),L!==""&&R.attr("style",L.replace(/,/g,";"))}o(S,"drawToday");function C(T){let N={},D=[];for(let M=0,L=T.length;M<L;++M)Object.prototype.hasOwnProperty.call(N,T[M])||(N[T[M]]=!0,D.push(T[M]));return D}o(C,"checkUnique")},"draw"),LEe={setConf:CEe,draw:AEe}}),NEe,IEe,uJe=I(()=>{"use strict";NEe=o(e=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),IEe=NEe}),MEe={};Nt(MEe,{diagram:()=>DEe});var DEe,hJe=I(()=>{"use strict";iJe(),lJe(),cJe(),uJe(),DEe={parser:FTe,db:_Ee,renderer:LEe,styles:IEe}}),REe,dJe=I(()=>{"use strict";Qv(),Ye(),REe={parse:o(async e=>{let t=await Y0("info",e);X.debug(t)},"parse")}}),q7,OEe=I(()=>{q7="11.4.1"}),PEe,BEe,$Ee,pJe=I(()=>{"use strict";OEe(),PEe={version:q7},BEe=o(()=>PEe.version,"getVersion"),$Ee={getVersion:BEe}}),Lu,sd=I(()=>{"use strict";Fr(),tr(),Lu=o(e=>{let{securityLevel:t}=we(),r=nt("body");if(t==="sandbox"){let n=nt(`#i${e}`).node()?.contentDocument??document;r=nt(n.body)}return r.select(`#${e}`)},"selectSvgElement")}),FEe,zEe,gJe=I(()=>{"use strict";Ye(),sd(),wi(),FEe=o((e,t,r)=>{X.debug(`rendering info diagram
`+e);let n=Lu(t);ba(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),zEe={draw:FEe}}),GEe={};Nt(GEe,{diagram:()=>qEe});var qEe,fJe=I(()=>{"use strict";dJe(),pJe(),gJe(),qEe={parser:REe,db:$Ee,renderer:zEe}}),HB,j7,ab,Y7,jEe,YEe,UEe,HEe,WEe,VEe,XEe,WB,KEe=I(()=>{"use strict";Ye(),Hi(),Gs(),HB=Kr.pie,j7={sections:new Map,showData:!1,config:HB},ab=j7.sections,Y7=j7.showData,jEe=structuredClone(HB),YEe=o(()=>structuredClone(jEe),"getConfig"),UEe=o(()=>{ab=new Map,Y7=j7.showData,Yi()},"clear"),HEe=o(({label:e,value:t})=>{ab.has(e)||(ab.set(e,t),X.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),WEe=o(()=>ab,"getSections"),VEe=o(e=>{Y7=e},"setShowData"),XEe=o(()=>Y7,"getShowData"),WB={getConfig:YEe,clear:UEe,setDiagramTitle:za,getDiagramTitle:na,setAccTitle:Ui,getAccTitle:ea,setAccDescription:ta,getAccDescription:ra,addSection:HEe,getSections:WEe,setShowData:VEe,getShowData:XEe}}),ZEe,QEe,mJe=I(()=>{"use strict";Qv(),Ye(),C7(),KEe(),ZEe=o((e,t)=>{Jv(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),QEe={parse:o(async e=>{let t=await Y0("pie",e);X.debug(t),ZEe(t,WB)},"parse")}}),JEe,e8e,yJe=I(()=>{"use strict";JEe=o(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),e8e=JEe}),t8e,r8e,n8e,vJe=I(()=>{"use strict";Fr(),tr(),Ye(),sd(),wi(),Dr(),t8e=o(e=>{let t=[...e.entries()].map(r=>({label:r[0],value:r[1]})).sort((r,n)=>n.value-r.value);return Gee().value(r=>r.value)(t)},"createPieArcs"),r8e=o((e,t,r,n)=>{X.debug(`rendering pie chart
`+e);let i=n.db,a=we(),s=Zc(i.getConfig(),a.pie),l=40,u=18,h=4,d=450,p=d,f=Lu(t),g=f.append("g");g.attr("transform","translate("+p/2+","+d/2+")");let{themeVariables:m}=a,[y]=Qc(m.pieOuterStrokeWidth);y??=2;let b=s.textPosition,v=Math.min(p,d)/2-l,x=r0().innerRadius(0).outerRadius(v),k=r0().innerRadius(v*b).outerRadius(v*b);g.append("circle").attr("cx",0).attr("cy",0).attr("r",v+y/2).attr("class","pieOuterCircle");let w=i.getSections(),_=t8e(w),S=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12],C=vy(S);g.selectAll("mySlices").data(_).enter().append("path").attr("d",x).attr("fill",L=>C(L.data.label)).attr("class","pieCircle");let T=0;w.forEach(L=>{T+=L}),g.selectAll("mySlices").data(_).enter().append("text").text(L=>(L.data.value/T*100).toFixed(0)+"%").attr("transform",L=>"translate("+k.centroid(L)+")").style("text-anchor","middle").attr("class","slice"),g.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-(d-50)/2).attr("class","pieTitleText");let N=g.selectAll(".legend").data(C.domain()).enter().append("g").attr("class","legend").attr("transform",(L,B)=>{let E=u+h,R=E*C.domain().length/2,O=12*u,P=B*E-R;return"translate("+O+","+P+")"});N.append("rect").attr("width",u).attr("height",u).style("fill",C).style("stroke",C),N.data(_).append("text").attr("x",u+h).attr("y",u-h).text(L=>{let{label:B,value:E}=L.data;return i.getShowData()?`${B} [${E}]`:B});let D=Math.max(...N.selectAll("text").nodes().map(L=>L?.getBoundingClientRect().width??0)),M=p+l+u+h+D;f.attr("viewBox",`0 0 ${M} ${d}`),ba(f,d,M,s.useMaxWidth)},"draw"),n8e={draw:r8e}}),i8e={};Nt(i8e,{diagram:()=>a8e});var a8e,bJe=I(()=>{"use strict";mJe(),KEe(),yJe(),vJe(),a8e={parser:QEe,db:WB,renderer:n8e,styles:e8e}}),U7,s8e,xJe=I(()=>{"use strict";U7=function(){var e=o(function(ae,pe,_e,Se){for(_e=_e||{},Se=ae.length;Se--;_e[ae[Se]]=pe);return _e},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],u=[55,56,57],h=[2,36],d=[1,37],p=[1,36],f=[1,38],g=[1,35],m=[1,43],y=[1,41],b=[1,14],v=[1,23],x=[1,18],k=[1,19],w=[1,20],_=[1,21],S=[1,22],C=[1,24],T=[1,25],N=[1,26],D=[1,27],M=[1,28],L=[1,29],B=[1,32],E=[1,33],R=[1,34],O=[1,39],P=[1,40],A=[1,42],$=[1,44],F=[1,62],G=[1,61],q=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],W=[1,65],re=[1,66],oe=[1,67],te=[1,68],se=[1,69],Y=[1,70],V=[1,71],U=[1,72],ne=[1,73],K=[1,74],fe=[1,75],Q=[1,76],Te=[4,5,6,7,8,9,10,11,12,13,14,15,18],ie=[1,90],Me=[1,91],Le=[1,92],Ie=[1,99],He=[1,93],We=[1,96],et=[1,94],Ze=[1,95],H=[1,97],ge=[1,98],ce=[1,102],ve=[10,55,56,57],J=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],Pe={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:o(function(ae,pe,_e,Se,Re,ke,Xe){var Oe=ke.length-1;switch(Re){case 23:this.$=ke[Oe];break;case 24:this.$=ke[Oe-1]+""+ke[Oe];break;case 26:this.$=ke[Oe-1]+ke[Oe];break;case 27:this.$=[ke[Oe].trim()];break;case 28:ke[Oe-2].push(ke[Oe].trim()),this.$=ke[Oe-2];break;case 29:this.$=ke[Oe-4],Se.addClass(ke[Oe-2],ke[Oe]);break;case 37:this.$=[];break;case 42:this.$=ke[Oe].trim(),Se.setDiagramTitle(this.$);break;case 43:this.$=ke[Oe].trim(),Se.setAccTitle(this.$);break;case 44:case 45:this.$=ke[Oe].trim(),Se.setAccDescription(this.$);break;case 46:Se.addSection(ke[Oe].substr(8)),this.$=ke[Oe].substr(8);break;case 47:Se.addPoint(ke[Oe-3],"",ke[Oe-1],ke[Oe],[]);break;case 48:Se.addPoint(ke[Oe-4],ke[Oe-3],ke[Oe-1],ke[Oe],[]);break;case 49:Se.addPoint(ke[Oe-4],"",ke[Oe-2],ke[Oe-1],ke[Oe]);break;case 50:Se.addPoint(ke[Oe-5],ke[Oe-4],ke[Oe-2],ke[Oe-1],ke[Oe]);break;case 51:Se.setXAxisLeftText(ke[Oe-2]),Se.setXAxisRightText(ke[Oe]);break;case 52:ke[Oe-1].text+=" \u27F6 ",Se.setXAxisLeftText(ke[Oe-1]);break;case 53:Se.setXAxisLeftText(ke[Oe]);break;case 54:Se.setYAxisBottomText(ke[Oe-2]),Se.setYAxisTopText(ke[Oe]);break;case 55:ke[Oe-1].text+=" \u27F6 ",Se.setYAxisBottomText(ke[Oe-1]);break;case 56:Se.setYAxisBottomText(ke[Oe]);break;case 57:Se.setQuadrant1Text(ke[Oe]);break;case 58:Se.setQuadrant2Text(ke[Oe]);break;case 59:Se.setQuadrant3Text(ke[Oe]);break;case 60:Se.setQuadrant4Text(ke[Oe]);break;case 64:this.$={text:ke[Oe],type:"text"};break;case 65:this.$={text:ke[Oe-1].text+""+ke[Oe],type:ke[Oe-1].type};break;case 66:this.$={text:ke[Oe],type:"text"};break;case 67:this.$={text:ke[Oe],type:"markdown"};break;case 68:this.$=ke[Oe];break;case 69:this.$=ke[Oe-1]+""+ke[Oe];break}},"anonymous"),table:[{18:t,26:1,27:2,28:r,55:n,56:i,57:a},{1:[3]},{18:t,26:8,27:2,28:r,55:n,56:i,57:a},{18:t,26:9,27:2,28:r,55:n,56:i,57:a},e(s,[2,33],{29:10}),e(l,[2,61]),e(l,[2,62]),e(l,[2,63]),{1:[2,30]},{1:[2,31]},e(u,h,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:d,5:p,10:f,12:g,13:m,14:y,18:b,25:v,35:x,37:k,39:w,41:_,42:S,48:C,50:T,51:N,52:D,53:M,54:L,60:B,61:E,63:R,64:O,65:P,66:A,67:$}),e(s,[2,34]),{27:45,55:n,56:i,57:a},e(u,[2,37]),e(u,h,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:d,5:p,10:f,12:g,13:m,14:y,18:b,25:v,35:x,37:k,39:w,41:_,42:S,48:C,50:T,51:N,52:D,53:M,54:L,60:B,61:E,63:R,64:O,65:P,66:A,67:$}),e(u,[2,39]),e(u,[2,40]),e(u,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(u,[2,45]),e(u,[2,46]),{18:[1,50]},{4:d,5:p,10:f,12:g,13:m,14:y,43:51,58:31,60:B,61:E,63:R,64:O,65:P,66:A,67:$},{4:d,5:p,10:f,12:g,13:m,14:y,43:52,58:31,60:B,61:E,63:R,64:O,65:P,66:A,67:$},{4:d,5:p,10:f,12:g,13:m,14:y,43:53,58:31,60:B,61:E,63:R,64:O,65:P,66:A,67:$},{4:d,5:p,10:f,12:g,13:m,14:y,43:54,58:31,60:B,61:E,63:R,64:O,65:P,66:A,67:$},{4:d,5:p,10:f,12:g,13:m,14:y,43:55,58:31,60:B,61:E,63:R,64:O,65:P,66:A,67:$},{4:d,5:p,10:f,12:g,13:m,14:y,43:56,58:31,60:B,61:E,63:R,64:O,65:P,66:A,67:$},{4:d,5:p,8:F,10:f,12:g,13:m,14:y,18:G,44:[1,57],47:[1,58],58:60,59:59,63:R,64:O,65:P,66:A,67:$},e(q,[2,64]),e(q,[2,66]),e(q,[2,67]),e(q,[2,70]),e(q,[2,71]),e(q,[2,72]),e(q,[2,73]),e(q,[2,74]),e(q,[2,75]),e(q,[2,76]),e(q,[2,77]),e(q,[2,78]),e(q,[2,79]),e(q,[2,80]),e(s,[2,35]),e(u,[2,38]),e(u,[2,42]),e(u,[2,43]),e(u,[2,44]),{3:64,4:W,5:re,6:oe,7:te,8:se,9:Y,10:V,11:U,12:ne,13:K,14:fe,15:Q,21:63},e(u,[2,53],{59:59,58:60,4:d,5:p,8:F,10:f,12:g,13:m,14:y,18:G,49:[1,77],63:R,64:O,65:P,66:A,67:$}),e(u,[2,56],{59:59,58:60,4:d,5:p,8:F,10:f,12:g,13:m,14:y,18:G,49:[1,78],63:R,64:O,65:P,66:A,67:$}),e(u,[2,57],{59:59,58:60,4:d,5:p,8:F,10:f,12:g,13:m,14:y,18:G,63:R,64:O,65:P,66:A,67:$}),e(u,[2,58],{59:59,58:60,4:d,5:p,8:F,10:f,12:g,13:m,14:y,18:G,63:R,64:O,65:P,66:A,67:$}),e(u,[2,59],{59:59,58:60,4:d,5:p,8:F,10:f,12:g,13:m,14:y,18:G,63:R,64:O,65:P,66:A,67:$}),e(u,[2,60],{59:59,58:60,4:d,5:p,8:F,10:f,12:g,13:m,14:y,18:G,63:R,64:O,65:P,66:A,67:$}),{45:[1,79]},{44:[1,80]},e(q,[2,65]),e(q,[2,81]),e(q,[2,82]),e(q,[2,83]),{3:82,4:W,5:re,6:oe,7:te,8:se,9:Y,10:V,11:U,12:ne,13:K,14:fe,15:Q,18:[1,81]},e(Te,[2,23]),e(Te,[2,1]),e(Te,[2,2]),e(Te,[2,3]),e(Te,[2,4]),e(Te,[2,5]),e(Te,[2,6]),e(Te,[2,7]),e(Te,[2,8]),e(Te,[2,9]),e(Te,[2,10]),e(Te,[2,11]),e(Te,[2,12]),e(u,[2,52],{58:31,43:83,4:d,5:p,10:f,12:g,13:m,14:y,60:B,61:E,63:R,64:O,65:P,66:A,67:$}),e(u,[2,55],{58:31,43:84,4:d,5:p,10:f,12:g,13:m,14:y,60:B,61:E,63:R,64:O,65:P,66:A,67:$}),{46:[1,85]},{45:[1,86]},{4:ie,5:Me,6:Le,8:Ie,11:He,13:We,16:89,17:et,18:Ze,19:H,20:ge,22:88,23:87},e(Te,[2,24]),e(u,[2,51],{59:59,58:60,4:d,5:p,8:F,10:f,12:g,13:m,14:y,18:G,63:R,64:O,65:P,66:A,67:$}),e(u,[2,54],{59:59,58:60,4:d,5:p,8:F,10:f,12:g,13:m,14:y,18:G,63:R,64:O,65:P,66:A,67:$}),e(u,[2,47],{22:88,16:89,23:100,4:ie,5:Me,6:Le,8:Ie,11:He,13:We,17:et,18:Ze,19:H,20:ge}),{46:[1,101]},e(u,[2,29],{10:ce}),e(ve,[2,27],{16:103,4:ie,5:Me,6:Le,8:Ie,11:He,13:We,17:et,18:Ze,19:H,20:ge}),e(J,[2,25]),e(J,[2,13]),e(J,[2,14]),e(J,[2,15]),e(J,[2,16]),e(J,[2,17]),e(J,[2,18]),e(J,[2,19]),e(J,[2,20]),e(J,[2,21]),e(J,[2,22]),e(u,[2,49],{10:ce}),e(u,[2,48],{22:88,16:89,23:104,4:ie,5:Me,6:Le,8:Ie,11:He,13:We,17:et,18:Ze,19:H,20:ge}),{4:ie,5:Me,6:Le,8:Ie,11:He,13:We,16:89,17:et,18:Ze,19:H,20:ge,22:105},e(J,[2,26]),e(u,[2,50],{10:ce}),e(ve,[2,28],{16:103,4:ie,5:Me,6:Le,8:Ie,11:He,13:We,17:et,18:Ze,19:H,20:ge})],defaultActions:{8:[2,30],9:[2,31]},parseError:o(function(ae,pe){if(pe.recoverable)this.trace(ae);else{var _e=new Error(ae);throw _e.hash=pe,_e}},"parseError"),parse:o(function(ae){var pe=this,_e=[0],Se=[],Re=[null],ke=[],Xe=this.table,Oe="",lt=0,Dt=0,_t=0,gt=2,Pt=1,st=ke.slice.call(arguments,1),Qe=Object.create(this.lexer),Ke={yy:{}};for(var It in this.yy)Object.prototype.hasOwnProperty.call(this.yy,It)&&(Ke.yy[It]=this.yy[It]);Qe.setInput(ae,Ke.yy),Ke.yy.lexer=Qe,Ke.yy.parser=this,typeof Qe.yylloc>"u"&&(Qe.yylloc={});var tt=Qe.yylloc;ke.push(tt);var Zt=Qe.options&&Qe.options.ranges;typeof Ke.yy.parseError=="function"?this.parseError=Ke.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function jt(ye){_e.length=_e.length-2*ye,Re.length=Re.length-ye,ke.length=ke.length-ye}o(jt,"popStack");function pt(){var ye;return ye=Se.pop()||Qe.lex()||Pt,typeof ye!="number"&&(ye instanceof Array&&(Se=ye,ye=Se.pop()),ye=pe.symbols_[ye]||ye),ye}o(pt,"lex");for(var dt,it,Gt,Tt,hn,Ir,Gr={},Xn,bn,ei,$n;;){if(Gt=_e[_e.length-1],this.defaultActions[Gt]?Tt=this.defaultActions[Gt]:((dt===null||typeof dt>"u")&&(dt=pt()),Tt=Xe[Gt]&&Xe[Gt][dt]),typeof Tt>"u"||!Tt.length||!Tt[0]){var ti="";$n=[];for(Xn in Xe[Gt])this.terminals_[Xn]&&Xn>gt&&$n.push("'"+this.terminals_[Xn]+"'");Qe.showPosition?ti="Parse error on line "+(lt+1)+`:
`+Qe.showPosition()+`
Expecting `+$n.join(", ")+", got '"+(this.terminals_[dt]||dt)+"'":ti="Parse error on line "+(lt+1)+": Unexpected "+(dt==Pt?"end of input":"'"+(this.terminals_[dt]||dt)+"'"),this.parseError(ti,{text:Qe.match,token:this.terminals_[dt]||dt,line:Qe.yylineno,loc:tt,expected:$n})}if(Tt[0]instanceof Array&&Tt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Gt+", token: "+dt);switch(Tt[0]){case 1:_e.push(dt),Re.push(Qe.yytext),ke.push(Qe.yylloc),_e.push(Tt[1]),dt=null,it?(dt=it,it=null):(Dt=Qe.yyleng,Oe=Qe.yytext,lt=Qe.yylineno,tt=Qe.yylloc,_t>0&&_t--);break;case 2:if(bn=this.productions_[Tt[1]][1],Gr.$=Re[Re.length-bn],Gr._$={first_line:ke[ke.length-(bn||1)].first_line,last_line:ke[ke.length-1].last_line,first_column:ke[ke.length-(bn||1)].first_column,last_column:ke[ke.length-1].last_column},Zt&&(Gr._$.range=[ke[ke.length-(bn||1)].range[0],ke[ke.length-1].range[1]]),Ir=this.performAction.apply(Gr,[Oe,Dt,lt,Ke.yy,Tt[1],Re,ke].concat(st)),typeof Ir<"u")return Ir;bn&&(_e=_e.slice(0,-1*bn*2),Re=Re.slice(0,-1*bn),ke=ke.slice(0,-1*bn)),_e.push(this.productions_[Tt[1]][0]),Re.push(Gr.$),ke.push(Gr._$),ei=Xe[_e[_e.length-2]][_e[_e.length-1]],_e.push(ei);break;case 3:return!0}}return!0},"parse")},Z=function(){var ae={EOF:1,parseError:o(function(pe,_e){if(this.yy.parser)this.yy.parser.parseError(pe,_e);else throw new Error(pe)},"parseError"),setInput:o(function(pe,_e){return this.yy=_e||this.yy||{},this._input=pe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var pe=this._input[0];this.yytext+=pe,this.yyleng++,this.offset++,this.match+=pe,this.matched+=pe;var _e=pe.match(/(?:\r\n?|\n).*/g);return _e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),pe},"input"),unput:o(function(pe){var _e=pe.length,Se=pe.split(/(?:\r\n?|\n)/g);this._input=pe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-_e),this.offset-=_e;var Re=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Se.length-1&&(this.yylineno-=Se.length-1);var ke=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Se?(Se.length===Re.length?this.yylloc.first_column:0)+Re[Re.length-Se.length].length-Se[0].length:this.yylloc.first_column-_e},this.options.ranges&&(this.yylloc.range=[ke[0],ke[0]+this.yyleng-_e]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(pe){this.unput(this.match.slice(pe))},"less"),pastInput:o(function(){var pe=this.matched.substr(0,this.matched.length-this.match.length);return(pe.length>20?"...":"")+pe.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var pe=this.match;return pe.length<20&&(pe+=this._input.substr(0,20-pe.length)),(pe.substr(0,20)+(pe.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var pe=this.pastInput(),_e=new Array(pe.length+1).join("-");return pe+this.upcomingInput()+`
`+_e+"^"},"showPosition"),test_match:o(function(pe,_e){var Se,Re,ke;if(this.options.backtrack_lexer&&(ke={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ke.yylloc.range=this.yylloc.range.slice(0))),Re=pe[0].match(/(?:\r\n?|\n).*/g),Re&&(this.yylineno+=Re.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Re?Re[Re.length-1].length-Re[Re.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+pe[0].length},this.yytext+=pe[0],this.match+=pe[0],this.matches=pe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(pe[0].length),this.matched+=pe[0],Se=this.performAction.call(this,this.yy,this,_e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Se)return Se;if(this._backtrack){for(var Xe in ke)this[Xe]=ke[Xe];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var pe,_e,Se,Re;this._more||(this.yytext="",this.match="");for(var ke=this._currentRules(),Xe=0;Xe<ke.length;Xe++)if(Se=this._input.match(this.rules[ke[Xe]]),Se&&(!_e||Se[0].length>_e[0].length)){if(_e=Se,Re=Xe,this.options.backtrack_lexer){if(pe=this.test_match(Se,ke[Xe]),pe!==!1)return pe;if(this._backtrack){_e=!1;continue}else return!1}else if(!this.options.flex)break}return _e?(pe=this.test_match(_e,ke[Re]),pe!==!1?pe:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var pe=this.next();return pe||this.lex()},"lex"),begin:o(function(pe){this.conditionStack.push(pe)},"begin"),popState:o(function(){var pe=this.conditionStack.length-1;return pe>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(pe){return pe=this.conditionStack.length-1-Math.abs(pe||0),pe>=0?this.conditionStack[pe]:"INITIAL"},"topState"),pushState:o(function(pe){this.begin(pe)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(pe,_e,Se,Re){var ke=Re;switch(Se){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return ae}();Pe.lexer=Z;function Fe(){this.yy={}}return o(Fe,"Parser"),Fe.prototype=Pe,Pe.Parser=Fe,new Fe}(),U7.parser=U7,s8e=U7}),Ua,o8e,kJe=I(()=>{"use strict";Fr(),Gs(),Ye(),v8(),Ua=qx(),o8e=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{o(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:Kr.quadrantChart?.chartWidth||500,chartWidth:Kr.quadrantChart?.chartHeight||500,titlePadding:Kr.quadrantChart?.titlePadding||10,titleFontSize:Kr.quadrantChart?.titleFontSize||20,quadrantPadding:Kr.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:Kr.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:Kr.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:Kr.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:Kr.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:Kr.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:Kr.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:Kr.quadrantChart?.pointTextPadding||5,pointLabelFontSize:Kr.quadrantChart?.pointLabelFontSize||12,pointRadius:Kr.quadrantChart?.pointRadius||5,xAxisPosition:Kr.quadrantChart?.xAxisPosition||"top",yAxisPosition:Kr.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:Kr.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:Kr.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:Ua.quadrant1Fill,quadrant2Fill:Ua.quadrant2Fill,quadrant3Fill:Ua.quadrant3Fill,quadrant4Fill:Ua.quadrant4Fill,quadrant1TextFill:Ua.quadrant1TextFill,quadrant2TextFill:Ua.quadrant2TextFill,quadrant3TextFill:Ua.quadrant3TextFill,quadrant4TextFill:Ua.quadrant4TextFill,quadrantPointFill:Ua.quadrantPointFill,quadrantPointTextFill:Ua.quadrantPointTextFill,quadrantXAxisTextFill:Ua.quadrantXAxisTextFill,quadrantYAxisTextFill:Ua.quadrantYAxisTextFill,quadrantTitleFill:Ua.quadrantTitleFill,quadrantInternalBorderStrokeFill:Ua.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Ua.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,X.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,t){this.classes.set(e,t)}setConfig(e){X.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){X.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,t,r,n){let i=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,a={top:e==="top"&&t?i:0,bottom:e==="bottom"&&t?i:0},s=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,l={left:this.config.yAxisPosition==="left"&&r?s:0,right:this.config.yAxisPosition==="right"&&r?s:0},u=this.config.titleFontSize+this.config.titlePadding*2,h={top:n?u:0},d=this.config.quadrantPadding+l.left,p=this.config.quadrantPadding+a.top+h.top,f=this.config.chartWidth-this.config.quadrantPadding*2-l.left-l.right,g=this.config.chartHeight-this.config.quadrantPadding*2-a.top-a.bottom-h.top,m=f/2,y=g/2;return{xAxisSpace:a,yAxisSpace:l,titleSpace:h,quadrantSpace:{quadrantLeft:d,quadrantTop:p,quadrantWidth:f,quadrantHalfWidth:m,quadrantHeight:g,quadrantHalfHeight:y}}}getAxisLabels(e,t,r,n){let{quadrantSpace:i,titleSpace:a}=n,{quadrantHalfHeight:s,quadrantHeight:l,quadrantLeft:u,quadrantHalfWidth:h,quadrantTop:d,quadrantWidth:p}=i,f=!!this.data.xAxisRightText,g=!!this.data.yAxisTopText,m=[];return this.data.xAxisLeftText&&t&&m.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(f?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&t&&m.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+h+(f?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&r&&m.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+l-(g?s/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&r&&m.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+s-(g?s/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),m}getQuadrants(e){let{quadrantSpace:t}=e,{quadrantHalfHeight:r,quadrantLeft:n,quadrantHalfWidth:i,quadrantTop:a}=t,s=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+i,y:a,width:i,height:r,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:a,width:i,height:r,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:a+r,width:i,height:r,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+i,y:a+r,width:i,height:r,fill:this.themeConfig.quadrant4Fill}];for(let l of s)l.text.x=l.x+l.width/2,this.data.points.length===0?(l.text.y=l.y+l.height/2,l.text.horizontalPos="middle"):(l.text.y=l.y+this.config.quadrantTextTopPadding,l.text.horizontalPos="top");return s}getQuadrantPoints(e){let{quadrantSpace:t}=e,{quadrantHeight:r,quadrantLeft:n,quadrantTop:i,quadrantWidth:a}=t,s=Qd().domain([0,1]).range([n,a+n]),l=Qd().domain([0,1]).range([r+i,i]);return this.data.points.map(u=>{let h=this.classes.get(u.className);return h&&(u={...h,...u}),{x:s(u.x),y:l(u.y),fill:u.color??this.themeConfig.quadrantPointFill,radius:u.radius??this.config.pointRadius,text:{text:u.text,fill:this.themeConfig.quadrantPointTextFill,x:s(u.x),y:l(u.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:u.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:u.strokeWidth??"0px"}})}getBorders(e){let t=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:r}=e,{quadrantHalfHeight:n,quadrantHeight:i,quadrantLeft:a,quadrantHalfWidth:s,quadrantTop:l,quadrantWidth:u}=r;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-t,y1:l,x2:a+u+t,y2:l},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a+u,y1:l+t,x2:a+u,y2:l+i-t},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-t,y1:l+i,x2:a+u+t,y2:l+i},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a,y1:l+t,x2:a,y2:l+i-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+s,y1:l+t,x2:a+s,y2:l+i-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+t,y1:l+n,x2:a+u-t,y2:l+n}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let e=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),t=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),r=this.config.showTitle&&!!this.data.titleText,n=this.data.points.length>0?"bottom":this.config.xAxisPosition,i=this.calculateSpace(n,e,t,r);return{points:this.getQuadrantPoints(i),quadrants:this.getQuadrants(i),axisLabels:this.getAxisLabels(n,e,t,i),borderLines:this.getBorders(i),title:this.getTitle(r)}}}});function VB(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}function l8e(e){return!/^\d+$/.test(e)}function c8e(e){return!/^\d+px$/.test(e)}var sb,wJe=I(()=>{"use strict";sb=class extends Error{static{o(this,"InvalidStyleError")}constructor(e,t,r){super(`value for ${e} ${t} is invalid, please use a valid ${r}`),this.name="InvalidStyleError"}},o(VB,"validateHexCode"),o(l8e,"validateNumber"),o(c8e,"validateSizeInPixels")});function kc(e){return En(e.trim(),T8e)}function u8e(e){la.setData({quadrant1Text:kc(e.text)})}function h8e(e){la.setData({quadrant2Text:kc(e.text)})}function d8e(e){la.setData({quadrant3Text:kc(e.text)})}function p8e(e){la.setData({quadrant4Text:kc(e.text)})}function g8e(e){la.setData({xAxisLeftText:kc(e.text)})}function f8e(e){la.setData({xAxisRightText:kc(e.text)})}function m8e(e){la.setData({yAxisTopText:kc(e.text)})}function y8e(e){la.setData({yAxisBottomText:kc(e.text)})}function H7(e){let t={};for(let r of e){let[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(l8e(i))throw new sb(n,i,"number");t.radius=parseInt(i)}else if(n==="color"){if(VB(i))throw new sb(n,i,"hex code");t.color=i}else if(n==="stroke-color"){if(VB(i))throw new sb(n,i,"hex code");t.strokeColor=i}else if(n==="stroke-width"){if(c8e(i))throw new sb(n,i,"number of pixels (eg. 10px)");t.strokeWidth=i}else throw new Error(`style named ${n} is not supported.`)}return t}function v8e(e,t,r,n,i){let a=H7(i);la.addPoints([{x:r,y:n,text:kc(e.text),className:t,...a}])}function b8e(e,t){la.addClass(e,H7(t))}function x8e(e){la.setConfig({chartWidth:e})}function k8e(e){la.setConfig({chartHeight:e})}function w8e(){let e=we(),{themeVariables:t,quadrantChart:r}=e;return r&&la.setConfig(r),la.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),la.setData({titleText:na()}),la.build()}var T8e,la,E8e,_8e,TJe=I(()=>{"use strict";tr(),Pr(),Hi(),kJe(),wJe(),T8e=we(),o(kc,"textSanitizer"),la=new o8e,o(u8e,"setQuadrant1Text"),o(h8e,"setQuadrant2Text"),o(d8e,"setQuadrant3Text"),o(p8e,"setQuadrant4Text"),o(g8e,"setXAxisLeftText"),o(f8e,"setXAxisRightText"),o(m8e,"setYAxisTopText"),o(y8e,"setYAxisBottomText"),o(H7,"parseStyles"),o(v8e,"addPoint"),o(b8e,"addClass"),o(x8e,"setWidth"),o(k8e,"setHeight"),o(w8e,"getQuadrantData"),E8e=o(function(){la.clear(),Yi()},"clear"),_8e={setWidth:x8e,setHeight:k8e,setQuadrant1Text:u8e,setQuadrant2Text:h8e,setQuadrant3Text:d8e,setQuadrant4Text:p8e,setXAxisLeftText:g8e,setXAxisRightText:f8e,setYAxisTopText:m8e,setYAxisBottomText:y8e,parseStyles:H7,addPoint:v8e,addClass:b8e,getQuadrantData:w8e,clear:E8e,setAccTitle:Ui,getAccTitle:ea,setDiagramTitle:za,getDiagramTitle:na,getAccDescription:ra,setAccDescription:ta}}),C8e,S8e,EJe=I(()=>{"use strict";Fr(),tr(),Ye(),wi(),C8e=o((e,t,r,n)=>{function i(S){return S==="top"?"hanging":"middle"}o(i,"getDominantBaseLine");function a(S){return S==="left"?"start":"middle"}o(a,"getTextAnchor");function s(S){return`translate(${S.x}, ${S.y}) rotate(${S.rotation||0})`}o(s,"getTransformation");let l=we();X.debug(`Rendering quadrant chart
`+e);let u=l.securityLevel,h;u==="sandbox"&&(h=nt("#i"+t));let d=nt(u==="sandbox"?h.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`),p=d.append("g").attr("class","main"),f=l.quadrantChart?.chartWidth??500,g=l.quadrantChart?.chartHeight??500;ba(d,g,f,l.quadrantChart?.useMaxWidth??!0),d.attr("viewBox","0 0 "+f+" "+g),n.db.setHeight(g),n.db.setWidth(f);let m=n.db.getQuadrantData(),y=p.append("g").attr("class","quadrants"),b=p.append("g").attr("class","border"),v=p.append("g").attr("class","data-points"),x=p.append("g").attr("class","labels"),k=p.append("g").attr("class","title");m.title&&k.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",i(m.title.horizontalPos)).attr("text-anchor",a(m.title.verticalPos)).attr("transform",s(m.title)).text(m.title.text),m.borderLines&&b.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",S=>S.x1).attr("y1",S=>S.y1).attr("x2",S=>S.x2).attr("y2",S=>S.y2).style("stroke",S=>S.strokeFill).style("stroke-width",S=>S.strokeWidth);let w=y.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");w.append("rect").attr("x",S=>S.x).attr("y",S=>S.y).attr("width",S=>S.width).attr("height",S=>S.height).attr("fill",S=>S.fill),w.append("text").attr("x",0).attr("y",0).attr("fill",S=>S.text.fill).attr("font-size",S=>S.text.fontSize).attr("dominant-baseline",S=>i(S.text.horizontalPos)).attr("text-anchor",S=>a(S.text.verticalPos)).attr("transform",S=>s(S.text)).text(S=>S.text.text),x.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(S=>S.text).attr("fill",S=>S.fill).attr("font-size",S=>S.fontSize).attr("dominant-baseline",S=>i(S.horizontalPos)).attr("text-anchor",S=>a(S.verticalPos)).attr("transform",S=>s(S));let _=v.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");_.append("circle").attr("cx",S=>S.x).attr("cy",S=>S.y).attr("r",S=>S.radius).attr("fill",S=>S.fill).attr("stroke",S=>S.strokeColor).attr("stroke-width",S=>S.strokeWidth),_.append("text").attr("x",0).attr("y",0).text(S=>S.text.text).attr("fill",S=>S.text.fill).attr("font-size",S=>S.text.fontSize).attr("dominant-baseline",S=>i(S.text.horizontalPos)).attr("text-anchor",S=>a(S.text.verticalPos)).attr("transform",S=>s(S.text))},"draw"),S8e={draw:C8e}}),A8e={};Nt(A8e,{diagram:()=>L8e});var L8e,_Je=I(()=>{"use strict";xJe(),TJe(),EJe(),L8e={parser:s8e,db:_8e,renderer:S8e,styles:o(()=>"","styles")}}),W7,N8e,CJe=I(()=>{"use strict";W7=function(){var e=o(function(R,O,P,A){for(P=P||{},A=R.length;A--;P[R[A]]=O);return P},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],a=[1,6],s=[1,7],l=[1,5,10,12,14,16,18,19,21,23,34,35,36],u=[1,25],h=[1,26],d=[1,28],p=[1,29],f=[1,30],g=[1,31],m=[1,32],y=[1,33],b=[1,34],v=[1,35],x=[1,36],k=[1,37],w=[1,43],_=[1,42],S=[1,47],C=[1,50],T=[1,10,12,14,16,18,19,21,23,34,35,36],N=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],D=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],M=[1,64],L={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:o(function(R,O,P,A,$,F,G){var q=F.length-1;switch($){case 5:A.setOrientation(F[q]);break;case 9:A.setDiagramTitle(F[q].text.trim());break;case 12:A.setLineData({text:"",type:"text"},F[q]);break;case 13:A.setLineData(F[q-1],F[q]);break;case 14:A.setBarData({text:"",type:"text"},F[q]);break;case 15:A.setBarData(F[q-1],F[q]);break;case 16:this.$=F[q].trim(),A.setAccTitle(this.$);break;case 17:case 18:this.$=F[q].trim(),A.setAccDescription(this.$);break;case 19:this.$=F[q-1];break;case 20:this.$=[Number(F[q-2]),...F[q]];break;case 21:this.$=[Number(F[q])];break;case 22:A.setXAxisTitle(F[q]);break;case 23:A.setXAxisTitle(F[q-1]);break;case 24:A.setXAxisTitle({type:"text",text:""});break;case 25:A.setXAxisBand(F[q]);break;case 26:A.setXAxisRangeData(Number(F[q-2]),Number(F[q]));break;case 27:this.$=F[q-1];break;case 28:this.$=[F[q-2],...F[q]];break;case 29:this.$=[F[q]];break;case 30:A.setYAxisTitle(F[q]);break;case 31:A.setYAxisTitle(F[q-1]);break;case 32:A.setYAxisTitle({type:"text",text:""});break;case 33:A.setYAxisRangeData(Number(F[q-2]),Number(F[q]));break;case 37:this.$={text:F[q],type:"text"};break;case 38:this.$={text:F[q],type:"text"};break;case 39:this.$={text:F[q],type:"markdown"};break;case 40:this.$=F[q];break;case 41:this.$=F[q-1]+""+F[q];break}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:n,34:i,35:a,36:s}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:n,34:i,35:a,36:s}),e(t,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(l,[2,34]),e(l,[2,35]),e(l,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:n,34:i,35:a,36:s}),{1:[2,3]},e(l,[2,5]),e(t,[2,7],{4:22,34:i,35:a,36:s}),{11:23,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k},{11:39,13:38,24:w,27:_,29:40,30:41,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k},{11:45,15:44,27:S,33:46,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k},{11:49,17:48,24:C,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k},{11:52,17:51,24:C,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k},{20:[1,53]},{22:[1,54]},e(T,[2,18]),{1:[2,2]},e(T,[2,8]),e(T,[2,9]),e(N,[2,37],{40:55,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k}),e(N,[2,38]),e(N,[2,39]),e(D,[2,40]),e(D,[2,42]),e(D,[2,43]),e(D,[2,44]),e(D,[2,45]),e(D,[2,46]),e(D,[2,47]),e(D,[2,48]),e(D,[2,49]),e(D,[2,50]),e(D,[2,51]),e(T,[2,10]),e(T,[2,22],{30:41,29:56,24:w,27:_}),e(T,[2,24]),e(T,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k},e(T,[2,11]),e(T,[2,30],{33:60,27:S}),e(T,[2,32]),{31:[1,61]},e(T,[2,12]),{17:62,24:C},{25:63,27:M},e(T,[2,14]),{17:65,24:C},e(T,[2,16]),e(T,[2,17]),e(D,[2,41]),e(T,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(T,[2,31]),{27:[1,69]},e(T,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(T,[2,15]),e(T,[2,26]),e(T,[2,27]),{11:59,32:72,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:k},e(T,[2,33]),e(T,[2,19]),{25:73,27:M},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:o(function(R,O){if(O.recoverable)this.trace(R);else{var P=new Error(R);throw P.hash=O,P}},"parseError"),parse:o(function(R){var O=this,P=[0],A=[],$=[null],F=[],G=this.table,q="",W=0,re=0,oe=0,te=2,se=1,Y=F.slice.call(arguments,1),V=Object.create(this.lexer),U={yy:{}};for(var ne in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ne)&&(U.yy[ne]=this.yy[ne]);V.setInput(R,U.yy),U.yy.lexer=V,U.yy.parser=this,typeof V.yylloc>"u"&&(V.yylloc={});var K=V.yylloc;F.push(K);var fe=V.options&&V.options.ranges;typeof U.yy.parseError=="function"?this.parseError=U.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Q(J){P.length=P.length-2*J,$.length=$.length-J,F.length=F.length-J}o(Q,"popStack");function Te(){var J;return J=A.pop()||V.lex()||se,typeof J!="number"&&(J instanceof Array&&(A=J,J=A.pop()),J=O.symbols_[J]||J),J}o(Te,"lex");for(var ie,Me,Le,Ie,He,We,et={},Ze,H,ge,ce;;){if(Le=P[P.length-1],this.defaultActions[Le]?Ie=this.defaultActions[Le]:((ie===null||typeof ie>"u")&&(ie=Te()),Ie=G[Le]&&G[Le][ie]),typeof Ie>"u"||!Ie.length||!Ie[0]){var ve="";ce=[];for(Ze in G[Le])this.terminals_[Ze]&&Ze>te&&ce.push("'"+this.terminals_[Ze]+"'");V.showPosition?ve="Parse error on line "+(W+1)+`:
`+V.showPosition()+`
Expecting `+ce.join(", ")+", got '"+(this.terminals_[ie]||ie)+"'":ve="Parse error on line "+(W+1)+": Unexpected "+(ie==se?"end of input":"'"+(this.terminals_[ie]||ie)+"'"),this.parseError(ve,{text:V.match,token:this.terminals_[ie]||ie,line:V.yylineno,loc:K,expected:ce})}if(Ie[0]instanceof Array&&Ie.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Le+", token: "+ie);switch(Ie[0]){case 1:P.push(ie),$.push(V.yytext),F.push(V.yylloc),P.push(Ie[1]),ie=null,Me?(ie=Me,Me=null):(re=V.yyleng,q=V.yytext,W=V.yylineno,K=V.yylloc,oe>0&&oe--);break;case 2:if(H=this.productions_[Ie[1]][1],et.$=$[$.length-H],et._$={first_line:F[F.length-(H||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(H||1)].first_column,last_column:F[F.length-1].last_column},fe&&(et._$.range=[F[F.length-(H||1)].range[0],F[F.length-1].range[1]]),We=this.performAction.apply(et,[q,re,W,U.yy,Ie[1],$,F].concat(Y)),typeof We<"u")return We;H&&(P=P.slice(0,-1*H*2),$=$.slice(0,-1*H),F=F.slice(0,-1*H)),P.push(this.productions_[Ie[1]][0]),$.push(et.$),F.push(et._$),ge=G[P[P.length-2]][P[P.length-1]],P.push(ge);break;case 3:return!0}}return!0},"parse")},B=function(){var R={EOF:1,parseError:o(function(O,P){if(this.yy.parser)this.yy.parser.parseError(O,P);else throw new Error(O)},"parseError"),setInput:o(function(O,P){return this.yy=P||this.yy||{},this._input=O,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var O=this._input[0];this.yytext+=O,this.yyleng++,this.offset++,this.match+=O,this.matched+=O;var P=O.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),O},"input"),unput:o(function(O){var P=O.length,A=O.split(/(?:\r\n?|\n)/g);this._input=O+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var $=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1&&(this.yylineno-=A.length-1);var F=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===$.length?this.yylloc.first_column:0)+$[$.length-A.length].length-A[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[F[0],F[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(O){this.unput(this.match.slice(O))},"less"),pastInput:o(function(){var O=this.matched.substr(0,this.matched.length-this.match.length);return(O.length>20?"...":"")+O.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var O=this.match;return O.length<20&&(O+=this._input.substr(0,20-O.length)),(O.substr(0,20)+(O.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var O=this.pastInput(),P=new Array(O.length+1).join("-");return O+this.upcomingInput()+`
`+P+"^"},"showPosition"),test_match:o(function(O,P){var A,$,F;if(this.options.backtrack_lexer&&(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(F.yylloc.range=this.yylloc.range.slice(0))),$=O[0].match(/(?:\r\n?|\n).*/g),$&&(this.yylineno+=$.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:$?$[$.length-1].length-$[$.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+O[0].length},this.yytext+=O[0],this.match+=O[0],this.matches=O,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(O[0].length),this.matched+=O[0],A=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),A)return A;if(this._backtrack){for(var G in F)this[G]=F[G];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var O,P,A,$;this._more||(this.yytext="",this.match="");for(var F=this._currentRules(),G=0;G<F.length;G++)if(A=this._input.match(this.rules[F[G]]),A&&(!P||A[0].length>P[0].length)){if(P=A,$=G,this.options.backtrack_lexer){if(O=this.test_match(A,F[G]),O!==!1)return O;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(O=this.test_match(P,F[$]),O!==!1?O:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var O=this.next();return O||this.lex()},"lex"),begin:o(function(O){this.conditionStack.push(O)},"begin"),popState:o(function(){var O=this.conditionStack.length-1;return O>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(O){return O=this.conditionStack.length-1-Math.abs(O||0),O>=0?this.conditionStack[O]:"INITIAL"},"topState"),pushState:o(function(O){this.begin(O)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(O,P,A,$){var F=$;switch(A){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return R}();L.lexer=B;function E(){this.yy={}}return o(E,"Parser"),E.prototype=L,L.Parser=E,new E}(),W7.parser=W7,N8e=W7});function XB(e){return e.type==="bar"}function KB(e){return e.type==="band"}function Vg(e){return e.type==="linear"}var ZB=I(()=>{"use strict";o(XB,"isBarPlot"),o(KB,"isBandAxisData"),o(Vg,"isLinearAxisData")}),QB,I8e=I(()=>{"use strict";ac(),QB=class{constructor(e){this.parentGroup=e}static{o(this,"TextDimensionCalculatorWithFont")}getMaxDimension(e,t){if(!this.parentGroup)return{width:e.reduce((i,a)=>Math.max(a.length,i),0)*t,height:t};let r={width:0,height:0},n=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",t);for(let i of e){let a=roe(n,1,i),s=a?a.width:i.length*t,l=a?a.height:t;r.width=Math.max(r.width,s),r.height=Math.max(r.height,l)}return n.remove(),r}}}),JB,M8e=I(()=>{"use strict";JB=class{constructor(e,t,r,n){this.axisConfig=e,this.title=t,this.textDimensionCalculator=r,this.axisThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{o(this,"BaseAxis")}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){let e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let t=e.height;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let r=this.getLabelDimension(),n=.2*e.width;this.outerPadding=Math.min(r.width/2,n);let i=r.height+this.axisConfig.labelPadding*2;this.labelTextHeight=r.height,i<=t&&(t-=i,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,n<=t&&(t-=n,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-t}calculateSpaceIfDrawnVertical(e){let t=e.width;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let r=this.getLabelDimension(),n=.2*e.height;this.outerPadding=Math.min(r.height/2,n);let i=r.width+this.axisConfig.labelPadding*2;i<=t&&(t-=i,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,n<=t&&(t-=n,this.showTitle=!0)}this.boundingRect.width=e.width-t,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${t},${this.boundingRect.y} L ${t},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(t),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let t=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${t},${this.getScaleValue(r)} L ${t-this.axisConfig.tickLength},${this.getScaleValue(r)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${t} L ${this.getScaleValue(r)},${t+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${t+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(r)},${t+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}}}),D8e,SJe=I(()=>{"use strict";Fr(),Ye(),M8e(),D8e=class extends JB{static{o(this,"BandAxis")}constructor(e,t,r,n,i){super(e,n,i,t),this.categories=r,this.scale=D3().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=D3().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),X.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}}}),R8e,AJe=I(()=>{"use strict";Fr(),M8e(),R8e=class extends JB{static{o(this,"LinearAxis")}constructor(e,t,r,n,i){super(e,n,i,t),this.domain=r,this.scale=Qd().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=Qd().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}}});function e$(e,t,r,n){let i=new QB(n);return KB(e)?new D8e(t,r,e.categories,e.title,i):new R8e(t,r,[e.min,e.max],e.title,i)}var LJe=I(()=>{"use strict";ZB(),I8e(),SJe(),AJe(),o(e$,"getAxis")});function O8e(e,t,r,n){let i=new QB(n);return new P8e(i,e,t,r)}var P8e,NJe=I(()=>{"use strict";I8e(),P8e=class{constructor(e,t,r,n){this.textDimensionCalculator=e,this.chartConfig=t,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{o(this,"ChartTitle")}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){let t=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),r=Math.max(t.width,e.width),n=t.height+2*this.chartConfig.titlePadding;return t.width<=r&&t.height<=n&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=r,this.boundingRect.height=n,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},o(O8e,"getChartTitleComponent")}),B8e,IJe=I(()=>{"use strict";Fr(),B8e=class{constructor(e,t,r,n,i){this.plotData=e,this.xAxis=t,this.yAxis=r,this.orientation=n,this.plotIndex=i}static{o(this,"LinePlot")}getDrawableElement(){let e=this.plotData.data.map(r=>[this.xAxis.getScaleValue(r[0]),this.yAxis.getScaleValue(r[1])]),t;return this.orientation==="horizontal"?t=bh().y(r=>r[0]).x(r=>r[1])(e):t=bh().x(r=>r[0]).y(r=>r[1])(e),t?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:t,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}}}),$8e,MJe=I(()=>{"use strict";$8e=class{constructor(e,t,r,n,i,a){this.barData=e,this.boundingRect=t,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=a}static{o(this,"BarPlot")}getDrawableElement(){let e=this.barData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]),t=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),r=t/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(n=>({x:this.boundingRect.x,y:n[0]-r,height:t,width:n[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(n=>({x:n[0]-r,y:n[1],width:t,height:this.boundingRect.y+this.boundingRect.height-n[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}}});function F8e(e,t,r){return new z8e(e,t,r)}var z8e,DJe=I(()=>{"use strict";IJe(),MJe(),z8e=class{constructor(e,t,r){this.chartConfig=e,this.chartData=t,this.chartThemeConfig=r,this.boundingRect={x:0,y:0,width:0,height:0}}static{o(this,"BasePlot")}setAxes(e,t){this.xAxis=e,this.yAxis=t}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let e=[];for(let[t,r]of this.chartData.plots.entries())switch(r.type){case"line":{let n=new B8e(r,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...n.getDrawableElement())}break;case"bar":{let n=new $8e(r,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...n.getDrawableElement())}break}return e}},o(F8e,"getPlotComponent")}),G8e,RJe=I(()=>{"use strict";LJe(),NJe(),DJe(),ZB(),G8e=class{constructor(e,t,r,n){this.chartConfig=e,this.chartData=t,this.componentStore={title:O8e(e,t,r,n),plot:F8e(e,t,r),xAxis:e$(t.xAxis,e.xAxis,{titleColor:r.xAxisTitleColor,labelColor:r.xAxisLabelColor,tickColor:r.xAxisTickColor,axisLineColor:r.xAxisLineColor},n),yAxis:e$(t.yAxis,e.yAxis,{titleColor:r.yAxisTitleColor,labelColor:r.yAxisLabelColor,tickColor:r.yAxisTickColor,axisLineColor:r.yAxisLineColor},n)}}static{o(this,"Orchestrator")}calculateVerticalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,n=0,i=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),a=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),s=this.componentStore.plot.calculateSpace({width:i,height:a});e-=s.width,t-=s.height,s=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),n=s.height,t-=s.height,this.componentStore.xAxis.setAxisPosition("bottom"),s=this.componentStore.xAxis.calculateSpace({width:e,height:t}),t-=s.height,this.componentStore.yAxis.setAxisPosition("left"),s=this.componentStore.yAxis.calculateSpace({width:e,height:t}),r=s.width,e-=s.width,e>0&&(i+=e,e=0),t>0&&(a+=t,t=0),this.componentStore.plot.calculateSpace({width:i,height:a}),this.componentStore.plot.setBoundingBoxXY({x:r,y:n}),this.componentStore.xAxis.setRange([r,r+i]),this.componentStore.xAxis.setBoundingBoxXY({x:r,y:n+a}),this.componentStore.yAxis.setRange([n,n+a]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:n}),this.chartData.plots.some(l=>XB(l))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,n=0,i=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),l=this.componentStore.plot.calculateSpace({width:a,height:s});e-=l.width,t-=l.height,l=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),r=l.height,t-=l.height,this.componentStore.xAxis.setAxisPosition("left"),l=this.componentStore.xAxis.calculateSpace({width:e,height:t}),e-=l.width,n=l.width,this.componentStore.yAxis.setAxisPosition("top"),l=this.componentStore.yAxis.calculateSpace({width:e,height:t}),t-=l.height,i=r+l.height,e>0&&(a+=e,e=0),t>0&&(s+=t,t=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.yAxis.setRange([n,n+a]),this.componentStore.yAxis.setBoundingBoxXY({x:n,y:r}),this.componentStore.xAxis.setRange([i,i+s]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(u=>XB(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let t of Object.values(this.componentStore))e.push(...t.getDrawableElements());return e}}}),q8e,OJe=I(()=>{"use strict";RJe(),q8e=class{static{o(this,"XYChartBuilder")}static build(e,t,r,n){return new G8e(e,t,r,n).getDrawableElement()}}});function t$(){let e=qx(),t=Yn();return Zc(e.xyChart,t.themeVariables.xyChart)}function r$(){let e=Yn();return Zc(Kr.xyChart,e.xyChart)}function n$(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function V7(e){let t=Yn();return En(e.trim(),t)}function j8e(e){t_e=e}function Y8e(e){e==="horizontal"?Kg.chartOrientation="horizontal":Kg.chartOrientation="vertical"}function U8e(e){Tn.xAxis.title=V7(e.text)}function i$(e,t){Tn.xAxis={type:"linear",title:Tn.xAxis.title,min:e,max:t},ob=!0}function H8e(e){Tn.xAxis={type:"band",title:Tn.xAxis.title,categories:e.map(t=>V7(t.text))},ob=!0}function W8e(e){Tn.yAxis.title=V7(e.text)}function V8e(e,t){Tn.yAxis={type:"linear",title:Tn.yAxis.title,min:e,max:t},K7=!0}function X8e(e){let t=Math.min(...e),r=Math.max(...e),n=Vg(Tn.yAxis)?Tn.yAxis.min:1/0,i=Vg(Tn.yAxis)?Tn.yAxis.max:-1/0;Tn.yAxis={type:"linear",title:Tn.yAxis.title,min:Math.min(n,t),max:Math.max(i,r)}}function a$(e){let t=[];if(e.length===0)return t;if(!ob){let r=Vg(Tn.xAxis)?Tn.xAxis.min:1/0,n=Vg(Tn.xAxis)?Tn.xAxis.max:-1/0;i$(Math.min(r,1),Math.max(n,e.length))}if(K7||X8e(e),KB(Tn.xAxis)&&(t=Tn.xAxis.categories.map((r,n)=>[r,e[n]])),Vg(Tn.xAxis)){let r=Tn.xAxis.min,n=Tn.xAxis.max,i=(n-r)/(e.length-1),a=[];for(let s=r;s<=n;s+=i)a.push(`${s}`);t=a.map((s,l)=>[s,e[l]])}return t}function s$(e){return X7[e===0?0:e%X7.length]}function K8e(e,t){let r=a$(t);Tn.plots.push({type:"line",strokeFill:s$(Xg),strokeWidth:2,data:r}),Xg++}function Z8e(e,t){let r=a$(t);Tn.plots.push({type:"bar",fill:s$(Xg),data:r}),Xg++}function Q8e(){if(Tn.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return Tn.title=na(),q8e.build(Kg,Tn,Zg,t_e)}function J8e(){return Zg}function e_e(){return Kg}var Xg,t_e,Kg,Zg,Tn,X7,ob,K7,r_e,n_e,PJe=I(()=>{"use strict";xs(),Gs(),v8(),Dr(),Pr(),Hi(),OJe(),ZB(),Xg=0,Kg=r$(),Zg=t$(),Tn=n$(),X7=Zg.plotColorPalette.split(",").map(e=>e.trim()),ob=!1,K7=!1,o(t$,"getChartDefaultThemeConfig"),o(r$,"getChartDefaultConfig"),o(n$,"getChartDefaultData"),o(V7,"textSanitizer"),o(j8e,"setTmpSVGG"),o(Y8e,"setOrientation"),o(U8e,"setXAxisTitle"),o(i$,"setXAxisRangeData"),o(H8e,"setXAxisBand"),o(W8e,"setYAxisTitle"),o(V8e,"setYAxisRangeData"),o(X8e,"setYAxisRangeFromPlotData"),o(a$,"transformDataWithoutCategory"),o(s$,"getPlotColorFromPalette"),o(K8e,"setLineData"),o(Z8e,"setBarData"),o(Q8e,"getDrawableElem"),o(J8e,"getChartThemeConfig"),o(e_e,"getChartConfig"),r_e=o(function(){Yi(),Xg=0,Kg=r$(),Tn=n$(),Zg=t$(),X7=Zg.plotColorPalette.split(",").map(e=>e.trim()),ob=!1,K7=!1},"clear"),n_e={getDrawableElem:Q8e,clear:r_e,setAccTitle:Ui,getAccTitle:ea,setDiagramTitle:za,getDiagramTitle:na,getAccDescription:ra,setAccDescription:ta,setOrientation:Y8e,setXAxisTitle:U8e,setXAxisRangeData:i$,setXAxisBand:H8e,setYAxisTitle:W8e,setYAxisRangeData:V8e,setLineData:K8e,setBarData:Z8e,setTmpSVGG:j8e,getChartThemeConfig:J8e,getChartConfig:e_e}}),i_e,a_e,BJe=I(()=>{"use strict";Ye(),sd(),wi(),i_e=o((e,t,r,n)=>{let i=n.db,a=i.getChartThemeConfig(),s=i.getChartConfig();function l(b){return b==="top"?"text-before-edge":"middle"}o(l,"getDominantBaseLine");function u(b){return b==="left"?"start":b==="right"?"end":"middle"}o(u,"getTextAnchor");function h(b){return`translate(${b.x}, ${b.y}) rotate(${b.rotation||0})`}o(h,"getTextTransformation"),X.debug(`Rendering xychart chart
`+e);let d=Lu(t),p=d.append("g").attr("class","main"),f=p.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");ba(d,s.height,s.width,!0),d.attr("viewBox",`0 0 ${s.width} ${s.height}`),f.attr("fill",a.backgroundColor),i.setTmpSVGG(d.append("g").attr("class","mermaid-tmp-group"));let g=i.getDrawableElem(),m={};function y(b){let v=p,x="";for(let[k]of b.entries()){let w=p;k>0&&m[x]&&(w=m[x]),x+=b[k],v=m[x],v||(v=m[x]=w.append("g").attr("class",b[k]))}return v}o(y,"getGroup");for(let b of g){if(b.data.length===0)continue;let v=y(b.groupTexts);switch(b.type){case"rect":v.selectAll("rect").data(b.data).enter().append("rect").attr("x",x=>x.x).attr("y",x=>x.y).attr("width",x=>x.width).attr("height",x=>x.height).attr("fill",x=>x.fill).attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth);break;case"text":v.selectAll("text").data(b.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",x=>x.fill).attr("font-size",x=>x.fontSize).attr("dominant-baseline",x=>l(x.verticalPos)).attr("text-anchor",x=>u(x.horizontalPos)).attr("transform",x=>h(x)).text(x=>x.text);break;case"path":v.selectAll("path").data(b.data).enter().append("path").attr("d",x=>x.path).attr("fill",x=>x.fill?x.fill:"none").attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth);break}}},"draw"),a_e={draw:i_e}}),s_e={};Nt(s_e,{diagram:()=>o_e});var o_e,$Je=I(()=>{"use strict";CJe(),PJe(),BJe(),o_e={parser:N8e,db:n_e,renderer:a_e}}),Z7,l_e,FJe=I(()=>{"use strict";Z7=function(){var e=o(function(oe,te,se,Y){for(se=se||{},Y=oe.length;Y--;se[oe[Y]]=te);return se},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],s=[1,18],l=[2,7],u=[1,22],h=[1,23],d=[1,24],p=[1,25],f=[1,26],g=[1,27],m=[1,20],y=[1,28],b=[1,29],v=[62,63],x=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],k=[1,47],w=[1,48],_=[1,49],S=[1,50],C=[1,51],T=[1,52],N=[1,53],D=[53,54],M=[1,64],L=[1,60],B=[1,61],E=[1,62],R=[1,63],O=[1,65],P=[1,69],A=[1,70],$=[1,67],F=[1,68],G=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],q={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:o(function(oe,te,se,Y,V,U,ne){var K=U.length-1;switch(V){case 4:this.$=U[K].trim(),Y.setAccTitle(this.$);break;case 5:case 6:this.$=U[K].trim(),Y.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:Y.addRequirement(U[K-3],U[K-4]);break;case 14:Y.setNewReqId(U[K-2]);break;case 15:Y.setNewReqText(U[K-2]);break;case 16:Y.setNewReqRisk(U[K-2]);break;case 17:Y.setNewReqVerifyMethod(U[K-2]);break;case 20:this.$=Y.RequirementType.REQUIREMENT;break;case 21:this.$=Y.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=Y.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=Y.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=Y.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=Y.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=Y.RiskLevel.LOW_RISK;break;case 27:this.$=Y.RiskLevel.MED_RISK;break;case 28:this.$=Y.RiskLevel.HIGH_RISK;break;case 29:this.$=Y.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=Y.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=Y.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=Y.VerifyType.VERIFY_TEST;break;case 33:Y.addElement(U[K-3]);break;case 34:Y.setNewElementType(U[K-2]);break;case 35:Y.setNewElementDocRef(U[K-2]);break;case 38:Y.addRelationship(U[K-2],U[K],U[K-4]);break;case 39:Y.addRelationship(U[K-2],U[K-4],U[K]);break;case 40:this.$=Y.Relationships.CONTAINS;break;case 41:this.$=Y.Relationships.COPIES;break;case 42:this.$=Y.Relationships.DERIVES;break;case 43:this.$=Y.Relationships.SATISFIES;break;case 44:this.$=Y.Relationships.VERIFIES;break;case 45:this.$=Y.Relationships.REFINES;break;case 46:this.$=Y.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(a,[2,6]),{3:12,4:2,6:t,9:r,11:n,13:i},{1:[2,2]},{4:17,5:s,7:13,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},e(a,[2,4]),e(a,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:s,7:31,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{4:17,5:s,7:32,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{4:17,5:s,7:33,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{4:17,5:s,7:34,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{4:17,5:s,7:35,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},e(v,[2,20]),e(v,[2,21]),e(v,[2,22]),e(v,[2,23]),e(v,[2,24]),e(v,[2,25]),e(x,[2,49]),e(x,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:k,56:w,57:_,58:S,59:C,60:T,61:N},{52:54,55:k,56:w,57:_,58:S,59:C,60:T,61:N},{5:[1,55]},{5:[1,56]},{53:[1,57]},e(D,[2,40]),e(D,[2,41]),e(D,[2,42]),e(D,[2,43]),e(D,[2,44]),e(D,[2,45]),e(D,[2,46]),{54:[1,58]},{5:M,20:59,21:L,24:B,26:E,28:R,30:O},{5:P,30:A,46:66,47:$,49:F},{23:71,62:y,63:b},{23:72,62:y,63:b},e(G,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:M,20:77,21:L,24:B,26:E,28:R,30:O},e(G,[2,19]),e(G,[2,33]),{22:[1,78]},{22:[1,79]},{5:P,30:A,46:80,47:$,49:F},e(G,[2,37]),e(G,[2,38]),e(G,[2,39]),{23:81,62:y,63:b},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},e(G,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},e(G,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:M,20:106,21:L,24:B,26:E,28:R,30:O},{5:M,20:107,21:L,24:B,26:E,28:R,30:O},{5:M,20:108,21:L,24:B,26:E,28:R,30:O},{5:M,20:109,21:L,24:B,26:E,28:R,30:O},{5:P,30:A,46:110,47:$,49:F},{5:P,30:A,46:111,47:$,49:F},e(G,[2,14]),e(G,[2,15]),e(G,[2,16]),e(G,[2,17]),e(G,[2,34]),e(G,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:o(function(oe,te){if(te.recoverable)this.trace(oe);else{var se=new Error(oe);throw se.hash=te,se}},"parseError"),parse:o(function(oe){var te=this,se=[0],Y=[],V=[null],U=[],ne=this.table,K="",fe=0,Q=0,Te=0,ie=2,Me=1,Le=U.slice.call(arguments,1),Ie=Object.create(this.lexer),He={yy:{}};for(var We in this.yy)Object.prototype.hasOwnProperty.call(this.yy,We)&&(He.yy[We]=this.yy[We]);Ie.setInput(oe,He.yy),He.yy.lexer=Ie,He.yy.parser=this,typeof Ie.yylloc>"u"&&(Ie.yylloc={});var et=Ie.yylloc;U.push(et);var Ze=Ie.options&&Ie.options.ranges;typeof He.yy.parseError=="function"?this.parseError=He.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function H(Xe){se.length=se.length-2*Xe,V.length=V.length-Xe,U.length=U.length-Xe}o(H,"popStack");function ge(){var Xe;return Xe=Y.pop()||Ie.lex()||Me,typeof Xe!="number"&&(Xe instanceof Array&&(Y=Xe,Xe=Y.pop()),Xe=te.symbols_[Xe]||Xe),Xe}o(ge,"lex");for(var ce,ve,J,Pe,Z,Fe,ae={},pe,_e,Se,Re;;){if(J=se[se.length-1],this.defaultActions[J]?Pe=this.defaultActions[J]:((ce===null||typeof ce>"u")&&(ce=ge()),Pe=ne[J]&&ne[J][ce]),typeof Pe>"u"||!Pe.length||!Pe[0]){var ke="";Re=[];for(pe in ne[J])this.terminals_[pe]&&pe>ie&&Re.push("'"+this.terminals_[pe]+"'");Ie.showPosition?ke="Parse error on line "+(fe+1)+`:
`+Ie.showPosition()+`
Expecting `+Re.join(", ")+", got '"+(this.terminals_[ce]||ce)+"'":ke="Parse error on line "+(fe+1)+": Unexpected "+(ce==Me?"end of input":"'"+(this.terminals_[ce]||ce)+"'"),this.parseError(ke,{text:Ie.match,token:this.terminals_[ce]||ce,line:Ie.yylineno,loc:et,expected:Re})}if(Pe[0]instanceof Array&&Pe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+ce);switch(Pe[0]){case 1:se.push(ce),V.push(Ie.yytext),U.push(Ie.yylloc),se.push(Pe[1]),ce=null,ve?(ce=ve,ve=null):(Q=Ie.yyleng,K=Ie.yytext,fe=Ie.yylineno,et=Ie.yylloc,Te>0&&Te--);break;case 2:if(_e=this.productions_[Pe[1]][1],ae.$=V[V.length-_e],ae._$={first_line:U[U.length-(_e||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(_e||1)].first_column,last_column:U[U.length-1].last_column},Ze&&(ae._$.range=[U[U.length-(_e||1)].range[0],U[U.length-1].range[1]]),Fe=this.performAction.apply(ae,[K,Q,fe,He.yy,Pe[1],V,U].concat(Le)),typeof Fe<"u")return Fe;_e&&(se=se.slice(0,-1*_e*2),V=V.slice(0,-1*_e),U=U.slice(0,-1*_e)),se.push(this.productions_[Pe[1]][0]),V.push(ae.$),U.push(ae._$),Se=ne[se[se.length-2]][se[se.length-1]],se.push(Se);break;case 3:return!0}}return!0},"parse")},W=function(){var oe={EOF:1,parseError:o(function(te,se){if(this.yy.parser)this.yy.parser.parseError(te,se);else throw new Error(te)},"parseError"),setInput:o(function(te,se){return this.yy=se||this.yy||{},this._input=te,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var te=this._input[0];this.yytext+=te,this.yyleng++,this.offset++,this.match+=te,this.matched+=te;var se=te.match(/(?:\r\n?|\n).*/g);return se?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),te},"input"),unput:o(function(te){var se=te.length,Y=te.split(/(?:\r\n?|\n)/g);this._input=te+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-se),this.offset-=se;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Y.length-1&&(this.yylineno-=Y.length-1);var U=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Y?(Y.length===V.length?this.yylloc.first_column:0)+V[V.length-Y.length].length-Y[0].length:this.yylloc.first_column-se},this.options.ranges&&(this.yylloc.range=[U[0],U[0]+this.yyleng-se]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(te){this.unput(this.match.slice(te))},"less"),pastInput:o(function(){var te=this.matched.substr(0,this.matched.length-this.match.length);return(te.length>20?"...":"")+te.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var te=this.match;return te.length<20&&(te+=this._input.substr(0,20-te.length)),(te.substr(0,20)+(te.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var te=this.pastInput(),se=new Array(te.length+1).join("-");return te+this.upcomingInput()+`
`+se+"^"},"showPosition"),test_match:o(function(te,se){var Y,V,U;if(this.options.backtrack_lexer&&(U={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(U.yylloc.range=this.yylloc.range.slice(0))),V=te[0].match(/(?:\r\n?|\n).*/g),V&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+te[0].length},this.yytext+=te[0],this.match+=te[0],this.matches=te,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(te[0].length),this.matched+=te[0],Y=this.performAction.call(this,this.yy,this,se,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Y)return Y;if(this._backtrack){for(var ne in U)this[ne]=U[ne];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var te,se,Y,V;this._more||(this.yytext="",this.match="");for(var U=this._currentRules(),ne=0;ne<U.length;ne++)if(Y=this._input.match(this.rules[U[ne]]),Y&&(!se||Y[0].length>se[0].length)){if(se=Y,V=ne,this.options.backtrack_lexer){if(te=this.test_match(Y,U[ne]),te!==!1)return te;if(this._backtrack){se=!1;continue}else return!1}else if(!this.options.flex)break}return se?(te=this.test_match(se,U[V]),te!==!1?te:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var te=this.next();return te||this.lex()},"lex"),begin:o(function(te){this.conditionStack.push(te)},"begin"),popState:o(function(){var te=this.conditionStack.length-1;return te>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(te){return te=this.conditionStack.length-1-Math.abs(te||0),te>=0?this.conditionStack[te]:"INITIAL"},"topState"),pushState:o(function(te){this.begin(te)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(te,se,Y,V){var U=V;switch(Y){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return se.yytext=se.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return oe}();q.lexer=W;function re(){this.yy={}}return o(re,"Parser"),re.prototype=q,q.Parser=re,new re}(),Z7.parser=Z7,l_e=Z7}),Q7,ds,Qg,Nu,Jg,c_e,u_e,h_e,d_e,p_e,g_e,f_e,m_e,y_e,v_e,b_e,x_e,k_e,w_e,T_e,E_e,__e,C_e,zJe=I(()=>{"use strict";tr(),Ye(),Hi(),Q7=[],ds={},Qg=new Map,Nu={},Jg=new Map,c_e={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},u_e={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},h_e={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},d_e={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},p_e=o((e,t)=>(Qg.has(e)||Qg.set(e,{name:e,type:t,id:ds.id,text:ds.text,risk:ds.risk,verifyMethod:ds.verifyMethod}),ds={},Qg.get(e)),"addRequirement"),g_e=o(()=>Qg,"getRequirements"),f_e=o(e=>{ds!==void 0&&(ds.id=e)},"setNewReqId"),m_e=o(e=>{ds!==void 0&&(ds.text=e)},"setNewReqText"),y_e=o(e=>{ds!==void 0&&(ds.risk=e)},"setNewReqRisk"),v_e=o(e=>{ds!==void 0&&(ds.verifyMethod=e)},"setNewReqVerifyMethod"),b_e=o(e=>(Jg.has(e)||(Jg.set(e,{name:e,type:Nu.type,docRef:Nu.docRef}),X.info("Added new requirement: ",e)),Nu={},Jg.get(e)),"addElement"),x_e=o(()=>Jg,"getElements"),k_e=o(e=>{Nu!==void 0&&(Nu.type=e)},"setNewElementType"),w_e=o(e=>{Nu!==void 0&&(Nu.docRef=e)},"setNewElementDocRef"),T_e=o((e,t,r)=>{Q7.push({type:e,src:t,dst:r})},"addRelationship"),E_e=o(()=>Q7,"getRelationships"),__e=o(()=>{Q7=[],ds={},Qg=new Map,Nu={},Jg=new Map,Yi()},"clear"),C_e={RequirementType:c_e,RiskLevel:u_e,VerifyType:h_e,Relationships:d_e,getConfig:o(()=>we().req,"getConfig"),addRequirement:p_e,getRequirements:g_e,setNewReqId:f_e,setNewReqText:m_e,setNewReqRisk:y_e,setNewReqVerifyMethod:v_e,setAccTitle:Ui,getAccTitle:ea,setAccDescription:ta,getAccDescription:ra,addElement:b_e,getElements:x_e,setNewElementType:k_e,setNewElementDocRef:w_e,addRelationship:T_e,getRelationships:E_e,clear:__e}}),S_e,A_e,GJe=I(()=>{"use strict";S_e=o(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,"getStyles"),A_e=S_e}),J7,L_e,o$,qJe=I(()=>{"use strict";J7={CONTAINS:"contains",ARROW:"arrow"},L_e=o((e,t)=>{let r=e.append("defs").append("marker").attr("id",J7.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",J7.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},"insertLineEndings"),o$={ReqMarkers:J7,insertLineEndings:L_e}}),li,l$,c$,u$,h$,N_e,I_e,M_e,D_e,R_e,O_e,W0,P_e,B_e,jJe=I(()=>{"use strict";Fr(),rw(),eo(),tr(),Ye(),wi(),Pr(),qJe(),li={},l$=0,c$=o((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",li.rect_min_width+"px").attr("height",li.rect_min_height+"px"),"newRectNode"),u$=o((e,t,r)=>{let n=li.rect_min_width/2,i=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",li.rect_padding).attr("dominant-baseline","hanging"),a=0;r.forEach(h=>{a==0?i.append("tspan").attr("text-anchor","middle").attr("x",li.rect_min_width/2).attr("dy",0).text(h):i.append("tspan").attr("text-anchor","middle").attr("x",li.rect_min_width/2).attr("dy",li.line_height*.75).text(h),a++});let s=1.5*li.rect_padding,l=a*li.line_height*.75,u=s+l;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",li.rect_min_width).attr("y1",u).attr("y2",u),{titleNode:i,y:u}},"newTitleNode"),h$=o((e,t,r,n)=>{let i=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",li.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),a=0,s=30,l=[];return r.forEach(u=>{let h=u.length;for(;h>s&&a<3;){let d=u.substring(0,s);u=u.substring(s,u.length),h=u.length,l[l.length]=d,a++}if(a==3){let d=l[l.length-1];l[l.length-1]=d.substring(0,d.length-4)+"..."}else l[l.length]=u;a=0}),l.forEach(u=>{i.append("tspan").attr("x",li.rect_padding).attr("dy",li.line_height).text(u)}),i},"newBodyNode"),N_e=o((e,t,r,n)=>{let i=t.node().getTotalLength(),a=t.node().getPointAtLength(i*.5),s="rel"+l$;l$++;let l=e.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",a.x-l.width/2).attr("y",a.y-l.height/2).attr("width",l.width).attr("height",l.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),I_e=o(function(e,t,r,n,i){let a=r.edge(W0(t.src),W0(t.dst)),s=bh().x(function(u){return u.x}).y(function(u){return u.y}),l=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",s(a.points)).attr("fill","none");t.type==i.db.Relationships.CONTAINS?l.attr("marker-start","url("+ot.getUrl(li.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(l.attr("stroke-dasharray","10,7"),l.attr("marker-end","url("+ot.getUrl(li.arrowMarkerAbsolute)+"#"+o$.ReqMarkers.ARROW+"_line_ending)")),N_e(e,l,li,`<<${t.type}>>`)},"drawRelationshipFromLayout"),M_e=o((e,t,r)=>{e.forEach((n,i)=>{i=W0(i),X.info("Added new requirement: ",i);let a=r.append("g").attr("id",i),s="req-"+i,l=c$(a,s),u=[],h=u$(a,i+"_title",[`<<${n.type}>>`,`${n.name}`]);u.push(h.titleNode);let d=h$(a,i+"_body",[`Id: ${n.id}`,`Text: ${n.text}`,`Risk: ${n.risk}`,`Verification: ${n.verifyMethod}`],h.y);u.push(d);let p=l.node().getBBox();t.setNode(i,{width:p.width,height:p.height,shape:"rect",id:i})})},"drawReqs"),D_e=o((e,t,r)=>{e.forEach((n,i)=>{let a=W0(i),s=r.append("g").attr("id",a),l="element-"+a,u=c$(s,l),h=[],d=u$(s,l+"_title",["<<Element>>",`${i}`]);h.push(d.titleNode);let p=h$(s,l+"_body",[`Type: ${n.type||"Not Specified"}`,`Doc Ref: ${n.docRef||"None"}`],d.y);h.push(p);let f=u.node().getBBox();t.setNode(a,{width:f.width,height:f.height,shape:"rect",id:a})})},"drawElements"),R_e=o((e,t)=>(e.forEach(function(r){let n=W0(r.src),i=W0(r.dst);t.setEdge(n,i,{relationship:r})}),e),"addRelationships"),O_e=o(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))})},"adjustEntities"),W0=o(e=>e.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),P_e=o((e,t,r,n)=>{li=we().requirement;let i=li.securityLevel,a;i==="sandbox"&&(a=nt("#i"+t));let s=nt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);o$.insertLineEndings(s,li);let l=new Ca({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:li.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}}),u=n.db.getRequirements(),h=n.db.getElements(),d=n.db.getRelationships();M_e(u,l,s),D_e(h,l,s),R_e(d,l),Y2(l),O_e(s,l),d.forEach(function(y){I_e(s,y,l,t,n)});let p=li.rect_padding,f=s.node().getBBox(),g=f.width+p*2,m=f.height+p*2;ba(s,m,g,li.useMaxWidth),s.attr("viewBox",`${f.x-p} ${f.y-p} ${g} ${m}`)},"draw"),B_e={draw:P_e}}),$_e={};Nt($_e,{diagram:()=>F_e});var F_e,YJe=I(()=>{"use strict";FJe(),zJe(),GJe(),jJe(),F_e={parser:l_e,db:C_e,renderer:B_e,styles:A_e}}),eT,z_e,UJe=I(()=>{"use strict";eT=function(){var e=o(function(V,U,ne,K){for(ne=ne||{},K=V.length;K--;ne[V[K]]=U);return ne},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],l=[1,13],u=[1,14],h=[1,16],d=[1,17],p=[1,18],f=[1,24],g=[1,25],m=[1,26],y=[1,27],b=[1,28],v=[1,29],x=[1,30],k=[1,31],w=[1,32],_=[1,33],S=[1,34],C=[1,35],T=[1,36],N=[1,37],D=[1,38],M=[1,39],L=[1,41],B=[1,42],E=[1,43],R=[1,44],O=[1,45],P=[1,46],A=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],$=[4,5,16,50,52,53],F=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],G=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],q=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],W=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],re=[68,69,70],oe=[1,122],te={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:o(function(V,U,ne,K,fe,Q,Te){var ie=Q.length-1;switch(fe){case 3:return K.apply(Q[ie]),Q[ie];case 4:case 9:this.$=[];break;case 5:case 10:Q[ie-1].push(Q[ie]),this.$=Q[ie-1];break;case 6:case 7:case 11:case 12:this.$=Q[ie];break;case 8:case 13:this.$=[];break;case 15:Q[ie].type="createParticipant",this.$=Q[ie];break;case 16:Q[ie-1].unshift({type:"boxStart",boxData:K.parseBoxData(Q[ie-2])}),Q[ie-1].push({type:"boxEnd",boxText:Q[ie-2]}),this.$=Q[ie-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(Q[ie-2]),sequenceIndexStep:Number(Q[ie-1]),sequenceVisible:!0,signalType:K.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(Q[ie-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:K.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:K.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:K.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:K.LINETYPE.ACTIVE_START,actor:Q[ie-1].actor};break;case 23:this.$={type:"activeEnd",signalType:K.LINETYPE.ACTIVE_END,actor:Q[ie-1].actor};break;case 29:K.setDiagramTitle(Q[ie].substring(6)),this.$=Q[ie].substring(6);break;case 30:K.setDiagramTitle(Q[ie].substring(7)),this.$=Q[ie].substring(7);break;case 31:this.$=Q[ie].trim(),K.setAccTitle(this.$);break;case 32:case 33:this.$=Q[ie].trim(),K.setAccDescription(this.$);break;case 34:Q[ie-1].unshift({type:"loopStart",loopText:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.LOOP_START}),Q[ie-1].push({type:"loopEnd",loopText:Q[ie-2],signalType:K.LINETYPE.LOOP_END}),this.$=Q[ie-1];break;case 35:Q[ie-1].unshift({type:"rectStart",color:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.RECT_START}),Q[ie-1].push({type:"rectEnd",color:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.RECT_END}),this.$=Q[ie-1];break;case 36:Q[ie-1].unshift({type:"optStart",optText:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.OPT_START}),Q[ie-1].push({type:"optEnd",optText:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.OPT_END}),this.$=Q[ie-1];break;case 37:Q[ie-1].unshift({type:"altStart",altText:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.ALT_START}),Q[ie-1].push({type:"altEnd",signalType:K.LINETYPE.ALT_END}),this.$=Q[ie-1];break;case 38:Q[ie-1].unshift({type:"parStart",parText:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.PAR_START}),Q[ie-1].push({type:"parEnd",signalType:K.LINETYPE.PAR_END}),this.$=Q[ie-1];break;case 39:Q[ie-1].unshift({type:"parStart",parText:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.PAR_OVER_START}),Q[ie-1].push({type:"parEnd",signalType:K.LINETYPE.PAR_END}),this.$=Q[ie-1];break;case 40:Q[ie-1].unshift({type:"criticalStart",criticalText:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.CRITICAL_START}),Q[ie-1].push({type:"criticalEnd",signalType:K.LINETYPE.CRITICAL_END}),this.$=Q[ie-1];break;case 41:Q[ie-1].unshift({type:"breakStart",breakText:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.BREAK_START}),Q[ie-1].push({type:"breakEnd",optText:K.parseMessage(Q[ie-2]),signalType:K.LINETYPE.BREAK_END}),this.$=Q[ie-1];break;case 43:this.$=Q[ie-3].concat([{type:"option",optionText:K.parseMessage(Q[ie-1]),signalType:K.LINETYPE.CRITICAL_OPTION},Q[ie]]);break;case 45:this.$=Q[ie-3].concat([{type:"and",parText:K.parseMessage(Q[ie-1]),signalType:K.LINETYPE.PAR_AND},Q[ie]]);break;case 47:this.$=Q[ie-3].concat([{type:"else",altText:K.parseMessage(Q[ie-1]),signalType:K.LINETYPE.ALT_ELSE},Q[ie]]);break;case 48:Q[ie-3].draw="participant",Q[ie-3].type="addParticipant",Q[ie-3].description=K.parseMessage(Q[ie-1]),this.$=Q[ie-3];break;case 49:Q[ie-1].draw="participant",Q[ie-1].type="addParticipant",this.$=Q[ie-1];break;case 50:Q[ie-3].draw="actor",Q[ie-3].type="addParticipant",Q[ie-3].description=K.parseMessage(Q[ie-1]),this.$=Q[ie-3];break;case 51:Q[ie-1].draw="actor",Q[ie-1].type="addParticipant",this.$=Q[ie-1];break;case 52:Q[ie-1].type="destroyParticipant",this.$=Q[ie-1];break;case 53:this.$=[Q[ie-1],{type:"addNote",placement:Q[ie-2],actor:Q[ie-1].actor,text:Q[ie]}];break;case 54:Q[ie-2]=[].concat(Q[ie-1],Q[ie-1]).slice(0,2),Q[ie-2][0]=Q[ie-2][0].actor,Q[ie-2][1]=Q[ie-2][1].actor,this.$=[Q[ie-1],{type:"addNote",placement:K.PLACEMENT.OVER,actor:Q[ie-2].slice(0,2),text:Q[ie]}];break;case 55:this.$=[Q[ie-1],{type:"addLinks",actor:Q[ie-1].actor,text:Q[ie]}];break;case 56:this.$=[Q[ie-1],{type:"addALink",actor:Q[ie-1].actor,text:Q[ie]}];break;case 57:this.$=[Q[ie-1],{type:"addProperties",actor:Q[ie-1].actor,text:Q[ie]}];break;case 58:this.$=[Q[ie-1],{type:"addDetails",actor:Q[ie-1].actor,text:Q[ie]}];break;case 61:this.$=[Q[ie-2],Q[ie]];break;case 62:this.$=Q[ie];break;case 63:this.$=K.PLACEMENT.LEFTOF;break;case 64:this.$=K.PLACEMENT.RIGHTOF;break;case 65:this.$=[Q[ie-4],Q[ie-1],{type:"addMessage",from:Q[ie-4].actor,to:Q[ie-1].actor,signalType:Q[ie-3],msg:Q[ie],activate:!0},{type:"activeStart",signalType:K.LINETYPE.ACTIVE_START,actor:Q[ie-1].actor}];break;case 66:this.$=[Q[ie-4],Q[ie-1],{type:"addMessage",from:Q[ie-4].actor,to:Q[ie-1].actor,signalType:Q[ie-3],msg:Q[ie]},{type:"activeEnd",signalType:K.LINETYPE.ACTIVE_END,actor:Q[ie-4].actor}];break;case 67:this.$=[Q[ie-3],Q[ie-1],{type:"addMessage",from:Q[ie-3].actor,to:Q[ie-1].actor,signalType:Q[ie-2],msg:Q[ie]}];break;case 68:this.$={type:"addParticipant",actor:Q[ie]};break;case 69:this.$=K.LINETYPE.SOLID_OPEN;break;case 70:this.$=K.LINETYPE.DOTTED_OPEN;break;case 71:this.$=K.LINETYPE.SOLID;break;case 72:this.$=K.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=K.LINETYPE.DOTTED;break;case 74:this.$=K.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=K.LINETYPE.SOLID_CROSS;break;case 76:this.$=K.LINETYPE.DOTTED_CROSS;break;case 77:this.$=K.LINETYPE.SOLID_POINT;break;case 78:this.$=K.LINETYPE.DOTTED_POINT;break;case 79:this.$=K.parseMessage(Q[ie].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:l,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:k,39:w,41:_,43:S,44:C,46:T,50:N,52:D,53:M,54:L,59:B,60:E,61:R,62:O,70:P},e(A,[2,5]),{9:47,12:12,13:l,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:k,39:w,41:_,43:S,44:C,46:T,50:N,52:D,53:M,54:L,59:B,60:E,61:R,62:O,70:P},e(A,[2,7]),e(A,[2,8]),e(A,[2,14]),{12:48,50:N,52:D,53:M},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:P},{22:55,70:P},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(A,[2,29]),e(A,[2,30]),{32:[1,61]},{34:[1,62]},e(A,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:P},{22:72,70:P},{22:73,70:P},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:P},{22:90,70:P},{22:91,70:P},{22:92,70:P},e([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),e(A,[2,6]),e(A,[2,15]),e($,[2,9],{10:93}),e(A,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},e(A,[2,21]),{5:[1,97]},{5:[1,98]},e(A,[2,24]),e(A,[2,25]),e(A,[2,26]),e(A,[2,27]),e(A,[2,28]),e(A,[2,31]),e(A,[2,32]),e(F,i,{7:99}),e(F,i,{7:100}),e(F,i,{7:101}),e(G,i,{40:102,7:103}),e(q,i,{42:104,7:105}),e(q,i,{7:105,42:106}),e(W,i,{45:107,7:108}),e(F,i,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:P},e(re,[2,69]),e(re,[2,70]),e(re,[2,71]),e(re,[2,72]),e(re,[2,73]),e(re,[2,74]),e(re,[2,75]),e(re,[2,76]),e(re,[2,77]),e(re,[2,78]),{22:118,70:P},{22:120,58:119,70:P},{70:[2,63]},{70:[2,64]},{56:121,81:oe},{56:123,81:oe},{56:124,81:oe},{56:125,81:oe},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:N,52:D,53:M},{5:[1,131]},e(A,[2,19]),e(A,[2,20]),e(A,[2,22]),e(A,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,132],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:k,39:w,41:_,43:S,44:C,46:T,50:N,52:D,53:M,54:L,59:B,60:E,61:R,62:O,70:P},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,133],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:k,39:w,41:_,43:S,44:C,46:T,50:N,52:D,53:M,54:L,59:B,60:E,61:R,62:O,70:P},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,134],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:k,39:w,41:_,43:S,44:C,46:T,50:N,52:D,53:M,54:L,59:B,60:E,61:R,62:O,70:P},{16:[1,135]},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[2,46],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:k,39:w,41:_,43:S,44:C,46:T,49:[1,136],50:N,52:D,53:M,54:L,59:B,60:E,61:R,62:O,70:P},{16:[1,137]},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[2,44],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:k,39:w,41:_,43:S,44:C,46:T,48:[1,138],50:N,52:D,53:M,54:L,59:B,60:E,61:R,62:O,70:P},{16:[1,139]},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[2,42],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:k,39:w,41:_,43:S,44:C,46:T,47:[1,141],50:N,52:D,53:M,54:L,59:B,60:E,61:R,62:O,70:P},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,142],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:k,39:w,41:_,43:S,44:C,46:T,50:N,52:D,53:M,54:L,59:B,60:E,61:R,62:O,70:P},{15:[1,143]},e(A,[2,49]),{15:[1,144]},e(A,[2,51]),e(A,[2,52]),{22:145,70:P},{22:146,70:P},{56:147,81:oe},{56:148,81:oe},{56:149,81:oe},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},e(A,[2,16]),e($,[2,10]),{12:151,50:N,52:D,53:M},e($,[2,12]),e($,[2,13]),e(A,[2,18]),e(A,[2,34]),e(A,[2,35]),e(A,[2,36]),e(A,[2,37]),{15:[1,152]},e(A,[2,38]),{15:[1,153]},e(A,[2,39]),e(A,[2,40]),{15:[1,154]},e(A,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:oe},{56:158,81:oe},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:P},e($,[2,11]),e(G,i,{7:103,40:160}),e(q,i,{7:105,42:161}),e(W,i,{7:108,45:162}),e(A,[2,48]),e(A,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:o(function(V,U){if(U.recoverable)this.trace(V);else{var ne=new Error(V);throw ne.hash=U,ne}},"parseError"),parse:o(function(V){var U=this,ne=[0],K=[],fe=[null],Q=[],Te=this.table,ie="",Me=0,Le=0,Ie=0,He=2,We=1,et=Q.slice.call(arguments,1),Ze=Object.create(this.lexer),H={yy:{}};for(var ge in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ge)&&(H.yy[ge]=this.yy[ge]);Ze.setInput(V,H.yy),H.yy.lexer=Ze,H.yy.parser=this,typeof Ze.yylloc>"u"&&(Ze.yylloc={});var ce=Ze.yylloc;Q.push(ce);var ve=Ze.options&&Ze.options.ranges;typeof H.yy.parseError=="function"?this.parseError=H.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function J(_t){ne.length=ne.length-2*_t,fe.length=fe.length-_t,Q.length=Q.length-_t}o(J,"popStack");function Pe(){var _t;return _t=K.pop()||Ze.lex()||We,typeof _t!="number"&&(_t instanceof Array&&(K=_t,_t=K.pop()),_t=U.symbols_[_t]||_t),_t}o(Pe,"lex");for(var Z,Fe,ae,pe,_e,Se,Re={},ke,Xe,Oe,lt;;){if(ae=ne[ne.length-1],this.defaultActions[ae]?pe=this.defaultActions[ae]:((Z===null||typeof Z>"u")&&(Z=Pe()),pe=Te[ae]&&Te[ae][Z]),typeof pe>"u"||!pe.length||!pe[0]){var Dt="";lt=[];for(ke in Te[ae])this.terminals_[ke]&&ke>He&&lt.push("'"+this.terminals_[ke]+"'");Ze.showPosition?Dt="Parse error on line "+(Me+1)+`:
`+Ze.showPosition()+`
Expecting `+lt.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'":Dt="Parse error on line "+(Me+1)+": Unexpected "+(Z==We?"end of input":"'"+(this.terminals_[Z]||Z)+"'"),this.parseError(Dt,{text:Ze.match,token:this.terminals_[Z]||Z,line:Ze.yylineno,loc:ce,expected:lt})}if(pe[0]instanceof Array&&pe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ae+", token: "+Z);switch(pe[0]){case 1:ne.push(Z),fe.push(Ze.yytext),Q.push(Ze.yylloc),ne.push(pe[1]),Z=null,Fe?(Z=Fe,Fe=null):(Le=Ze.yyleng,ie=Ze.yytext,Me=Ze.yylineno,ce=Ze.yylloc,Ie>0&&Ie--);break;case 2:if(Xe=this.productions_[pe[1]][1],Re.$=fe[fe.length-Xe],Re._$={first_line:Q[Q.length-(Xe||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(Xe||1)].first_column,last_column:Q[Q.length-1].last_column},ve&&(Re._$.range=[Q[Q.length-(Xe||1)].range[0],Q[Q.length-1].range[1]]),Se=this.performAction.apply(Re,[ie,Le,Me,H.yy,pe[1],fe,Q].concat(et)),typeof Se<"u")return Se;Xe&&(ne=ne.slice(0,-1*Xe*2),fe=fe.slice(0,-1*Xe),Q=Q.slice(0,-1*Xe)),ne.push(this.productions_[pe[1]][0]),fe.push(Re.$),Q.push(Re._$),Oe=Te[ne[ne.length-2]][ne[ne.length-1]],ne.push(Oe);break;case 3:return!0}}return!0},"parse")},se=function(){var V={EOF:1,parseError:o(function(U,ne){if(this.yy.parser)this.yy.parser.parseError(U,ne);else throw new Error(U)},"parseError"),setInput:o(function(U,ne){return this.yy=ne||this.yy||{},this._input=U,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var U=this._input[0];this.yytext+=U,this.yyleng++,this.offset++,this.match+=U,this.matched+=U;var ne=U.match(/(?:\r\n?|\n).*/g);return ne?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),U},"input"),unput:o(function(U){var ne=U.length,K=U.split(/(?:\r\n?|\n)/g);this._input=U+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ne),this.offset-=ne;var fe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),K.length-1&&(this.yylineno-=K.length-1);var Q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:K?(K.length===fe.length?this.yylloc.first_column:0)+fe[fe.length-K.length].length-K[0].length:this.yylloc.first_column-ne},this.options.ranges&&(this.yylloc.range=[Q[0],Q[0]+this.yyleng-ne]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(U){this.unput(this.match.slice(U))},"less"),pastInput:o(function(){var U=this.matched.substr(0,this.matched.length-this.match.length);return(U.length>20?"...":"")+U.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var U=this.match;return U.length<20&&(U+=this._input.substr(0,20-U.length)),(U.substr(0,20)+(U.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var U=this.pastInput(),ne=new Array(U.length+1).join("-");return U+this.upcomingInput()+`
`+ne+"^"},"showPosition"),test_match:o(function(U,ne){var K,fe,Q;if(this.options.backtrack_lexer&&(Q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Q.yylloc.range=this.yylloc.range.slice(0))),fe=U[0].match(/(?:\r\n?|\n).*/g),fe&&(this.yylineno+=fe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:fe?fe[fe.length-1].length-fe[fe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+U[0].length},this.yytext+=U[0],this.match+=U[0],this.matches=U,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(U[0].length),this.matched+=U[0],K=this.performAction.call(this,this.yy,this,ne,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),K)return K;if(this._backtrack){for(var Te in Q)this[Te]=Q[Te];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var U,ne,K,fe;this._more||(this.yytext="",this.match="");for(var Q=this._currentRules(),Te=0;Te<Q.length;Te++)if(K=this._input.match(this.rules[Q[Te]]),K&&(!ne||K[0].length>ne[0].length)){if(ne=K,fe=Te,this.options.backtrack_lexer){if(U=this.test_match(K,Q[Te]),U!==!1)return U;if(this._backtrack){ne=!1;continue}else return!1}else if(!this.options.flex)break}return ne?(U=this.test_match(ne,Q[fe]),U!==!1?U:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var U=this.next();return U||this.lex()},"lex"),begin:o(function(U){this.conditionStack.push(U)},"begin"),popState:o(function(){var U=this.conditionStack.length-1;return U>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(U){return U=this.conditionStack.length-1-Math.abs(U||0),U>=0?this.conditionStack[U]:"INITIAL"},"topState"),pushState:o(function(U){this.begin(U)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(U,ne,K,fe){var Q=fe;switch(K){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return ne.yytext=ne.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return ne.yytext=ne.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return V}();te.lexer=se;function Y(){this.yy={}}return o(Y,"Parser"),Y.prototype=te,te.Parser=Y,new Y}(),eT.parser=eT,z_e=eT});function tT(e,t){if(e.links==null)e.links=t;else for(let r in t)e.links[r]=t[r]}function d$(e,t){if(e.properties==null)e.properties=t;else for(let r in t)e.properties[r]=t[r]}function G_e(){Kt.records.currentBox=void 0}var Kt,q_e,rT,j_e,Y_e,vi,U_e,H_e,W_e,V_e,X_e,K_e,Z_e,ef,Q_e,J_e,eCe,tCe,rCe,p$,od,nCe,iCe,aCe,tf,sCe,oCe,g$,f$,lCe,m$,y$,cCe,v$,b$,HJe=I(()=>{"use strict";tr(),Ye(),TB(),Pr(),Hi(),Kt=new S7(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),q_e=o(function(e){Kt.records.boxes.push({name:e.text,wrap:e.wrap??od(),fill:e.color,actorKeys:[]}),Kt.records.currentBox=Kt.records.boxes.slice(-1)[0]},"addBox"),rT=o(function(e,t,r,n){let i=Kt.records.currentBox,a=Kt.records.actors.get(e);if(a){if(Kt.records.currentBox&&a.box&&Kt.records.currentBox!==a.box)throw new Error(`A same participant should only be defined in one Box: ${a.name} can't be in '${a.box.name}' and in '${Kt.records.currentBox.name}' at the same time.`);if(i=a.box?a.box:Kt.records.currentBox,a.box=i,a&&t===a.name&&r==null)return}if(r?.text==null&&(r={text:t,type:n}),(n==null||r.text==null)&&(r={text:t,type:n}),Kt.records.actors.set(e,{box:i,name:t,description:r.text,wrap:r.wrap??od(),prevActor:Kt.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),Kt.records.prevActor){let s=Kt.records.actors.get(Kt.records.prevActor);s&&(s.nextActor=e)}Kt.records.currentBox&&Kt.records.currentBox.actorKeys.push(e),Kt.records.prevActor=e},"addActor"),j_e=o(e=>{let t,r=0;if(!e)return 0;for(t=0;t<Kt.records.messages.length;t++)Kt.records.messages[t].type===tf.ACTIVE_START&&Kt.records.messages[t].from===e&&r++,Kt.records.messages[t].type===tf.ACTIVE_END&&Kt.records.messages[t].from===e&&r--;return r},"activationCount"),Y_e=o(function(e,t,r,n){Kt.records.messages.push({from:e,to:t,message:r.text,wrap:r.wrap??od(),answer:n})},"addMessage"),vi=o(function(e,t,r,n,i=!1){if(n===tf.ACTIVE_END&&j_e(e??"")<1){let a=new Error("Trying to inactivate an inactive participant ("+e+")");throw a.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},a}return Kt.records.messages.push({from:e,to:t,message:r?.text??"",wrap:r?.wrap??od(),type:n,activate:i}),!0},"addSignal"),U_e=o(function(){return Kt.records.boxes.length>0},"hasAtLeastOneBox"),H_e=o(function(){return Kt.records.boxes.some(e=>e.name)},"hasAtLeastOneBoxWithTitle"),W_e=o(function(){return Kt.records.messages},"getMessages"),V_e=o(function(){return Kt.records.boxes},"getBoxes"),X_e=o(function(){return Kt.records.actors},"getActors"),K_e=o(function(){return Kt.records.createdActors},"getCreatedActors"),Z_e=o(function(){return Kt.records.destroyedActors},"getDestroyedActors"),ef=o(function(e){return Kt.records.actors.get(e)},"getActor"),Q_e=o(function(){return[...Kt.records.actors.keys()]},"getActorKeys"),J_e=o(function(){Kt.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),eCe=o(function(){Kt.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),tCe=o(()=>Kt.records.sequenceNumbersEnabled,"showSequenceNumbers"),rCe=o(function(e){Kt.records.wrapEnabled=e},"setWrap"),p$=o(e=>{if(e===void 0)return{};e=e.trim();let t=/^:?wrap:/.exec(e)!==null?!0:/^:?nowrap:/.exec(e)!==null?!1:void 0;return{cleanedText:(t===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:t}},"extractWrap"),od=o(()=>Kt.records.wrapEnabled!==void 0?Kt.records.wrapEnabled:we().sequence?.wrap??!1,"autoWrap"),nCe=o(function(){Kt.reset(),Yi()},"clear"),iCe=o(function(e){let t=e.trim(),{wrap:r,cleanedText:n}=p$(t),i={text:n,wrap:r};return X.debug(`parseMessage: ${JSON.stringify(i)}`),i},"parseMessage"),aCe=o(function(e){let t=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e),r=t?.[1]?t[1].trim():"transparent",n=t?.[2]?t[2].trim():void 0;if(window?.CSS)window.CSS.supports("color",r)||(r="transparent",n=e.trim());else{let s=new Option().style;s.color=r,s.color!==r&&(r="transparent",n=e.trim())}let{wrap:i,cleanedText:a}=p$(n);return{text:a?En(a,we()):void 0,color:r,wrap:i}},"parseBoxData"),tf={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},sCe={FILLED:0,OPEN:1},oCe={LEFTOF:0,RIGHTOF:1,OVER:2},g$=o(function(e,t,r){let n={actor:e,placement:t,message:r.text,wrap:r.wrap??od()},i=[].concat(e,e);Kt.records.notes.push(n),Kt.records.messages.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap??od(),type:tf.NOTE,placement:t})},"addNote"),f$=o(function(e,t){let r=ef(e);try{let n=En(t.text,we());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");let i=JSON.parse(n);tT(r,i)}catch(n){X.error("error while parsing actor link text",n)}},"addLinks"),lCe=o(function(e,t){let r=ef(e);try{let n={},i=En(t.text,we()),a=i.indexOf("@");i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");let s=i.slice(0,a-1).trim(),l=i.slice(a+1).trim();n[s]=l,tT(r,n)}catch(n){X.error("error while parsing actor link text",n)}},"addALink"),o(tT,"insertLinks"),m$=o(function(e,t){let r=ef(e);try{let n=En(t.text,we()),i=JSON.parse(n);d$(r,i)}catch(n){X.error("error while parsing actor properties text",n)}},"addProperties"),o(d$,"insertProperties"),o(G_e,"boxEnd"),y$=o(function(e,t){let r=ef(e),n=document.getElementById(t.text);try{let i=n.innerHTML,a=JSON.parse(i);a.properties&&d$(r,a.properties),a.links&&tT(r,a.links)}catch(i){X.error("error while parsing actor details text",i)}},"addDetails"),cCe=o(function(e,t){if(e?.properties!==void 0)return e.properties[t]},"getActorProperty"),v$=o(function(e){if(Array.isArray(e))e.forEach(function(t){v$(t)});else switch(e.type){case"sequenceIndex":Kt.records.messages.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":rT(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(Kt.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");Kt.records.lastCreated=e.actor,rT(e.actor,e.actor,e.description,e.draw),Kt.records.createdActors.set(e.actor,Kt.records.messages.length);break;case"destroyParticipant":Kt.records.lastDestroyed=e.actor,Kt.records.destroyedActors.set(e.actor,Kt.records.messages.length);break;case"activeStart":vi(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":vi(e.actor,void 0,void 0,e.signalType);break;case"addNote":g$(e.actor,e.placement,e.text);break;case"addLinks":f$(e.actor,e.text);break;case"addALink":lCe(e.actor,e.text);break;case"addProperties":m$(e.actor,e.text);break;case"addDetails":y$(e.actor,e.text);break;case"addMessage":if(Kt.records.lastCreated){if(e.to!==Kt.records.lastCreated)throw new Error("The created participant "+Kt.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");Kt.records.lastCreated=void 0}else if(Kt.records.lastDestroyed){if(e.to!==Kt.records.lastDestroyed&&e.from!==Kt.records.lastDestroyed)throw new Error("The destroyed participant "+Kt.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");Kt.records.lastDestroyed=void 0}vi(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":q_e(e.boxData);break;case"boxEnd":G_e();break;case"loopStart":vi(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":vi(void 0,void 0,void 0,e.signalType);break;case"rectStart":vi(void 0,void 0,e.color,e.signalType);break;case"rectEnd":vi(void 0,void 0,void 0,e.signalType);break;case"optStart":vi(void 0,void 0,e.optText,e.signalType);break;case"optEnd":vi(void 0,void 0,void 0,e.signalType);break;case"altStart":vi(void 0,void 0,e.altText,e.signalType);break;case"else":vi(void 0,void 0,e.altText,e.signalType);break;case"altEnd":vi(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":Ui(e.text);break;case"parStart":vi(void 0,void 0,e.parText,e.signalType);break;case"and":vi(void 0,void 0,e.parText,e.signalType);break;case"parEnd":vi(void 0,void 0,void 0,e.signalType);break;case"criticalStart":vi(void 0,void 0,e.criticalText,e.signalType);break;case"option":vi(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":vi(void 0,void 0,void 0,e.signalType);break;case"breakStart":vi(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":vi(void 0,void 0,void 0,e.signalType);break}},"apply"),b$={addActor:rT,addMessage:Y_e,addSignal:vi,addLinks:f$,addDetails:y$,addProperties:m$,autoWrap:od,setWrap:rCe,enableSequenceNumbers:J_e,disableSequenceNumbers:eCe,showSequenceNumbers:tCe,getMessages:W_e,getActors:X_e,getCreatedActors:K_e,getDestroyedActors:Z_e,getActor:ef,getActorKeys:Q_e,getActorProperty:cCe,getAccTitle:ea,getBoxes:V_e,getDiagramTitle:na,setDiagramTitle:za,getConfig:o(()=>we().sequence,"getConfig"),clear:nCe,parseMessage:iCe,parseBoxData:aCe,LINETYPE:tf,ARROWTYPE:sCe,PLACEMENT:oCe,addNote:g$,setAccTitle:Ui,apply:v$,setAccDescription:ta,getAccDescription:ra,hasAtLeastOneBox:U_e,hasAtLeastOneBoxWithTitle:H_e}}),uCe,hCe,WJe=I(()=>{"use strict";uCe=o(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),hCe=uCe}),x$,ld,k$,w$,dCe,T$,nT,pCe,gCe,lb,V0,E$,Sl,_$,fCe,mCe,yCe,vCe,bCe,xCe,kCe,C$,wCe,TCe,ECe,_Ce,CCe,SCe,ACe,S$,LCe,iT,NCe,bi,VJe=I(()=>{"use strict";Pr(),Q3(),Dr(),x$=xr(Ay(),1),xs(),ld=18*2,k$="actor-top",w$="actor-bottom",dCe="actor-box",T$="actor-man",nT=o(function(e,t){return Ly(e,t)},"drawRect"),pCe=o(function(e,t,r,n,i){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let a=t.links,s=t.actorCnt,l=t.rectData;var u="none";i&&(u="block !important");let h=e.append("g");h.attr("id","actor"+s+"_popup"),h.attr("class","actorPopupMenu"),h.attr("display",u);var d="";l.class!==void 0&&(d=" "+l.class);let p=l.width>r?l.width:r,f=h.append("rect");if(f.attr("class","actorPopupMenuPanel"+d),f.attr("x",l.x),f.attr("y",l.height),f.attr("fill",l.fill),f.attr("stroke",l.stroke),f.attr("width",p),f.attr("height",l.height),f.attr("rx",l.rx),f.attr("ry",l.ry),a!=null){var g=20;for(let b in a){var m=h.append("a"),y=(0,x$.sanitizeUrl)(a[b]);m.attr("xlink:href",y),m.attr("target","_blank"),NCe(n)(b,m,l.x+10,l.height+g,p,20,{class:"actor"},n),g+=30}}return f.attr("height",g),{height:l.height+g,width:p}},"drawPopup"),gCe=o(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),lb=o(async function(e,t,r=null){let n=e.append("foreignObject"),i=await n1(t.text,Yn()),a=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(a.height)).attr("width",Math.round(a.width)),t.class==="noteText"){let s=e.node().firstChild;s.setAttribute("height",a.height+2*t.textMargin);let l=s.getBBox();n.attr("x",Math.round(l.x+l.width/2-a.width/2)).attr("y",Math.round(l.y+l.height/2-a.height/2))}else if(r){let{startx:s,stopx:l,starty:u}=r;if(s>l){let h=s;s=l,l=h}n.attr("x",Math.round(s+Math.abs(s-l)/2-a.width/2)),t.class==="loopText"?n.attr("y",Math.round(u)):n.attr("y",Math.round(u-a.height))}return[n]},"drawKatex"),V0=o(function(e,t){let r=0,n=0,i=t.text.split(ot.lineBreakRegex),[a,s]=Qc(t.fontSize),l=[],u=0,h=o(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":h=o(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":h=o(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":h=o(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[d,p]of i.entries()){t.textMargin!==void 0&&t.textMargin===0&&a!==void 0&&(u=d*a);let f=e.append("text");f.attr("x",t.x),f.attr("y",h()),t.anchor!==void 0&&f.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&f.style("font-family",t.fontFamily),s!==void 0&&f.style("font-size",s),t.fontWeight!==void 0&&f.style("font-weight",t.fontWeight),t.fill!==void 0&&f.attr("fill",t.fill),t.class!==void 0&&f.attr("class",t.class),t.dy!==void 0?f.attr("dy",t.dy):u!==0&&f.attr("dy",u);let g=p||M9;if(t.tspan){let m=f.append("tspan");m.attr("x",t.x),t.fill!==void 0&&m.attr("fill",t.fill),m.text(g)}else f.text(g);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(f._groups||f)[0][0].getBBox().height,r=n),l.push(f)}return l},"drawText"),E$=o(function(e,t){function r(i,a,s,l,u){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+l-u)+" "+(i+s-u*1.2)+","+(a+l)+" "+i+","+(a+l)}o(r,"genPoints");let n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,V0(e,t),n},"drawLabel"),Sl=-1,_$=o((e,t,r,n)=>{e.select&&r.forEach(i=>{let a=t.get(i),s=e.select("#actor"+a.actorCnt);!n.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):n.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),fCe=o(function(e,t,r,n){let i=n?t.stopy:t.starty,a=t.x+t.width/2,s=i+t.height,l=e.append("g").lower();var u=l;n||(Sl++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",gCe(`actor${Sl}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+Sl).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=l.append("g"),t.actorCnt=Sl,t.links!=null&&u.attr("id","root-"+Sl));let h=xh();var d="actor";t.properties?.class?d=t.properties.class:h.fill="#eaeaea",n?d+=` ${w$}`:d+=` ${k$}`,h.x=t.x,h.y=i,h.width=t.width,h.height=t.height,h.class=d,h.rx=3,h.ry=3,h.name=t.name;let p=nT(u,h);if(t.rectData=h,t.properties?.icon){let g=t.properties.icon.trim();g.charAt(0)==="@"?pte(u,h.x+h.width-20,h.y+10,g.substr(1)):dte(u,h.x+h.width-20,h.y+10,g)}iT(r,va(t.description))(t.description,u,h.x,h.y,h.width,h.height,{class:`actor ${dCe}`},r);let f=t.height;if(p.node){let g=p.node().getBBox();t.height=g.height,f=g.height}return f},"drawActorTypeParticipant"),mCe=o(function(e,t,r,n){let i=n?t.stopy:t.starty,a=t.x+t.width/2,s=i+80,l=e.append("g").lower();n||(Sl++,l.append("line").attr("id","actor"+Sl).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Sl);let u=e.append("g"),h=T$;n?h+=` ${w$}`:h+=` ${k$}`,u.attr("class",h),u.attr("name",t.name);let d=xh();d.x=t.x,d.y=i,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor",d.rx=3,d.ry=3,u.append("line").attr("id","actor-man-torso"+Sl).attr("x1",a).attr("y1",i+25).attr("x2",a).attr("y2",i+45),u.append("line").attr("id","actor-man-arms"+Sl).attr("x1",a-ld/2).attr("y1",i+33).attr("x2",a+ld/2).attr("y2",i+33),u.append("line").attr("x1",a-ld/2).attr("y1",i+60).attr("x2",a).attr("y2",i+45),u.append("line").attr("x1",a).attr("y1",i+45).attr("x2",a+ld/2-2).attr("y2",i+60);let p=u.append("circle");p.attr("cx",t.x+t.width/2),p.attr("cy",i+10),p.attr("r",15),p.attr("width",t.width),p.attr("height",t.height);let f=u.node().getBBox();return t.height=f.height,iT(r,va(t.description))(t.description,u,d.x,d.y+35,d.width,d.height,{class:`actor ${T$}`},r),t.height},"drawActorTypeActor"),yCe=o(async function(e,t,r,n){switch(t.type){case"actor":return await mCe(e,t,r,n);case"participant":return await fCe(e,t,r,n)}},"drawActor"),vCe=o(function(e,t,r){let n=e.append("g");C$(n,t),t.name&&iT(r)(t.name,n,t.x,t.y+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),n.lower()},"drawBox"),bCe=o(function(e){return e.append("g")},"anchorElement"),xCe=o(function(e,t,r,n,i){let a=xh(),s=t.anchored;a.x=t.startx,a.y=t.starty,a.class="activation"+i%3,a.width=t.stopx-t.startx,a.height=r-t.starty,nT(s,a)},"drawActivation"),kCe=o(async function(e,t,r,n){let{boxMargin:i,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:l,messageFontFamily:u,messageFontSize:h,messageFontWeight:d}=n,p=e.append("g"),f=o(function(y,b,v,x){return p.append("line").attr("x1",y).attr("y1",b).attr("x2",v).attr("y2",x).attr("class","loopLine")},"drawLoopLine");f(t.startx,t.starty,t.stopx,t.starty),f(t.stopx,t.starty,t.stopx,t.stopy),f(t.startx,t.stopy,t.stopx,t.stopy),f(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(y){f(t.startx,y.y,t.stopx,y.y).style("stroke-dasharray","3, 3")});let g=Z3();g.text=r,g.x=t.startx,g.y=t.starty,g.fontFamily=u,g.fontSize=h,g.fontWeight=d,g.anchor="middle",g.valign="middle",g.tspan=!1,g.width=l||50,g.height=s||20,g.textMargin=a,g.class="labelText",E$(p,g),g=S$(),g.text=t.title,g.x=t.startx+l/2+(t.stopx-t.startx)/2,g.y=t.starty+i+a,g.anchor="middle",g.valign="middle",g.textMargin=a,g.class="loopText",g.fontFamily=u,g.fontSize=h,g.fontWeight=d,g.wrap=!0;let m=va(g.text)?await lb(p,g,t):V0(p,g);if(t.sectionTitles!==void 0){for(let[y,b]of Object.entries(t.sectionTitles))if(b.message){g.text=b.message,g.x=t.startx+(t.stopx-t.startx)/2,g.y=t.sections[y].y+i+a,g.class="loopText",g.anchor="middle",g.valign="middle",g.tspan=!1,g.fontFamily=u,g.fontSize=h,g.fontWeight=d,g.wrap=t.wrap,va(g.text)?(t.starty=t.sections[y].y,await lb(p,g,t)):V0(p,g);let v=Math.round(m.map(x=>(x._groups||x)[0][0].getBBox().height).reduce((x,k)=>x+k));t.sections[y].height+=v-(i+a)}}return t.height=Math.round(t.stopy-t.starty),p},"drawLoop"),C$=o(function(e,t){YA(e,t)},"drawBackgroundRect"),wCe=o(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),TCe=o(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),ECe=o(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),_Ce=o(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),CCe=o(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),SCe=o(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),ACe=o(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),S$=o(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),LCe=o(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),iT=function(){function e(a,s,l,u,h,d,p){let f=s.append("text").attr("x",l+h/2).attr("y",u+d/2+5).style("text-anchor","middle").text(a);i(f,p)}o(e,"byText");function t(a,s,l,u,h,d,p,f){let{actorFontSize:g,actorFontFamily:m,actorFontWeight:y}=f,[b,v]=Qc(g),x=a.split(ot.lineBreakRegex);for(let k=0;k<x.length;k++){let w=k*b-b*(x.length-1)/2,_=s.append("text").attr("x",l+h/2).attr("y",u).style("text-anchor","middle").style("font-size",v).style("font-weight",y).style("font-family",m);_.append("tspan").attr("x",l+h/2).attr("dy",w).text(x[k]),_.attr("y",u+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(_,p)}}o(t,"byTspan");function r(a,s,l,u,h,d,p,f){let g=s.append("switch"),m=g.append("foreignObject").attr("x",l).attr("y",u).attr("width",h).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,g,l,u,h,d,p,f),i(m,p)}o(r,"byFo");async function n(a,s,l,u,h,d,p,f){let g=await r1(a,Yn()),m=s.append("switch"),y=m.append("foreignObject").attr("x",l+h/2-g.width/2).attr("y",u+d/2-g.height/2).attr("width",g.width).attr("height",g.height).append("xhtml:div").style("height","100%").style("width","100%");y.append("div").style("text-align","center").style("vertical-align","middle").html(await n1(a,Yn())),t(a,m,l,u,h,d,p,f),i(y,p)}o(n,"byKatex");function i(a,s){for(let l in s)s.hasOwnProperty(l)&&a.attr(l,s[l])}return o(i,"_setTextAttrs"),function(a,s=!1){return s?n:a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),NCe=function(){function e(i,a,s,l,u,h,d){let p=a.append("text").attr("x",s).attr("y",l).style("text-anchor","start").text(i);n(p,d)}o(e,"byText");function t(i,a,s,l,u,h,d,p){let{actorFontSize:f,actorFontFamily:g,actorFontWeight:m}=p,y=i.split(ot.lineBreakRegex);for(let b=0;b<y.length;b++){let v=b*f-f*(y.length-1)/2,x=a.append("text").attr("x",s).attr("y",l).style("text-anchor","start").style("font-size",f).style("font-weight",m).style("font-family",g);x.append("tspan").attr("x",s).attr("dy",v).text(y[b]),x.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,d)}}o(t,"byTspan");function r(i,a,s,l,u,h,d,p){let f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,l,u,h,d,p),n(g,d)}o(r,"byFo");function n(i,a){for(let s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return o(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),bi={drawRect:nT,drawText:V0,drawLabel:E$,drawActor:yCe,drawBox:vCe,drawPopup:pCe,anchorElement:bCe,drawActivation:xCe,drawLoop:kCe,drawBackgroundRect:C$,insertArrowHead:_Ce,insertArrowFilledHead:CCe,insertSequenceNumber:SCe,insertArrowCrossHead:ACe,insertDatabaseIcon:wCe,insertComputerIcon:TCe,insertClockIcon:ECe,getTextObj:S$,getNoteRect:LCe,fixLifeLineHeights:_$,sanitizeUrl:x$.sanitizeUrl}});async function ICe(e,t){rt.bumpVerticalPos(10);let{startx:r,stopx:n,message:i}=t,a=ot.splitBreaks(i).length,s=va(i),l=s?await r1(i,we()):Ar.calculateTextDimensions(i,cd(De));if(!s){let p=l.height/a;t.height+=p,rt.bumpVerticalPos(p)}let u,h=l.height-10,d=l.width;if(r===n){u=rt.getVerticalPos()+h,De.rightAngles||(h+=De.boxMargin,u=rt.getVerticalPos()+h),h+=30;let p=ot.getMax(d/2,De.width/2);rt.insert(r-p,rt.getVerticalPos()-10+h,n+p,rt.getVerticalPos()+30+h)}else h+=De.boxMargin,u=rt.getVerticalPos()+h,rt.insert(r,u-10,n,u);return rt.bumpVerticalPos(h),t.height+=h,t.stopy=t.starty+t.height,rt.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),u}function Al(e,t,r,n,i){rt.bumpVerticalPos(r);let a=n;if(t.id&&t.message&&e[t.id]){let s=e[t.id].width,l=cd(De);t.message=Ar.wrapLabel(`[${t.message}]`,s-2*De.wrapPadding,l),t.width=s,t.wrap=!0;let u=Ar.calculateTextDimensions(t.message,l),h=ot.getMax(u.height,De.labelBoxHeight);a=n+h,X.debug(`${h} - ${t.message}`)}i(t),rt.bumpVerticalPos(a)}function MCe(e,t,r,n,i,a,s){function l(h,d){h.x<i.get(e.from).x?(rt.insert(t.stopx-d,t.starty,t.startx,t.stopy+h.height/2+De.noteMargin),t.stopx=t.stopx+d):(rt.insert(t.startx,t.starty,t.stopx+d,t.stopy+h.height/2+De.noteMargin),t.stopx=t.stopx-d)}o(l,"receiverAdjustment");function u(h,d){h.x<i.get(e.to).x?(rt.insert(t.startx-d,t.starty,t.stopx,t.stopy+h.height/2+De.noteMargin),t.startx=t.startx+d):(rt.insert(t.stopx,t.starty,t.startx+d,t.stopy+h.height/2+De.noteMargin),t.startx=t.startx-d)}if(o(u,"senderAdjustment"),a.get(e.to)==n){let h=i.get(e.to),d=h.type=="actor"?ld/2+3:h.width/2+3;l(h,d),h.starty=r-h.height/2,rt.bumpVerticalPos(h.height/2)}else if(s.get(e.from)==n){let h=i.get(e.from);if(De.mirrorActors){let d=h.type=="actor"?ld/2:h.width/2;u(h,d)}h.stopy=r-h.height/2,rt.bumpVerticalPos(h.height/2)}else if(s.get(e.to)==n){let h=i.get(e.to);if(De.mirrorActors){let d=h.type=="actor"?ld/2+3:h.width/2+3;l(h,d)}h.stopy=r-h.height/2,rt.bumpVerticalPos(h.height/2)}}async function DCe(e,t,r){let n={};for(let i of t)if(e.get(i.to)&&e.get(i.from)){let a=e.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;let s=i.placement!==void 0,l=!s,u=s?X0(De):cd(De),h=i.wrap?Ar.wrapLabel(i.message,De.width-2*De.wrapPadding,u):i.message,d=(va(h)?await r1(i.message,we()):Ar.calculateTextDimensions(h,u)).width+2*De.wrapPadding;l&&i.from===a.nextActor?n[i.to]=ot.getMax(n[i.to]||0,d):l&&i.from===a.prevActor?n[i.from]=ot.getMax(n[i.from]||0,d):l&&i.from===i.to?(n[i.from]=ot.getMax(n[i.from]||0,d/2),n[i.to]=ot.getMax(n[i.to]||0,d/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=ot.getMax(n[i.from]||0,d):i.placement===r.db.PLACEMENT.LEFTOF?n[a.prevActor]=ot.getMax(n[a.prevActor]||0,d):i.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(n[a.prevActor]=ot.getMax(n[a.prevActor]||0,d/2)),a.nextActor&&(n[i.from]=ot.getMax(n[i.from]||0,d/2)))}return X.debug("maxMessageWidthPerActor:",n),n}async function RCe(e,t,r){let n=0;for(let a of e.keys()){let s=e.get(a);s.wrap&&(s.description=Ar.wrapLabel(s.description,De.width-2*De.wrapPadding,aT(De)));let l=va(s.description)?await r1(s.description,we()):Ar.calculateTextDimensions(s.description,aT(De));s.width=s.wrap?De.width:ot.getMax(De.width,l.width+2*De.wrapPadding),s.height=s.wrap?ot.getMax(l.height,De.height):De.height,n=ot.getMax(n,s.height)}for(let a in t){let s=e.get(a);if(!s)continue;let l=e.get(s.nextActor);if(!l){let h=t[a]+De.actorMargin-s.width/2;s.margin=ot.getMax(h,De.actorMargin);continue}let u=t[a]+De.actorMargin-s.width/2-l.width/2;s.margin=ot.getMax(u,De.actorMargin)}let i=0;return r.forEach(a=>{let s=cd(De),l=a.actorKeys.reduce((d,p)=>d+=e.get(p).width+(e.get(p).margin||0),0);l-=2*De.boxTextMargin,a.wrap&&(a.name=Ar.wrapLabel(a.name,l-2*De.wrapPadding,s));let u=Ar.calculateTextDimensions(a.name,s);i=ot.getMax(u.height,i);let h=ot.getMax(l,u.width+2*De.wrapPadding);if(a.margin=De.boxTextMargin,l<h){let d=(h-l)/2;a.margin+=d}}),r.forEach(a=>a.textMaxHeight=i),ot.getMax(n,De.height)}var De,rt,OCe,cd,X0,aT,PCe,BCe,sT,A$,L$,cb,N$,$Ce,FCe,zCe,GCe,qCe,jCe,XJe=I(()=>{"use strict";Fr(),VJe(),Ye(),Pr(),Q3(),tr(),Mc(),Dr(),wi(),De={},rt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:o(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:o(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:o(function(e){this.boxes.push(e)},"addBox"),addActor:o(function(e){this.actors.push(e)},"addActor"),addLoop:o(function(e){this.loops.push(e)},"addLoop"),addMessage:o(function(e){this.messages.push(e)},"addMessage"),addNote:o(function(e){this.notes.push(e)},"addNote"),lastActor:o(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:o(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:o(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:o(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:o(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,L$(we())},"init"),updateVal:o(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:o(function(e,t,r,n){let i=this,a=0;function s(l){return o(function(u){a++;let h=i.sequenceItems.length-a+1;i.updateVal(u,"starty",t-h*De.boxMargin,Math.min),i.updateVal(u,"stopy",n+h*De.boxMargin,Math.max),i.updateVal(rt.data,"startx",e-h*De.boxMargin,Math.min),i.updateVal(rt.data,"stopx",r+h*De.boxMargin,Math.max),l!=="activation"&&(i.updateVal(u,"startx",e-h*De.boxMargin,Math.min),i.updateVal(u,"stopx",r+h*De.boxMargin,Math.max),i.updateVal(rt.data,"starty",t-h*De.boxMargin,Math.min),i.updateVal(rt.data,"stopy",n+h*De.boxMargin,Math.max))},"updateItemBounds")}o(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:o(function(e,t,r,n){let i=ot.getMin(e,r),a=ot.getMax(e,r),s=ot.getMin(t,n),l=ot.getMax(t,n);this.updateVal(rt.data,"startx",i,Math.min),this.updateVal(rt.data,"starty",s,Math.min),this.updateVal(rt.data,"stopx",a,Math.max),this.updateVal(rt.data,"stopy",l,Math.max),this.updateBounds(i,s,a,l)},"insert"),newActivation:o(function(e,t,r){let n=r.get(e.from),i=cb(e.from).length||0,a=n.x+n.width/2+(i-1)*De.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+De.activationWidth,stopy:void 0,actor:e.from,anchored:bi.anchorElement(t)})},"newActivation"),endActivation:o(function(e){let t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:o(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:o(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:o(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:o(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:o(function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:rt.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:o(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:o(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:o(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=ot.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:o(function(){return this.verticalPos},"getVerticalPos"),getBounds:o(function(){return{bounds:this.data,models:this.models}},"getBounds")},OCe=o(async function(e,t){rt.bumpVerticalPos(De.boxMargin),t.height=De.boxMargin,t.starty=rt.getVerticalPos();let r=xh();r.x=t.startx,r.y=t.starty,r.width=t.width||De.width,r.class="note";let n=e.append("g"),i=bi.drawRect(n,r),a=Z3();a.x=t.startx,a.y=t.starty,a.width=r.width,a.dy="1em",a.text=t.message,a.class="noteText",a.fontFamily=De.noteFontFamily,a.fontSize=De.noteFontSize,a.fontWeight=De.noteFontWeight,a.anchor=De.noteAlign,a.textMargin=De.noteMargin,a.valign="center";let s=va(a.text)?await lb(n,a):V0(n,a),l=Math.round(s.map(u=>(u._groups||u)[0][0].getBBox().height).reduce((u,h)=>u+h));i.attr("height",l+2*De.noteMargin),t.height+=l+2*De.noteMargin,rt.bumpVerticalPos(l+2*De.noteMargin),t.stopy=t.starty+l+2*De.noteMargin,t.stopx=t.startx+r.width,rt.insert(t.startx,t.starty,t.stopx,t.stopy),rt.models.addNote(t)},"drawNote"),cd=o(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),X0=o(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),aT=o(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont"),o(ICe,"boundMessage"),PCe=o(async function(e,t,r,n){let{startx:i,stopx:a,starty:s,message:l,type:u,sequenceIndex:h,sequenceVisible:d}=t,p=Ar.calculateTextDimensions(l,cd(De)),f=Z3();f.x=i,f.y=s+10,f.width=a-i,f.class="messageText",f.dy="1em",f.text=l,f.fontFamily=De.messageFontFamily,f.fontSize=De.messageFontSize,f.fontWeight=De.messageFontWeight,f.anchor=De.messageAlign,f.valign="center",f.textMargin=De.wrapPadding,f.tspan=!1,va(f.text)?await lb(e,f,{startx:i,stopx:a,starty:r}):V0(e,f);let g=p.width,m;i===a?De.rightAngles?m=e.append("path").attr("d",`M  ${i},${r} H ${i+ot.getMax(De.width/2,g/2)} V ${r+25} H ${i}`):m=e.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(m=e.append("line"),m.attr("x1",i),m.attr("y1",r),m.attr("x2",a),m.attr("y2",r)),u===n.db.LINETYPE.DOTTED||u===n.db.LINETYPE.DOTTED_CROSS||u===n.db.LINETYPE.DOTTED_POINT||u===n.db.LINETYPE.DOTTED_OPEN||u===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let y="";De.arrowMarkerAbsolute&&(y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,y=y.replace(/\(/g,"\\("),y=y.replace(/\)/g,"\\)")),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(u===n.db.LINETYPE.SOLID||u===n.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+y+"#arrowhead)"),(u===n.db.LINETYPE.BIDIRECTIONAL_SOLID||u===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(m.attr("marker-start","url("+y+"#arrowhead)"),m.attr("marker-end","url("+y+"#arrowhead)")),(u===n.db.LINETYPE.SOLID_POINT||u===n.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+y+"#filled-head)"),(u===n.db.LINETYPE.SOLID_CROSS||u===n.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+y+"#crosshead)"),(d||De.showSequenceNumbers)&&(m.attr("marker-start","url("+y+"#sequencenumber)"),e.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(h))},"drawMessage"),BCe=o(function(e,t,r,n,i,a,s){let l=0,u=0,h,d=0;for(let p of n){let f=t.get(p),g=f.box;h&&h!=g&&(s||rt.models.addBox(h),u+=De.boxMargin+h.margin),g&&g!=h&&(s||(g.x=l+u,g.y=i),u+=g.margin),f.width=f.width||De.width,f.height=ot.getMax(f.height||De.height,De.height),f.margin=f.margin||De.actorMargin,d=ot.getMax(d,f.height),r.get(f.name)&&(u+=f.width/2),f.x=l+u,f.starty=rt.getVerticalPos(),rt.insert(f.x,i,f.x+f.width,f.height),l+=f.width+u,f.box&&(f.box.width=l+g.margin-f.box.x),u=f.margin,h=f.box,rt.models.addActor(f)}h&&!s&&rt.models.addBox(h),rt.bumpVerticalPos(d)},"addActorRenderingData"),sT=o(async function(e,t,r,n){if(n){let i=0;rt.bumpVerticalPos(De.boxMargin*2);for(let a of r){let s=t.get(a);s.stopy||(s.stopy=rt.getVerticalPos());let l=await bi.drawActor(e,s,De,!0);i=ot.getMax(i,l)}rt.bumpVerticalPos(i+De.boxMargin)}else for(let i of r){let a=t.get(i);await bi.drawActor(e,a,De,!1)}},"drawActors"),A$=o(function(e,t,r,n){let i=0,a=0;for(let s of r){let l=t.get(s),u=FCe(l),h=bi.drawPopup(e,l,u,De,De.forceMenus,n);h.height>i&&(i=h.height),h.width+l.x>a&&(a=h.width+l.x)}return{maxHeight:i,maxWidth:a}},"drawActorsPopup"),L$=o(function(e){pi(De,e),e.fontFamily&&(De.actorFontFamily=De.noteFontFamily=De.messageFontFamily=e.fontFamily),e.fontSize&&(De.actorFontSize=De.noteFontSize=De.messageFontSize=e.fontSize),e.fontWeight&&(De.actorFontWeight=De.noteFontWeight=De.messageFontWeight=e.fontWeight)},"setConf"),cb=o(function(e){return rt.activations.filter(function(t){return t.actor===e})},"actorActivations"),N$=o(function(e,t){let r=t.get(e),n=cb(e),i=n.reduce(function(s,l){return ot.getMin(s,l.startx)},r.x+r.width/2-1),a=n.reduce(function(s,l){return ot.getMax(s,l.stopx)},r.x+r.width/2+1);return[i,a]},"activationBounds"),o(Al,"adjustLoopHeightForWrap"),o(MCe,"adjustCreatedDestroyedData"),$Ce=o(async function(e,t,r,n){let{securityLevel:i,sequence:a}=we();De=a;let s;i==="sandbox"&&(s=nt("#i"+t));let l=nt(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?s.nodes()[0].contentDocument:document;rt.init(),X.debug(n.db);let h=i==="sandbox"?l.select(`[id="${t}"]`):nt(`[id="${t}"]`),d=n.db.getActors(),p=n.db.getCreatedActors(),f=n.db.getDestroyedActors(),g=n.db.getBoxes(),m=n.db.getActorKeys(),y=n.db.getMessages(),b=n.db.getDiagramTitle(),v=n.db.hasAtLeastOneBox(),x=n.db.hasAtLeastOneBoxWithTitle(),k=await DCe(d,y,n);if(De.height=await RCe(d,k,g),bi.insertComputerIcon(h),bi.insertDatabaseIcon(h),bi.insertClockIcon(h),v&&(rt.bumpVerticalPos(De.boxMargin),x&&rt.bumpVerticalPos(g[0].textMaxHeight)),De.hideUnusedParticipants===!0){let A=new Set;y.forEach($=>{A.add($.from),A.add($.to)}),m=m.filter($=>A.has($))}BCe(h,d,p,m,0,y,!1);let w=await qCe(y,d,k,n);bi.insertArrowHead(h),bi.insertArrowCrossHead(h),bi.insertArrowFilledHead(h),bi.insertSequenceNumber(h);function _(A,$){let F=rt.endActivation(A);F.starty+18>$&&(F.starty=$-6,$+=12),bi.drawActivation(h,F,$,De,cb(A.from).length),rt.insert(F.startx,$-10,F.stopx,$)}o(_,"activeEnd");let S=1,C=1,T=[],N=[],D=0;for(let A of y){let $,F,G;switch(A.type){case n.db.LINETYPE.NOTE:rt.resetVerticalPos(),F=A.noteModel,await OCe(h,F);break;case n.db.LINETYPE.ACTIVE_START:rt.newActivation(A,h,d);break;case n.db.LINETYPE.ACTIVE_END:_(A,rt.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:Al(w,A,De.boxMargin,De.boxMargin+De.boxTextMargin,q=>rt.newLoop(q));break;case n.db.LINETYPE.LOOP_END:$=rt.endLoop(),await bi.drawLoop(h,$,"loop",De),rt.bumpVerticalPos($.stopy-rt.getVerticalPos()),rt.models.addLoop($);break;case n.db.LINETYPE.RECT_START:Al(w,A,De.boxMargin,De.boxMargin,q=>rt.newLoop(void 0,q.message));break;case n.db.LINETYPE.RECT_END:$=rt.endLoop(),N.push($),rt.models.addLoop($),rt.bumpVerticalPos($.stopy-rt.getVerticalPos());break;case n.db.LINETYPE.OPT_START:Al(w,A,De.boxMargin,De.boxMargin+De.boxTextMargin,q=>rt.newLoop(q));break;case n.db.LINETYPE.OPT_END:$=rt.endLoop(),await bi.drawLoop(h,$,"opt",De),rt.bumpVerticalPos($.stopy-rt.getVerticalPos()),rt.models.addLoop($);break;case n.db.LINETYPE.ALT_START:Al(w,A,De.boxMargin,De.boxMargin+De.boxTextMargin,q=>rt.newLoop(q));break;case n.db.LINETYPE.ALT_ELSE:Al(w,A,De.boxMargin+De.boxTextMargin,De.boxMargin,q=>rt.addSectionToLoop(q));break;case n.db.LINETYPE.ALT_END:$=rt.endLoop(),await bi.drawLoop(h,$,"alt",De),rt.bumpVerticalPos($.stopy-rt.getVerticalPos()),rt.models.addLoop($);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:Al(w,A,De.boxMargin,De.boxMargin+De.boxTextMargin,q=>rt.newLoop(q)),rt.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:Al(w,A,De.boxMargin+De.boxTextMargin,De.boxMargin,q=>rt.addSectionToLoop(q));break;case n.db.LINETYPE.PAR_END:$=rt.endLoop(),await bi.drawLoop(h,$,"par",De),rt.bumpVerticalPos($.stopy-rt.getVerticalPos()),rt.models.addLoop($);break;case n.db.LINETYPE.AUTONUMBER:S=A.message.start||S,C=A.message.step||C,A.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:Al(w,A,De.boxMargin,De.boxMargin+De.boxTextMargin,q=>rt.newLoop(q));break;case n.db.LINETYPE.CRITICAL_OPTION:Al(w,A,De.boxMargin+De.boxTextMargin,De.boxMargin,q=>rt.addSectionToLoop(q));break;case n.db.LINETYPE.CRITICAL_END:$=rt.endLoop(),await bi.drawLoop(h,$,"critical",De),rt.bumpVerticalPos($.stopy-rt.getVerticalPos()),rt.models.addLoop($);break;case n.db.LINETYPE.BREAK_START:Al(w,A,De.boxMargin,De.boxMargin+De.boxTextMargin,q=>rt.newLoop(q));break;case n.db.LINETYPE.BREAK_END:$=rt.endLoop(),await bi.drawLoop(h,$,"break",De),rt.bumpVerticalPos($.stopy-rt.getVerticalPos()),rt.models.addLoop($);break;default:try{G=A.msgModel,G.starty=rt.getVerticalPos(),G.sequenceIndex=S,G.sequenceVisible=n.db.showSequenceNumbers();let q=await ICe(h,G);MCe(A,G,q,D,d,p,f),T.push({messageModel:G,lineStartY:q}),rt.models.addMessage(G)}catch(q){X.error("error while drawing message",q)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(A.type)&&(S=S+C),D++}X.debug("createdActors",p),X.debug("destroyedActors",f),await sT(h,d,m,!1);for(let A of T)await PCe(h,A.messageModel,A.lineStartY,n);De.mirrorActors&&await sT(h,d,m,!0),N.forEach(A=>bi.drawBackgroundRect(h,A)),_$(h,d,m,De);for(let A of rt.models.boxes)A.height=rt.getVerticalPos()-A.y,rt.insert(A.x,A.y,A.x+A.width,A.height),A.startx=A.x,A.starty=A.y,A.stopx=A.startx+A.width,A.stopy=A.starty+A.height,A.stroke="rgb(0,0,0, 0.5)",bi.drawBox(h,A,De);v&&rt.bumpVerticalPos(De.boxMargin);let M=A$(h,d,m,u),{bounds:L}=rt.getBounds();L.startx===void 0&&(L.startx=0),L.starty===void 0&&(L.starty=0),L.stopx===void 0&&(L.stopx=0),L.stopy===void 0&&(L.stopy=0);let B=L.stopy-L.starty;B<M.maxHeight&&(B=M.maxHeight);let E=B+2*De.diagramMarginY;De.mirrorActors&&(E=E-De.boxMargin+De.bottomMarginAdj);let R=L.stopx-L.startx;R<M.maxWidth&&(R=M.maxWidth);let O=R+2*De.diagramMarginX;b&&h.append("text").text(b).attr("x",(L.stopx-L.startx)/2-2*De.diagramMarginX).attr("y",-25),ba(h,E,O,De.useMaxWidth);let P=b?40:0;h.attr("viewBox",L.startx-De.diagramMarginX+" -"+(De.diagramMarginY+P)+" "+O+" "+(E+P)),X.debug("models:",rt.models)},"draw"),o(DCe,"getMaxMessageWidthPerActor"),FCe=o(function(e){let t=0,r=aT(De);for(let n in e.links){let i=Ar.calculateTextDimensions(n,r).width+2*De.wrapPadding+2*De.boxMargin;t<i&&(t=i)}return t},"getRequiredPopupWidth"),o(RCe,"calculateActorMargins"),zCe=o(async function(e,t,r){let n=t.get(e.from),i=t.get(e.to),a=n.x,s=i.x,l=e.wrap&&e.message,u=va(e.message)?await r1(e.message,we()):Ar.calculateTextDimensions(l?Ar.wrapLabel(e.message,De.width,X0(De)):e.message,X0(De)),h={width:l?De.width:ot.getMax(De.width,u.width+2*De.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(h.width=l?ot.getMax(De.width,u.width):ot.getMax(n.width/2+i.width/2,u.width+2*De.noteMargin),h.startx=a+(n.width+De.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(h.width=l?ot.getMax(De.width,u.width+2*De.noteMargin):ot.getMax(n.width/2+i.width/2,u.width+2*De.noteMargin),h.startx=a-h.width+(n.width-De.actorMargin)/2):e.to===e.from?(u=Ar.calculateTextDimensions(l?Ar.wrapLabel(e.message,ot.getMax(De.width,n.width),X0(De)):e.message,X0(De)),h.width=l?ot.getMax(De.width,n.width):ot.getMax(n.width,De.width,u.width+2*De.noteMargin),h.startx=a+(n.width-h.width)/2):(h.width=Math.abs(a+n.width/2-(s+i.width/2))+De.actorMargin,h.startx=a<s?a+n.width/2-De.actorMargin/2:s+i.width/2-De.actorMargin/2),l&&(h.message=Ar.wrapLabel(e.message,h.width-2*De.wrapPadding,X0(De))),X.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${e.message}]`),h},"buildNoteModel"),GCe=o(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};let[n,i]=N$(e.from,t),[a,s]=N$(e.to,t),l=n<=a,u=l?i:n,h=l?a:s,d=Math.abs(a-s)>2,p=o(y=>l?-y:y,"adjustValue");e.from===e.to?h=u:(e.activate&&!d&&(h+=p(De.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(h+=p(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(u-=p(3)));let f=[n,i,a,s],g=Math.abs(u-h);e.wrap&&e.message&&(e.message=Ar.wrapLabel(e.message,ot.getMax(g+2*De.wrapPadding,De.width),cd(De)));let m=Ar.calculateTextDimensions(e.message,cd(De));return{width:ot.getMax(e.wrap?0:m.width+2*De.wrapPadding,g+2*De.wrapPadding,De.width),height:0,startx:u,stopx:h,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,f),toBounds:Math.max.apply(null,f)}},"buildMessageModel"),qCe=o(async function(e,t,r,n){let i={},a=[],s,l,u;for(let h of e){switch(h.id=Ar.random({length:10}),h.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:a.push({id:h.id,msg:h.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:h.message&&(s=a.pop(),i[s.id]=s,i[h.id]=s,a.push(s));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:s=a.pop(),i[s.id]=s;break;case n.db.LINETYPE.ACTIVE_START:{let d=t.get(h.from?h.from:h.to.actor),p=cb(h.from?h.from:h.to.actor).length,f=d.x+d.width/2+(p-1)*De.activationWidth/2,g={startx:f,stopx:f+De.activationWidth,actor:h.from,enabled:!0};rt.activations.push(g)}break;case n.db.LINETYPE.ACTIVE_END:{let d=rt.activations.map(p=>p.actor).lastIndexOf(h.from);rt.activations.splice(d,1).splice(0,1)}break}h.placement!==void 0?(l=await zCe(h,t,n),h.noteModel=l,a.forEach(d=>{s=d,s.from=ot.getMin(s.from,l.startx),s.to=ot.getMax(s.to,l.startx+l.width),s.width=ot.getMax(s.width,Math.abs(s.from-s.to))-De.labelBoxWidth})):(u=GCe(h,t,n),h.msgModel=u,u.startx&&u.stopx&&a.length>0&&a.forEach(d=>{if(s=d,u.startx===u.stopx){let p=t.get(h.from),f=t.get(h.to);s.from=ot.getMin(p.x-u.width/2,p.x-p.width/2,s.from),s.to=ot.getMax(f.x+u.width/2,f.x+p.width/2,s.to),s.width=ot.getMax(s.width,Math.abs(s.to-s.from))-De.labelBoxWidth}else s.from=ot.getMin(u.startx,s.from),s.to=ot.getMax(u.stopx,s.to),s.width=ot.getMax(s.width,u.width)-De.labelBoxWidth}))}return rt.activations=[],X.debug("Loop type widths:",i),i},"calculateLoopBounds"),jCe={bounds:rt,drawActors:sT,drawActorsPopup:A$,setConf:L$,draw:$Ce}}),YCe={};Nt(YCe,{diagram:()=>UCe});var UCe,KJe=I(()=>{"use strict";UJe(),HJe(),WJe(),XJe(),UCe={parser:z_e,db:b$,renderer:jCe,styles:hCe,init:o(({wrap:e})=>{b$.setWrap(e)},"init")}}),oT,I$,HCe=I(()=>{"use strict";oT=function(){var e=o(function(ge,ce,ve,J){for(ve=ve||{},J=ge.length;J--;ve[ge[J]]=ce);return ve},"o"),t=[1,18],r=[1,19],n=[1,20],i=[1,41],a=[1,42],s=[1,26],l=[1,24],u=[1,25],h=[1,32],d=[1,33],p=[1,34],f=[1,45],g=[1,35],m=[1,36],y=[1,37],b=[1,38],v=[1,27],x=[1,28],k=[1,29],w=[1,30],_=[1,31],S=[1,44],C=[1,46],T=[1,43],N=[1,47],D=[1,9],M=[1,8,9],L=[1,58],B=[1,59],E=[1,60],R=[1,61],O=[1,62],P=[1,63],A=[1,64],$=[1,8,9,41],F=[1,76],G=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],q=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],W=[13,58,84,99,101,102],re=[13,58,71,72,84,99,101,102],oe=[13,58,66,67,68,69,70,84,99,101,102],te=[1,98],se=[1,115],Y=[1,107],V=[1,113],U=[1,108],ne=[1,109],K=[1,110],fe=[1,111],Q=[1,112],Te=[1,114],ie=[22,58,59,80,84,85,86,87,88,89],Me=[1,8,9,39,41,44],Le=[1,8,9,22],Ie=[1,143],He=[1,8,9,59],We=[1,8,9,22,58,59,80,84,85,86,87,88,89],et={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:o(function(ge,ce,ve,J,Pe,Z,Fe){var ae=Z.length-1;switch(Pe){case 8:this.$=Z[ae-1];break;case 9:case 12:case 14:this.$=Z[ae];break;case 10:case 13:this.$=Z[ae-2]+"."+Z[ae];break;case 11:case 15:this.$=Z[ae-1]+Z[ae];break;case 16:case 17:this.$=Z[ae-1]+"~"+Z[ae]+"~";break;case 18:J.addRelation(Z[ae]);break;case 19:Z[ae-1].title=J.cleanupLabel(Z[ae]),J.addRelation(Z[ae-1]);break;case 30:this.$=Z[ae].trim(),J.setAccTitle(this.$);break;case 31:case 32:this.$=Z[ae].trim(),J.setAccDescription(this.$);break;case 33:J.addClassesToNamespace(Z[ae-3],Z[ae-1]);break;case 34:J.addClassesToNamespace(Z[ae-4],Z[ae-1]);break;case 35:this.$=Z[ae],J.addNamespace(Z[ae]);break;case 36:this.$=[Z[ae]];break;case 37:this.$=[Z[ae-1]];break;case 38:Z[ae].unshift(Z[ae-2]),this.$=Z[ae];break;case 40:J.setCssClass(Z[ae-2],Z[ae]);break;case 41:J.addMembers(Z[ae-3],Z[ae-1]);break;case 42:J.setCssClass(Z[ae-5],Z[ae-3]),J.addMembers(Z[ae-5],Z[ae-1]);break;case 43:this.$=Z[ae],J.addClass(Z[ae]);break;case 44:this.$=Z[ae-1],J.addClass(Z[ae-1]),J.setClassLabel(Z[ae-1],Z[ae]);break;case 45:J.addAnnotation(Z[ae],Z[ae-2]);break;case 46:case 59:this.$=[Z[ae]];break;case 47:Z[ae].push(Z[ae-1]),this.$=Z[ae];break;case 48:break;case 49:J.addMember(Z[ae-1],J.cleanupLabel(Z[ae]));break;case 50:break;case 51:break;case 52:this.$={id1:Z[ae-2],id2:Z[ae],relation:Z[ae-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:Z[ae-3],id2:Z[ae],relation:Z[ae-1],relationTitle1:Z[ae-2],relationTitle2:"none"};break;case 54:this.$={id1:Z[ae-3],id2:Z[ae],relation:Z[ae-2],relationTitle1:"none",relationTitle2:Z[ae-1]};break;case 55:this.$={id1:Z[ae-4],id2:Z[ae],relation:Z[ae-2],relationTitle1:Z[ae-3],relationTitle2:Z[ae-1]};break;case 56:J.addNote(Z[ae],Z[ae-1]);break;case 57:J.addNote(Z[ae]);break;case 58:this.$=Z[ae-2],J.defineClass(Z[ae-1],Z[ae]);break;case 60:this.$=Z[ae-2].concat([Z[ae]]);break;case 61:J.setDirection("TB");break;case 62:J.setDirection("BT");break;case 63:J.setDirection("RL");break;case 64:J.setDirection("LR");break;case 65:this.$={type1:Z[ae-2],type2:Z[ae],lineType:Z[ae-1]};break;case 66:this.$={type1:"none",type2:Z[ae],lineType:Z[ae-1]};break;case 67:this.$={type1:Z[ae-1],type2:"none",lineType:Z[ae]};break;case 68:this.$={type1:"none",type2:"none",lineType:Z[ae]};break;case 69:this.$=J.relationType.AGGREGATION;break;case 70:this.$=J.relationType.EXTENSION;break;case 71:this.$=J.relationType.COMPOSITION;break;case 72:this.$=J.relationType.DEPENDENCY;break;case 73:this.$=J.relationType.LOLLIPOP;break;case 74:this.$=J.lineType.LINE;break;case 75:this.$=J.lineType.DOTTED_LINE;break;case 76:case 82:this.$=Z[ae-2],J.setClickEvent(Z[ae-1],Z[ae]);break;case 77:case 83:this.$=Z[ae-3],J.setClickEvent(Z[ae-2],Z[ae-1]),J.setTooltip(Z[ae-2],Z[ae]);break;case 78:this.$=Z[ae-2],J.setLink(Z[ae-1],Z[ae]);break;case 79:this.$=Z[ae-3],J.setLink(Z[ae-2],Z[ae-1],Z[ae]);break;case 80:this.$=Z[ae-3],J.setLink(Z[ae-2],Z[ae-1]),J.setTooltip(Z[ae-2],Z[ae]);break;case 81:this.$=Z[ae-4],J.setLink(Z[ae-3],Z[ae-2],Z[ae]),J.setTooltip(Z[ae-3],Z[ae-1]);break;case 84:this.$=Z[ae-3],J.setClickEvent(Z[ae-2],Z[ae-1],Z[ae]);break;case 85:this.$=Z[ae-4],J.setClickEvent(Z[ae-3],Z[ae-2],Z[ae-1]),J.setTooltip(Z[ae-3],Z[ae]);break;case 86:this.$=Z[ae-3],J.setLink(Z[ae-2],Z[ae]);break;case 87:this.$=Z[ae-4],J.setLink(Z[ae-3],Z[ae-1],Z[ae]);break;case 88:this.$=Z[ae-4],J.setLink(Z[ae-3],Z[ae-1]),J.setTooltip(Z[ae-3],Z[ae]);break;case 89:this.$=Z[ae-5],J.setLink(Z[ae-4],Z[ae-2],Z[ae]),J.setTooltip(Z[ae-4],Z[ae-1]);break;case 90:this.$=Z[ae-2],J.setCssStyle(Z[ae-1],Z[ae]);break;case 91:J.setCssClass(Z[ae-1],Z[ae]);break;case 92:this.$=[Z[ae]];break;case 93:Z[ae-2].push(Z[ae]),this.$=Z[ae-2];break;case 95:this.$=Z[ae-1]+Z[ae];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:l,50:u,52:h,54:d,55:p,58:f,60:g,61:m,62:y,63:b,73:v,74:x,76:k,80:w,81:_,84:S,99:C,101:T,102:N},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(D,[2,5],{8:[1,48]}),{8:[1,49]},e(M,[2,18],{22:[1,50]}),e(M,[2,20]),e(M,[2,21]),e(M,[2,22]),e(M,[2,23]),e(M,[2,24]),e(M,[2,25]),e(M,[2,26]),e(M,[2,27]),e(M,[2,28]),e(M,[2,29]),{34:[1,51]},{36:[1,52]},e(M,[2,32]),e(M,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:L,67:B,68:E,69:R,70:O,71:P,72:A}),{39:[1,65]},e($,[2,39],{39:[1,67],44:[1,66]}),e(M,[2,50]),e(M,[2,51]),{16:68,58:f,84:S,99:C,101:T},{16:39,18:69,19:40,58:f,84:S,99:C,101:T,102:N},{16:39,18:70,19:40,58:f,84:S,99:C,101:T,102:N},{16:39,18:71,19:40,58:f,84:S,99:C,101:T,102:N},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:f,84:S,99:C,101:T,102:N},{13:F,53:75},{56:77,58:[1,78]},e(M,[2,61]),e(M,[2,62]),e(M,[2,63]),e(M,[2,64]),e(G,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:f,84:S,99:C,101:T,102:N}),e(G,[2,14],{20:[1,82]}),{15:83,16:84,58:f,84:S,99:C,101:T},{16:39,18:85,19:40,58:f,84:S,99:C,101:T,102:N},e(q,[2,118]),e(q,[2,119]),e(q,[2,120]),e(q,[2,121]),e([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),e(D,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:t,35:r,37:n,42:i,46:a,47:s,49:l,50:u,52:h,54:d,55:p,58:f,60:g,61:m,62:y,63:b,73:v,74:x,76:k,80:w,81:_,84:S,99:C,101:T,102:N}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:l,50:u,52:h,54:d,55:p,58:f,60:g,61:m,62:y,63:b,73:v,74:x,76:k,80:w,81:_,84:S,99:C,101:T,102:N},e(M,[2,19]),e(M,[2,30]),e(M,[2,31]),{13:[1,89],16:39,18:88,19:40,58:f,84:S,99:C,101:T,102:N},{51:90,64:56,65:57,66:L,67:B,68:E,69:R,70:O,71:P,72:A},e(M,[2,49]),{65:91,71:P,72:A},e(W,[2,68],{64:92,66:L,67:B,68:E,69:R,70:O}),e(re,[2,69]),e(re,[2,70]),e(re,[2,71]),e(re,[2,72]),e(re,[2,73]),e(oe,[2,74]),e(oe,[2,75]),{8:[1,94],24:95,40:93,43:23,46:a},{16:96,58:f,84:S,99:C,101:T},{45:97,49:te},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:se,57:104,58:Y,80:V,82:105,83:106,84:U,85:ne,86:K,87:fe,88:Q,89:Te},{58:[1,116]},{13:F,53:117},e(M,[2,57]),e(M,[2,123]),{22:se,57:118,58:Y,59:[1,119],80:V,82:105,83:106,84:U,85:ne,86:K,87:fe,88:Q,89:Te},e(ie,[2,59]),{16:39,18:120,19:40,58:f,84:S,99:C,101:T,102:N},e(G,[2,15]),e(G,[2,16]),e(G,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:f,84:S,99:C,101:T},e(Me,[2,43],{11:123,12:[1,124]}),e(D,[2,7]),{9:[1,125]},e(Le,[2,52]),{16:39,18:126,19:40,58:f,84:S,99:C,101:T,102:N},{13:[1,128],16:39,18:127,19:40,58:f,84:S,99:C,101:T,102:N},e(W,[2,67],{64:129,66:L,67:B,68:E,69:R,70:O}),e(W,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:a},{8:[1,132],41:[2,36]},e($,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:te},{16:39,18:136,19:40,58:f,84:S,99:C,101:T,102:N},e(M,[2,76],{13:[1,137]}),e(M,[2,78],{13:[1,139],75:[1,138]}),e(M,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},e(M,[2,90],{59:Ie}),e(He,[2,92],{83:144,22:se,58:Y,80:V,84:U,85:ne,86:K,87:fe,88:Q,89:Te}),e(We,[2,94]),e(We,[2,96]),e(We,[2,97]),e(We,[2,98]),e(We,[2,99]),e(We,[2,100]),e(We,[2,101]),e(We,[2,102]),e(We,[2,103]),e(We,[2,104]),e(M,[2,91]),e(M,[2,56]),e(M,[2,58],{59:Ie}),{58:[1,145]},e(G,[2,13]),{15:146,16:84,58:f,84:S,99:C,101:T},{39:[2,11]},e(Me,[2,44]),{13:[1,147]},{1:[2,4]},e(Le,[2,54]),e(Le,[2,53]),{16:39,18:148,19:40,58:f,84:S,99:C,101:T,102:N},e(W,[2,65]),e(M,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:a},{45:151,49:te},e($,[2,41]),{41:[2,47]},e(M,[2,45]),e(M,[2,77]),e(M,[2,79]),e(M,[2,80],{75:[1,152]}),e(M,[2,83]),e(M,[2,84],{13:[1,153]}),e(M,[2,86],{13:[1,155],75:[1,154]}),{22:se,58:Y,80:V,82:156,83:106,84:U,85:ne,86:K,87:fe,88:Q,89:Te},e(We,[2,95]),e(ie,[2,60]),{39:[2,10]},{14:[1,157]},e(Le,[2,55]),e(M,[2,34]),{41:[2,38]},{41:[1,158]},e(M,[2,81]),e(M,[2,85]),e(M,[2,87]),e(M,[2,88],{75:[1,159]}),e(He,[2,93],{83:144,22:se,58:Y,80:V,84:U,85:ne,86:K,87:fe,88:Q,89:Te}),e(Me,[2,8]),e($,[2,42]),e(M,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:o(function(ge,ce){if(ce.recoverable)this.trace(ge);else{var ve=new Error(ge);throw ve.hash=ce,ve}},"parseError"),parse:o(function(ge){var ce=this,ve=[0],J=[],Pe=[null],Z=[],Fe=this.table,ae="",pe=0,_e=0,Se=0,Re=2,ke=1,Xe=Z.slice.call(arguments,1),Oe=Object.create(this.lexer),lt={yy:{}};for(var Dt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Dt)&&(lt.yy[Dt]=this.yy[Dt]);Oe.setInput(ge,lt.yy),lt.yy.lexer=Oe,lt.yy.parser=this,typeof Oe.yylloc>"u"&&(Oe.yylloc={});var _t=Oe.yylloc;Z.push(_t);var gt=Oe.options&&Oe.options.ranges;typeof lt.yy.parseError=="function"?this.parseError=lt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Pt(Ir){ve.length=ve.length-2*Ir,Pe.length=Pe.length-Ir,Z.length=Z.length-Ir}o(Pt,"popStack");function st(){var Ir;return Ir=J.pop()||Oe.lex()||ke,typeof Ir!="number"&&(Ir instanceof Array&&(J=Ir,Ir=J.pop()),Ir=ce.symbols_[Ir]||Ir),Ir}o(st,"lex");for(var Qe,Ke,It,tt,Zt,jt,pt={},dt,it,Gt,Tt;;){if(It=ve[ve.length-1],this.defaultActions[It]?tt=this.defaultActions[It]:((Qe===null||typeof Qe>"u")&&(Qe=st()),tt=Fe[It]&&Fe[It][Qe]),typeof tt>"u"||!tt.length||!tt[0]){var hn="";Tt=[];for(dt in Fe[It])this.terminals_[dt]&&dt>Re&&Tt.push("'"+this.terminals_[dt]+"'");Oe.showPosition?hn="Parse error on line "+(pe+1)+`:
`+Oe.showPosition()+`
Expecting `+Tt.join(", ")+", got '"+(this.terminals_[Qe]||Qe)+"'":hn="Parse error on line "+(pe+1)+": Unexpected "+(Qe==ke?"end of input":"'"+(this.terminals_[Qe]||Qe)+"'"),this.parseError(hn,{text:Oe.match,token:this.terminals_[Qe]||Qe,line:Oe.yylineno,loc:_t,expected:Tt})}if(tt[0]instanceof Array&&tt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+It+", token: "+Qe);switch(tt[0]){case 1:ve.push(Qe),Pe.push(Oe.yytext),Z.push(Oe.yylloc),ve.push(tt[1]),Qe=null,Ke?(Qe=Ke,Ke=null):(_e=Oe.yyleng,ae=Oe.yytext,pe=Oe.yylineno,_t=Oe.yylloc,Se>0&&Se--);break;case 2:if(it=this.productions_[tt[1]][1],pt.$=Pe[Pe.length-it],pt._$={first_line:Z[Z.length-(it||1)].first_line,last_line:Z[Z.length-1].last_line,first_column:Z[Z.length-(it||1)].first_column,last_column:Z[Z.length-1].last_column},gt&&(pt._$.range=[Z[Z.length-(it||1)].range[0],Z[Z.length-1].range[1]]),jt=this.performAction.apply(pt,[ae,_e,pe,lt.yy,tt[1],Pe,Z].concat(Xe)),typeof jt<"u")return jt;it&&(ve=ve.slice(0,-1*it*2),Pe=Pe.slice(0,-1*it),Z=Z.slice(0,-1*it)),ve.push(this.productions_[tt[1]][0]),Pe.push(pt.$),Z.push(pt._$),Gt=Fe[ve[ve.length-2]][ve[ve.length-1]],ve.push(Gt);break;case 3:return!0}}return!0},"parse")},Ze=function(){var ge={EOF:1,parseError:o(function(ce,ve){if(this.yy.parser)this.yy.parser.parseError(ce,ve);else throw new Error(ce)},"parseError"),setInput:o(function(ce,ve){return this.yy=ve||this.yy||{},this._input=ce,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var ce=this._input[0];this.yytext+=ce,this.yyleng++,this.offset++,this.match+=ce,this.matched+=ce;var ve=ce.match(/(?:\r\n?|\n).*/g);return ve?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ce},"input"),unput:o(function(ce){var ve=ce.length,J=ce.split(/(?:\r\n?|\n)/g);this._input=ce+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ve),this.offset-=ve;var Pe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===Pe.length?this.yylloc.first_column:0)+Pe[Pe.length-J.length].length-J[0].length:this.yylloc.first_column-ve},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-ve]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(ce){this.unput(this.match.slice(ce))},"less"),pastInput:o(function(){var ce=this.matched.substr(0,this.matched.length-this.match.length);return(ce.length>20?"...":"")+ce.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var ce=this.match;return ce.length<20&&(ce+=this._input.substr(0,20-ce.length)),(ce.substr(0,20)+(ce.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var ce=this.pastInput(),ve=new Array(ce.length+1).join("-");return ce+this.upcomingInput()+`
`+ve+"^"},"showPosition"),test_match:o(function(ce,ve){var J,Pe,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),Pe=ce[0].match(/(?:\r\n?|\n).*/g),Pe&&(this.yylineno+=Pe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Pe?Pe[Pe.length-1].length-Pe[Pe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ce[0].length},this.yytext+=ce[0],this.match+=ce[0],this.matches=ce,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ce[0].length),this.matched+=ce[0],J=this.performAction.call(this,this.yy,this,ve,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var Fe in Z)this[Fe]=Z[Fe];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ce,ve,J,Pe;this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),Fe=0;Fe<Z.length;Fe++)if(J=this._input.match(this.rules[Z[Fe]]),J&&(!ve||J[0].length>ve[0].length)){if(ve=J,Pe=Fe,this.options.backtrack_lexer){if(ce=this.test_match(J,Z[Fe]),ce!==!1)return ce;if(this._backtrack){ve=!1;continue}else return!1}else if(!this.options.flex)break}return ve?(ce=this.test_match(ve,Z[Pe]),ce!==!1?ce:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var ce=this.next();return ce||this.lex()},"lex"),begin:o(function(ce){this.conditionStack.push(ce)},"begin"),popState:o(function(){var ce=this.conditionStack.length-1;return ce>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(ce){return ce=this.conditionStack.length-1-Math.abs(ce||0),ce>=0?this.conditionStack[ce]:"INITIAL"},"topState"),pushState:o(function(ce){this.begin(ce)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(ce,ve,J,Pe){var Z=Pe;switch(J){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 22:this.popState();break;case 23:return 78;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 75;case 65:return 75;case 66:return 75;case 67:return 75;case 68:return 67;case 69:return 67;case 70:return 69;case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:return 88;case 85:return 88;case 86:return 89;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:return 87;case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return ge}();et.lexer=Ze;function H(){this.yy={}}return o(H,"Parser"),H.prototype=et,et.Parser=H,new H}(),oT.parser=oT,I$=oT}),M$,D$,ZJe=I(()=>{"use strict";tr(),Pr(),M$=["#","+","~","-",""],D$=class{static{o(this,"ClassMember")}constructor(e,t){this.memberType=t,this.visibility="",this.classifier="",this.text="";let r=En(e,we());this.parseMember(r)}getDisplayDetails(){let e=this.visibility+sh(this.id);this.memberType==="method"&&(e+=`(${sh(this.parameters.trim())})`,this.returnType&&(e+=" : "+sh(this.returnType))),e=e.trim();let t=this.parseClassifier();return{displayText:e,cssStyle:t}}parseMember(e){let t="";if(this.memberType==="method"){let n=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(n){let i=n[1]?n[1].trim():"";if(M$.includes(i)&&(this.visibility=i),this.id=n[2],this.parameters=n[3]?n[3].trim():"",t=n[4]?n[4].trim():"",this.returnType=n[5]?n[5].trim():"",t===""){let a=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(a)&&(t=a,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{let n=e.length,i=e.substring(0,1),a=e.substring(n-1);M$.includes(i)&&(this.visibility=i),/[$*]/.exec(a)&&(t=a),this.id=e.substring(this.visibility===""?0:1,t===""?n:n-1)}this.classifier=t,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let r=`${this.visibility?"\\"+this.visibility:""}${sh(this.id)}${this.memberType==="method"?`(${sh(this.parameters)})${this.returnType?" : "+sh(this.returnType):""}`:""}`;this.text=r.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}}});function R$(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}var ub,hb,On,O$,rf,K0,P$,Bo,lT,nf,ud,hd,WCe,Z0,B$,$$,VCe,XCe,KCe,ZCe,QCe,JCe,eSe,F$,tSe,rSe,nSe,cT,iSe,aSe,sSe,oSe,lSe,cSe,uSe,hSe,Iu,z$,uT,G$,dSe,pSe,gSe,fSe,mSe,ySe,vSe,db,bSe=I(()=>{"use strict";Fr(),Ye(),tr(),Pr(),Dr(),Hi(),ZJe(),ub="classId-",hb=[],On=new Map,O$=new Map,rf=[],K0=[],P$=0,Bo=new Map,lT=0,nf=[],ud=o(e=>ot.sanitizeText(e,we()),"sanitizeText"),hd=o(function(e){let t=ot.sanitizeText(e,we()),r="",n=t;if(t.indexOf("~")>0){let i=t.split("~");n=ud(i[0]),r=ud(i[1])}return{className:n,type:r}},"splitClassNameAndType"),WCe=o(function(e,t){let r=ot.sanitizeText(e,we());t&&(t=ud(t));let{className:n}=hd(r);On.get(n).label=t,On.get(n).text=`${t}${On.get(n).type?`<${On.get(n).type}>`:""}`},"setClassLabel"),Z0=o(function(e){let t=ot.sanitizeText(e,we()),{className:r,type:n}=hd(t);if(On.has(r))return;let i=ot.sanitizeText(r,we());On.set(i,{id:i,type:n,label:i,text:`${i}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:ub+i+"-"+P$}),P$++},"addClass"),B$=o(function(e,t){let r={id:`interface${K0.length}`,label:e,classId:t};K0.push(r)},"addInterface"),$$=o(function(e){let t=ot.sanitizeText(e,we());if(On.has(t))return On.get(t).domId;throw new Error("Class not found: "+t)},"lookUpDomId"),VCe=o(function(){hb=[],On=new Map,rf=[],K0=[],nf=[],nf.push(z$),Bo=new Map,lT=0,uT="TB",Yi()},"clear"),XCe=o(function(e){return On.get(e)},"getClass"),KCe=o(function(){return On},"getClasses"),ZCe=o(function(){return hb},"getRelations"),QCe=o(function(){return rf},"getNotes"),JCe=o(function(e){X.debug("Adding relation: "+JSON.stringify(e));let t=[Iu.LOLLIPOP,Iu.AGGREGATION,Iu.COMPOSITION,Iu.DEPENDENCY,Iu.EXTENSION];e.relation.type1===Iu.LOLLIPOP&&!t.includes(e.relation.type2)?(Z0(e.id2),B$(e.id1,e.id2),e.id1=`interface${K0.length-1}`):e.relation.type2===Iu.LOLLIPOP&&!t.includes(e.relation.type1)?(Z0(e.id1),B$(e.id2,e.id1),e.id2=`interface${K0.length-1}`):(Z0(e.id1),Z0(e.id2)),e.id1=hd(e.id1).className,e.id2=hd(e.id2).className,e.relationTitle1=ot.sanitizeText(e.relationTitle1.trim(),we()),e.relationTitle2=ot.sanitizeText(e.relationTitle2.trim(),we()),hb.push(e)},"addRelation"),eSe=o(function(e,t){let r=hd(e).className;On.get(r).annotations.push(t)},"addAnnotation"),F$=o(function(e,t){Z0(e);let r=hd(e).className,n=On.get(r);if(typeof t=="string"){let i=t.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(ud(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(new D$(i,"method")):i&&n.members.push(new D$(i,"attribute"))}},"addMember"),tSe=o(function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>F$(e,r)))},"addMembers"),rSe=o(function(e,t){let r={id:`note${rf.length}`,class:t,text:e};rf.push(r)},"addNote"),nSe=o(function(e){return e.startsWith(":")&&(e=e.substring(1)),ud(e.trim())},"cleanupLabel"),cT=o(function(e,t){e.split(",").forEach(function(r){let n=r;/\d/.exec(r[0])&&(n=ub+n);let i=On.get(n);i&&(i.cssClasses+=" "+t)})},"setCssClass"),iSe=o(function(e,t){for(let r of e){let n=O$.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},O$.set(r,n)),t&&t.forEach(function(i){if(/color/.exec(i)){let a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)}),On.forEach(i=>{i.cssClasses.includes(r)&&i.styles.push(...t.flatMap(a=>a.split(",")))})}},"defineClass"),aSe=o(function(e,t){e.split(",").forEach(function(r){t!==void 0&&(On.get(r).tooltip=ud(t))})},"setTooltip"),sSe=o(function(e,t){return t&&Bo.has(t)?Bo.get(t).classes.get(e).tooltip:On.get(e).tooltip},"getTooltip"),oSe=o(function(e,t,r){let n=we();e.split(",").forEach(function(i){let a=i;/\d/.exec(i[0])&&(a=ub+a);let s=On.get(a);s&&(s.link=Ar.formatUrl(t,n),n.securityLevel==="sandbox"?s.linkTarget="_top":typeof r=="string"?s.linkTarget=ud(r):s.linkTarget="_blank")}),cT(e,"clickable")},"setLink"),lSe=o(function(e,t,r){e.split(",").forEach(function(n){cSe(n,t,r),On.get(n).haveCallback=!0}),cT(e,"clickable")},"setClickEvent"),cSe=o(function(e,t,r){let n=ot.sanitizeText(e,we());if(we().securityLevel!=="loose"||t===void 0)return;let i=n;if(On.has(i)){let a=$$(i),s=[];if(typeof r=="string"){s=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<s.length;l++){let u=s[l].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),s[l]=u}}s.length===0&&s.push(a),nf.push(function(){let l=document.querySelector(`[id="${a}"]`);l!==null&&l.addEventListener("click",function(){Ar.runFunc(t,...s)},!1)})}},"setClickFunc"),uSe=o(function(e){nf.forEach(function(t){t(e)})},"bindFunctions"),hSe={LINE:0,DOTTED_LINE:1},Iu={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},z$=o(function(e){let t=nt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=nt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),nt(e).select("svg").selectAll("g.node").on("mouseover",function(){let r=nt(this);if(r.attr("title")===null)return;let n=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(r.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),r.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),nt(this).classed("hover",!1)})},"setupToolTips"),nf.push(z$),uT="TB",G$=o(()=>uT,"getDirection"),dSe=o(e=>{uT=e},"setDirection"),pSe=o(function(e){Bo.has(e)||(Bo.set(e,{id:e,classes:new Map,children:{},domId:ub+e+"-"+lT}),lT++)},"addNamespace"),gSe=o(function(e){return Bo.get(e)},"getNamespace"),fSe=o(function(){return Bo},"getNamespaces"),mSe=o(function(e,t){if(Bo.has(e))for(let r of t){let{className:n}=hd(r);On.get(n).parent=e,Bo.get(e).classes.set(n,On.get(n))}},"addClassesToNamespace"),ySe=o(function(e,t){let r=On.get(e);if(!(!t||!r))for(let n of t)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)},"setCssStyle"),o(R$,"getArrowMarker"),vSe=o(()=>{let e=[],t=[],r=we();for(let i of Bo.keys()){let a=Bo.get(i);if(a){let s={id:a.id,label:a.id,isGroup:!0,padding:r.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:r.look};e.push(s)}}for(let i of On.keys()){let a=On.get(i);if(a){let s=a;s.parentId=a.parent,s.look=r.look,e.push(s)}}let n=0;for(let i of rf){n++;let a={id:i.id,label:i.text,isGroup:!1,shape:"note",padding:r.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${r.themeVariables.noteBkgColor}`,`stroke: ${r.themeVariables.noteBorderColor}`],look:r.look};e.push(a);let s=On.get(i.class)?.id??"";if(s){let l={id:`edgeNote${n}`,start:i.id,end:s,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:r.look};t.push(l)}}for(let i of K0){let a={id:i.id,label:i.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:r.look};e.push(a)}n=0;for(let i of hb){n++;let a={id:F9(i.id1,i.id2,{prefix:"id",counter:n}),start:i.id1,end:i.id2,type:"normal",label:i.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:R$(i.relation.type1),arrowTypeEnd:R$(i.relation.type2),startLabelRight:i.relationTitle1==="none"?"":i.relationTitle1,endLabelLeft:i.relationTitle2==="none"?"":i.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:i.style||"",pattern:i.relation.lineType==1?"dashed":"solid",look:r.look};t.push(a)}return{nodes:e,edges:t,other:{},config:r,direction:G$()}},"getData"),db={setAccTitle:Ui,getAccTitle:ea,getAccDescription:ra,setAccDescription:ta,getConfig:o(()=>we().class,"getConfig"),addClass:Z0,bindFunctions:uSe,clear:VCe,getClass:XCe,getClasses:KCe,getNotes:QCe,addAnnotation:eSe,addNote:rSe,getRelations:ZCe,addRelation:JCe,getDirection:G$,setDirection:dSe,addMember:F$,addMembers:tSe,cleanupLabel:nSe,lineType:hSe,relationType:Iu,setClickEvent:lSe,setCssClass:cT,defineClass:iSe,setLink:oSe,getTooltip:sSe,setTooltip:aSe,lookUpDomId:$$,setDiagramTitle:za,getDiagramTitle:na,setClassLabel:WCe,addNamespace:pSe,addClassesToNamespace:mSe,getNamespace:gSe,getNamespaces:fSe,setCssStyle:ySe,getData:vSe}}),xSe,q$,kSe=I(()=>{"use strict";xSe=o(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),q$=xSe}),wSe,TSe,ESe,j$,_Se=I(()=>{"use strict";tr(),Ye(),NN(),iw(),KM(),Dr(),wSe=o((e,t="TB")=>{if(!e.doc)return t;let r=t;for(let n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),TSe=o(function(e,t){return t.db.getClasses()},"getClasses"),ESe=o(async function(e,t,r,n){X.info("REF0:"),X.info("Drawing class diagram (v3)",t);let{securityLevel:i,state:a,layout:s}=we(),l=n.db.getData(),u=mk(t,i);l.type=n.type,l.layoutAlgorithm=XM(s),l.nodeSpacing=a?.nodeSpacing||50,l.rankSpacing=a?.rankSpacing||50,l.markers=["aggregation","extension","composition","dependency","lollipop"],l.diagramId=t,await nw(l,u),Ar.insertTitle(u,"classDiagramTitleText",a?.titleTopMargin??25,n.db.getDiagramTitle()),aw(u,8,"classDiagram",a?.useMaxWidth??!0)},"draw"),j$={getClasses:TSe,draw:ESe,getDir:wSe}}),CSe={};Nt(CSe,{diagram:()=>SSe});var SSe,QJe=I(()=>{"use strict";HCe(),bSe(),kSe(),_Se(),SSe={parser:I$,db,renderer:j$,styles:q$,init:o(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,db.clear()},"init")}}),ASe={};Nt(ASe,{diagram:()=>LSe});var LSe,JJe=I(()=>{"use strict";HCe(),bSe(),kSe(),_Se(),LSe={parser:I$,db,renderer:j$,styles:q$,init:o(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,db.clear()},"init")}}),hT,Y$,NSe=I(()=>{"use strict";hT=function(){var e=o(function(A,$,F,G){for(F=F||{},G=A.length;G--;F[A[G]]=$);return F},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],l=[1,16],u=[1,17],h=[1,18],d=[1,19],p=[1,32],f=[1,20],g=[1,21],m=[1,22],y=[1,23],b=[1,24],v=[1,26],x=[1,27],k=[1,28],w=[1,29],_=[1,30],S=[1,31],C=[1,34],T=[1,35],N=[1,36],D=[1,37],M=[1,33],L=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],B=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],E=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],R={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:o(function(A,$,F,G,q,W,re){var oe=W.length-1;switch(q){case 3:return G.setRootDoc(W[oe]),W[oe];case 4:this.$=[];break;case 5:W[oe]!="nl"&&(W[oe-1].push(W[oe]),this.$=W[oe-1]);break;case 6:case 7:this.$=W[oe];break;case 8:this.$="nl";break;case 12:this.$=W[oe];break;case 13:let V=W[oe-1];V.description=G.trimColon(W[oe]),this.$=V;break;case 14:this.$={stmt:"relation",state1:W[oe-2],state2:W[oe]};break;case 15:let U=G.trimColon(W[oe]);this.$={stmt:"relation",state1:W[oe-3],state2:W[oe-1],description:U};break;case 19:this.$={stmt:"state",id:W[oe-3],type:"default",description:"",doc:W[oe-1]};break;case 20:var te=W[oe],se=W[oe-2].trim();if(W[oe].match(":")){var Y=W[oe].split(":");te=Y[0],se=[se,Y[1]]}this.$={stmt:"state",id:te,type:"default",description:se};break;case 21:this.$={stmt:"state",id:W[oe-3],type:"default",description:W[oe-5],doc:W[oe-1]};break;case 22:this.$={stmt:"state",id:W[oe],type:"fork"};break;case 23:this.$={stmt:"state",id:W[oe],type:"join"};break;case 24:this.$={stmt:"state",id:W[oe],type:"choice"};break;case 25:this.$={stmt:"state",id:G.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:W[oe-1].trim(),note:{position:W[oe-2].trim(),text:W[oe].trim()}};break;case 29:this.$=W[oe].trim(),G.setAccTitle(this.$);break;case 30:case 31:this.$=W[oe].trim(),G.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:W[oe-1].trim(),classes:W[oe].trim()};break;case 34:this.$={stmt:"style",id:W[oe-1].trim(),styleClass:W[oe].trim()};break;case 35:this.$={stmt:"applyClass",id:W[oe-1].trim(),styleClass:W[oe].trim()};break;case 36:G.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:G.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:G.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:G.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:W[oe].trim(),type:"default",description:""};break;case 44:this.$={stmt:"state",id:W[oe-2].trim(),classes:[W[oe].trim()],type:"default",description:""};break;case 45:this.$={stmt:"state",id:W[oe-2].trim(),classes:[W[oe].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:l,17:u,19:h,22:d,24:p,25:f,26:g,27:m,28:y,29:b,32:25,33:v,35:x,37:k,38:w,42:_,45:S,48:C,49:T,50:N,51:D,54:M},e(L,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:l,17:u,19:h,22:d,24:p,25:f,26:g,27:m,28:y,29:b,32:25,33:v,35:x,37:k,38:w,42:_,45:S,48:C,49:T,50:N,51:D,54:M},e(L,[2,7]),e(L,[2,8]),e(L,[2,9]),e(L,[2,10]),e(L,[2,11]),e(L,[2,12],{14:[1,39],15:[1,40]}),e(L,[2,16]),{18:[1,41]},e(L,[2,18],{20:[1,42]}),{23:[1,43]},e(L,[2,22]),e(L,[2,23]),e(L,[2,24]),e(L,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},e(L,[2,28]),{34:[1,48]},{36:[1,49]},e(L,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},e(B,[2,42],{55:[1,54]}),e(B,[2,43],{55:[1,55]}),e(L,[2,36]),e(L,[2,37]),e(L,[2,38]),e(L,[2,39]),e(L,[2,6]),e(L,[2,13]),{13:56,24:p,54:M},e(L,[2,17]),e(E,i,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},e(L,[2,29]),e(L,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},e(L,[2,14],{14:[1,67]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:l,17:u,19:h,21:[1,68],22:d,24:p,25:f,26:g,27:m,28:y,29:b,32:25,33:v,35:x,37:k,38:w,42:_,45:S,48:C,49:T,50:N,51:D,54:M},e(L,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},e(L,[2,32]),e(L,[2,33]),e(L,[2,34]),e(L,[2,35]),e(B,[2,44]),e(B,[2,45]),e(L,[2,15]),e(L,[2,19]),e(E,i,{7:72}),e(L,[2,26]),e(L,[2,27]),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:l,17:u,19:h,21:[1,73],22:d,24:p,25:f,26:g,27:m,28:y,29:b,32:25,33:v,35:x,37:k,38:w,42:_,45:S,48:C,49:T,50:N,51:D,54:M},e(L,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:o(function(A,$){if($.recoverable)this.trace(A);else{var F=new Error(A);throw F.hash=$,F}},"parseError"),parse:o(function(A){var $=this,F=[0],G=[],q=[null],W=[],re=this.table,oe="",te=0,se=0,Y=0,V=2,U=1,ne=W.slice.call(arguments,1),K=Object.create(this.lexer),fe={yy:{}};for(var Q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Q)&&(fe.yy[Q]=this.yy[Q]);K.setInput(A,fe.yy),fe.yy.lexer=K,fe.yy.parser=this,typeof K.yylloc>"u"&&(K.yylloc={});var Te=K.yylloc;W.push(Te);var ie=K.options&&K.options.ranges;typeof fe.yy.parseError=="function"?this.parseError=fe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Me(Fe){F.length=F.length-2*Fe,q.length=q.length-Fe,W.length=W.length-Fe}o(Me,"popStack");function Le(){var Fe;return Fe=G.pop()||K.lex()||U,typeof Fe!="number"&&(Fe instanceof Array&&(G=Fe,Fe=G.pop()),Fe=$.symbols_[Fe]||Fe),Fe}o(Le,"lex");for(var Ie,He,We,et,Ze,H,ge={},ce,ve,J,Pe;;){if(We=F[F.length-1],this.defaultActions[We]?et=this.defaultActions[We]:((Ie===null||typeof Ie>"u")&&(Ie=Le()),et=re[We]&&re[We][Ie]),typeof et>"u"||!et.length||!et[0]){var Z="";Pe=[];for(ce in re[We])this.terminals_[ce]&&ce>V&&Pe.push("'"+this.terminals_[ce]+"'");K.showPosition?Z="Parse error on line "+(te+1)+`:
`+K.showPosition()+`
Expecting `+Pe.join(", ")+", got '"+(this.terminals_[Ie]||Ie)+"'":Z="Parse error on line "+(te+1)+": Unexpected "+(Ie==U?"end of input":"'"+(this.terminals_[Ie]||Ie)+"'"),this.parseError(Z,{text:K.match,token:this.terminals_[Ie]||Ie,line:K.yylineno,loc:Te,expected:Pe})}if(et[0]instanceof Array&&et.length>1)throw new Error("Parse Error: multiple actions possible at state: "+We+", token: "+Ie);switch(et[0]){case 1:F.push(Ie),q.push(K.yytext),W.push(K.yylloc),F.push(et[1]),Ie=null,He?(Ie=He,He=null):(se=K.yyleng,oe=K.yytext,te=K.yylineno,Te=K.yylloc,Y>0&&Y--);break;case 2:if(ve=this.productions_[et[1]][1],ge.$=q[q.length-ve],ge._$={first_line:W[W.length-(ve||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-(ve||1)].first_column,last_column:W[W.length-1].last_column},ie&&(ge._$.range=[W[W.length-(ve||1)].range[0],W[W.length-1].range[1]]),H=this.performAction.apply(ge,[oe,se,te,fe.yy,et[1],q,W].concat(ne)),typeof H<"u")return H;ve&&(F=F.slice(0,-1*ve*2),q=q.slice(0,-1*ve),W=W.slice(0,-1*ve)),F.push(this.productions_[et[1]][0]),q.push(ge.$),W.push(ge._$),J=re[F[F.length-2]][F[F.length-1]],F.push(J);break;case 3:return!0}}return!0},"parse")},O=function(){var A={EOF:1,parseError:o(function($,F){if(this.yy.parser)this.yy.parser.parseError($,F);else throw new Error($)},"parseError"),setInput:o(function($,F){return this.yy=F||this.yy||{},this._input=$,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var $=this._input[0];this.yytext+=$,this.yyleng++,this.offset++,this.match+=$,this.matched+=$;var F=$.match(/(?:\r\n?|\n).*/g);return F?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),$},"input"),unput:o(function($){var F=$.length,G=$.split(/(?:\r\n?|\n)/g);this._input=$+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-F),this.offset-=F;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),G.length-1&&(this.yylineno-=G.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:G?(G.length===q.length?this.yylloc.first_column:0)+q[q.length-G.length].length-G[0].length:this.yylloc.first_column-F},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-F]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function($){this.unput(this.match.slice($))},"less"),pastInput:o(function(){var $=this.matched.substr(0,this.matched.length-this.match.length);return($.length>20?"...":"")+$.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var $=this.match;return $.length<20&&($+=this._input.substr(0,20-$.length)),($.substr(0,20)+($.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var $=this.pastInput(),F=new Array($.length+1).join("-");return $+this.upcomingInput()+`
`+F+"^"},"showPosition"),test_match:o(function($,F){var G,q,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),q=$[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+$[0].length},this.yytext+=$[0],this.match+=$[0],this.matches=$,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice($[0].length),this.matched+=$[0],G=this.performAction.call(this,this.yy,this,F,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),G)return G;if(this._backtrack){for(var re in W)this[re]=W[re];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var $,F,G,q;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),re=0;re<W.length;re++)if(G=this._input.match(this.rules[W[re]]),G&&(!F||G[0].length>F[0].length)){if(F=G,q=re,this.options.backtrack_lexer){if($=this.test_match(G,W[re]),$!==!1)return $;if(this._backtrack){F=!1;continue}else return!1}else if(!this.options.flex)break}return F?($=this.test_match(F,W[q]),$!==!1?$:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var $=this.next();return $||this.lex()},"lex"),begin:o(function($){this.conditionStack.push($)},"begin"),popState:o(function(){var $=this.conditionStack.length-1;return $>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function($){return $=this.conditionStack.length-1-Math.abs($||0),$>=0?this.conditionStack[$]:"INITIAL"},"topState"),pushState:o(function($){this.begin($)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function($,F,G,q){var W=q;switch(G){case 0:return 41;case 1:return 48;case 2:return 49;case 3:return 50;case 4:return 51;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),17;case 13:return 18;case 14:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 32:return this.pushState("SCALE"),17;case 33:return 18;case 34:this.popState();break;case 35:this.pushState("STATE");break;case 36:return this.popState(),F.yytext=F.yytext.slice(0,-8).trim(),25;case 37:return this.popState(),F.yytext=F.yytext.slice(0,-8).trim(),26;case 38:return this.popState(),F.yytext=F.yytext.slice(0,-10).trim(),27;case 39:return this.popState(),F.yytext=F.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),F.yytext=F.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),F.yytext=F.yytext.slice(0,-10).trim(),27;case 42:return 48;case 43:return 49;case 44:return 50;case 45:return 51;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:return this.popState(),"ID";case 49:this.popState();break;case 50:return"STATE_DESCR";case 51:return 19;case 52:this.popState();break;case 53:return this.popState(),this.pushState("struct"),20;case 54:break;case 55:return this.popState(),21;case 56:break;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 62:break;case 63:return"NOTE_TEXT";case 64:return this.popState(),"ID";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),F.yytext=F.yytext.substr(2).trim(),31;case 67:return this.popState(),F.yytext=F.yytext.slice(0,-8).trim(),31;case 68:return 6;case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return F.yytext=F.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 77:return 5;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return A}();R.lexer=O;function P(){this.yy={}}return o(P,"Parser"),P.prototype=R,R.Parser=P,new P}(),hT.parser=hT,Y$=hT}),ISe,U$,pb,dT,MSe,DSe,RSe,af,H$,W$,V$,X$,K$,Z$,pT,gT,OSe,PSe,Q$,J$,BSe,$Se,sf,FSe,zSe,eF,GSe,qSe,jSe,YSe,USe,HSe,WSe,VSe,tF,rF,XSe,fT,KSe,nF,iF=I(()=>{"use strict";ISe="LR",U$="TB",pb="state",dT="relation",MSe="classDef",DSe="style",RSe="applyClass",af="default",H$="divider",W$="fill:none",V$="fill: #333",X$="c",K$="text",Z$="normal",pT="rect",gT="rectWithTitle",OSe="stateStart",PSe="stateEnd",Q$="divider",J$="roundedWithTitle",BSe="note",$Se="noteGroup",sf="statediagram",FSe="state",zSe=`${sf}-${FSe}`,eF="transition",GSe="note",qSe="note-edge",jSe=`${eF} ${qSe}`,YSe=`${sf}-${GSe}`,USe="cluster",HSe=`${sf}-${USe}`,WSe="cluster-alt",VSe=`${sf}-${WSe}`,tF="parent",rF="note",XSe="state",fT="----",KSe=`${fT}${rF}`,nF=`${fT}${tF}`});function mT(e="",t=0,r="",n=fT){let i=r!==null&&r.length>0?`${n}${r}`:"";return`${XSe}-${e}${i}-${t}`}function gb(e,t,r){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(i=>{if(r.get(i)){let a=r.get(i);t.cssCompiledStyles=[...t.cssCompiledStyles,...a.styles]}}));let n=e.find(i=>i.id===t.id);n?Object.assign(n,t):e.push(t)}function ZSe(e){return e?.classes?.join(" ")??""}function QSe(e){return e?.styles??[]}var fb,Mu,JSe,aF,of,eAe,eet=I(()=>{"use strict";tr(),Ye(),Pr(),iF(),fb=new Map,Mu=0,o(mT,"stateDomId"),JSe=o((e,t,r,n,i,a,s,l)=>{X.trace("items",t),t.forEach(u=>{switch(u.stmt){case pb:of(e,u,r,n,i,a,s,l);break;case af:of(e,u,r,n,i,a,s,l);break;case dT:{of(e,u.state1,r,n,i,a,s,l),of(e,u.state2,r,n,i,a,s,l);let h={id:"edge"+Mu,start:u.state1.id,end:u.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:W$,labelStyle:"",label:ot.sanitizeText(u.description,we()),arrowheadStyle:V$,labelpos:X$,labelType:K$,thickness:Z$,classes:eF,look:s};i.push(h),Mu++}break}})},"setupDoc"),aF=o((e,t=U$)=>{let r=t;if(e.doc)for(let n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),o(gb,"insertOrUpdateNode"),o(ZSe,"getClassesFromDbInfo"),o(QSe,"getStylesFromDbInfo"),of=o((e,t,r,n,i,a,s,l)=>{let u=t.id,h=r.get(u),d=ZSe(h),p=QSe(h);if(X.info("dataFetcher parsedItem",t,h,p),u!=="root"){let f=pT;t.start===!0?f=OSe:t.start===!1&&(f=PSe),t.type!==af&&(f=t.type),fb.get(u)||fb.set(u,{id:u,shape:f,description:ot.sanitizeText(u,we()),cssClasses:`${d} ${zSe}`,cssStyles:p});let g=fb.get(u);t.description&&(Array.isArray(g.description)?(g.shape=gT,g.description.push(t.description)):g.description?.length>0?(g.shape=gT,g.description===u?g.description=[t.description]:g.description=[g.description,t.description]):(g.shape=pT,g.description=t.description),g.description=ot.sanitizeTextOrArray(g.description,we())),g.description?.length===1&&g.shape===gT&&(g.type==="group"?g.shape=J$:g.shape=pT),!g.type&&t.doc&&(X.info("Setting cluster for XCX",u,aF(t)),g.type="group",g.isGroup=!0,g.dir=aF(t),g.shape=t.type===H$?Q$:J$,g.cssClasses=`${g.cssClasses} ${HSe} ${a?VSe:""}`);let m={labelStyle:"",shape:g.shape,label:g.description,cssClasses:g.cssClasses,cssCompiledStyles:[],cssStyles:g.cssStyles,id:u,dir:g.dir,domId:mT(u,Mu),type:g.type,isGroup:g.type==="group",padding:8,rx:10,ry:10,look:s};if(m.shape===Q$&&(m.label=""),e&&e.id!=="root"&&(X.trace("Setting node ",u," to be child of its parent ",e.id),m.parentId=e.id),m.centerLabel=!0,t.note){let y={labelStyle:"",shape:BSe,label:t.note.text,cssClasses:YSe,cssStyles:[],cssCompilesStyles:[],id:u+KSe+"-"+Mu,domId:mT(u,Mu,rF),type:g.type,isGroup:g.type==="group",padding:we().flowchart.padding,look:s,position:t.note.position},b=u+nF,v={labelStyle:"",shape:$Se,label:t.note.text,cssClasses:g.cssClasses,cssStyles:[],id:u+nF,domId:mT(u,Mu,tF),type:"group",isGroup:!0,padding:16,look:s,position:t.note.position};Mu++,v.id=b,y.parentId=b,gb(n,v,l),gb(n,y,l),gb(n,m,l);let x=u,k=y.id;t.note.position==="left of"&&(x=y.id,k=u),i.push({id:x+"-"+k,start:x,end:k,arrowhead:"none",arrowTypeEnd:"",style:W$,labelStyle:"",classes:jSe,arrowheadStyle:V$,labelpos:X$,labelType:K$,thickness:Z$,look:s})}else gb(n,m,l)}t.doc&&(X.trace("Adding nodes children "),JSe(t,t.doc,r,n,i,!a,s,l))},"dataFetcher"),eAe=o(()=>{fb.clear(),Mu=0},"reset")}),sF,tAe,rAe,nAe,iAe=I(()=>{"use strict";tr(),Ye(),NN(),iw(),KM(),Dr(),iF(),sF=o((e,t=U$)=>{if(!e.doc)return t;let r=t;for(let n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),tAe=o(function(e,t){return t.db.extract(t.db.getRootDocV2()),t.db.getClasses()},"getClasses"),rAe=o(async function(e,t,r,n){X.info("REF0:"),X.info("Drawing state diagram (v2)",t);let{securityLevel:i,state:a,layout:s}=we();n.db.extract(n.db.getRootDocV2());let l=n.db.getData(),u=mk(t,i);l.type=n.type,l.layoutAlgorithm=s,l.nodeSpacing=a?.nodeSpacing||50,l.rankSpacing=a?.rankSpacing||50,l.markers=["barb"],l.diagramId=t,await nw(l,u),Ar.insertTitle(u,"statediagramTitleText",a?.titleTopMargin??25,n.db.getDiagramTitle()),aw(u,8,sf,a?.useMaxWidth??!0)},"draw"),nAe={getClasses:tAe,draw:rAe,getDir:sF}});function oF(){return new Map}function yT(e=""){let t=e;return e===bT&&(lf++,t=`${lF}${lf}`),t}function vT(e="",t=af){return e===bT?lF:t}function aAe(e=""){let t=e;return e===cF&&(lf++,t=`${uF}${lf}`),t}function sAe(e="",t=af){return e===cF?uF:t}function oAe(e,t,r){let n=yT(e.id.trim()),i=vT(e.id.trim(),e.type),a=yT(t.id.trim()),s=vT(t.id.trim(),t.type);Du(n,i,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),Du(a,s,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),ps.relations.push({id1:n,id2:a,relationTitle:ot.sanitizeText(r,we())})}var bT,lF,cF,uF,hF,dF,lAe,cAe,mb,xT,pF,yb,Q0,gF,vb,ps,lf,fF,uAe,hAe,bb,dAe,pAe,xb,kT,gAe,Du,mF,dd,yF,fAe,mAe,vF,wT,yAe,vAe,bF,bAe,TT,xAe,kAe,wAe,TAe,EAe,_Ae,wc,xF=I(()=>{"use strict";Ye(),Dr(),Pr(),tr(),Hi(),eet(),iAe(),iF(),bT="[*]",lF="start",cF=bT,uF="end",hF="color",dF="fill",lAe="bgFill",cAe=",",o(oF,"newClassesList"),mb=[],xT=[],pF=ISe,yb=[],Q0=oF(),gF=o(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),vb={root:gF()},ps=vb.root,lf=0,fF=0,uAe={LINE:0,DOTTED_LINE:1},hAe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},bb=o(e=>JSON.parse(JSON.stringify(e)),"clone"),dAe=o(e=>{X.info("Setting root doc",e),yb=e},"setRootDoc"),pAe=o(()=>yb,"getRootDoc"),xb=o((e,t,r)=>{if(t.stmt===dT)xb(e,t.state1,!0),xb(e,t.state2,!1);else if(t.stmt===pb&&(t.id==="[*]"?(t.id=r?e.id+"_start":e.id+"_end",t.start=r):t.id=t.id.trim()),t.doc){let n=[],i=[],a;for(a=0;a<t.doc.length;a++)if(t.doc[a].type===H$){let s=bb(t.doc[a]);s.doc=bb(i),n.push(s),i=[]}else i.push(t.doc[a]);if(n.length>0&&i.length>0){let s={stmt:pb,id:P9(),type:"divider",doc:bb(i)};n.push(bb(s)),t.doc=n}t.doc.forEach(s=>xb(t,s,!0))}},"docTranslator"),kT=o(()=>(xb({id:"root"},{id:"root",doc:yb},!0),{id:"root",doc:yb}),"getRootDocV2"),gAe=o(e=>{let t;e.doc?t=e.doc:t=e,X.info(t),mF(!0),X.info("Extract initial document:",t),t.forEach(i=>{switch(X.warn("Statement",i.stmt),i.stmt){case pb:Du(i.id.trim(),i.type,i.doc,i.description,i.note,i.classes,i.styles,i.textStyles);break;case dT:vF(i.state1,i.state2,i.description);break;case MSe:bF(i.id.trim(),i.classes);break;case DSe:{let a=i.id.trim().split(","),s=i.styleClass.split(",");a.forEach(l=>{let u=dd(l);if(u===void 0){let h=l.trim();Du(h),u=dd(h)}u.styles=s.map(h=>h.replace(/;/g,"")?.trim())})}break;case RSe:TT(i.id.trim(),i.styleClass);break}});let r=yF(),n=we().look;eAe(),of(void 0,kT(),r,mb,xT,!0,n,Q0),mb.forEach(i=>{if(Array.isArray(i.label)){if(i.description=i.label.slice(1),i.isGroup&&i.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+i.id+"]");i.label=i.label[0]}})},"extract"),Du=o(function(e,t=af,r=null,n=null,i=null,a=null,s=null,l=null){let u=e?.trim();if(ps.states.has(u)?(ps.states.get(u).doc||(ps.states.get(u).doc=r),ps.states.get(u).type||(ps.states.get(u).type=t)):(X.info("Adding state ",u,n),ps.states.set(u,{id:u,descriptions:[],type:t,doc:r,note:i,classes:[],styles:[],textStyles:[]})),n&&(X.info("Setting state description",u,n),typeof n=="string"&&wT(u,n.trim()),typeof n=="object"&&n.forEach(h=>wT(u,h.trim()))),i){let h=ps.states.get(u);h.note=i,h.note.text=ot.sanitizeText(h.note.text,we())}a&&(X.info("Setting state classes",u,a),(typeof a=="string"?[a]:a).forEach(h=>TT(u,h.trim()))),s&&(X.info("Setting state styles",u,s),(typeof s=="string"?[s]:s).forEach(h=>xAe(u,h.trim()))),l&&(X.info("Setting state styles",u,s),(typeof l=="string"?[l]:l).forEach(h=>kAe(u,h.trim())))},"addState"),mF=o(function(e){mb=[],xT=[],vb={root:gF()},ps=vb.root,lf=0,Q0=oF(),e||Yi()},"clear"),dd=o(function(e){return ps.states.get(e)},"getState"),yF=o(function(){return ps.states},"getStates"),fAe=o(function(){X.info("Documents = ",vb)},"logDocuments"),mAe=o(function(){return ps.relations},"getRelations"),o(yT,"startIdIfNeeded"),o(vT,"startTypeIfNeeded"),o(aAe,"endIdIfNeeded"),o(sAe,"endTypeIfNeeded"),o(oAe,"addRelationObjs"),vF=o(function(e,t,r){if(typeof e=="object")oAe(e,t,r);else{let n=yT(e.trim()),i=vT(e),a=aAe(t.trim()),s=sAe(t);Du(n,i),Du(a,s),ps.relations.push({id1:n,id2:a,title:ot.sanitizeText(r,we())})}},"addRelation"),wT=o(function(e,t){let r=ps.states.get(e),n=t.startsWith(":")?t.replace(":","").trim():t;r.descriptions.push(ot.sanitizeText(n,we()))},"addDescription"),yAe=o(function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},"cleanupLabel"),vAe=o(()=>(fF++,"divider-id-"+fF),"getDividerId"),bF=o(function(e,t=""){Q0.has(e)||Q0.set(e,{id:e,styles:[],textStyles:[]});let r=Q0.get(e);t?.split(cAe).forEach(n=>{let i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(hF).exec(n)){let a=i.replace(dF,lAe).replace(hF,dF);r.textStyles.push(a)}r.styles.push(i)})},"addStyleClass"),bAe=o(function(){return Q0},"getClasses"),TT=o(function(e,t){e.split(",").forEach(function(r){let n=dd(r);if(n===void 0){let i=r.trim();Du(i),n=dd(i)}n.classes.push(t)})},"setCssClass"),xAe=o(function(e,t){let r=dd(e);r!==void 0&&r.styles.push(t)},"setStyle"),kAe=o(function(e,t){let r=dd(e);r!==void 0&&r.textStyles.push(t)},"setTextStyle"),wAe=o(()=>pF,"getDirection"),TAe=o(e=>{pF=e},"setDirection"),EAe=o(e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),"trimColon"),_Ae=o(()=>{let e=we();return{nodes:mb,edges:xT,other:{},config:e,direction:sF(kT())}},"getData"),wc={getConfig:o(()=>we().state,"getConfig"),getData:_Ae,addState:Du,clear:mF,getState:dd,getStates:yF,getRelations:mAe,getClasses:bAe,getDirection:wAe,addRelation:vF,getDividerId:vAe,setDirection:TAe,cleanupLabel:yAe,lineType:uAe,relationType:hAe,logDocuments:fAe,getRootDoc:pAe,setRootDoc:dAe,getRootDocV2:kT,extract:gAe,trimColon:EAe,getAccTitle:ea,setAccTitle:Ui,getAccDescription:ra,setAccDescription:ta,addStyleClass:bF,setCssClass:TT,addDescription:wT,setDiagramTitle:za,getDiagramTitle:na}}),CAe,kF,SAe=I(()=>{"use strict";CAe=o(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),kF=CAe}),ET,AAe,LAe,wF,NAe,IAe,tet=I(()=>{"use strict";ET={},AAe=o((e,t)=>{ET[e]=t},"set"),LAe=o(e=>ET[e],"get"),wF=o(()=>Object.keys(ET),"keys"),NAe=o(()=>wF().length,"size"),IAe={get:LAe,set:AAe,keys:wF,size:NAe}}),MAe,DAe,RAe,OAe,PAe,BAe,$Ae,FAe,zAe,TF,EF,GAe,ret=I(()=>{"use strict";Fr(),tet(),xF(),Dr(),Pr(),tr(),Ye(),MAe=o(e=>e.append("circle").attr("class","start-state").attr("r",we().state.sizeUnit).attr("cx",we().state.padding+we().state.sizeUnit).attr("cy",we().state.padding+we().state.sizeUnit),"drawStartState"),DAe=o(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",we().state.textHeight).attr("class","divider").attr("x2",we().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),RAe=o((e,t)=>{let r=e.append("text").attr("x",2*we().state.padding).attr("y",we().state.textHeight+2*we().state.padding).attr("font-size",we().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",we().state.padding).attr("y",we().state.padding).attr("width",n.width+2*we().state.padding).attr("height",n.height+2*we().state.padding).attr("rx",we().state.radius),r},"drawSimpleState"),OAe=o((e,t)=>{let r=o(function(p,f,g){let m=p.append("tspan").attr("x",2*we().state.padding).text(f);g||m.attr("dy",we().state.textHeight)},"addTspan"),n=e.append("text").attr("x",2*we().state.padding).attr("y",we().state.textHeight+1.3*we().state.padding).attr("font-size",we().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),i=n.height,a=e.append("text").attr("x",we().state.padding).attr("y",i+we().state.padding*.4+we().state.dividerMargin+we().state.textHeight).attr("class","state-description"),s=!0,l=!0;t.descriptions.forEach(function(p){s||(r(a,p,l),l=!1),s=!1});let u=e.append("line").attr("x1",we().state.padding).attr("y1",we().state.padding+i+we().state.dividerMargin/2).attr("y2",we().state.padding+i+we().state.dividerMargin/2).attr("class","descr-divider"),h=a.node().getBBox(),d=Math.max(h.width,n.width);return u.attr("x2",d+3*we().state.padding),e.insert("rect",":first-child").attr("x",we().state.padding).attr("y",we().state.padding).attr("width",d+2*we().state.padding).attr("height",h.height+i+2*we().state.padding).attr("rx",we().state.radius),e},"drawDescrState"),PAe=o((e,t,r)=>{let n=we().state.padding,i=2*we().state.padding,a=e.node().getBBox(),s=a.width,l=a.x,u=e.append("text").attr("x",0).attr("y",we().state.titleShift).attr("font-size",we().state.fontSize).attr("class","state-title").text(t.id),h=u.node().getBBox().width+i,d=Math.max(h,s);d===s&&(d=d+i);let p,f=e.node().getBBox();t.doc,p=l-n,h>s&&(p=(s-d)/2+n),Math.abs(l-f.x)<n&&h>s&&(p=l-(h-s)/2);let g=1-we().state.textHeight;return e.insert("rect",":first-child").attr("x",p).attr("y",g).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",f.height+we().state.textHeight+we().state.titleShift+1).attr("rx","0"),u.attr("x",p+n),h<=s&&u.attr("x",l+(d-i)/2-h/2+n),e.insert("rect",":first-child").attr("x",p).attr("y",we().state.titleShift-we().state.textHeight-we().state.padding).attr("width",d).attr("height",we().state.textHeight*3).attr("rx",we().state.radius),e.insert("rect",":first-child").attr("x",p).attr("y",we().state.titleShift-we().state.textHeight-we().state.padding).attr("width",d).attr("height",f.height+3+2*we().state.textHeight).attr("rx",we().state.radius),e},"addTitleAndBox"),BAe=o(e=>(e.append("circle").attr("class","end-state-outer").attr("r",we().state.sizeUnit+we().state.miniPadding).attr("cx",we().state.padding+we().state.sizeUnit+we().state.miniPadding).attr("cy",we().state.padding+we().state.sizeUnit+we().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",we().state.sizeUnit).attr("cx",we().state.padding+we().state.sizeUnit+2).attr("cy",we().state.padding+we().state.sizeUnit+2)),"drawEndState"),$Ae=o((e,t)=>{let r=we().state.forkWidth,n=we().state.forkHeight;if(t.parentId){let i=r;r=n,n=i}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",we().state.padding).attr("y",we().state.padding)},"drawForkJoinState"),FAe=o((e,t,r,n)=>{let i=0,a=n.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=e.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");let l=s.split(ot.lineBreakRegex),u=1.25*we().state.noteMargin;for(let h of l){let d=h.trim();if(d.length>0){let p=a.append("tspan");if(p.text(d),u===0){let f=p.node().getBBox();u+=f.height}i+=u,p.attr("x",t+we().state.noteMargin),p.attr("y",r+i+1.25*we().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}},"_drawLongText"),zAe=o((e,t)=>{t.attr("class","state-note");let r=t.append("rect").attr("x",0).attr("y",we().state.padding),n=t.append("g"),{textWidth:i,textHeight:a}=FAe(e,0,0,n);return r.attr("height",a+2*we().state.noteMargin),r.attr("width",i+we().state.noteMargin*2),r},"drawNote"),TF=o(function(e,t){let r=t.id,n={id:r,label:t.id,width:0,height:0},i=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&MAe(i),t.type==="end"&&BAe(i),(t.type==="fork"||t.type==="join")&&$Ae(i,t),t.type==="note"&&zAe(t.note.text,i),t.type==="divider"&&DAe(i),t.type==="default"&&t.descriptions.length===0&&RAe(i,t),t.type==="default"&&t.descriptions.length>0&&OAe(i,t);let a=i.node().getBBox();return n.width=a.width+2*we().state.padding,n.height=a.height+2*we().state.padding,IAe.set(r,n),n},"drawState"),EF=0,GAe=o(function(e,t,r){let n=o(function(u){switch(u){case wc.relationType.AGGREGATION:return"aggregation";case wc.relationType.EXTENSION:return"extension";case wc.relationType.COMPOSITION:return"composition";case wc.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(u=>!Number.isNaN(u.y));let i=t.points,a=bh().x(function(u){return u.x}).y(function(u){return u.y}).curve(T1),s=e.append("path").attr("d",a(i)).attr("id","edge"+EF).attr("class","transition"),l="";if(we().state.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),s.attr("marker-end","url("+l+"#"+n(wc.relationType.DEPENDENCY)+"End)"),r.title!==void 0){let u=e.append("g").attr("class","stateLabel"),{x:h,y:d}=Ar.calcLabelPosition(t.points),p=ot.getRows(r.title),f=0,g=[],m=0,y=0;for(let x=0;x<=p.length;x++){let k=u.append("text").attr("text-anchor","middle").text(p[x]).attr("x",h).attr("y",d+f),w=k.node().getBBox();m=Math.max(m,w.width),y=Math.min(y,w.x),X.info(w.x,h,d+f),f===0&&(f=k.node().getBBox().height,X.info("Title height",f,d)),g.push(k)}let b=f*p.length;if(p.length>1){let x=(p.length-1)*f*.5;g.forEach((k,w)=>k.attr("y",d+w*f-x)),b=f*p.length}let v=u.node().getBBox();u.insert("rect",":first-child").attr("class","box").attr("x",h-m/2-we().state.padding/2).attr("y",d-b/2-we().state.padding/2-3.5).attr("width",m+we().state.padding).attr("height",b+we().state.padding),X.info(v)}EF++},"drawEdge")}),so,_T,qAe,jAe,YAe,UAe,_F,HAe,net=I(()=>{"use strict";Fr(),rw(),eo(),Ye(),Pr(),ret(),tr(),wi(),_T={},qAe=o(function(){},"setConf"),jAe=o(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),YAe=o(function(e,t,r,n){so=we().state;let i=we().securityLevel,a;i==="sandbox"&&(a=nt("#i"+t));let s=nt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?a.nodes()[0].contentDocument:document;X.debug("Rendering diagram "+e);let u=s.select(`[id='${t}']`);jAe(u);let h=n.db.getRootDoc();_F(h,u,void 0,!1,s,l,n);let d=so.padding,p=u.node().getBBox(),f=p.width+d*2,g=p.height+d*2,m=f*1.75;ba(u,g,m,so.useMaxWidth),u.attr("viewBox",`${p.x-so.padding}  ${p.y-so.padding} `+f+" "+g)},"draw"),UAe=o(e=>e?e.length*so.fontSizeFactor:1,"getLabelWidth"),_F=o((e,t,r,n,i,a,s)=>{let l=new Ca({compound:!0,multigraph:!0}),u,h=!0;for(u=0;u<e.length;u++)if(e[u].stmt==="relation"){h=!1;break}r?l.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:h?1:so.edgeLengthFactor,nodeSep:h?1:50,isMultiGraph:!0}):l.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:h?1:so.edgeLengthFactor,nodeSep:h?1:50,ranker:"tight-tree",isMultiGraph:!0}),l.setDefaultEdgeLabel(function(){return{}}),s.db.extract(e);let d=s.db.getStates(),p=s.db.getRelations(),f=Object.keys(d),g=!0;for(let x of f){let k=d[x];r&&(k.parentId=r);let w;if(k.doc){let _=t.append("g").attr("id",k.id).attr("class","stateGroup");if(w=_F(k.doc,_,k.id,!n,i,a,s),g){_=PAe(_,k,n);let S=_.node().getBBox();w.width=S.width,w.height=S.height+so.padding/2,_T[k.id]={y:so.compositTitleSize}}else{let S=_.node().getBBox();w.width=S.width,w.height=S.height}}else w=TF(t,k,l);if(k.note){let _={descriptions:[],id:k.id+"-note",note:k.note,type:"note"},S=TF(t,_,l);k.note.position==="left of"?(l.setNode(w.id+"-note",S),l.setNode(w.id,w)):(l.setNode(w.id,w),l.setNode(w.id+"-note",S)),l.setParent(w.id,w.id+"-group"),l.setParent(w.id+"-note",w.id+"-group")}else l.setNode(w.id,w)}X.debug("Count=",l.nodeCount(),l);let m=0;p.forEach(function(x){m++,X.debug("Setting edge",x),l.setEdge(x.id1,x.id2,{relation:x,width:UAe(x.title),height:so.labelHeight*ot.getRows(x.title).length,labelpos:"c"},"id"+m)}),Y2(l),X.debug("Graph after layout",l.nodes());let y=t.node();l.nodes().forEach(function(x){x!==void 0&&l.node(x)!==void 0?(X.warn("Node "+x+": "+JSON.stringify(l.node(x))),i.select("#"+y.id+" #"+x).attr("transform","translate("+(l.node(x).x-l.node(x).width/2)+","+(l.node(x).y+(_T[x]?_T[x].y:0)-l.node(x).height/2)+" )"),i.select("#"+y.id+" #"+x).attr("data-x-shift",l.node(x).x-l.node(x).width/2),a.querySelectorAll("#"+y.id+" #"+x+" .divider").forEach(k=>{let w=k.parentElement,_=0,S=0;w&&(w.parentElement&&(_=w.parentElement.getBBox().width),S=parseInt(w.getAttribute("data-x-shift"),10),Number.isNaN(S)&&(S=0)),k.setAttribute("x1",0-S+8),k.setAttribute("x2",_-S-8)})):X.debug("No Node "+x+": "+JSON.stringify(l.node(x)))});let b=y.getBBox();l.edges().forEach(function(x){x!==void 0&&l.edge(x)!==void 0&&(X.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(l.edge(x))),GAe(t,l.edge(x),l.edge(x).relation))}),b=y.getBBox();let v={id:r||"root",label:r||"root",width:0,height:0};return v.width=b.width+2*so.padding,v.height=b.height+2*so.padding,X.debug("Doc rendered",v,l),v},"renderDoc"),HAe={setConf:qAe,draw:YAe}}),WAe={};Nt(WAe,{diagram:()=>VAe});var VAe,iet=I(()=>{"use strict";NSe(),xF(),SAe(),net(),VAe={parser:Y$,db:wc,renderer:HAe,styles:kF,init:o(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,wc.clear()},"init")}}),XAe={};Nt(XAe,{diagram:()=>KAe});var KAe,aet=I(()=>{"use strict";NSe(),xF(),SAe(),iAe(),KAe={parser:Y$,db:wc,renderer:nAe,styles:kF,init:o(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,wc.clear()},"init")}}),CT,ZAe,set=I(()=>{"use strict";CT=function(){var e=o(function(p,f,g,m){for(g=g||{},m=p.length;m--;g[p[m]]=f);return g},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],l=[1,14],u={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:o(function(p,f,g,m,y,b,v){var x=b.length-1;switch(y){case 1:return b[x-1];case 2:this.$=[];break;case 3:b[x-1].push(b[x]),this.$=b[x-1];break;case 4:case 5:this.$=b[x];break;case 6:case 7:this.$=[];break;case 8:m.setDiagramTitle(b[x].substr(6)),this.$=b[x].substr(6);break;case 9:this.$=b[x].trim(),m.setAccTitle(this.$);break;case 10:case 11:this.$=b[x].trim(),m.setAccDescription(this.$);break;case 12:m.addSection(b[x].substr(8)),this.$=b[x].substr(8);break;case 13:m.addTask(b[x-1],b[x]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:l},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:n,14:i,16:a,17:s,18:l},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:o(function(p,f){if(f.recoverable)this.trace(p);else{var g=new Error(p);throw g.hash=f,g}},"parseError"),parse:o(function(p){var f=this,g=[0],m=[],y=[null],b=[],v=this.table,x="",k=0,w=0,_=0,S=2,C=1,T=b.slice.call(arguments,1),N=Object.create(this.lexer),D={yy:{}};for(var M in this.yy)Object.prototype.hasOwnProperty.call(this.yy,M)&&(D.yy[M]=this.yy[M]);N.setInput(p,D.yy),D.yy.lexer=N,D.yy.parser=this,typeof N.yylloc>"u"&&(N.yylloc={});var L=N.yylloc;b.push(L);var B=N.options&&N.options.ranges;typeof D.yy.parseError=="function"?this.parseError=D.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function E(Y){g.length=g.length-2*Y,y.length=y.length-Y,b.length=b.length-Y}o(E,"popStack");function R(){var Y;return Y=m.pop()||N.lex()||C,typeof Y!="number"&&(Y instanceof Array&&(m=Y,Y=m.pop()),Y=f.symbols_[Y]||Y),Y}o(R,"lex");for(var O,P,A,$,F,G,q={},W,re,oe,te;;){if(A=g[g.length-1],this.defaultActions[A]?$=this.defaultActions[A]:((O===null||typeof O>"u")&&(O=R()),$=v[A]&&v[A][O]),typeof $>"u"||!$.length||!$[0]){var se="";te=[];for(W in v[A])this.terminals_[W]&&W>S&&te.push("'"+this.terminals_[W]+"'");N.showPosition?se="Parse error on line "+(k+1)+`:
`+N.showPosition()+`
Expecting `+te.join(", ")+", got '"+(this.terminals_[O]||O)+"'":se="Parse error on line "+(k+1)+": Unexpected "+(O==C?"end of input":"'"+(this.terminals_[O]||O)+"'"),this.parseError(se,{text:N.match,token:this.terminals_[O]||O,line:N.yylineno,loc:L,expected:te})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+A+", token: "+O);switch($[0]){case 1:g.push(O),y.push(N.yytext),b.push(N.yylloc),g.push($[1]),O=null,P?(O=P,P=null):(w=N.yyleng,x=N.yytext,k=N.yylineno,L=N.yylloc,_>0&&_--);break;case 2:if(re=this.productions_[$[1]][1],q.$=y[y.length-re],q._$={first_line:b[b.length-(re||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(re||1)].first_column,last_column:b[b.length-1].last_column},B&&(q._$.range=[b[b.length-(re||1)].range[0],b[b.length-1].range[1]]),G=this.performAction.apply(q,[x,w,k,D.yy,$[1],y,b].concat(T)),typeof G<"u")return G;re&&(g=g.slice(0,-1*re*2),y=y.slice(0,-1*re),b=b.slice(0,-1*re)),g.push(this.productions_[$[1]][0]),y.push(q.$),b.push(q._$),oe=v[g[g.length-2]][g[g.length-1]],g.push(oe);break;case 3:return!0}}return!0},"parse")},h=function(){var p={EOF:1,parseError:o(function(f,g){if(this.yy.parser)this.yy.parser.parseError(f,g);else throw new Error(f)},"parseError"),setInput:o(function(f,g){return this.yy=g||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var g=f.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},"input"),unput:o(function(f){var g=f.length,m=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var b=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===y.length?this.yylloc.first_column:0)+y[y.length-m.length].length-m[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(f){this.unput(this.match.slice(f))},"less"),pastInput:o(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var f=this.pastInput(),g=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+g+"^"},"showPosition"),test_match:o(function(f,g){var m,y,b;if(this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(b.yylloc.range=this.yylloc.range.slice(0))),y=f[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],m=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var v in b)this[v]=b[v];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var f,g,m,y;this._more||(this.yytext="",this.match="");for(var b=this._currentRules(),v=0;v<b.length;v++)if(m=this._input.match(this.rules[b[v]]),m&&(!g||m[0].length>g[0].length)){if(g=m,y=v,this.options.backtrack_lexer){if(f=this.test_match(m,b[v]),f!==!1)return f;if(this._backtrack){g=!1;continue}else return!1}else if(!this.options.flex)break}return g?(f=this.test_match(g,b[y]),f!==!1?f:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var f=this.next();return f||this.lex()},"lex"),begin:o(function(f){this.conditionStack.push(f)},"begin"),popState:o(function(){var f=this.conditionStack.length-1;return f>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(f){return f=this.conditionStack.length-1-Math.abs(f||0),f>=0?this.conditionStack[f]:"INITIAL"},"topState"),pushState:o(function(f){this.begin(f)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(f,g,m,y){var b=y;switch(m){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return p}();u.lexer=h;function d(){this.yy={}}return o(d,"Parser"),d.prototype=u,u.Parser=d,new d}(),CT.parser=CT,ZAe=CT}),J0,ST,cf,uf,QAe,JAe,e9e,t9e,r9e,n9e,i9e,CF,a9e,SF,oet=I(()=>{"use strict";tr(),Hi(),J0="",ST=[],cf=[],uf=[],QAe=o(function(){ST.length=0,cf.length=0,J0="",uf.length=0,Yi()},"clear"),JAe=o(function(e){J0=e,ST.push(e)},"addSection"),e9e=o(function(){return ST},"getSections"),t9e=o(function(){let e=CF(),t=100,r=0;for(;!e&&r<t;)e=CF(),r++;return cf.push(...uf),cf},"getTasks"),r9e=o(function(){let e=[];return cf.forEach(t=>{t.people&&e.push(...t.people)}),[...new Set(e)].sort()},"updateActors"),n9e=o(function(e,t){let r=t.substr(1).split(":"),n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));let a=i.map(l=>l.trim()),s={section:J0,type:J0,people:a,task:e,score:n};uf.push(s)},"addTask"),i9e=o(function(e){let t={section:J0,type:J0,description:e,task:e,classes:[]};cf.push(t)},"addTaskOrg"),CF=o(function(){let e=o(function(r){return uf[r].processed},"compileTask"),t=!0;for(let[r,n]of uf.entries())e(r),t=t&&n.processed;return t},"compileTasks"),a9e=o(function(){return r9e()},"getActors"),SF={getConfig:o(()=>we().journey,"getConfig"),clear:QAe,setDiagramTitle:za,getDiagramTitle:na,setAccTitle:Ui,getAccTitle:ea,setAccDescription:ta,getAccDescription:ra,addSection:JAe,getSections:e9e,getTasks:t9e,addTask:n9e,addTaskOrg:i9e,getActors:a9e}}),s9e,o9e,cet=I(()=>{"use strict";s9e=o(e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles"),o9e=s9e}),AT,l9e,AF,LF,c9e,u9e,NF,h9e,d9e,IF,p9e,hf,uet=I(()=>{"use strict";Fr(),Q3(),AT=o(function(e,t){return Ly(e,t)},"drawRect"),l9e=o(function(e,t){let r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),n=e.append("g");n.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),n.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function i(l){let u=r0().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}o(i,"smile");function a(l){let u=r0().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}o(a,"sad");function s(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return o(s,"ambivalent"),t.score>3?i(n):t.score<3?a(n):s(n),r},"drawFace"),AF=o(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),LF=o(function(e,t){return hte(e,t)},"drawText"),c9e=o(function(e,t){function r(i,a,s,l,u){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+l-u)+" "+(i+s-u*1.2)+","+(a+l)+" "+i+","+(a+l)}o(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,LF(e,t)},"drawLabel"),u9e=o(function(e,t,r){let n=e.append("g"),i=xh();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,AT(n,i),IF(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),NF=-1,h9e=o(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");NF++;let a=300+5*30;i.append("line").attr("id","task"+NF).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),l9e(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let s=xh();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,AT(i,s);let l=t.x+14;t.people.forEach(u=>{let h=t.actors[u].color,d={cx:l,cy:t.y,r:7,fill:h,stroke:"#000",title:u,pos:t.actors[u].position};AF(i,d),l+=10}),IF(r)(t.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,t.colour)},"drawTask"),d9e=o(function(e,t){YA(e,t)},"drawBackgroundRect"),IF=function(){function e(i,a,s,l,u,h,d,p){let f=a.append("text").attr("x",s+u/2).attr("y",l+h/2+5).style("font-color",p).style("text-anchor","middle").text(i);n(f,d)}o(e,"byText");function t(i,a,s,l,u,h,d,p,f){let{taskFontSize:g,taskFontFamily:m}=p,y=i.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){let v=b*g-g*(y.length-1)/2,x=a.append("text").attr("x",s+u/2).attr("y",l).attr("fill",f).style("text-anchor","middle").style("font-size",g).style("font-family",m);x.append("tspan").attr("x",s+u/2).attr("dy",v).text(y[b]),x.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,d)}}o(t,"byTspan");function r(i,a,s,l,u,h,d,p){let f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,l,u,h,d,p),n(g,d)}o(r,"byFo");function n(i,a){for(let s in a)s in a&&i.attr(s,a[s])}return o(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),p9e=o(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),hf={drawRect:AT,drawCircle:AF,drawSection:u9e,drawText:LF,drawLabel:c9e,drawTask:h9e,drawBackgroundRect:d9e,initGraphics:p9e}});function g9e(e){let t=we().journey,r=60;Object.keys(Tc).forEach(n=>{let i=Tc[n].color,a={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:Tc[n].position};hf.drawCircle(e,a);let s={x:40,y:r+7,fill:"#666",text:n,textMargin:t.boxTextMargin|5};hf.drawText(e,s),r+=20})}var f9e,Tc,kb,pd,m9e,oo,LT,MF,y9e,DF,het=I(()=>{"use strict";Fr(),uet(),tr(),wi(),f9e=o(function(e){Object.keys(e).forEach(function(t){kb[t]=e[t]})},"setConf"),Tc={},o(g9e,"drawActorLegend"),kb=we().journey,pd=kb.leftMargin,m9e=o(function(e,t,r,n){let i=we().journey,a=we().securityLevel,s;a==="sandbox"&&(s=nt("#i"+t));let l=nt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body");oo.init();let u=l.select("#"+t);hf.initGraphics(u);let h=n.db.getTasks(),d=n.db.getDiagramTitle(),p=n.db.getActors();for(let v in Tc)delete Tc[v];let f=0;p.forEach(v=>{Tc[v]={color:i.actorColours[f%i.actorColours.length],position:f},f++}),g9e(u),oo.insert(0,0,pd,Object.keys(Tc).length*50),y9e(u,h,0);let g=oo.getBounds();d&&u.append("text").text(d).attr("x",pd).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);let m=g.stopy-g.starty+2*i.diagramMarginY,y=pd+g.stopx+2*i.diagramMarginX;ba(u,m,y,i.useMaxWidth),u.append("line").attr("x1",pd).attr("y1",i.height*4).attr("x2",y-pd-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let b=d?70:0;u.attr("viewBox",`${g.startx} -25 ${y} ${m+b}`),u.attr("preserveAspectRatio","xMinYMin meet"),u.attr("height",m+b+25)},"draw"),oo={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:o(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:o(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:o(function(e,t,r,n){let i=we().journey,a=this,s=0;function l(u){return o(function(h){s++;let d=a.sequenceItems.length-s+1;a.updateVal(h,"starty",t-d*i.boxMargin,Math.min),a.updateVal(h,"stopy",n+d*i.boxMargin,Math.max),a.updateVal(oo.data,"startx",e-d*i.boxMargin,Math.min),a.updateVal(oo.data,"stopx",r+d*i.boxMargin,Math.max),u!=="activation"&&(a.updateVal(h,"startx",e-d*i.boxMargin,Math.min),a.updateVal(h,"stopx",r+d*i.boxMargin,Math.max),a.updateVal(oo.data,"starty",t-d*i.boxMargin,Math.min),a.updateVal(oo.data,"stopy",n+d*i.boxMargin,Math.max))},"updateItemBounds")}o(l,"updateFn"),this.sequenceItems.forEach(l())},"updateBounds"),insert:o(function(e,t,r,n){let i=Math.min(e,r),a=Math.max(e,r),s=Math.min(t,n),l=Math.max(t,n);this.updateVal(oo.data,"startx",i,Math.min),this.updateVal(oo.data,"starty",s,Math.min),this.updateVal(oo.data,"stopx",a,Math.max),this.updateVal(oo.data,"stopy",l,Math.max),this.updateBounds(i,s,a,l)},"insert"),bumpVerticalPos:o(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:o(function(){return this.verticalPos},"getVerticalPos"),getBounds:o(function(){return this.data},"getBounds")},LT=kb.sectionFills,MF=kb.sectionColours,y9e=o(function(e,t,r){let n=we().journey,i="",a=n.height*2+n.diagramMarginY,s=r+a,l=0,u="#CCC",h="black",d=0;for(let[p,f]of t.entries()){if(i!==f.section){u=LT[l%LT.length],d=l%LT.length,h=MF[l%MF.length];let m=0,y=f.section;for(let v=p;v<t.length&&t[v].section==y;v++)m=m+1;let b={x:p*n.taskMargin+p*n.width+pd,y:50,text:f.section,fill:u,num:d,colour:h,taskCount:m};hf.drawSection(e,b,n),i=f.section,l++}let g=f.people.reduce((m,y)=>(Tc[y]&&(m[y]=Tc[y]),m),{});f.x=p*n.taskMargin+p*n.width+pd,f.y=s,f.width=n.diagramMarginX,f.height=n.diagramMarginY,f.colour=h,f.fill=u,f.num=d,f.actors=g,hf.drawTask(e,f,n),oo.insert(f.x,f.y,f.x+f.width+n.taskMargin,300+5*30)}},"drawTasks"),DF={setConf:f9e,draw:m9e}}),v9e={};Nt(v9e,{diagram:()=>b9e});var b9e,det=I(()=>{"use strict";set(),oet(),cet(),het(),b9e={parser:ZAe,db:SF,renderer:DF,styles:o9e,init:o(e=>{DF.setConf(e.journey),SF.clear()},"init")}}),NT,x9e,pet=I(()=>{"use strict";NT=function(){var e=o(function(f,g,m,y){for(m=m||{},y=f.length;y--;m[f[y]]=g);return m},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],l=[1,16],u=[1,17],h={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:o(function(f,g,m,y,b,v,x){var k=v.length-1;switch(b){case 1:return v[k-1];case 2:this.$=[];break;case 3:v[k-1].push(v[k]),this.$=v[k-1];break;case 4:case 5:this.$=v[k];break;case 6:case 7:this.$=[];break;case 8:y.getCommonDb().setDiagramTitle(v[k].substr(6)),this.$=v[k].substr(6);break;case 9:this.$=v[k].trim(),y.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=v[k].trim(),y.getCommonDb().setAccDescription(this.$);break;case 12:y.addSection(v[k].substr(8)),this.$=v[k].substr(8);break;case 15:y.addTask(v[k],0,""),this.$=v[k];break;case 16:y.addEvent(v[k].substr(2)),this.$=v[k];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:l,21:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:l,21:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:o(function(f,g){if(g.recoverable)this.trace(f);else{var m=new Error(f);throw m.hash=g,m}},"parseError"),parse:o(function(f){var g=this,m=[0],y=[],b=[null],v=[],x=this.table,k="",w=0,_=0,S=0,C=2,T=1,N=v.slice.call(arguments,1),D=Object.create(this.lexer),M={yy:{}};for(var L in this.yy)Object.prototype.hasOwnProperty.call(this.yy,L)&&(M.yy[L]=this.yy[L]);D.setInput(f,M.yy),M.yy.lexer=D,M.yy.parser=this,typeof D.yylloc>"u"&&(D.yylloc={});var B=D.yylloc;v.push(B);var E=D.options&&D.options.ranges;typeof M.yy.parseError=="function"?this.parseError=M.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function R(V){m.length=m.length-2*V,b.length=b.length-V,v.length=v.length-V}o(R,"popStack");function O(){var V;return V=y.pop()||D.lex()||T,typeof V!="number"&&(V instanceof Array&&(y=V,V=y.pop()),V=g.symbols_[V]||V),V}o(O,"lex");for(var P,A,$,F,G,q,W={},re,oe,te,se;;){if($=m[m.length-1],this.defaultActions[$]?F=this.defaultActions[$]:((P===null||typeof P>"u")&&(P=O()),F=x[$]&&x[$][P]),typeof F>"u"||!F.length||!F[0]){var Y="";se=[];for(re in x[$])this.terminals_[re]&&re>C&&se.push("'"+this.terminals_[re]+"'");D.showPosition?Y="Parse error on line "+(w+1)+`:
`+D.showPosition()+`
Expecting `+se.join(", ")+", got '"+(this.terminals_[P]||P)+"'":Y="Parse error on line "+(w+1)+": Unexpected "+(P==T?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(Y,{text:D.match,token:this.terminals_[P]||P,line:D.yylineno,loc:B,expected:se})}if(F[0]instanceof Array&&F.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+P);switch(F[0]){case 1:m.push(P),b.push(D.yytext),v.push(D.yylloc),m.push(F[1]),P=null,A?(P=A,A=null):(_=D.yyleng,k=D.yytext,w=D.yylineno,B=D.yylloc,S>0&&S--);break;case 2:if(oe=this.productions_[F[1]][1],W.$=b[b.length-oe],W._$={first_line:v[v.length-(oe||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(oe||1)].first_column,last_column:v[v.length-1].last_column},E&&(W._$.range=[v[v.length-(oe||1)].range[0],v[v.length-1].range[1]]),q=this.performAction.apply(W,[k,_,w,M.yy,F[1],b,v].concat(N)),typeof q<"u")return q;oe&&(m=m.slice(0,-1*oe*2),b=b.slice(0,-1*oe),v=v.slice(0,-1*oe)),m.push(this.productions_[F[1]][0]),b.push(W.$),v.push(W._$),te=x[m[m.length-2]][m[m.length-1]],m.push(te);break;case 3:return!0}}return!0},"parse")},d=function(){var f={EOF:1,parseError:o(function(g,m){if(this.yy.parser)this.yy.parser.parseError(g,m);else throw new Error(g)},"parseError"),setInput:o(function(g,m){return this.yy=m||this.yy||{},this._input=g,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var g=this._input[0];this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g;var m=g.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),g},"input"),unput:o(function(g){var m=g.length,y=g.split(/(?:\r\n?|\n)/g);this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1&&(this.yylineno-=y.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===b.length?this.yylloc.first_column:0)+b[b.length-y.length].length-y[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(g){this.unput(this.match.slice(g))},"less"),pastInput:o(function(){var g=this.matched.substr(0,this.matched.length-this.match.length);return(g.length>20?"...":"")+g.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var g=this.match;return g.length<20&&(g+=this._input.substr(0,20-g.length)),(g.substr(0,20)+(g.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var g=this.pastInput(),m=new Array(g.length+1).join("-");return g+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:o(function(g,m){var y,b,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),b=g[0].match(/(?:\r\n?|\n).*/g),b&&(this.yylineno+=b.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],y=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y)return y;if(this._backtrack){for(var x in v)this[x]=v[x];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var g,m,y,b;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),x=0;x<v.length;x++)if(y=this._input.match(this.rules[v[x]]),y&&(!m||y[0].length>m[0].length)){if(m=y,b=x,this.options.backtrack_lexer){if(g=this.test_match(y,v[x]),g!==!1)return g;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(g=this.test_match(m,v[b]),g!==!1?g:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var g=this.next();return g||this.lex()},"lex"),begin:o(function(g){this.conditionStack.push(g)},"begin"),popState:o(function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:o(function(g){this.begin(g)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(g,m,y,b){var v=b;switch(y){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return f}();h.lexer=d;function p(){this.yy={}}return o(p,"Parser"),p.prototype=h,h.Parser=p,new p}(),NT.parser=NT,x9e=NT}),k9e={};Nt(k9e,{addEvent:()=>GF,addSection:()=>BF,addTask:()=>zF,addTaskOrg:()=>qF,clear:()=>PF,default:()=>w9e,getCommonDb:()=>OF,getSections:()=>$F,getTasks:()=>FF});var ep,RF,IT,wb,tp,OF,PF,BF,$F,FF,zF,GF,qF,jF,w9e,get=I(()=>{"use strict";Hi(),ep="",RF=0,IT=[],wb=[],tp=[],OF=o(()=>kC,"getCommonDb"),PF=o(function(){IT.length=0,wb.length=0,ep="",tp.length=0,Yi()},"clear"),BF=o(function(e){ep=e,IT.push(e)},"addSection"),$F=o(function(){return IT},"getSections"),FF=o(function(){let e=jF(),t=100,r=0;for(;!e&&r<t;)e=jF(),r++;return wb.push(...tp),wb},"getTasks"),zF=o(function(e,t,r){let n={id:RF++,section:ep,type:ep,task:e,score:t||0,events:r?[r]:[]};tp.push(n)},"addTask"),GF=o(function(e){tp.find(t=>t.id===RF-1).events.push(e)},"addEvent"),qF=o(function(e){let t={section:ep,type:ep,description:e,task:e,classes:[]};wb.push(t)},"addTaskOrg"),jF=o(function(){let e=o(function(r){return tp[r].processed},"compileTask"),t=!0;for(let[r,n]of tp.entries())e(r),t=t&&n.processed;return t},"compileTasks"),w9e={clear:PF,getCommonDb:OF,addSection:BF,getSections:$F,getTasks:FF,addTask:zF,addTaskOrg:qF,addEvent:GF}});function YF(e,t){e.each(function(){var r=nt(this),n=r.text().split(/(\s+|<br>)/).reverse(),i,a=[],s=1.1,l=r.attr("y"),u=parseFloat(r.attr("dy")),h=r.text(null).append("tspan").attr("x",0).attr("y",l).attr("dy",u+"em");for(let d=0;d<n.length;d++)i=n[n.length-1-d],a.push(i),h.text(a.join(" ").trim()),(h.node().getComputedTextLength()>t||i==="<br>")&&(a.pop(),h.text(a.join(" ").trim()),i==="<br>"?a=[""]:a=[i],h=r.append("tspan").attr("x",0).attr("y",l).attr("dy",s+"em").text(i))})}var T9e,Tb,E9e,_9e,UF,C9e,S9e,HF,A9e,L9e,N9e,MT,WF,I9e,M9e,D9e,R9e,gd,fet=I(()=>{"use strict";Fr(),T9e=12,Tb=o(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),E9e=o(function(e,t){let r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),n=e.append("g");n.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),n.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function i(l){let u=r0().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}o(i,"smile");function a(l){let u=r0().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}o(a,"sad");function s(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return o(s,"ambivalent"),t.score>3?i(n):t.score<3?a(n):s(n),r},"drawFace"),_9e=o(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),UF=o(function(e,t){let r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),C9e=o(function(e,t){function r(i,a,s,l,u){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+l-u)+" "+(i+s-u*1.2)+","+(a+l)+" "+i+","+(a+l)}o(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,UF(e,t)},"drawLabel"),S9e=o(function(e,t,r){let n=e.append("g"),i=MT();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,Tb(n,i),WF(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),HF=-1,A9e=o(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");HF++;let a=300+5*30;i.append("line").attr("id","task"+HF).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),E9e(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let s=MT();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,Tb(i,s),WF(r)(t.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,t.colour)},"drawTask"),L9e=o(function(e,t){Tb(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),N9e=o(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),MT=o(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),WF=function(){function e(i,a,s,l,u,h,d,p){let f=a.append("text").attr("x",s+u/2).attr("y",l+h/2+5).style("font-color",p).style("text-anchor","middle").text(i);n(f,d)}o(e,"byText");function t(i,a,s,l,u,h,d,p,f){let{taskFontSize:g,taskFontFamily:m}=p,y=i.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){let v=b*g-g*(y.length-1)/2,x=a.append("text").attr("x",s+u/2).attr("y",l).attr("fill",f).style("text-anchor","middle").style("font-size",g).style("font-family",m);x.append("tspan").attr("x",s+u/2).attr("dy",v).text(y[b]),x.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,d)}}o(t,"byTspan");function r(i,a,s,l,u,h,d,p){let f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,l,u,h,d,p),n(g,d)}o(r,"byFo");function n(i,a){for(let s in a)s in a&&i.attr(s,a[s])}return o(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),I9e=o(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),o(YF,"wrap"),M9e=o(function(e,t,r,n){let i=r%T9e-1,a=e.append("g");t.section=i,a.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+i));let s=a.append("g"),l=a.append("g"),u=l.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(YF,t.width).node().getBBox(),h=n.fontSize?.replace?n.fontSize.replace("px",""):n.fontSize;return t.height=u.height+h*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,l.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),R9e(s,t,i,n),t},"drawNode"),D9e=o(function(e,t,r){let n=e.append("g"),i=n.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(YF,t.width).node().getBBox(),a=r.fontSize?.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),i.height+a*1.1*.5+t.padding},"getVirtualNodeHeight"),R9e=o(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),gd={drawRect:Tb,drawCircle:_9e,drawSection:S9e,drawText:UF,drawLabel:C9e,drawTask:A9e,drawBackgroundRect:L9e,getTextObj:N9e,getNoteRect:MT,initGraphics:I9e,drawNode:M9e,getVirtualNodeHeight:D9e}}),O9e,VF,P9e,B9e,met=I(()=>{"use strict";Fr(),fet(),Ye(),tr(),wi(),O9e=o(function(e,t,r,n){let i=we(),a=i.leftMargin??50;X.debug("timeline",n.db);let s=i.securityLevel,l;s==="sandbox"&&(l=nt("#i"+t));let u=nt(s==="sandbox"?l.nodes()[0].contentDocument.body:"body").select("#"+t);u.append("g");let h=n.db.getTasks(),d=n.db.getCommonDb().getDiagramTitle();X.debug("task",h),gd.initGraphics(u);let p=n.db.getSections();X.debug("sections",p);let f=0,g=0,m=0,y=0,b=50+a,v=50;y=50;let x=0,k=!0;p.forEach(function(C){let T={number:x,descr:C,section:x,width:150,padding:20,maxHeight:f},N=gd.getVirtualNodeHeight(u,T,i);X.debug("sectionHeight before draw",N),f=Math.max(f,N+20)});let w=0,_=0;X.debug("tasks.length",h.length);for(let[C,T]of h.entries()){let N={number:C,descr:T,section:T.section,width:150,padding:20,maxHeight:g},D=gd.getVirtualNodeHeight(u,N,i);X.debug("taskHeight before draw",D),g=Math.max(g,D+20),w=Math.max(w,T.events.length);let M=0;for(let L of T.events){let B={descr:L,section:T.section,number:T.section,width:150,padding:20,maxHeight:50};M+=gd.getVirtualNodeHeight(u,B,i)}_=Math.max(_,M)}X.debug("maxSectionHeight before draw",f),X.debug("maxTaskHeight before draw",g),p&&p.length>0?p.forEach(C=>{let T=h.filter(L=>L.section===C),N={number:x,descr:C,section:x,width:200*Math.max(T.length,1)-50,padding:20,maxHeight:f};X.debug("sectionNode",N);let D=u.append("g"),M=gd.drawNode(D,N,x,i);X.debug("sectionNode output",M),D.attr("transform",`translate(${b}, ${y})`),v+=f+50,T.length>0&&VF(u,T,x,b,v,g,i,w,_,f,!1),b+=200*Math.max(T.length,1),v=y,x++}):(k=!1,VF(u,h,x,b,v,g,i,w,_,f,!0));let S=u.node().getBBox();X.debug("bounds",S),d&&u.append("text").text(d).attr("x",S.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=k?f+g+150:g+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",m).attr("x2",S.width+3*a).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),jd(void 0,u,i.timeline?.padding??50,i.timeline?.useMaxWidth??!1)},"draw"),VF=o(function(e,t,r,n,i,a,s,l,u,h,d){for(let p of t){let f={descr:p.task,section:r,number:r,width:150,padding:20,maxHeight:a};X.debug("taskNode",f);let g=e.append("g").attr("class","taskWrapper"),m=gd.drawNode(g,f,r,s).height;if(X.debug("taskHeight after draw",m),g.attr("transform",`translate(${n}, ${i})`),a=Math.max(a,m),p.events){let y=e.append("g").attr("class","lineWrapper"),b=a;i+=100,b=b+P9e(e,p.events,r,n,i,s),i-=100,y.append("line").attr("x1",n+190/2).attr("y1",i+a).attr("x2",n+190/2).attr("y2",i+a+(d?a:h)+u+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,d&&!s.timeline?.disableMulticolor&&r++}i=i-10},"drawTasks"),P9e=o(function(e,t,r,n,i,a){let s=0,l=i;i=i+100;for(let u of t){let h={descr:u,section:r,number:r,width:150,padding:20,maxHeight:50};X.debug("eventNode",h);let d=e.append("g").attr("class","eventWrapper"),p=gd.drawNode(d,h,r,a).height;s=s+p,d.attr("transform",`translate(${n}, ${i})`),i=i+10+p}return i=l,s},"drawEvents"),B9e={setConf:o(()=>{},"setConf"),draw:O9e}}),$9e,F9e,z9e,yet=I(()=>{"use strict";Jo(),$9e=o(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Oc(e["lineColor"+r])?e["lineColor"+r]=Vt(e["lineColor"+r],20):e["lineColor"+r]=ir(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),F9e=o(e=>`
  .edge {
    stroke-width: 3;
  }
  ${$9e(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),z9e=F9e}),G9e={};Nt(G9e,{diagram:()=>q9e});var q9e,vet=I(()=>{"use strict";pet(),get(),met(),yet(),q9e={db:k9e,renderer:B9e,parser:x9e,styles:z9e}}),DT,j9e,bet=I(()=>{"use strict";DT=function(){var e=o(function(w,_,S,C){for(S=S||{},C=w.length;C--;S[w[C]]=_);return S},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],l=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],f=[6,7,11],g=[1,6,13,15,16,19,22],m=[1,33],y=[1,34],b=[1,6,7,11,13,15,16,19,22],v={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:o(function(w,_,S,C,T,N,D){var M=N.length-1;switch(T){case 6:case 7:return C;case 8:C.getLogger().trace("Stop NL ");break;case 9:C.getLogger().trace("Stop EOF ");break;case 11:C.getLogger().trace("Stop NL2 ");break;case 12:C.getLogger().trace("Stop EOF2 ");break;case 15:C.getLogger().info("Node: ",N[M].id),C.addNode(N[M-1].length,N[M].id,N[M].descr,N[M].type);break;case 16:C.getLogger().trace("Icon: ",N[M]),C.decorateNode({icon:N[M]});break;case 17:case 21:C.decorateNode({class:N[M]});break;case 18:C.getLogger().trace("SPACELIST");break;case 19:C.getLogger().trace("Node: ",N[M].id),C.addNode(0,N[M].id,N[M].descr,N[M].type);break;case 20:C.decorateNode({icon:N[M]});break;case 25:C.getLogger().trace("node found ..",N[M-2]),this.$={id:N[M-1],descr:N[M-1],type:C.getType(N[M-2],N[M])};break;case 26:this.$={id:N[M],descr:N[M],type:C.nodeType.DEFAULT};break;case 27:C.getLogger().trace("node found ..",N[M-3]),this.$={id:N[M-3],descr:N[M-1],type:C.getType(N[M-2],N[M])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},{6:r,9:22,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},{6:h,7:d,10:23,11:p},e(f,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:l}),e(f,[2,18]),e(f,[2,19]),e(f,[2,20]),e(f,[2,21]),e(f,[2,23]),e(f,[2,24]),e(f,[2,26],{19:[1,30]}),{20:[1,31]},{6:h,7:d,10:32,11:p},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},e(g,[2,14],{7:m,11:y}),e(b,[2,8]),e(b,[2,9]),e(b,[2,10]),e(f,[2,15]),e(f,[2,16]),e(f,[2,17]),{20:[1,35]},{21:[1,36]},e(g,[2,13],{7:m,11:y}),e(b,[2,11]),e(b,[2,12]),{21:[1,37]},e(f,[2,25]),e(f,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:o(function(w,_){if(_.recoverable)this.trace(w);else{var S=new Error(w);throw S.hash=_,S}},"parseError"),parse:o(function(w){var _=this,S=[0],C=[],T=[null],N=[],D=this.table,M="",L=0,B=0,E=0,R=2,O=1,P=N.slice.call(arguments,1),A=Object.create(this.lexer),$={yy:{}};for(var F in this.yy)Object.prototype.hasOwnProperty.call(this.yy,F)&&($.yy[F]=this.yy[F]);A.setInput(w,$.yy),$.yy.lexer=A,$.yy.parser=this,typeof A.yylloc>"u"&&(A.yylloc={});var G=A.yylloc;N.push(G);var q=A.options&&A.options.ranges;typeof $.yy.parseError=="function"?this.parseError=$.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function W(Me){S.length=S.length-2*Me,T.length=T.length-Me,N.length=N.length-Me}o(W,"popStack");function re(){var Me;return Me=C.pop()||A.lex()||O,typeof Me!="number"&&(Me instanceof Array&&(C=Me,Me=C.pop()),Me=_.symbols_[Me]||Me),Me}o(re,"lex");for(var oe,te,se,Y,V,U,ne={},K,fe,Q,Te;;){if(se=S[S.length-1],this.defaultActions[se]?Y=this.defaultActions[se]:((oe===null||typeof oe>"u")&&(oe=re()),Y=D[se]&&D[se][oe]),typeof Y>"u"||!Y.length||!Y[0]){var ie="";Te=[];for(K in D[se])this.terminals_[K]&&K>R&&Te.push("'"+this.terminals_[K]+"'");A.showPosition?ie="Parse error on line "+(L+1)+`:
`+A.showPosition()+`
Expecting `+Te.join(", ")+", got '"+(this.terminals_[oe]||oe)+"'":ie="Parse error on line "+(L+1)+": Unexpected "+(oe==O?"end of input":"'"+(this.terminals_[oe]||oe)+"'"),this.parseError(ie,{text:A.match,token:this.terminals_[oe]||oe,line:A.yylineno,loc:G,expected:Te})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+oe);switch(Y[0]){case 1:S.push(oe),T.push(A.yytext),N.push(A.yylloc),S.push(Y[1]),oe=null,te?(oe=te,te=null):(B=A.yyleng,M=A.yytext,L=A.yylineno,G=A.yylloc,E>0&&E--);break;case 2:if(fe=this.productions_[Y[1]][1],ne.$=T[T.length-fe],ne._$={first_line:N[N.length-(fe||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(fe||1)].first_column,last_column:N[N.length-1].last_column},q&&(ne._$.range=[N[N.length-(fe||1)].range[0],N[N.length-1].range[1]]),U=this.performAction.apply(ne,[M,B,L,$.yy,Y[1],T,N].concat(P)),typeof U<"u")return U;fe&&(S=S.slice(0,-1*fe*2),T=T.slice(0,-1*fe),N=N.slice(0,-1*fe)),S.push(this.productions_[Y[1]][0]),T.push(ne.$),N.push(ne._$),Q=D[S[S.length-2]][S[S.length-1]],S.push(Q);break;case 3:return!0}}return!0},"parse")},x=function(){var w={EOF:1,parseError:o(function(_,S){if(this.yy.parser)this.yy.parser.parseError(_,S);else throw new Error(_)},"parseError"),setInput:o(function(_,S){return this.yy=S||this.yy||{},this._input=_,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var _=this._input[0];this.yytext+=_,this.yyleng++,this.offset++,this.match+=_,this.matched+=_;var S=_.match(/(?:\r\n?|\n).*/g);return S?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_},"input"),unput:o(function(_){var S=_.length,C=_.split(/(?:\r\n?|\n)/g);this._input=_+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-S),this.offset-=S;var T=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1&&(this.yylineno-=C.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===T.length?this.yylloc.first_column:0)+T[T.length-C.length].length-C[0].length:this.yylloc.first_column-S},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-S]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(_){this.unput(this.match.slice(_))},"less"),pastInput:o(function(){var _=this.matched.substr(0,this.matched.length-this.match.length);return(_.length>20?"...":"")+_.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var _=this.match;return _.length<20&&(_+=this._input.substr(0,20-_.length)),(_.substr(0,20)+(_.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var _=this.pastInput(),S=new Array(_.length+1).join("-");return _+this.upcomingInput()+`
`+S+"^"},"showPosition"),test_match:o(function(_,S){var C,T,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),T=_[0].match(/(?:\r\n?|\n).*/g),T&&(this.yylineno+=T.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:T?T[T.length-1].length-T[T.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_[0].length},this.yytext+=_[0],this.match+=_[0],this.matches=_,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_[0].length),this.matched+=_[0],C=this.performAction.call(this,this.yy,this,S,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var D in N)this[D]=N[D];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _,S,C,T;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),D=0;D<N.length;D++)if(C=this._input.match(this.rules[N[D]]),C&&(!S||C[0].length>S[0].length)){if(S=C,T=D,this.options.backtrack_lexer){if(_=this.test_match(C,N[D]),_!==!1)return _;if(this._backtrack){S=!1;continue}else return!1}else if(!this.options.flex)break}return S?(_=this.test_match(S,N[T]),_!==!1?_:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var _=this.next();return _||this.lex()},"lex"),begin:o(function(_){this.conditionStack.push(_)},"begin"),popState:o(function(){var _=this.conditionStack.length-1;return _>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(_){return _=this.conditionStack.length-1-Math.abs(_||0),_>=0?this.conditionStack[_]:"INITIAL"},"topState"),pushState:o(function(_){this.begin(_)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(_,S,C,T){var N=T;switch(C){case 0:return _.getLogger().trace("Found comment",S.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:_.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return _.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:_.getLogger().trace("end icon"),this.popState();break;case 10:return _.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return _.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return _.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return _.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:_.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return _.getLogger().trace("description:",S.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),_.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),_.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),_.getLogger().trace("node end ...",S.yytext),"NODE_DEND";case 30:return this.popState(),_.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),_.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),_.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),_.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),_.getLogger().trace("node end (("),"NODE_DEND";case 35:return _.getLogger().trace("Long description:",S.yytext),20;case 36:return _.getLogger().trace("Long description:",S.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return w}();v.lexer=x;function k(){this.yy={}}return o(k,"Parser"),k.prototype=v,v.Parser=k,new k}(),DT.parser=DT,j9e=DT}),$o,XF,RT,Y9e,U9e,H9e,W9e,Pi,V9e,X9e,K9e,Z9e,Q9e,J9e,eLe,tLe,xet=I(()=>{"use strict";tr(),Pr(),Ye(),Gs(),$o=[],XF=0,RT={},Y9e=o(()=>{$o=[],XF=0,RT={}},"clear"),U9e=o(function(e){for(let t=$o.length-1;t>=0;t--)if($o[t].level<e)return $o[t];return null},"getParent"),H9e=o(()=>$o.length>0?$o[0]:null,"getMindmap"),W9e=o((e,t,r,n)=>{X.info("addNode",e,t,r,n);let i=we(),a=i.mindmap?.padding??Kr.mindmap.padding;switch(n){case Pi.ROUNDED_RECT:case Pi.RECT:case Pi.HEXAGON:a*=2}let s={id:XF++,nodeId:En(t,i),level:e,descr:En(r,i),type:n,children:[],width:i.mindmap?.maxNodeWidth??Kr.mindmap.maxNodeWidth,padding:a},l=U9e(e);if(l)l.children.push(s),$o.push(s);else if($o.length===0)$o.push(s);else throw new Error('There can be only one root. No parent could be found for ("'+s.descr+'")')},"addNode"),Pi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},V9e=o((e,t)=>{switch(X.debug("In get type",e,t),e){case"[":return Pi.RECT;case"(":return t===")"?Pi.ROUNDED_RECT:Pi.CLOUD;case"((":return Pi.CIRCLE;case")":return Pi.CLOUD;case"))":return Pi.BANG;case"{{":return Pi.HEXAGON;default:return Pi.DEFAULT}},"getType"),X9e=o((e,t)=>{RT[e]=t},"setElementForId"),K9e=o(e=>{if(!e)return;let t=we(),r=$o[$o.length-1];e.icon&&(r.icon=En(e.icon,t)),e.class&&(r.class=En(e.class,t))},"decorateNode"),Z9e=o(e=>{switch(e){case Pi.DEFAULT:return"no-border";case Pi.RECT:return"rect";case Pi.ROUNDED_RECT:return"rounded-rect";case Pi.CIRCLE:return"circle";case Pi.CLOUD:return"cloud";case Pi.BANG:return"bang";case Pi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),Q9e=o(()=>X,"getLogger"),J9e=o(e=>RT[e],"getElementById"),eLe={clear:Y9e,addNode:W9e,getMindmap:H9e,nodeType:Pi,getType:V9e,setElementForId:X9e,decorateNode:K9e,type2Str:Z9e,getLogger:Q9e,getElementById:J9e},tLe=eLe});function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function OT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PT(e,t,r){return t&&KF(e.prototype,t),r&&KF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fo(e,t){return rLe(e)||nLe(e,t)||QF(e,t)||iLe()}function rLe(e){if(Array.isArray(e))return e}function nLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,l;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(u){a=!0,l=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw l}}return n}}function QF(e,t){if(e){if(typeof e=="string")return JF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JF(e,t)}}function JF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ez(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=QF(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=o(function(){},"F");return{s:i,n:o(function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},"n"),e:o(function(u){throw u},"e"),f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,l;return{s:o(function(){r=r.call(e)},"s"),n:o(function(){var u=r.next();return a=u.done,u},"n"),e:o(function(u){s=!0,l=u},"e"),f:o(function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw l}},"f")}}function aLe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function sLe(e,t){return t={exports:{}},e(t,t.exports),t.exports}function oLe(e){for(var t=e.length;t--&&qNe.test(e.charAt(t)););return t}function lLe(e){return e&&e.slice(0,jNe(e)+1).replace(YNe,"")}function cLe(e){var t=WNe.call(e,vf),r=e[vf];try{e[vf]=void 0;var n=!0}catch{}var i=VNe.call(e);return n&&(t?e[vf]=r:delete e[vf]),i}function uLe(e){return ZNe.call(e)}function hLe(e){return e==null?e===void 0?eIe:JNe:Bz&&Bz in Object(e)?XNe(e):QNe(e)}function dLe(e){return e!=null&&typeof e=="object"}function pLe(e){return typeof e=="symbol"||tIe(e)&&$z(e)==rIe}function gLe(e){if(typeof e=="number")return e;if(bf(e))return Fz;if(fd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=UNe(e);var r=iIe.test(e);return r||aIe.test(e)?sIe(e.slice(2),r?2:8):nIe.test(e)?Fz:+e}function fLe(e,t,r){var n,i,a,s,l,u,h=0,d=!1,p=!1,f=!0;if(typeof e!="function")throw new TypeError(oIe);t=zz(t)||0,fd(r)&&(d=!!r.leading,p="maxWait"in r,a=p?lIe(zz(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function g(S){var C=n,T=i;return n=i=void 0,h=S,s=e.apply(T,C),s}o(g,"invokeFunc");function m(S){return h=S,l=setTimeout(v,t),d?g(S):s}o(m,"leadingEdge");function y(S){var C=S-u,T=S-h,N=t-C;return p?cIe(N,a-T):N}o(y,"remainingWait");function b(S){var C=S-u,T=S-h;return u===void 0||C>=t||C<0||p&&T>=a}o(b,"shouldInvoke");function v(){var S=WT();if(b(S))return x(S);l=setTimeout(v,y(S))}o(v,"timerExpired");function x(S){return l=void 0,f&&n?g(S):(n=i=void 0,s)}o(x,"trailingEdge");function k(){l!==void 0&&clearTimeout(l),h=0,n=u=i=l=void 0}o(k,"cancel");function w(){return l===void 0?s:x(WT())}o(w,"flush");function _(){var S=WT(),C=b(S);if(n=arguments,i=this,u=S,C){if(l===void 0)return m(u);if(p)return clearTimeout(l),l=setTimeout(v,t),g(u)}return l===void 0&&(l=setTimeout(v,t)),s}return o(_,"debounced"),_.cancel=k,_.flush=w,_}function Eb(e,t,r,n,i,a){var s;return Jn(e)?s=e:s=mp[e]||mp.euclidean,t===0&&Jn(e)?s(i,a):s(t,r,n,i,a)}function mLe(e,t){if(Xb(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||bf(e)?!0:eDe.test(e)||!JMe.test(e)||t!=null&&e in Object(t)}function yLe(e){if(!fd(e))return!1;var t=$z(e);return t==nDe||t==iDe||t==rDe||t==aDe}function vLe(e){return!!NG&&NG in e}function bLe(e){if(e!=null){try{return uDe.call(e)}catch{}try{return e+""}catch{}}return""}function xLe(e){if(!fd(e)||lDe(e))return!1;var t=sDe(e)?vDe:pDe;return t.test(hDe(e))}function kLe(e,t){return e?.[t]}function wLe(e,t){var r=xDe(e,t);return bDe(r)?r:void 0}function TLe(){this.__data__=Lf?Lf(null):{},this.size=0}function ELe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function _Le(e){var t=this.__data__;if(Lf){var r=t[e];return r===EDe?void 0:r}return CDe.call(t,e)?t[e]:void 0}function CLe(e){var t=this.__data__;return Lf?t[e]!==void 0:LDe.call(t,e)}function SLe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Lf&&t===void 0?IDe:t,this}function rp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ALe(){this.__data__=[],this.size=0}function LLe(e,t){return e===t||e!==e&&t!==t}function NLe(e,t){for(var r=e.length;r--;)if(MG(e[r][0],t))return r;return-1}function ILe(e){var t=this.__data__,r=Kb(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ODe.call(t,r,1),--this.size,!0}function MLe(e){var t=this.__data__,r=Kb(t,e);return r<0?void 0:t[r][1]}function DLe(e){return Kb(this.__data__,e)>-1}function RLe(e,t){var r=this.__data__,n=Kb(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function np(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function OLe(){this.size=0,this.__data__={hash:new IG,map:new(qDe||zDe),string:new IG}}function PLe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function BLe(e,t){var r=e.__data__;return YDe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function $Le(e){var t=Zb(this,e).delete(e);return this.size-=t?1:0,t}function FLe(e){return Zb(this,e).get(e)}function zLe(e){return Zb(this,e).has(e)}function GLe(e,t){var r=Zb(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function ip(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function BT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(XDe);var r=o(function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s},"memoized");return r.cache=new(BT.Cache||DG),r}function qLe(e){var t=KDe(e,function(n){return r.size===ZDe&&r.clear(),n}),r=t.cache;return t}function jLe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function tz(e){if(typeof e=="string")return e;if(Xb(e))return OG(e,tz)+"";if(bf(e))return BG?BG.call(e):"";var t=e+"";return t=="0"&&1/e==-rRe?"-0":t}function YLe(e){return e==null?"":nRe(e)}function ULe(e,t){return Xb(e)?e:tDe(e,t)?[e]:RG($G(e))}function HLe(e){if(typeof e=="string"||bf(e))return e;var t=e+"";return t=="0"&&1/e==-iRe?"-0":t}function WLe(e,t){t=FG(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[hE(t[r++])];return r&&r==n?e:void 0}function VLe(e,t,r){var n=e==null?void 0:aRe(e,t);return n===void 0?r:n}function XLe(e,t,r){t=="__proto__"&&zG?zG(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function KLe(e,t,r){var n=e[t];(!(uRe.call(e,t)&&MG(n,r))||r===void 0&&!(t in e))&&lRe(e,t,r)}function ZLe(e,t){var r=typeof e;return t=t??dRe,!!t&&(r=="number"||r!="symbol"&&pRe.test(e))&&e>-1&&e%1==0&&e<t}function QLe(e,t,r,n){if(!fd(e))return e;t=FG(t,e);for(var i=-1,a=t.length,s=a-1,l=e;l!=null&&++i<a;){var u=hE(t[i]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=s){var d=l[u];h=n?n(d,u,l):void 0,h===void 0&&(h=fd(d)?d:gRe(t[i+1])?[]:{})}hRe(l,u,h),l=l[u]}return e}function JLe(e,t,r){return e==null?e:fRe(e,t,r)}function eNe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function tNe(e){return Xb(e)?OG(e,hE):bf(e)?[e]:yRe(RG($G(e)))}function $T(e,t,r,n){for(var i=[],a=new up,s=e.cy(),l=s.hasCompoundNodes(),u=0;u<e.length;u++){var h=e[u];r?i.push(h):l&&n(i,a,h)}for(;i.length>0;){var d=i.shift();t(d),a.add(d.id()),l&&n(i,a,d)}return e}function rz(e,t,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];t.has(a.id())||e.push(a)}}function nz(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}function rNe(e,t,r){nz(e,t,r),rz(e,t,r)}function FT(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,s=0;s<a.length;s++){var l=a[s];!t&&l.isLoop()||(n+=e(i,l))}return n}else return}}function ap(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],l=s[e](r);l!==void 0&&(n===void 0||t(l,n))&&(n=l)}return n}}function df(){return!1}function _b(){return!0}function Cb(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rOe,t=arguments.length>1?arguments[1]:void 0,r=0;r<eq.length;r++){var n=eq[r];this[n]=e[n]||JG[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}function iz(e,t,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[e])!=null||(a=i[e]=t(r)),a}function Sb(e,t){return e=md(e),o(function(r){return iz(e,t,r)},"cachedStyleFunction")}function Ab(e,t){e=md(e);var r=o(function(n){return t.call(n)},"selfFn");return o(function(){var n=this[0];if(n)return iz(e,r,n)},"cachedPrototypeStyleFunction")}function zT(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!t(a))return!1}return!0}function GT(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var l=a._private;if(!t(a))return!1;if(a.isNode())return!s||zT(a,n);var u=l.source,h=l.target;return r(u)&&(!s||zT(u,r))&&(u===h||r(h)&&(!s||zT(h,r)))}}}function az(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],i=t[1];this.on(e.event,n,i)}else if(t.length===1&&Jn(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&In(t[0])){for(var s=t.length===1?t[0]:null,l=0;l<this.length;l++){var u=this[l],h=!e.ableField||u._private[e.ableField],d=u._private[e.field]!=e.value;if(e.overrideAble){var p=e.overrideAble(u);if(p!==void 0&&(h=p,!p))return this}h&&(u._private[e.field]=e.value,d&&r.push(u))}var f=this.spawn(r);f.updateStyle(),f.emit(e.event),s&&f.emit(s)}return this}}function sp(e){Yu[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},Yu[e.on]=az({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Yu[e.off]=az({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}function sz(e){return o(function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n],a=i._private[e.attr];a&&r.push(a)}return this.spawn(r,!0).filter(t)},"sourceImpl")}function oz(e){return o(function(t){var r=[],n=this._private.cy,i=e||{};or(t)&&(t=n.$(t));for(var a=0;a<t.length;a++)for(var s=t[a]._private.edges,l=0;l<s.length;l++){var u=s[l],h=u._private.data,d=this.hasElementWithId(h.source)&&t.hasElementWithId(h.target),p=t.hasElementWithId(h.source)&&this.hasElementWithId(h.target),f=d||p;f&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!d||i.thisIsTgt&&!p)||r.push(u))}return this.spawn(r,!0)},"edgesWithImpl")}function lz(e){var t={codirected:!1};return e=br({},t,e),o(function(r){for(var n=[],i=this.edges(),a=e,s=0;s<i.length;s++)for(var l=i[s],u=l._private,h=u.source,d=h._private.data.id,p=u.data.target,f=h._private.edges,g=0;g<f.length;g++){var m=f[g],y=m._private.data,b=y.target,v=y.source,x=b===p&&v===d,k=d===b&&p===v;(a.codirected&&x||!a.codirected&&(x||k))&&n.push(m)}return this.spawn(n,!0).filter(r)},"parallelEdgesImpl")}function nNe(e,t,r,n){var i=4,a=.001,s=1e-7,l=10,u=11,h=1/(u-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var f=d?new Float32Array(u):new Array(u);function g(D,M){return 1-3*M+3*D}o(g,"A");function m(D,M){return 3*M-6*D}o(m,"B");function y(D){return 3*D}o(y,"C");function b(D,M,L){return((g(M,L)*D+m(M,L))*D+y(M))*D}o(b,"calcBezier");function v(D,M,L){return 3*g(M,L)*D*D+2*m(M,L)*D+y(M)}o(v,"getSlope");function x(D,M){for(var L=0;L<i;++L){var B=v(M,e,r);if(B===0)return M;var E=b(M,e,r)-D;M-=E/B}return M}o(x,"newtonRaphsonIterate");function k(){for(var D=0;D<u;++D)f[D]=b(D*h,e,r)}o(k,"calcSampleValues");function w(D,M,L){var B,E,R=0;do E=M+(L-M)/2,B=b(E,e,r)-D,B>0?L=E:M=E;while(Math.abs(B)>s&&++R<l);return E}o(w,"binarySubdivide");function _(D){for(var M=0,L=1,B=u-1;L!==B&&f[L]<=D;++L)M+=h;--L;var E=(D-f[L])/(f[L+1]-f[L]),R=M+E*h,O=v(R,e,r);return O>=a?x(D,R):O===0?R:w(D,M,M+h)}o(_,"getTForX");var S=!1;function C(){S=!0,(e!==t||r!==n)&&k()}o(C,"precompute");var T=o(function(D){return S||C(),e===t&&r===n?D:D===0?0:D===1?1:b(_(D),t,n)},"f");T.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var N="generateBezier("+[e,t,r,n]+")";return T.toString=function(){return N},T}function cz(e,t,r,n,i){if(n===1||t===r)return r;var a=i(t,r,n);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function uz(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function op(e,t,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=uz(e,i),l=uz(t,i);if(Ct(s)&&Ct(l))return cz(a,s,l,r,n);if(In(s)&&In(l)){for(var u=[],h=0;h<l.length;h++){var d=s[h],p=l[h];if(d!=null&&p!=null){var f=cz(a,d,p,r,n);u.push(f)}else u.push(p)}return u}}function iNe(e,t,r,n){var i=!n,a=e._private,s=t._private,l=s.easing,u=s.startTime,h=n?e:e.cy(),d=h.style();if(!s.easingImpl)if(l==null)s.easingImpl=ox.linear;else{var p;if(or(l)){var f=d.parse("transition-timing-function",l);p=f.value}else p=l;var g,m;or(p)?(g=p,m=[]):(g=p[1],m=p.slice(2).map(function($){return+$})),m.length>0?(g==="spring"&&m.push(s.duration),s.easingImpl=ox[g].apply(null,m)):s.easingImpl=ox[g]}var y=s.easingImpl,b;if(s.duration===0?b=1:b=(r-u)/s.duration,s.applying&&(b=s.progress),b<0?b=0:b>1&&(b=1),s.delay==null){var v=s.startPosition,x=s.position;if(x&&i&&!e.locked()){var k={};pf(v.x,x.x)&&(k.x=op(v.x,x.x,b,y)),pf(v.y,x.y)&&(k.y=op(v.y,x.y,b,y)),e.position(k)}var w=s.startPan,_=s.pan,S=a.pan,C=_!=null&&n;C&&(pf(w.x,_.x)&&(S.x=op(w.x,_.x,b,y)),pf(w.y,_.y)&&(S.y=op(w.y,_.y,b,y)),e.emit("pan"));var T=s.startZoom,N=s.zoom,D=N!=null&&n;D&&(pf(T,N)&&(a.zoom=_f(a.minZoom,op(T,N,b,y),a.maxZoom)),e.emit("zoom")),(C||D)&&e.emit("viewport");var M=s.style;if(M&&M.length>0&&i){for(var L=0;L<M.length;L++){var B=M[L],E=B.name,R=B,O=s.startStyle[E],P=d.properties[O.name],A=op(O,R,b,y,P);d.overrideBypass(e,E,A)}e.emit("style")}}return s.progress=b,b}function pf(e,t){return e==null||t==null?!1:Ct(e)&&Ct(t)?!0:!!(e&&t)}function aNe(e,t,r,n){var i=t._private;i.started=!0,i.startTime=r-i.progress*i.duration}function hz(e,t){var r=t._private.aniEles,n=[];function i(d,p){var f=d._private,g=f.animation.current,m=f.animation.queue,y=!1;if(g.length===0){var b=m.shift();b&&g.push(b)}for(var v=o(function(_){for(var S=_.length-1;S>=0;S--){var C=_[S];C()}_.splice(0,_.length)},"callbacks"),x=g.length-1;x>=0;x--){var k=g[x],w=k._private;if(w.stopped){g.splice(x,1),w.hooked=!1,w.playing=!1,w.started=!1,v(w.frames);continue}!w.playing&&!w.applying||(w.playing&&w.applying&&(w.applying=!1),w.started||aNe(d,k,e),iNe(d,k,e,p),w.applying&&(w.applying=!1),v(w.frames),w.step!=null&&w.step(e),k.completed()&&(g.splice(x,1),w.hooked=!1,w.playing=!1,w.started=!1,v(w.completes)),y=!0)}return!p&&g.length===0&&m.length===0&&n.push(d),y}o(i,"stepOne");for(var a=!1,s=0;s<r.length;s++){var l=r[s],u=i(l);a=a||u}var h=i(t,!0);(a||h)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}function dz(e){this.options=br({},kOe,wOe,e)}function pz(e){this.options=br({},TOe,e)}function gz(e){this.options=br({},EOe,e)}function Lb(e){this.options=br({},_Oe,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),s=i.target().data("id"),l=t.some(function(h){return h.data("id")===a}),u=t.some(function(h){return h.data("id")===s});return!l||!u});this.options.eles=this.options.eles.not(n)}function fz(e){this.options=br({},GOe,e)}function qT(e){this.options=br({},qOe,e)}function mz(e){this.options=br({},jOe,e)}function yz(e){this.options=br({},YOe,e)}function vz(e){this.options=e,this.notifications=0}function bz(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function jT(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(QOe(e,t,r,n,i),{cx:yq,cy:vq,radius:Ep,startX:VOe,startY:XOe,stopX:bq,stopY:xq,startAngle:Dl.ang+Math.PI/2*wp,endAngle:uo.ang-Math.PI/2*wp,counterClockwise:kE})}function xz(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t.push({x:n,y:i})}return t}}function sNe(e,t,r){for(var n=o(function(u,h,d,p){return Ki(u,h,d,p)},"qbezierAt$1"),i=t._private,a=i.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var l=e.bezierProjPcts[s];a.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}function oNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function lNe(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];i===0&&(n=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function kz(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}var s=r,l=r[0];e.moveTo(l.x,l.y);for(var i=1;i<s.length;i++){var a=s[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function cNe(e,t,r,n,i){e.beginPath&&e.beginPath(),e.arc(r,n,i,0,Math.PI*2,!1);var a=t,s=a[0];e.moveTo(s.x,s.y);for(var l=0;l<a.length;l++){var u=a[l];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function uNe(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}function YT(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+a,r),e.lineTo(t+n-a,r),e.quadraticCurveTo(t+n,r,t+n,r+a),e.lineTo(t+n,r+i-a),e.quadraticCurveTo(t+n,r+i,t+n-a,r+i),e.lineTo(t+a,r+i),e.quadraticCurveTo(t,r+i,t,r+i-a),e.lineTo(t,r+a),e.quadraticCurveTo(t,r,t+a,r),e.closePath(),s?e.stroke():e.fill()}function hNe(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:t})}function wz(e){var t=e.indexOf(",");return e.substr(t+1)}function Tz(e,t,r){var n=o(function(){return t.toDataURL(r,e.quality)},"getB64Uri");switch(e.output){case"blob-promise":return new yp(function(i,a){try{t.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(s){a(s)}});case"blob":return hNe(wz(n()),r);case"base64":return wz(n());case"base64uri":default:return n()}}function Ez(e){var t=this,r=t.cy.window(),n=r.document;t.data={canvases:new Array(sn.CANVAS_LAYERS),contexts:new Array(sn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(sn.CANVAS_LAYERS),bufferCanvases:new Array(sn.BUFFER_COUNT),bufferContexts:new Array(sn.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var s=t.data.canvasContainer.style;t.data.canvasContainer.style[i]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var l=e.cy.container();l.appendChild(t.data.canvasContainer),l.style[i]=a;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};TNe()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var h=0;h<sn.CANVAS_LAYERS;h++){var d=t.data.canvases[h]=n.createElement("canvas");t.data.contexts[h]=d.getContext("2d"),Object.keys(u).forEach(function(Y){d.style[Y]=u[Y]}),d.style.position="absolute",d.setAttribute("data-id","layer"+h),d.style.zIndex=String(sn.CANVAS_LAYERS-h),t.data.canvasContainer.appendChild(d),t.data.canvasNeedsRedraw[h]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[sn.NODE].setAttribute("data-id","layer"+sn.NODE+"-node"),t.data.canvases[sn.SELECT_BOX].setAttribute("data-id","layer"+sn.SELECT_BOX+"-selectbox"),t.data.canvases[sn.DRAG].setAttribute("data-id","layer"+sn.DRAG+"-drag");for(var h=0;h<sn.BUFFER_COUNT;h++)t.data.bufferCanvases[h]=n.createElement("canvas"),t.data.bufferContexts[h]=t.data.bufferCanvases[h].getContext("2d"),t.data.bufferCanvases[h].style.position="absolute",t.data.bufferCanvases[h].setAttribute("data-id","buffer"+h),t.data.bufferCanvases[h].style.zIndex=String(-h-1),t.data.bufferCanvases[h].style.visibility="hidden";t.pathsEnabled=!0;var p=gs(),f=o(function(Y){return{x:(Y.x1+Y.x2)/2,y:(Y.y1+Y.y2)/2}},"getBoxCenter"),g=o(function(Y){return{x:-Y.w/2,y:-Y.h/2}},"getCenterOffset"),m=o(function(Y){var V=Y[0]._private,U=V.oldBackgroundTimestamp===V.backgroundTimestamp;return!U},"backgroundTimestampHasChanged"),y=o(function(Y){return Y[0]._private.nodeKey},"getStyleKey"),b=o(function(Y){return Y[0]._private.labelStyleKey},"getLabelKey"),v=o(function(Y){return Y[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),x=o(function(Y){return Y[0]._private.targetLabelStyleKey},"getTargetLabelKey"),k=o(function(Y,V,U,ne,K){return t.drawElement(Y,V,U,!1,!1,K)},"drawElement"),w=o(function(Y,V,U,ne,K){return t.drawElementText(Y,V,U,ne,"main",K)},"drawLabel"),_=o(function(Y,V,U,ne,K){return t.drawElementText(Y,V,U,ne,"source",K)},"drawSourceLabel"),S=o(function(Y,V,U,ne,K){return t.drawElementText(Y,V,U,ne,"target",K)},"drawTargetLabel"),C=o(function(Y){return Y.boundingBox(),Y[0]._private.bodyBounds},"getElementBox"),T=o(function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.main||p},"getLabelBox"),N=o(function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.source||p},"getSourceLabelBox"),D=o(function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.target||p},"getTargetLabelBox"),M=o(function(Y,V){return V},"isLabelVisibleAtScale"),L=o(function(Y){return f(C(Y))},"getElementRotationPoint"),B=o(function(Y,V,U){var ne=Y?Y+"-":"";return{x:V.x+U.pstyle(ne+"text-margin-x").pfValue,y:V.y+U.pstyle(ne+"text-margin-y").pfValue}},"addTextMargin"),E=o(function(Y,V,U){var ne=Y[0]._private.rscratch;return{x:ne[V],y:ne[U]}},"getRsPt"),R=o(function(Y){return B("",E(Y,"labelX","labelY"),Y)},"getLabelRotationPoint"),O=o(function(Y){return B("source",E(Y,"sourceLabelX","sourceLabelY"),Y)},"getSourceLabelRotationPoint"),P=o(function(Y){return B("target",E(Y,"targetLabelX","targetLabelY"),Y)},"getTargetLabelRotationPoint"),A=o(function(Y){return g(C(Y))},"getElementRotationOffset"),$=o(function(Y){return g(N(Y))},"getSourceLabelRotationOffset"),F=o(function(Y){return g(D(Y))},"getTargetLabelRotationOffset"),G=o(function(Y){var V=T(Y),U=g(T(Y));if(Y.isNode()){switch(Y.pstyle("text-halign").value){case"left":U.x=-V.w;break;case"right":U.x=0;break}switch(Y.pstyle("text-valign").value){case"top":U.y=-V.h;break;case"bottom":U.y=0;break}}return U},"getLabelRotationOffset"),q=t.data.eleTxrCache=new zf(t,{getKey:y,doesEleInvalidateKey:m,drawElement:k,getBoundingBox:C,getRotationPoint:L,getRotationOffset:A,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),W=t.data.lblTxrCache=new zf(t,{getKey:b,drawElement:w,getBoundingBox:T,getRotationPoint:R,getRotationOffset:G,isVisible:M}),re=t.data.slbTxrCache=new zf(t,{getKey:v,drawElement:_,getBoundingBox:N,getRotationPoint:O,getRotationOffset:$,isVisible:M}),oe=t.data.tlbTxrCache=new zf(t,{getKey:x,drawElement:S,getBoundingBox:D,getRotationPoint:P,getRotationOffset:F,isVisible:M}),te=t.data.lyrTxrCache=new Rq(t);t.onUpdateEleCalcs(o(function(Y,V){q.invalidateElements(V),W.invalidateElements(V),re.invalidateElements(V),oe.invalidateElements(V),te.invalidateElements(V);for(var U=0;U<V.length;U++){var ne=V[U]._private;ne.oldBackgroundTimestamp=ne.backgroundTimestamp}},"invalidateTextureCaches"));var se=o(function(Y){for(var V=0;V<Y.length;V++)te.enqueueElementRefinement(Y[V].ele)},"refineInLayers");q.onDequeue(se),W.onDequeue(se),re.onDequeue(se),oe.onDequeue(se)}function _z(e,t,r){var n=r,i=o(function(C){yn("Can not register `"+t+"` for `"+e+"` since `"+C+"` already exists in the prototype and can not be overridden")},"overrideErr");if(e==="core"){if(Pf.prototype[t])return i(t);Pf.prototype[t]=r}else if(e==="collection"){if(ha.prototype[t])return i(t);ha.prototype[t]=r}else if(e==="layout"){for(var a=o(function(C){this.options=C,r.call(this,C),en(this._private)||(this._private={}),this._private.cy=C.cy,this._private.listeners=[],this.createEmitter()},"Layout"),s=a.prototype=Object.create(r.prototype),l=[],u=0;u<l.length;u++){var h=l[u];s[h]=s[h]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=r.prototype.stop;s.stop=function(){var C=this.options;if(C&&C.animate){var T=this.animations;if(T)for(var N=0;N<T.length;N++)T[N].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var p=o(function(C){return C._private.cy},"getCy"),f={addEventFields:o(function(C,T){T.layout=C,T.cy=p(C),T.target=C},"addEventFields"),bubble:o(function(){return!0},"bubble"),parent:o(function(C){return p(C)},"parent")};br(s,{createEmitter:o(function(){return this._private.emitter=new Cb(f,this),this},"createEmitter"),emitter:o(function(){return this._private.emitter},"emitter"),on:o(function(C,T){return this.emitter().on(C,T),this},"on"),one:o(function(C,T){return this.emitter().one(C,T),this},"one"),once:o(function(C,T){return this.emitter().one(C,T),this},"once"),removeListener:o(function(C,T){return this.emitter().removeListener(C,T),this},"removeListener"),removeAllListeners:o(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:o(function(C,T){return this.emitter().emit(C,T),this},"emit")}),vn.eventAliasesOn(s),n=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var g=Cz("renderer","base"),m=g.prototype,y=r,b=r.prototype,v=o(function(){g.apply(this,arguments),y.apply(this,arguments)},"Renderer"),x=v.prototype;for(var k in m){var w=m[k],_=b[k]!=null;if(_)return i(k);x[k]=w}for(var S in b)x[S]=b[S];m.clientFunctions.forEach(function(C){x[C]=x[C]||function(){ci("Renderer does not implement `renderer."+C+"()` on its prototype")}}),n=v}else if(e==="__proto__"||e==="constructor"||e==="prototype")return ci(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return Rz({map:jq,keys:[e,t],value:n})}function Cz(e,t){return Oz({map:jq,keys:[e,t]})}function dNe(e,t,r,n,i){return Rz({map:Yq,keys:[e,t,r,n],value:i})}function pNe(e,t,r,n){return Oz({map:Yq,keys:[e,t,r,n]})}var $i,Sz,gNe,Az,fNe,mNe,gf,or,Jn,In,en,yNe,Ct,vNe,Nb,Bs,ff,Lz,UT,Nz,bNe,Ru,xNe,kNe,wNe,TNe,mf,HT,Ib,Iz,Mz,Fi,ENe,_Ne,CNe,SNe,ANe,LNe,Dz,NNe,br,INe,MNe,DNe,RNe,ONe,PNe,Rz,Oz,fd,yf,BNe,$Ne,FNe,zNe,Mb,GNe,WT,qNe,jNe,YNe,UNe,HNe,lp,Pz,WNe,VNe,vf,XNe,KNe,ZNe,QNe,JNe,eIe,Bz,$z,tIe,rIe,bf,Fz,nIe,iIe,aIe,sIe,zz,oIe,lIe,cIe,Db,VT,Gz,uIe,Rb,Ec,cp,qz,xf,jz,kf,wf,hIe,Ou,Ob,dIe,md,Yz,pIe,Uz,gIe,fIe,XT,Hz,Pb,Wz,KT,ci,Vz,yn,mIe,Ll,yIe,Xz,vIe,Kz,ca,Pu,ZT,bIe,zo,Bu,xIe,Nl,kIe,wIe,up,Bb,Zz,Tf,TIe,Ef,EIe,_Ie,CIe,SIe,AIe,LIe,NIe,IIe,MIe,DIe,RIe,QT,OIe,PIe,$b,Qz,hp,BIe,$Ie,FIe,zIe,GIe,Fb,JT,Jz,yd,vd,qIe,Ki,dp,jIe,_f,gs,YIe,UIe,HIe,eG,WIe,zb,Gb,tG,eE,pp,VIe,rG,nG,XIe,KIe,ZIe,QIe,JIe,eMe,fs,_c,tMe,qb,jb,rMe,bd,Cf,tE,$u,Sf,nMe,Yb,Ha,iG,rE,xd,aG,nE,iMe,iE,aMe,sMe,sG,gp,oG,fp,oMe,aE,lMe,cMe,uMe,hMe,lG,dMe,pMe,gMe,fMe,mMe,yMe,vMe,cG,bMe,xMe,uG,hG,dG,kMe,wMe,Af,mp,TMe,sE,Ub,oE,pG,gG,EMe,_Me,CMe,fG,mG,SMe,AMe,LMe,NMe,IMe,yG,MMe,DMe,RMe,OMe,vG,Hb,PMe,BMe,bG,$Me,FMe,zMe,GMe,qMe,jMe,xG,YMe,kG,UMe,HMe,WMe,Wb,VMe,Vb,XMe,wG,TG,EG,_G,Cc,CG,SG,AG,LG,KMe,yp,lE,kd,ZMe,QMe,Xb,JMe,eDe,tDe,rDe,nDe,iDe,aDe,sDe,oDe,cE,NG,lDe,cDe,uDe,hDe,dDe,pDe,gDe,fDe,mDe,yDe,vDe,bDe,xDe,uE,kDe,Lf,wDe,TDe,EDe,_De,CDe,SDe,ADe,LDe,NDe,IDe,MDe,IG,DDe,MG,Kb,RDe,ODe,PDe,BDe,$De,FDe,zDe,GDe,qDe,jDe,YDe,Zb,UDe,HDe,WDe,VDe,DG,XDe,KDe,ZDe,QDe,JDe,eRe,tRe,RG,OG,rRe,PG,BG,nRe,$G,FG,iRe,hE,aRe,sRe,oRe,zG,lRe,cRe,uRe,hRe,dRe,pRe,gRe,fRe,mRe,yRe,vRe,bRe,xRe,vn,kRe,Qb,tn,Sn,Ft,dE,wRe,TRe,ERe,vp,Fu,pE,_Re,CRe,SRe,ARe,LRe,GG,NRe,IRe,gE,MRe,ui,qn,DRe,RRe,ORe,zu,Gu,qu,lo,bp,Jb,PRe,BRe,ex,Il,$Re,qG,jG,FRe,Nf,wd,co,Go,Td,If,tx,fE,zRe,GRe,YG,UG,HG,Mf,WG,VG,qRe,rx,nx,XG,jRe,YRe,URe,HRe,WRe,VRe,XRe,KRe,ZRe,KG,QRe,JRe,eOe,ZG,QG,tOe,JG,eq,rOe,ju,tq,rq,nOe,iOe,ix,nq,iq,an,aOe,aq,ax,sOe,oOe,sx,ua,xp,lOe,cOe,uOe,hOe,Yu,Sa,sq,oq,lq,ha,Pn,dOe,pOe,Bn,ox,gOe,fOe,lx,cq,mE,cx,mOe,yOe,yE,ux,Aa,Df,vOe,Rf,vE,Ml,hx,bE,da,dx,La,Na,bOe,xOe,Ed,Of,Pf,px,kOe,wOe,kp,uq,TOe,EOe,hq,_Oe,COe,SOe,AOe,ket,LOe,dq,NOe,IOe,MOe,pq,DOe,ROe,gx,OOe,POe,BOe,$Oe,FOe,zOe,gq,GOe,qOe,jOe,YOe,UOe,fq,mq,xE,_d,fx,yq,vq,Dl,uo,HOe,WOe,wp,kE,Uu,Tp,Ep,Sc,Bf,wE,VOe,XOe,bq,xq,KOe,kq,ZOe,QOe,Ia,$f,TE,Rl,wq,Tq,JOe,Eq,_q,Cq,mx,yx,Sq,Aq,_p,Ac,Ff,Lq,ePe,Nq,Cp,EE,Iq,tPe,Mq,vx,bx,_E,rPe,nPe,iPe,aPe,sPe,oPe,lPe,cPe,uPe,hPe,dPe,pPe,gPe,fPe,Sp,mPe,zf,zi,yPe,Gf,xx,vPe,bPe,xPe,kPe,wPe,TPe,EPe,_Pe,Dq,CPe,SPe,Rq,pa,Oq,APe,Pq,LPe,Ol,NPe,IPe,MPe,DPe,RPe,CE,Lc,Bq,SE,Cd,Ap,$q,$s,OPe,Hu,Fq,zq,AE,LE,Gq,Lp,qf,qq,PPe,sn,BPe,$Pe,FPe,jq,Yq,NE,Uq,Sd,zPe,Pl,GPe=I(()=>{"use strict";for(o(Bi,"_typeof"),o(OT,"_classCallCheck"),o(KF,"_defineProperties"),o(PT,"_createClass"),o(ZF,"_defineProperty$1"),o(Fo,"_slicedToArray"),o(rLe,"_arrayWithHoles"),o(nLe,"_iterableToArrayLimit"),o(QF,"_unsupportedIterableToArray"),o(JF,"_arrayLikeToArray"),o(iLe,"_nonIterableRest"),o(ez,"_createForOfIteratorHelper"),$i=typeof window>"u"?null:window,Sz=$i?$i.navigator:null,$i&&$i.document,gNe=Bi(""),Az=Bi({}),fNe=Bi(function(){}),mNe=typeof HTMLElement>"u"?"undefined":Bi(HTMLElement),gf=o(function(e){return e&&e.instanceString&&Jn(e.instanceString)?e.instanceString():null},"instanceStr"),or=o(function(e){return e!=null&&Bi(e)==gNe},"string"),Jn=o(function(e){return e!=null&&Bi(e)===fNe},"fn"),In=o(function(e){return!Bs(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},"array"),en=o(function(e){return e!=null&&Bi(e)===Az&&!In(e)&&e.constructor===Object},"plainObject"),yNe=o(function(e){return e!=null&&Bi(e)===Az},"object"),Ct=o(function(e){return e!=null&&Bi(e)===Bi(1)&&!isNaN(e)},"number"),vNe=o(function(e){return Ct(e)&&Math.floor(e)===e},"integer"),Nb=o(function(e){if(mNe!=="undefined")return e!=null&&e instanceof HTMLElement},"htmlElement"),Bs=o(function(e){return ff(e)||Lz(e)},"elementOrCollection"),ff=o(function(e){return gf(e)==="collection"&&e._private.single},"element"),Lz=o(function(e){return gf(e)==="collection"&&!e._private.single},"collection"),UT=o(function(e){return gf(e)==="core"},"core"),Nz=o(function(e){return gf(e)==="stylesheet"},"stylesheet"),bNe=o(function(e){return gf(e)==="event"},"event"),Ru=o(function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},"emptyString"),xNe=o(function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},"domElement"),kNe=o(function(e){return en(e)&&Ct(e.x1)&&Ct(e.x2)&&Ct(e.y1)&&Ct(e.y2)},"boundingBox"),wNe=o(function(e){return yNe(e)&&Jn(e.then)},"promise"),TNe=o(function(){return Sz&&Sz.userAgent.match(/msie|trident|edge/i)},"ms"),mf=o(function(e,t){t||(t=o(function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);return n.join("$")},"keyFn"));var r=o(function n(){var i=this,a=arguments,s,l=t.apply(i,a),u=n.cache;return(s=u[l])||(s=u[l]=e.apply(i,a)),s},"memoizedFn");return r.cache={},r},"memoize"),HT=mf(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),Ib=mf(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),Iz=mf(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),Mz=o(function(e){return Ru(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},"capitalize"),Fi="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",ENe="rgb[a]?\\(("+Fi+"[%]?)\\s*,\\s*("+Fi+"[%]?)\\s*,\\s*("+Fi+"[%]?)(?:\\s*,\\s*("+Fi+"))?\\)",_Ne="rgb[a]?\\((?:"+Fi+"[%]?)\\s*,\\s*(?:"+Fi+"[%]?)\\s*,\\s*(?:"+Fi+"[%]?)(?:\\s*,\\s*(?:"+Fi+"))?\\)",CNe="hsl[a]?\\(("+Fi+")\\s*,\\s*("+Fi+"[%])\\s*,\\s*("+Fi+"[%])(?:\\s*,\\s*("+Fi+"))?\\)",SNe="hsl[a]?\\((?:"+Fi+")\\s*,\\s*(?:"+Fi+"[%])\\s*,\\s*(?:"+Fi+"[%])(?:\\s*,\\s*(?:"+Fi+"))?\\)",ANe="\\#[0-9a-fA-F]{3}",LNe="\\#[0-9a-fA-F]{6}",Dz=o(function(e,t){return e<t?-1:e>t?1:0},"ascending"),NNe=o(function(e,t){return-1*Dz(e,t)},"descending"),br=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a];e[s]=n[s]}}return e},INe=o(function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,r,n,i,a=16;return t?(r=parseInt(e[1]+e[1],a),n=parseInt(e[2]+e[2],a),i=parseInt(e[3]+e[3],a)):(r=parseInt(e[1]+e[2],a),n=parseInt(e[3]+e[4],a),i=parseInt(e[5]+e[6],a)),[r,n,i]}},"hex2tuple"),MNe=o(function(e){var t,r,n,i,a,s,l,u;function h(g,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?g+(m-g)*6*y:y<1/2?m:y<2/3?g+(m-g)*(2/3-y)*6:g}o(h,"hue2rgb");var d=new RegExp("^"+CNe+"$").exec(e);if(d){if(r=parseInt(d[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,n=parseFloat(d[2]),n<0||n>100||(n=n/100,i=parseFloat(d[3]),i<0||i>100)||(i=i/100,a=d[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(n===0)s=l=u=Math.round(i*255);else{var p=i<.5?i*(1+n):i+n-i*n,f=2*i-p;s=Math.round(255*h(f,p,r+1/3)),l=Math.round(255*h(f,p,r)),u=Math.round(255*h(f,p,r-1/3))}t=[s,l,u,a]}return t},"hsl2tuple"),DNe=o(function(e){var t,r=new RegExp("^"+ENe+"$").exec(e);if(r){t=[];for(var n=[],i=1;i<=3;i++){var a=r[i];if(a[a.length-1]==="%"&&(n[i]=!0),a=parseFloat(a),n[i]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var s=n[1]||n[2]||n[3],l=n[1]&&n[2]&&n[3];if(s&&!l)return;var u=r[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;t.push(u)}}return t},"rgb2tuple"),RNe=o(function(e){return PNe[e.toLowerCase()]},"colorname2tuple"),ONe=o(function(e){return(In(e)?e:null)||RNe(e)||INe(e)||DNe(e)||MNe(e)},"color2tuple"),PNe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Rz=o(function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(en(a))throw Error("Tried to set map with object key");i<r.length-1?(t[a]==null&&(t[a]={}),t=t[a]):t[a]=e.value}},"setMap"),Oz=o(function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(en(a))throw Error("Tried to get map with object key");if(t=t[a],t==null)return t}return t},"getMap"),o(aLe,"isObject"),fd=aLe,yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o(sLe,"createCommonjsModule"),BNe=typeof yf=="object"&&yf&&yf.Object===Object&&yf,$Ne=BNe,FNe=typeof self=="object"&&self&&self.Object===Object&&self,zNe=$Ne||FNe||Function("return this")(),Mb=zNe,GNe=o(function(){return Mb.Date.now()},"now"),WT=GNe,qNe=/\s/,o(oLe,"trimmedEndIndex"),jNe=oLe,YNe=/^\s+/,o(lLe,"baseTrim"),UNe=lLe,HNe=Mb.Symbol,lp=HNe,Pz=Object.prototype,WNe=Pz.hasOwnProperty,VNe=Pz.toString,vf=lp?lp.toStringTag:void 0,o(cLe,"getRawTag"),XNe=cLe,KNe=Object.prototype,ZNe=KNe.toString,o(uLe,"objectToString"),QNe=uLe,JNe="[object Null]",eIe="[object Undefined]",Bz=lp?lp.toStringTag:void 0,o(hLe,"baseGetTag"),$z=hLe,o(dLe,"isObjectLike"),tIe=dLe,rIe="[object Symbol]",o(pLe,"isSymbol"),bf=pLe,Fz=NaN,nIe=/^[-+]0x[0-9a-f]+$/i,iIe=/^0b[01]+$/i,aIe=/^0o[0-7]+$/i,sIe=parseInt,o(gLe,"toNumber"),zz=gLe,oIe="Expected a function",lIe=Math.max,cIe=Math.min,o(fLe,"debounce"),Db=fLe,VT=$i?$i.performance:null,Gz=VT&&VT.now?function(){return VT.now()}:function(){return Date.now()},uIe=function(){if($i){if($i.requestAnimationFrame)return function(e){$i.requestAnimationFrame(e)};if($i.mozRequestAnimationFrame)return function(e){$i.mozRequestAnimationFrame(e)};if($i.webkitRequestAnimationFrame)return function(e){$i.webkitRequestAnimationFrame(e)};if($i.msRequestAnimationFrame)return function(e){$i.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(Gz())},1e3/60)}}(),Rb=o(function(e){return uIe(e)},"requestAnimationFrame"),Ec=Gz,cp=9261,qz=65599,xf=5381,jz=o(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cp,r=t,n;n=e.next(),!n.done;)r=r*qz+n.value|0;return r},"hashIterableInts"),kf=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cp;return t*qz+e|0},"hashInt"),wf=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xf;return(t<<5)+t+e|0},"hashIntAlt"),hIe=o(function(e,t){return e*2097152+t},"combineHashes"),Ou=o(function(e){return e[0]*2097152+e[1]},"combineHashesArray"),Ob=o(function(e,t){return[kf(e[0],t[0]),wf(e[1],t[1])]},"hashArrays"),dIe=o(function(e,t){var r={value:0,done:!1},n=0,i=e.length,a={next:o(function(){return n<i?r.value=e[n++]:r.done=!0,r},"next")};return jz(a,t)},"hashIntsArray"),md=o(function(e,t){var r={value:0,done:!1},n=0,i=e.length,a={next:o(function(){return n<i?r.value=e.charCodeAt(n++):r.done=!0,r},"next")};return jz(a,t)},"hashString"),Yz=o(function(){return pIe(arguments)},"hashStrings"),pIe=o(function(e){for(var t,r=0;r<e.length;r++){var n=e[r];r===0?t=md(n):t=md(n,t)}return t},"hashStringsArray"),Uz=!0,gIe=console.warn!=null,fIe=console.trace!=null,XT=Number.MAX_SAFE_INTEGER||9007199254740991,Hz=o(function(){return!0},"trueify"),Pb=o(function(){return!1},"falsify"),Wz=o(function(){return 0},"zeroify"),KT=o(function(){},"noop"),ci=o(function(e){throw new Error(e)},"error"),Vz=o(function(e){if(e!==void 0)Uz=!!e;else return Uz},"warnings"),yn=o(function(e){Vz()&&(gIe?console.warn(e):(console.log(e),fIe&&console.trace()))},"warn"),mIe=o(function(e){return br({},e)},"clone"),Ll=o(function(e){return e==null?e:In(e)?e.slice():en(e)?mIe(e):e},"copy"),yIe=o(function(e){return e.slice()},"copyArray"),Xz=o(function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},"uuid"),vIe={},Kz=o(function(){return vIe},"staticEmptyObject"),ca=o(function(e){var t=Object.keys(e);return function(r){for(var n={},i=0;i<t.length;i++){var a=t[i],s=r?.[a];n[a]=s===void 0?e[a]:s}return n}},"defaults"),Pu=o(function(e,t,r){for(var n=e.length-1;n>=0&&!(e[n]===t&&(e.splice(n,1),r));n--);},"removeFromArray"),ZT=o(function(e){e.splice(0,e.length)},"clearArray"),bIe=o(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.push(n)}},"push"),zo=o(function(e,t,r){return r&&(t=Iz(r,t)),e[t]},"getPrefixedProperty"),Bu=o(function(e,t,r,n){r&&(t=Iz(r,t)),e[t]=n},"setPrefixedProperty"),xIe=function(){function e(){OT(this,e),this._obj={}}return o(e,"ObjectMap"),PT(e,[{key:"set",value:o(function(t,r){return this._obj[t]=r,this},"set")},{key:"delete",value:o(function(t){return this._obj[t]=void 0,this},"_delete")},{key:"clear",value:o(function(){this._obj={}},"clear")},{key:"has",value:o(function(t){return this._obj[t]!==void 0},"has")},{key:"get",value:o(function(t){return this._obj[t]},"get")}]),e}(),Nl=typeof Map<"u"?Map:xIe,kIe="undefined",wIe=function(){function e(t){if(OT(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return o(e,"ObjectSet"),PT(e,[{key:"instanceString",value:o(function(){return"set"},"instanceString")},{key:"add",value:o(function(t){var r=this._obj;r[t]!==1&&(r[t]=1,this.size++)},"add")},{key:"delete",value:o(function(t){var r=this._obj;r[t]===1&&(r[t]=0,this.size--)},"_delete")},{key:"clear",value:o(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:o(function(t){return this._obj[t]===1},"has")},{key:"toArray",value:o(function(){var t=this;return Object.keys(this._obj).filter(function(r){return t.has(r)})},"toArray")},{key:"forEach",value:o(function(t,r){return this.toArray().forEach(t,r)},"forEach")}]),e}(),up=(typeof Set>"u"?"undefined":Bi(Set))!==kIe?Set:wIe,Bb=o(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!UT(e)){ci("An element must have a core reference and parameters set");return}var n=t.group;if(n==null&&(t.data&&t.data.source!=null&&t.data.target!=null?n="edges":n="nodes"),n!=="nodes"&&n!=="edges"){ci("An element must be of type `nodes` or `edges`; you specified `"+n+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?n==="edges":!!t.pannable,active:!1,classes:new up,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),t.renderedPosition){var a=t.renderedPosition,s=e.pan(),l=e.zoom();i.position={x:(a.x-s.x)/l,y:(a.y-s.y)/l}}var u=[];In(t.classes)?u=t.classes:or(t.classes)&&(u=t.classes.split(/\s+/));for(var h=0,d=u.length;h<d;h++){var p=u[h];!p||p===""||i.classes.add(p)}this.createEmitter();var f=t.style||t.css;f&&(yn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(f)),(r===void 0||r)&&this.restore()},"Element"),Zz=o(function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},o(function(t,r,n){var i;en(t)&&!Bs(t)&&(i=t,t=i.roots||i.root,r=i.visit,n=i.directed),n=arguments.length===2&&!Jn(r)?r:n,r=Jn(r)?r:function(){};for(var a=this._private.cy,s=t=or(t)?this.filter(t):t,l=[],u=[],h={},d={},p={},f=0,g,m=this.byGroup(),y=m.nodes,b=m.edges,v=0;v<s.length;v++){var x=s[v],k=x.id();x.isNode()&&(l.unshift(x),e.bfs&&(p[k]=!0,u.push(x)),d[k]=0)}for(var w=o(function(){var D=e.bfs?l.shift():l.pop(),M=D.id();if(e.dfs){if(p[M])return"continue";p[M]=!0,u.push(D)}var L=d[M],B=h[M],E=B!=null?B.source():null,R=B!=null?B.target():null,O=B==null?void 0:D.same(E)?R[0]:E[0],P=void 0;if(P=r(D,B,O,f++,L),P===!0)return g=D,"break";if(P===!1)return"break";for(var A=D.connectedEdges().filter(function(W){return(!n||W.source().same(D))&&b.has(W)}),$=0;$<A.length;$++){var F=A[$],G=F.connectedNodes().filter(function(W){return!W.same(D)&&y.has(W)}),q=G.id();G.length!==0&&!p[q]&&(G=G[0],l.push(G),e.bfs&&(p[q]=!0,u.push(G)),h[q]=F,d[q]=d[M]+1)}},"_loop");l.length!==0;){var _=w();if(_!=="continue"&&_==="break")break}for(var S=a.collection(),C=0;C<u.length;C++){var T=u[C],N=h[T.id()];N!=null&&S.push(N),S.push(T)}return{path:a.collection(S),found:a.collection(g)}},"searchFn")},"defineSearch"),Tf={breadthFirstSearch:Zz({bfs:!0}),depthFirstSearch:Zz({dfs:!0})},Tf.bfs=Tf.breadthFirstSearch,Tf.dfs=Tf.depthFirstSearch,TIe=sLe(function(e,t){(function(){var r,n,i,a,s,l,u,h,d,p,f,g,m,y,b;i=Math.floor,p=Math.min,n=o(function(v,x){return v<x?-1:v>x?1:0},"defaultCmp"),d=o(function(v,x,k,w,_){var S;if(k==null&&(k=0),_==null&&(_=n),k<0)throw new Error("lo must be non-negative");for(w==null&&(w=v.length);k<w;)S=i((k+w)/2),_(x,v[S])<0?w=S:k=S+1;return[].splice.apply(v,[k,k-k].concat(x)),x},"insort"),l=o(function(v,x,k){return k==null&&(k=n),v.push(x),y(v,0,v.length-1,k)},"heappush"),s=o(function(v,x){var k,w;return x==null&&(x=n),k=v.pop(),v.length?(w=v[0],v[0]=k,b(v,0,x)):w=k,w},"heappop"),h=o(function(v,x,k){var w;return k==null&&(k=n),w=v[0],v[0]=x,b(v,0,k),w},"heapreplace"),u=o(function(v,x,k){var w;return k==null&&(k=n),v.length&&k(v[0],x)<0&&(w=[v[0],x],x=w[0],v[0]=w[1],b(v,0,k)),x},"heappushpop"),a=o(function(v,x){var k,w,_,S,C,T;for(x==null&&(x=n),S=function(){T=[];for(var N=0,D=i(v.length/2);0<=D?N<D:N>D;0<=D?N++:N--)T.push(N);return T}.apply(this).reverse(),C=[],w=0,_=S.length;w<_;w++)k=S[w],C.push(b(v,k,x));return C},"heapify"),m=o(function(v,x,k){var w;if(k==null&&(k=n),w=v.indexOf(x),w!==-1)return y(v,0,w,k),b(v,w,k)},"updateItem"),f=o(function(v,x,k){var w,_,S,C,T;if(k==null&&(k=n),_=v.slice(0,x),!_.length)return _;for(a(_,k),T=v.slice(x),S=0,C=T.length;S<C;S++)w=T[S],u(_,w,k);return _.sort(k).reverse()},"nlargest"),g=o(function(v,x,k){var w,_,S,C,T,N,D,M,L;if(k==null&&(k=n),x*10<=v.length){if(S=v.slice(0,x).sort(k),!S.length)return S;for(_=S[S.length-1],D=v.slice(x),C=0,N=D.length;C<N;C++)w=D[C],k(w,_)<0&&(d(S,w,0,null,k),S.pop(),_=S[S.length-1]);return S}for(a(v,k),L=[],T=0,M=p(x,v.length);0<=M?T<M:T>M;0<=M?++T:--T)L.push(s(v,k));return L},"nsmallest"),y=o(function(v,x,k,w){var _,S,C;for(w==null&&(w=n),_=v[k];k>x;){if(C=k-1>>1,S=v[C],w(_,S)<0){v[k]=S,k=C;continue}break}return v[k]=_},"_siftdown"),b=o(function(v,x,k){var w,_,S,C,T;for(k==null&&(k=n),_=v.length,T=x,S=v[x],w=2*x+1;w<_;)C=w+1,C<_&&!(k(v[w],v[C])<0)&&(w=C),v[x]=v[w],x=w,w=2*x+1;return v[x]=S,y(v,T,x,k)},"_siftup"),r=function(){v.push=l,v.pop=s,v.replace=h,v.pushpop=u,v.heapify=a,v.updateItem=m,v.nlargest=f,v.nsmallest=g;function v(x){this.cmp=x??n,this.nodes=[]}return o(v,"Heap"),v.prototype.push=function(x){return l(this.nodes,x,this.cmp)},v.prototype.pop=function(){return s(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(x){return this.nodes.indexOf(x)!==-1},v.prototype.replace=function(x){return h(this.nodes,x,this.cmp)},v.prototype.pushpop=function(x){return u(this.nodes,x,this.cmp)},v.prototype.heapify=function(){return a(this.nodes,this.cmp)},v.prototype.updateItem=function(x){return m(this.nodes,x,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var x;return x=new v,x.nodes=this.nodes.slice(0),x},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v}(),function(v,x){return e.exports=x()}(this,function(){return r})}).call(yf)}),Ef=TIe,EIe=ca({root:null,weight:o(function(e){return 1},"weight"),directed:!1}),_Ie={dijkstra:o(function(e){if(!en(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=EIe(e),n=r.root,i=r.weight,a=r.directed,s=this,l=i,u=or(n)?this.filter(n)[0]:n[0],h={},d={},p={},f=this.byGroup(),g=f.nodes,m=f.edges;m.unmergeBy(function(E){return E.isLoop()});for(var y=o(function(E){return h[E.id()]},"getDist"),b=o(function(E,R){h[E.id()]=R,v.updateItem(E)},"setDist"),v=new Ef(function(E,R){return y(E)-y(R)}),x=0;x<g.length;x++){var k=g[x];h[k.id()]=k.same(u)?0:1/0,v.push(k)}for(var w=o(function(E,R){for(var O=(a?E.edgesTo(R):E.edgesWith(R)).intersect(m),P=1/0,A,$=0;$<O.length;$++){var F=O[$],G=l(F);(G<P||!A)&&(P=G,A=F)}return{edge:A,dist:P}},"distBetween");v.size()>0;){var _=v.pop(),S=y(_),C=_.id();if(p[C]=S,S!==1/0)for(var T=_.neighborhood().intersect(g),N=0;N<T.length;N++){var D=T[N],M=D.id(),L=w(_,D),B=S+L.dist;B<y(D)&&(b(D,B),d[M]={node:_,edge:L.edge})}}return{distanceTo:o(function(E){var R=or(E)?g.filter(E)[0]:E[0];return p[R.id()]},"distanceTo"),pathTo:o(function(E){var R=or(E)?g.filter(E)[0]:E[0],O=[],P=R,A=P.id();if(R.length>0)for(O.unshift(R);d[A];){var $=d[A];O.unshift($.edge),O.unshift($.node),P=$.node,A=P.id()}return s.spawn(O)},"pathTo")}},"dijkstra")},CIe={kruskal:o(function(e){e=e||function(x){return 1};for(var t=this.byGroup(),r=t.nodes,n=t.edges,i=r.length,a=new Array(i),s=r,l=o(function(x){for(var k=0;k<a.length;k++){var w=a[k];if(w.has(x))return k}},"findSetIndex"),u=0;u<i;u++)a[u]=this.spawn(r[u]);for(var h=n.sort(function(x,k){return e(x)-e(k)}),d=0;d<h.length;d++){var p=h[d],f=p.source()[0],g=p.target()[0],m=l(f),y=l(g),b=a[m],v=a[y];m!==y&&(s.merge(p),b.merge(v),a.splice(y,1))}return s},"kruskal")},SIe=ca({root:null,goal:null,weight:o(function(e){return 1},"weight"),heuristic:o(function(e){return 0},"heuristic"),directed:!1}),AIe={aStar:o(function(e){var t=this.cy(),r=SIe(e),n=r.root,i=r.goal,a=r.heuristic,s=r.directed,l=r.weight;n=t.collection(n)[0],i=t.collection(i)[0];var u=n.id(),h=i.id(),d={},p={},f={},g=new Ef(function($,F){return p[$.id()]-p[F.id()]}),m=new up,y={},b={},v=o(function($,F){g.push($),m.add(F)},"addToOpenSet"),x,k,w=o(function(){x=g.pop(),k=x.id(),m.delete(k)},"popFromOpenSet"),_=o(function($){return m.has($)},"isInOpenSet");v(n,u),d[u]=0,p[u]=a(n);for(var S=0;g.size()>0;){if(w(),S++,k===h){for(var C=[],T=i,N=h,D=b[N];C.unshift(T),D!=null&&C.unshift(D),T=y[N],T!=null;)N=T.id(),D=b[N];return{found:!0,distance:d[k],path:this.spawn(C),steps:S}}f[k]=!0;for(var M=x._private.edges,L=0;L<M.length;L++){var B=M[L];if(this.hasElementWithId(B.id())&&!(s&&B.data("source")!==k)){var E=B.source(),R=B.target(),O=E.id()!==k?E:R,P=O.id();if(this.hasElementWithId(P)&&!f[P]){var A=d[k]+l(B);if(!_(P)){d[P]=A,p[P]=A+a(O),v(O,P),y[P]=x,b[P]=B;continue}A<d[P]&&(d[P]=A,p[P]=A+a(O),y[P]=x,b[P]=B)}}}}return{found:!1,distance:void 0,path:void 0,steps:S}},"aStar")},LIe=ca({weight:o(function(e){return 1},"weight"),directed:!1}),NIe={floydWarshall:o(function(e){for(var t=this.cy(),r=LIe(e),n=r.weight,i=r.directed,a=n,s=this.byGroup(),l=s.nodes,u=s.edges,h=l.length,d=h*h,p=o(function(G){return l.indexOf(G)},"indexOf"),f=o(function(G){return l[G]},"atIndex"),g=new Array(d),m=0;m<d;m++){var y=m%h,b=(m-y)/h;b===y?g[m]=0:g[m]=1/0}for(var v=new Array(d),x=new Array(d),k=0;k<u.length;k++){var w=u[k],_=w.source()[0],S=w.target()[0];if(_!==S){var C=p(_),T=p(S),N=C*h+T,D=a(w);if(g[N]>D&&(g[N]=D,v[N]=T,x[N]=w),!i){var M=T*h+C;!i&&g[M]>D&&(g[M]=D,v[M]=C,x[M]=w)}}}for(var L=0;L<h;L++)for(var B=0;B<h;B++)for(var E=B*h+L,R=0;R<h;R++){var O=B*h+R,P=L*h+R;g[E]+g[P]<g[O]&&(g[O]=g[E]+g[P],v[O]=v[E])}var A=o(function(G){return(or(G)?t.filter(G):G)[0]},"getArgEle"),$=o(function(G){return p(A(G))},"indexOfArgEle"),F={distance:o(function(G,q){var W=$(G),re=$(q);return g[W*h+re]},"distance"),path:o(function(G,q){var W=$(G),re=$(q),oe=f(W);if(W===re)return oe.collection();if(v[W*h+re]==null)return t.collection();var te=t.collection(),se=W,Y;for(te.merge(oe);W!==re;)se=W,W=v[W*h+re],Y=x[se*h+W],te.merge(Y),te.merge(f(W));return te},"path")};return F},"floydWarshall")},IIe=ca({weight:o(function(e){return 1},"weight"),directed:!1,root:null}),MIe={bellmanFord:o(function(e){var t=this,r=IIe(e),n=r.weight,i=r.directed,a=r.root,s=n,l=this,u=this.cy(),h=this.byGroup(),d=h.edges,p=h.nodes,f=p.length,g=new Nl,m=!1,y=[];a=u.collection(a)[0],d.unmergeBy(function(ie){return ie.isLoop()});for(var b=d.length,v=o(function(ie){var Me=g.get(ie.id());return Me||(Me={},g.set(ie.id(),Me)),Me},"getInfo"),x=o(function(ie){return(or(ie)?u.$(ie):ie)[0]},"getNodeFromTo"),k=o(function(ie){return v(x(ie)).dist},"distanceTo"),w=o(function(ie){for(var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,Le=x(ie),Ie=[],He=Le;;){if(He==null)return t.spawn();var We=v(He),et=We.edge,Ze=We.pred;if(Ie.unshift(He[0]),He.same(Me)&&Ie.length>0)break;et!=null&&Ie.unshift(et),He=Ze}return l.spawn(Ie)},"pathTo"),_=0;_<f;_++){var S=p[_],C=v(S);S.same(a)?C.dist=0:C.dist=1/0,C.pred=null,C.edge=null}for(var T=!1,N=o(function(ie,Me,Le,Ie,He,We){var et=Ie.dist+We;et<He.dist&&!Le.same(Ie.edge)&&(He.dist=et,He.pred=ie,He.edge=Le,T=!0)},"checkForEdgeReplacement"),D=1;D<f;D++){T=!1;for(var M=0;M<b;M++){var L=d[M],B=L.source(),E=L.target(),R=s(L),O=v(B),P=v(E);N(B,E,L,O,P,R),i||N(E,B,L,P,O,R)}if(!T)break}if(T)for(var A=[],$=0;$<b;$++){var F=d[$],G=F.source(),q=F.target(),W=s(F),re=v(G).dist,oe=v(q).dist;if(re+W<oe||!i&&oe+W<re)if(m||(yn("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var te=[];re+W<oe&&te.push(G),!i&&oe+W<re&&te.push(q);for(var se=te.length,Y=0;Y<se;Y++){var V=te[Y],U=[V];U.push(v(V).edge);for(var ne=v(V).pred;U.indexOf(ne)===-1;)U.push(ne),U.push(v(ne).edge),ne=v(ne).pred;U=U.slice(U.indexOf(ne));for(var K=U[0].id(),fe=0,Q=2;Q<U.length;Q+=2)U[Q].id()<K&&(K=U[Q].id(),fe=Q);U=U.slice(fe).concat(U.slice(0,fe)),U.push(U[0]);var Te=U.map(function(ie){return ie.id()}).join(",");A.indexOf(Te)===-1&&(y.push(l.spawn(U)),A.push(Te))}}else break}return{distanceTo:k,pathTo:w,hasNegativeWeightCycle:m,negativeWeightCycles:y}},"bellmanFord")},DIe=Math.sqrt(2),RIe=o(function(e,t,r){r.length===0&&ci("Karger-Stein must be run on a connected (sub)graph");for(var n=r[e],i=n[1],a=n[2],s=t[i],l=t[a],u=r,h=u.length-1;h>=0;h--){var d=u[h],p=d[1],f=d[2];(t[p]===s&&t[f]===l||t[p]===l&&t[f]===s)&&u.splice(h,1)}for(var g=0;g<u.length;g++){var m=u[g];m[1]===l?(u[g]=m.slice(),u[g][1]=s):m[2]===l&&(u[g]=m.slice(),u[g][2]=s)}for(var y=0;y<t.length;y++)t[y]===l&&(t[y]=s);return u},"collapse"),QT=o(function(e,t,r,n){for(;r>n;){var i=Math.floor(Math.random()*t.length);t=RIe(i,e,t),r--}return t},"contractUntil"),OIe={kargerStein:o(function(){var e=this,t=this.byGroup(),r=t.nodes,n=t.edges;n.unmergeBy(function(P){return P.isLoop()});var i=r.length,a=n.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),l=Math.floor(i/DIe);if(i<2){ci("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],h=0;h<a;h++){var d=n[h];u.push([h,r.indexOf(d.source()),r.indexOf(d.target())])}for(var p=1/0,f=[],g=new Array(i),m=new Array(i),y=new Array(i),b=o(function(P,A){for(var $=0;$<i;$++)A[$]=P[$]},"copyNodesMap"),v=0;v<=s;v++){for(var x=0;x<i;x++)m[x]=x;var k=QT(m,u.slice(),i,l),w=k.slice();b(m,y);var _=QT(m,k,l,2),S=QT(y,w,l,2);_.length<=S.length&&_.length<p?(p=_.length,f=_,b(m,g)):S.length<=_.length&&S.length<p&&(p=S.length,f=S,b(y,g))}for(var C=this.spawn(f.map(function(P){return n[P[0]]})),T=this.spawn(),N=this.spawn(),D=g[0],M=0;M<g.length;M++){var L=g[M],B=r[M];L===D?T.merge(B):N.merge(B)}var E=o(function(P){var A=e.spawn();return P.forEach(function($){A.merge($),$.connectedEdges().forEach(function(F){e.contains(F)&&!C.contains(F)&&A.merge(F)})}),A},"constructComponent"),R=[E(T),E(N)],O={cut:C,components:R,partition1:T,partition2:N};return O},"kargerStein")},PIe=o(function(e){return{x:e.x,y:e.y}},"copyPosition"),$b=o(function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},"modelToRenderedPosition"),Qz=o(function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},"renderedToModelPosition"),hp=o(function(e){return{x:e[0],y:e[1]}},"array2point"),BIe=o(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.min(a,n))}return n},"min"),$Ie=o(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=-1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.max(a,n))}return n},"max"),FIe=o(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=0,i=0,a=t;a<r;a++){var s=e[a];isFinite(s)&&(n+=s,i++)}return n/i},"mean"),zIe=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;n?e=e.slice(t,r):(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t));for(var s=0,l=e.length-1;l>=0;l--){var u=e[l];a?isFinite(u)||(e[l]=-1/0,s++):e.splice(l,1)}i&&e.sort(function(p,f){return p-f});var h=e.length,d=Math.floor(h/2);return h%2!==0?e[d+1+s]:(e[d-1+s]+e[d+s])/2},"median"),GIe=o(function(e){return Math.PI*e/180},"deg2rad"),Fb=o(function(e,t){return Math.atan2(t,e)-Math.PI/2},"getAngleFromDisp"),JT=Math.log2||function(e){return Math.log(e)/Math.log(2)},Jz=o(function(e){return e>0?1:e<0?-1:0},"signum"),yd=o(function(e,t){return Math.sqrt(vd(e,t))},"dist"),vd=o(function(e,t){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n},"sqdist"),qIe=o(function(e){for(var t=e.length,r=0,n=0;n<t;n++)r+=e[n];for(var i=0;i<t;i++)e[i]=e[i]/r;return e},"inPlaceSumNormalize"),Ki=o(function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r},"qbezierAt"),dp=o(function(e,t,r,n){return{x:Ki(e.x,t.x,r.x,n),y:Ki(e.y,t.y,r.y,n)}},"qbezierPtAt"),jIe=o(function(e,t,r,n){var i={x:t.x-e.x,y:t.y-e.y},a=yd(e,t),s={x:i.x/a,y:i.y/a};return r=r??0,n=n??r*a,{x:e.x+s.x*n,y:e.y+s.y*n}},"lineAt"),_f=o(function(e,t,r){return Math.max(e,Math.min(r,t))},"bound"),gs=o(function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},"makeBoundingBox"),YIe=o(function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},"copyBoundingBox"),UIe=o(function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},"clearBoundingBox"),HIe=o(function(e,t,r){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+r,y2:e.y2+r,w:e.w,h:e.h}},"shiftBoundingBox"),eG=o(function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},"updateBoundingBox"),WIe=o(function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},"expandBoundingBoxByPoint"),zb=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBox"),Gb=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,n,i,a;if(t.length===1)r=n=i=a=t[0];else if(t.length===2)r=i=t[0],a=n=t[1];else if(t.length===4){var s=Fo(t,4);r=s[0],n=s[1],i=s[2],a=s[3]}return e.x1-=a,e.x2+=n,e.y1-=r,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBoxSides"),tG=o(function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},"assignBoundingBox"),eE=o(function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},"boundingBoxesIntersect"),pp=o(function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},"inBoundingBox"),VIe=o(function(e,t){return pp(e,t.x,t.y)},"pointInBoundingBox"),rG=o(function(e,t){return pp(e,t.x1,t.y1)&&pp(e,t.x2,t.y2)},"boundingBoxInBoundingBox"),nG=o(function(e,t,r,n,i,a,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?xd(i,a):l,h=i/2,d=a/2;u=Math.min(u,h,d);var p=u!==h,f=u!==d,g;if(p){var m=r-h+u-s,y=n-d-s,b=r+h-u+s,v=y;if(g=$u(e,t,r,n,m,y,b,v,!1),g.length>0)return g}if(f){var x=r+h+s,k=n-d+u-s,w=x,_=n+d-u+s;if(g=$u(e,t,r,n,x,k,w,_,!1),g.length>0)return g}if(p){var S=r-h+u-s,C=n+d+s,T=r+h-u+s,N=C;if(g=$u(e,t,r,n,S,C,T,N,!1),g.length>0)return g}if(f){var D=r-h-s,M=n-d+u-s,L=D,B=n+d-u+s;if(g=$u(e,t,r,n,D,M,L,B,!1),g.length>0)return g}var E;{var R=r-h+u,O=n-d+u;if(E=Cf(e,t,r,n,R,O,u+s),E.length>0&&E[0]<=R&&E[1]<=O)return[E[0],E[1]]}{var P=r+h-u,A=n-d+u;if(E=Cf(e,t,r,n,P,A,u+s),E.length>0&&E[0]>=P&&E[1]<=A)return[E[0],E[1]]}{var $=r+h-u,F=n+d-u;if(E=Cf(e,t,r,n,$,F,u+s),E.length>0&&E[0]>=$&&E[1]>=F)return[E[0],E[1]]}{var G=r-h+u,q=n+d-u;if(E=Cf(e,t,r,n,G,q,u+s),E.length>0&&E[0]<=G&&E[1]>=q)return[E[0],E[1]]}return[]},"roundRectangleIntersectLine"),XIe=o(function(e,t,r,n,i,a,s){var l=s,u=Math.min(r,i),h=Math.max(r,i),d=Math.min(n,a),p=Math.max(n,a);return u-l<=e&&e<=h+l&&d-l<=t&&t<=p+l},"inLineVicinity"),KIe=o(function(e,t,r,n,i,a,s,l,u){var h={x1:Math.min(r,s,i)-u,x2:Math.max(r,s,i)+u,y1:Math.min(n,l,a)-u,y2:Math.max(n,l,a)+u};return!(e<h.x1||e>h.x2||t<h.y1||t>h.y2)},"inBezierVicinity"),ZIe=o(function(e,t,r,n){r-=n;var i=t*t-4*e*r;if(i<0)return[];var a=Math.sqrt(i),s=2*e,l=(-t+a)/s,u=(-t-a)/s;return[l,u]},"solveQuadratic"),QIe=o(function(e,t,r,n,i){var a=1e-5;e===0&&(e=a),t/=e,r/=e,n/=e;var s,l,u,h,d,p,f,g;if(l=(3*r-t*t)/9,u=-(27*n)+t*(9*r-2*(t*t)),u/=54,s=l*l*l+u*u,i[1]=0,f=t/3,s>0){d=u+Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),p=u-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),i[0]=-f+d+p,f+=(d+p)/2,i[4]=i[2]=-f,f=Math.sqrt(3)*(-p+d)/2,i[3]=f,i[5]=-f;return}if(i[5]=i[3]=0,s===0){g=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-f+2*g,i[4]=i[2]=-(g+f);return}l=-l,h=l*l*l,h=Math.acos(u/Math.sqrt(h)),g=2*Math.sqrt(l),i[0]=-f+g*Math.cos(h/3),i[2]=-f+g*Math.cos((h+2*Math.PI)/3),i[4]=-f+g*Math.cos((h+4*Math.PI)/3)},"solveCubic"),JIe=o(function(e,t,r,n,i,a,s,l){var u=1*r*r-4*r*i+2*r*s+4*i*i-4*i*s+s*s+n*n-4*n*a+2*n*l+4*a*a-4*a*l+l*l,h=1*9*r*i-3*r*r-3*r*s-6*i*i+3*i*s+9*n*a-3*n*n-3*n*l-6*a*a+3*a*l,d=1*3*r*r-6*r*i+r*s-r*e+2*i*i+2*i*e-s*e+3*n*n-6*n*a+n*l-n*t+2*a*a+2*a*t-l*t,p=1*r*i-r*r+r*e-i*e+n*a-n*n+n*t-a*t,f=[];QIe(u,h,d,p,f);for(var g=1e-7,m=[],y=0;y<6;y+=2)Math.abs(f[y+1])<g&&f[y]>=0&&f[y]<=1&&m.push(f[y]);m.push(1),m.push(0);for(var b=-1,v,x,k,w=0;w<m.length;w++)v=Math.pow(1-m[w],2)*r+2*(1-m[w])*m[w]*i+m[w]*m[w]*s,x=Math.pow(1-m[w],2)*n+2*(1-m[w])*m[w]*a+m[w]*m[w]*l,k=Math.pow(v-e,2)+Math.pow(x-t,2),b>=0?k<b&&(b=k):b=k;return b},"sqdistToQuadraticBezier"),eMe=o(function(e,t,r,n,i,a){var s=[e-r,t-n],l=[i-r,a-n],u=l[0]*l[0]+l[1]*l[1],h=s[0]*s[0]+s[1]*s[1],d=s[0]*l[0]+s[1]*l[1],p=d*d/u;return d<0?h:p>u?(e-i)*(e-i)+(t-a)*(t-a):h-p},"sqdistToFiniteLine"),fs=o(function(e,t,r){for(var n,i,a,s,l,u=0,h=0;h<r.length/2;h++)if(n=r[h*2],i=r[h*2+1],h+1<r.length/2?(a=r[(h+1)*2],s=r[(h+1)*2+1]):(a=r[(h+1-r.length/2)*2],s=r[(h+1-r.length/2)*2+1]),!(n==e&&a==e))if(n>=e&&e>=a||n<=e&&e<=a)l=(e-n)/(a-n)*(s-i)+i,l>t&&u++;else continue;return u%2!==0},"pointInsidePolygonPoints"),_c=o(function(e,t,r,n,i,a,s,l,u){var h=new Array(r.length),d;l[0]!=null?(d=Math.atan(l[1]/l[0]),l[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=l;for(var p=Math.cos(-d),f=Math.sin(-d),g=0;g<h.length/2;g++)h[g*2]=a/2*(r[g*2]*p-r[g*2+1]*f),h[g*2+1]=s/2*(r[g*2+1]*p+r[g*2]*f),h[g*2]+=n,h[g*2+1]+=i;var m;if(u>0){var y=jb(h,-u);m=qb(y)}else m=h;return fs(e,t,m)},"pointInsidePolygon"),tMe=o(function(e,t,r,n,i,a,s,l){for(var u=new Array(r.length*2),h=0;h<l.length;h++){var d=l[h];u[h*4+0]=d.startX,u[h*4+1]=d.startY,u[h*4+2]=d.stopX,u[h*4+3]=d.stopY;var p=Math.pow(d.cx-e,2)+Math.pow(d.cy-t,2);if(p<=Math.pow(d.radius,2))return!0}return fs(e,t,u)},"pointInsideRoundPolygon"),qb=o(function(e){for(var t=new Array(e.length/2),r,n,i,a,s,l,u,h,d=0;d<e.length/4;d++){r=e[d*4],n=e[d*4+1],i=e[d*4+2],a=e[d*4+3],d<e.length/4-1?(s=e[(d+1)*4],l=e[(d+1)*4+1],u=e[(d+1)*4+2],h=e[(d+1)*4+3]):(s=e[0],l=e[1],u=e[2],h=e[3]);var p=$u(r,n,i,a,s,l,u,h,!0);t[d*2]=p[0],t[d*2+1]=p[1]}return t},"joinLines"),jb=o(function(e,t){for(var r=new Array(e.length*2),n,i,a,s,l=0;l<e.length/2;l++){n=e[l*2],i=e[l*2+1],l<e.length/2-1?(a=e[(l+1)*2],s=e[(l+1)*2+1]):(a=e[0],s=e[1]);var u=s-i,h=-(a-n),d=Math.sqrt(u*u+h*h),p=u/d,f=h/d;r[l*4]=n+p*t,r[l*4+1]=i+f*t,r[l*4+2]=a+p*t,r[l*4+3]=s+f*t}return r},"expandPolygon"),rMe=o(function(e,t,r,n,i,a){var s=r-e,l=n-t;s/=i,l/=a;var u=Math.sqrt(s*s+l*l),h=u-1;if(h<0)return[];var d=h/u;return[(r-e)*d+e,(n-t)*d+t]},"intersectLineEllipse"),bd=o(function(e,t,r,n,i,a,s){return e-=i,t-=a,e/=r/2+s,t/=n/2+s,e*e+t*t<=1},"checkInEllipse"),Cf=o(function(e,t,r,n,i,a,s){var l=[r-e,n-t],u=[e-i,t-a],h=l[0]*l[0]+l[1]*l[1],d=2*(u[0]*l[0]+u[1]*l[1]),p=u[0]*u[0]+u[1]*u[1]-s*s,f=d*d-4*h*p;if(f<0)return[];var g=(-d+Math.sqrt(f))/(2*h),m=(-d-Math.sqrt(f))/(2*h),y=Math.min(g,m),b=Math.max(g,m),v=[];if(y>=0&&y<=1&&v.push(y),b>=0&&b<=1&&v.push(b),v.length===0)return[];var x=v[0]*l[0]+e,k=v[0]*l[1]+t;if(v.length>1){if(v[0]==v[1])return[x,k];var w=v[1]*l[0]+e,_=v[1]*l[1]+t;return[x,k,w,_]}else return[x,k]},"intersectLineCircle"),tE=o(function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},"midOfThree"),$u=o(function(e,t,r,n,i,a,s,l,u){var h=e-i,d=r-e,p=s-i,f=t-a,g=n-t,m=l-a,y=p*f-m*h,b=d*f-g*h,v=m*d-p*g;if(v!==0){var x=y/v,k=b/v,w=.001,_=0-w,S=1+w;return _<=x&&x<=S&&_<=k&&k<=S?[e+x*d,t+x*g]:u?[e+x*d,t+x*g]:[]}else return y===0||b===0?tE(e,r,s)===s?[s,l]:tE(e,r,i)===i?[i,a]:tE(i,s,r)===r?[r,n]:[]:[]},"finiteLinesIntersect"),Sf=o(function(e,t,r,n,i,a,s,l){var u=[],h,d=new Array(r.length),p=!0;a==null&&(p=!1);var f;if(p){for(var g=0;g<d.length/2;g++)d[g*2]=r[g*2]*a+n,d[g*2+1]=r[g*2+1]*s+i;if(l>0){var m=jb(d,-l);f=qb(m)}else f=d}else f=r;for(var y,b,v,x,k=0;k<f.length/2;k++)y=f[k*2],b=f[k*2+1],k<f.length/2-1?(v=f[(k+1)*2],x=f[(k+1)*2+1]):(v=f[0],x=f[1]),h=$u(e,t,n,i,y,b,v,x),h.length!==0&&u.push(h[0],h[1]);return u},"polygonIntersectLine"),nMe=o(function(e,t,r,n,i,a,s,l,u){var h=[],d,p=new Array(r.length*2);u.forEach(function(v,x){x===0?(p[p.length-2]=v.startX,p[p.length-1]=v.startY):(p[x*4-2]=v.startX,p[x*4-1]=v.startY),p[x*4]=v.stopX,p[x*4+1]=v.stopY,d=Cf(e,t,n,i,v.cx,v.cy,v.radius),d.length!==0&&h.push(d[0],d[1])});for(var f=0;f<p.length/4;f++)d=$u(e,t,n,i,p[f*4],p[f*4+1],p[f*4+2],p[f*4+3],!1),d.length!==0&&h.push(d[0],d[1]);if(h.length>2){for(var g=[h[0],h[1]],m=Math.pow(g[0]-e,2)+Math.pow(g[1]-t,2),y=1;y<h.length/2;y++){var b=Math.pow(h[y*2]-e,2)+Math.pow(h[y*2+1]-t,2);b<=m&&(g[0]=h[y*2],g[1]=h[y*2+1],m=b)}return g}return h},"roundPolygonIntersectLine"),Yb=o(function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(i-r)/i;return a<0&&(a=1e-5),[t[0]+a*n[0],t[1]+a*n[1]]},"shortenIntersection"),Ha=o(function(e,t){var r=rE(e,t);return r=iG(r),r},"generateUnitNgonPointsFitToSquare"),iG=o(function(e){for(var t,r,n=e.length/2,i=1/0,a=1/0,s=-1/0,l=-1/0,u=0;u<n;u++)t=e[2*u],r=e[2*u+1],i=Math.min(i,t),s=Math.max(s,t),a=Math.min(a,r),l=Math.max(l,r);for(var h=2/(s-i),d=2/(l-a),p=0;p<n;p++)t=e[2*p]=e[2*p]*h,r=e[2*p+1]=e[2*p+1]*d,i=Math.min(i,t),s=Math.max(s,t),a=Math.min(a,r),l=Math.max(l,r);if(a<-1)for(var f=0;f<n;f++)r=e[2*f+1]=e[2*f+1]+(-1-a);return e},"fitPolygonToSquare"),rE=o(function(e,t){var r=1/e*2*Math.PI,n=e%2===0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i=new Array(e*2),a,s=0;s<e;s++)a=s*r+n,i[2*s]=Math.cos(a),i[2*s+1]=Math.sin(-a);return i},"generateUnitNgonPoints"),xd=o(function(e,t){return Math.min(e/4,t/4,8)},"getRoundRectangleRadius"),aG=o(function(e,t){return Math.min(e/10,t/10,8)},"getRoundPolygonRadius"),nE=o(function(){return 8},"getCutRectangleCornerLength"),iMe=o(function(e,t,r){return[e-2*t+r,2*(t-e),e]},"bezierPtsToQuadCoeff"),iE=o(function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants"),aMe=ca({dampingFactor:.8,precision:1e-6,iterations:200,weight:o(function(e){return 1},"weight")}),sMe={pageRank:o(function(e){for(var t=aMe(e),r=t.dampingFactor,n=t.precision,i=t.iterations,a=t.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,h=l.edges,d=u.length,p=d*d,f=h.length,g=new Array(p),m=new Array(d),y=(1-r)/d,b=0;b<d;b++){for(var v=0;v<d;v++){var x=b*d+v;g[x]=0}m[b]=0}for(var k=0;k<f;k++){var w=h[k],_=w.data("source"),S=w.data("target");if(_!==S){var C=u.indexOfId(_),T=u.indexOfId(S),N=a(w),D=T*d+C;g[D]+=N,m[C]+=N}}for(var M=1/d+y,L=0;L<d;L++)if(m[L]===0)for(var B=0;B<d;B++){var E=B*d+L;g[E]=M}else for(var R=0;R<d;R++){var O=R*d+L;g[O]=g[O]/m[L]+y}for(var P=new Array(d),A=new Array(d),$,F=0;F<d;F++)P[F]=1;for(var G=0;G<i;G++){for(var q=0;q<d;q++)A[q]=0;for(var W=0;W<d;W++)for(var re=0;re<d;re++){var oe=W*d+re;A[W]+=g[oe]*P[re]}qIe(A),$=P,P=A,A=$;for(var te=0,se=0;se<d;se++){var Y=$[se]-P[se];te+=Y*Y}if(te<n)break}var V={rank:o(function(U){return U=s.collection(U)[0],P[u.indexOf(U)]},"rank")};return V},"pageRank")},sG=ca({root:null,weight:o(function(e){return 1},"weight"),directed:!1,alpha:0}),gp={degreeCentralityNormalized:o(function(e){e=sG(e);var t=this.cy(),r=this.nodes(),n=r.length;if(e.directed){for(var i={},a={},s=0,l=0,u=0;u<n;u++){var h=r[u],d=h.id();e.root=h;var p=this.degreeCentrality(e);s<p.indegree&&(s=p.indegree),l<p.outdegree&&(l=p.outdegree),i[d]=p.indegree,a[d]=p.outdegree}return{indegree:o(function(v){return s==0?0:(or(v)&&(v=t.filter(v)),i[v.id()]/s)},"indegree"),outdegree:o(function(v){return l===0?0:(or(v)&&(v=t.filter(v)),a[v.id()]/l)},"outdegree")}}else{for(var f={},g=0,m=0;m<n;m++){var y=r[m];e.root=y;var b=this.degreeCentrality(e);g<b.degree&&(g=b.degree),f[y.id()]=b.degree}return{degree:o(function(v){return g===0?0:(or(v)&&(v=t.filter(v)),f[v.id()]/g)},"degree")}}},"degreeCentralityNormalized"),degreeCentrality:o(function(e){e=sG(e);var t=this.cy(),r=this,n=e,i=n.root,a=n.weight,s=n.directed,l=n.alpha;if(i=t.collection(i)[0],s){for(var u=i.connectedEdges(),h=u.filter(function(_){return _.target().same(i)&&r.has(_)}),d=u.filter(function(_){return _.source().same(i)&&r.has(_)}),p=h.length,f=d.length,g=0,m=0,y=0;y<h.length;y++)g+=a(h[y]);for(var b=0;b<d.length;b++)m+=a(d[b]);return{indegree:Math.pow(p,1-l)*Math.pow(g,l),outdegree:Math.pow(f,1-l)*Math.pow(m,l)}}else{for(var v=i.connectedEdges().intersection(r),x=v.length,k=0,w=0;w<v.length;w++)k+=a(v[w]);return{degree:Math.pow(x,1-l)*Math.pow(k,l)}}},"degreeCentrality")},gp.dc=gp.degreeCentrality,gp.dcn=gp.degreeCentralityNormalised=gp.degreeCentralityNormalized,oG=ca({harmonic:!0,weight:o(function(){return 1},"weight"),directed:!1,root:null}),fp={closenessCentralityNormalized:o(function(e){for(var t=oG(e),r=t.harmonic,n=t.weight,i=t.directed,a=this.cy(),s={},l=0,u=this.nodes(),h=this.floydWarshall({weight:n,directed:i}),d=0;d<u.length;d++){for(var p=0,f=u[d],g=0;g<u.length;g++)if(d!==g){var m=h.distance(f,u[g]);r?p+=1/m:p+=m}r||(p=1/p),l<p&&(l=p),s[f.id()]=p}return{closeness:o(function(y){return l==0?0:(or(y)?y=a.filter(y)[0].id():y=y.id(),s[y]/l)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:o(function(e){var t=oG(e),r=t.root,n=t.weight,i=t.directed,a=t.harmonic;r=this.filter(r)[0];for(var s=this.dijkstra({root:r,weight:n,directed:i}),l=0,u=this.nodes(),h=0;h<u.length;h++){var d=u[h];if(!d.same(r)){var p=s.distanceTo(d);a?l+=1/p:l+=p}}return a?l:1/l},"closenessCentrality")},fp.cc=fp.closenessCentrality,fp.ccn=fp.closenessCentralityNormalised=fp.closenessCentralityNormalized,oMe=ca({weight:null,directed:!1}),aE={betweennessCentrality:o(function(e){for(var t=oMe(e),r=t.directed,n=t.weight,i=n!=null,a=this.cy(),s=this.nodes(),l={},u={},h=0,d={set:o(function(v,x){u[v]=x,x>h&&(h=x)},"set"),get:o(function(v){return u[v]},"get")},p=0;p<s.length;p++){var f=s[p],g=f.id();r?l[g]=f.outgoers().nodes():l[g]=f.openNeighborhood().nodes(),d.set(g,0)}for(var m=o(function(v){for(var x=s[v].id(),k=[],w={},_={},S={},C=new Ef(function(W,re){return S[W]-S[re]}),T=0;T<s.length;T++){var N=s[T].id();w[N]=[],_[N]=0,S[N]=1/0}for(_[x]=1,S[x]=0,C.push(x);!C.empty();){var D=C.pop();if(k.push(D),i)for(var M=0;M<l[D].length;M++){var L=l[D][M],B=a.getElementById(D),E=void 0;B.edgesTo(L).length>0?E=B.edgesTo(L)[0]:E=L.edgesTo(B)[0];var R=n(E);L=L.id(),S[L]>S[D]+R&&(S[L]=S[D]+R,C.nodes.indexOf(L)<0?C.push(L):C.updateItem(L),_[L]=0,w[L]=[]),S[L]==S[D]+R&&(_[L]=_[L]+_[D],w[L].push(D))}else for(var O=0;O<l[D].length;O++){var P=l[D][O].id();S[P]==1/0&&(C.push(P),S[P]=S[D]+1),S[P]==S[D]+1&&(_[P]=_[P]+_[D],w[P].push(D))}}for(var A={},$=0;$<s.length;$++)A[s[$].id()]=0;for(;k.length>0;){for(var F=k.pop(),G=0;G<w[F].length;G++){var q=w[F][G];A[q]=A[q]+_[q]/_[F]*(1+A[F])}F!=s[v].id()&&d.set(F,d.get(F)+A[F])}},"_loop"),y=0;y<s.length;y++)m(y);var b={betweenness:o(function(v){var x=a.collection(v).id();return d.get(x)},"betweenness"),betweennessNormalized:o(function(v){if(h==0)return 0;var x=a.collection(v).id();return d.get(x)/h},"betweennessNormalized")};return b.betweennessNormalised=b.betweennessNormalized,b},"betweennessCentrality")},aE.bc=aE.betweennessCentrality,lMe=ca({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),cMe=o(function(e){return lMe(e)},"setOptions"),uMe=o(function(e,t){for(var r=0,n=0;n<t.length;n++)r+=t[n](e);return r},"getSimilarity"),hMe=o(function(e,t,r){for(var n=0;n<t;n++)e[n*t+n]=r},"addLoops"),lG=o(function(e,t){for(var r,n=0;n<t;n++){r=0;for(var i=0;i<t;i++)r+=e[i*t+n];for(var a=0;a<t;a++)e[a*t+n]=e[a*t+n]/r}},"normalize"),dMe=o(function(e,t,r){for(var n=new Array(r*r),i=0;i<r;i++){for(var a=0;a<r;a++)n[i*r+a]=0;for(var s=0;s<r;s++)for(var l=0;l<r;l++)n[i*r+l]+=e[i*r+s]*t[s*r+l]}return n},"mmult"),pMe=o(function(e,t,r){for(var n=e.slice(0),i=1;i<r;i++)e=dMe(e,n,t);return e},"expand"),gMe=o(function(e,t,r){for(var n=new Array(t*t),i=0;i<t*t;i++)n[i]=Math.pow(e[i],r);return lG(n,t),n},"inflate"),fMe=o(function(e,t,r,n){for(var i=0;i<r;i++){var a=Math.round(e[i]*Math.pow(10,n))/Math.pow(10,n),s=Math.round(t[i]*Math.pow(10,n))/Math.pow(10,n);if(a!==s)return!1}return!0},"hasConverged"),mMe=o(function(e,t,r,n){for(var i=[],a=0;a<t;a++){for(var s=[],l=0;l<t;l++)Math.round(e[a*t+l]*1e3)/1e3>0&&s.push(r[l]);s.length!==0&&i.push(n.collection(s))}return i},"assign"),yMe=o(function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},"isDuplicate"),vMe=o(function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&yMe(e[t],e[r])&&e.splice(r,1);return e},"removeDuplicates"),cG=o(function(e){for(var t=this.nodes(),r=this.edges(),n=this.cy(),i=cMe(e),a={},s=0;s<t.length;s++)a[t[s].id()]=s;for(var l=t.length,u=l*l,h=new Array(u),d,p=0;p<u;p++)h[p]=0;for(var f=0;f<r.length;f++){var g=r[f],m=a[g.source().id()],y=a[g.target().id()],b=uMe(g,i.attributes);h[m*l+y]+=b,h[y*l+m]+=b}hMe(h,l,i.multFactor),lG(h,l);for(var v=!0,x=0;v&&x<i.maxIterations;)v=!1,d=pMe(h,l,i.expandFactor),h=gMe(d,l,i.inflateFactor),fMe(h,d,u,4)||(v=!0),x++;var k=mMe(h,l,t,n);return k=vMe(k),k},"markovClustering"),bMe={markovClustering:cG,mcl:cG},xMe=o(function(e){return e},"identity"),uG=o(function(e,t){return Math.abs(t-e)},"absDiff"),hG=o(function(e,t,r){return e+uG(t,r)},"addAbsDiff"),dG=o(function(e,t,r){return e+Math.pow(r-t,2)},"addSquaredDiff"),kMe=o(function(e){return Math.sqrt(e)},"sqrt"),wMe=o(function(e,t,r){return Math.max(e,uG(t,r))},"maxAbsDiff"),Af=o(function(e,t,r,n,i){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:xMe,s=n,l,u,h=0;h<e;h++)l=t(h),u=r(h),s=i(s,l,u);return a(s)},"getDistance"),mp={euclidean:o(function(e,t,r){return e>=2?Af(e,t,r,0,dG,kMe):Af(e,t,r,0,hG)},"euclidean"),squaredEuclidean:o(function(e,t,r){return Af(e,t,r,0,dG)},"squaredEuclidean"),manhattan:o(function(e,t,r){return Af(e,t,r,0,hG)},"manhattan"),max:o(function(e,t,r){return Af(e,t,r,-1/0,wMe)},"max")},mp["squared-euclidean"]=mp.squaredEuclidean,mp.squaredeuclidean=mp.squaredEuclidean,o(Eb,"clusteringDistance"),TMe=ca({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),sE=o(function(e){return TMe(e)},"setOptions"),Ub=o(function(e,t,r,n,i){var a=i!=="kMedoids",s=a?function(d){return r[d]}:function(d){return n[d](r)},l=o(function(d){return n[d](t)},"getQ"),u=r,h=t;return Eb(e,n.length,s,l,u,h)},"getDist"),oE=o(function(e,t,r){for(var n=r.length,i=new Array(n),a=new Array(n),s=new Array(t),l=null,u=0;u<n;u++)i[u]=e.min(r[u]).value,a[u]=e.max(r[u]).value;for(var h=0;h<t;h++){l=[];for(var d=0;d<n;d++)l[d]=Math.random()*(a[d]-i[d])+i[d];s[h]=l}return s},"randomCentroids"),pG=o(function(e,t,r,n,i){for(var a=1/0,s=0,l=0;l<t.length;l++){var u=Ub(r,e,t[l],n,i);u<a&&(a=u,s=l)}return s},"classify"),gG=o(function(e,t,r){for(var n=[],i=null,a=0;a<t.length;a++)i=t[a],r[i.id()]===e&&n.push(i);return n},"buildCluster"),EMe=o(function(e,t,r){return Math.abs(t-e)<=r},"haveValuesConverged"),_Me=o(function(e,t,r){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++){var a=Math.abs(e[n][i]-t[n][i]);if(a>r)return!1}return!0},"haveMatricesConverged"),CMe=o(function(e,t,r){for(var n=0;n<r;n++)if(e===t[n])return!0;return!1},"seenBefore"),fG=o(function(e,t){var r=new Array(t);if(e.length<50)for(var n=0;n<t;n++){for(var i=e[Math.floor(Math.random()*e.length)];CMe(i,r,n);)i=e[Math.floor(Math.random()*e.length)];r[n]=i}else for(var a=0;a<t;a++)r[a]=e[Math.floor(Math.random()*e.length)];return r},"randomMedoids"),mG=o(function(e,t,r){for(var n=0,i=0;i<t.length;i++)n+=Ub("manhattan",t[i],e,r,"kMedoids");return n},"findCost"),SMe=o(function(e){var t=this.cy(),r=this.nodes(),n=null,i=sE(e),a=new Array(i.k),s={},l;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,l=oE(r,i.k,i.attributes)):Bi(i.testCentroids)==="object"?l=i.testCentroids:l=oE(r,i.k,i.attributes):l=oE(r,i.k,i.attributes);for(var u=!0,h=0;u&&h<i.maxIterations;){for(var d=0;d<r.length;d++)n=r[d],s[n.id()]=pG(n,l,i.distance,i.attributes,"kMeans");u=!1;for(var p=0;p<i.k;p++){var f=gG(p,r,s);if(f.length!==0){for(var g=i.attributes.length,m=l[p],y=new Array(g),b=new Array(g),v=0;v<g;v++){b[v]=0;for(var x=0;x<f.length;x++)n=f[x],b[v]+=i.attributes[v](n);y[v]=b[v]/f.length,EMe(y[v],m[v],i.sensitivityThreshold)||(u=!0)}l[p]=y,a[p]=t.collection(f)}}h++}return a},"kMeans"),AMe=o(function(e){var t=this.cy(),r=this.nodes(),n=null,i=sE(e),a=new Array(i.k),s,l={},u,h=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Bi(i.testCentroids)==="object"?s=i.testCentroids:s=fG(r,i.k)):s=fG(r,i.k);for(var d=!0,p=0;d&&p<i.maxIterations;){for(var f=0;f<r.length;f++)n=r[f],l[n.id()]=pG(n,s,i.distance,i.attributes,"kMedoids");d=!1;for(var g=0;g<s.length;g++){var m=gG(g,r,l);if(m.length!==0){h[g]=mG(s[g],m,i.attributes);for(var y=0;y<m.length;y++)u=mG(m[y],m,i.attributes),u<h[g]&&(h[g]=u,s[g]=m[y],d=!0);a[g]=t.collection(m)}}p++}return a},"kMedoids"),LMe=o(function(e,t,r,n,i){for(var a,s,l=0;l<t.length;l++)for(var u=0;u<e.length;u++)n[l][u]=Math.pow(r[l][u],i.m);for(var h=0;h<e.length;h++)for(var d=0;d<i.attributes.length;d++){a=0,s=0;for(var p=0;p<t.length;p++)a+=n[p][h]*i.attributes[d](t[p]),s+=n[p][h];e[h][d]=a/s}},"updateCentroids"),NMe=o(function(e,t,r,n,i){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var s,l,u,h=2/(i.m-1),d=0;d<r.length;d++)for(var p=0;p<n.length;p++){s=0;for(var f=0;f<r.length;f++)l=Ub(i.distance,n[p],r[d],i.attributes,"cmeans"),u=Ub(i.distance,n[p],r[f],i.attributes,"cmeans"),s+=Math.pow(l/u,h);e[p][d]=1/s}},"updateMembership"),IMe=o(function(e,t,r,n){for(var i=new Array(r.k),a=0;a<i.length;a++)i[a]=[];for(var s,l,u=0;u<t.length;u++){s=-1/0,l=-1;for(var h=0;h<t[0].length;h++)t[u][h]>s&&(s=t[u][h],l=h);i[l].push(e[u])}for(var d=0;d<i.length;d++)i[d]=n.collection(i[d]);return i},"assign"),yG=o(function(e){var t=this.cy(),r=this.nodes(),n=sE(e),i,a,s,l,u;l=new Array(r.length);for(var h=0;h<r.length;h++)l[h]=new Array(n.k);s=new Array(r.length);for(var d=0;d<r.length;d++)s[d]=new Array(n.k);for(var p=0;p<r.length;p++){for(var f=0,g=0;g<n.k;g++)s[p][g]=Math.random(),f+=s[p][g];for(var m=0;m<n.k;m++)s[p][m]=s[p][m]/f}a=new Array(n.k);for(var y=0;y<n.k;y++)a[y]=new Array(n.attributes.length);u=new Array(r.length);for(var b=0;b<r.length;b++)u[b]=new Array(n.k);for(var v=!0,x=0;v&&x<n.maxIterations;)v=!1,LMe(a,r,s,u,n),NMe(s,l,a,r,n),_Me(s,l,n.sensitivityThreshold)||(v=!0),x++;return i=IMe(r,s,n,t),{clusters:i,degreeOfMembership:s}},"fuzzyCMeans"),MMe={kMeans:SMe,kMedoids:AMe,fuzzyCMeans:yG,fcm:yG},DMe=ca({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),RMe={single:"min",complete:"max"},OMe=o(function(e){var t=DMe(e),r=RMe[t.linkage];return r!=null&&(t.linkage=r),t},"setOptions"),vG=o(function(e,t,r,n,i){for(var a=0,s=1/0,l,u=i.attributes,h=o(function(C,T){return Eb(i.distance,u.length,function(N){return u[N](C)},function(N){return u[N](T)},C,T)},"getDist"),d=0;d<e.length;d++){var p=e[d].key,f=r[p][n[p]];f<s&&(a=p,s=f)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var g=t[a],m=t[n[a]],y;i.mode==="dendrogram"?y={left:g,right:m,key:g.key}:y={value:g.value.concat(m.value),key:g.key},e[g.index]=y,e.splice(m.index,1),t[g.key]=y;for(var b=0;b<e.length;b++){var v=e[b];g.key===v.key?l=1/0:i.linkage==="min"?(l=r[g.key][v.key],r[g.key][v.key]>r[m.key][v.key]&&(l=r[m.key][v.key])):i.linkage==="max"?(l=r[g.key][v.key],r[g.key][v.key]<r[m.key][v.key]&&(l=r[m.key][v.key])):i.linkage==="mean"?l=(r[g.key][v.key]*g.size+r[m.key][v.key]*m.size)/(g.size+m.size):i.mode==="dendrogram"?l=h(v.value,g.value):l=h(v.value[0],g.value[0]),r[g.key][v.key]=r[v.key][g.key]=l}for(var x=0;x<e.length;x++){var k=e[x].key;if(n[k]===g.key||n[k]===m.key){for(var w=k,_=0;_<e.length;_++){var S=e[_].key;r[k][S]<r[k][w]&&(w=S)}n[k]=w}e[x].index=x}return g.key=m.key=g.index=m.index=null,!0},"mergeClosest"),Hb=o(function e(t,r,n){t&&(t.value?r.push(t.value):(t.left&&e(t.left,r),t.right&&e(t.right,r)))},"getAllChildren"),PMe=o(function e(t,r){if(!t)return"";if(t.left&&t.right){var n=e(t.left,r),i=e(t.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(t.value)return t.value.id()},"buildDendrogram"),BMe=o(function e(t,r,n){if(!t)return[];var i=[],a=[],s=[];return r===0?(t.left&&Hb(t.left,i),t.right&&Hb(t.right,a),s=i.concat(a),[n.collection(s)]):r===1?t.value?[n.collection(t.value)]:(t.left&&Hb(t.left,i),t.right&&Hb(t.right,a),[n.collection(i),n.collection(a)]):t.value?[n.collection(t.value)]:(t.left&&(i=e(t.left,r-1,n)),t.right&&(a=e(t.right,r-1,n)),i.concat(a))},"buildClustersFromTree"),bG=o(function(e){for(var t=this.cy(),r=this.nodes(),n=OMe(e),i=n.attributes,a=o(function(v,x){return Eb(n.distance,i.length,function(k){return i[k](v)},function(k){return i[k](x)},v,x)},"getDist"),s=[],l=[],u=[],h=[],d=0;d<r.length;d++){var p={value:n.mode==="dendrogram"?r[d]:[r[d]],key:d,index:d};s[d]=p,h[d]=p,l[d]=[],u[d]=0}for(var f=0;f<s.length;f++)for(var g=0;g<=f;g++){var m=void 0;n.mode==="dendrogram"?m=f===g?1/0:a(s[f].value,s[g].value):m=f===g?1/0:a(s[f].value[0],s[g].value[0]),l[f][g]=m,l[g][f]=m,m<l[f][u[f]]&&(u[f]=g)}for(var y=vG(s,h,l,u,n);y;)y=vG(s,h,l,u,n);var b;return n.mode==="dendrogram"?(b=BMe(s[0],n.dendrogramDepth,t),n.addDendrogram&&PMe(s[0],t)):(b=new Array(s.length),s.forEach(function(v,x){v.key=v.index=null,b[x]=t.collection(v.value)})),b},"hierarchicalClustering"),$Me={hierarchicalClustering:bG,hca:bG},FMe=ca({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),zMe=o(function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||ci("Damping must range on [0.5, 1).  Got: ".concat(t));var n=["median","mean","min","max"];return n.some(function(i){return i===r})||Ct(r)||ci("Preference must be one of [".concat(n.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(r)),FMe(e)},"setOptions"),GMe=o(function(e,t,r,n){var i=o(function(a,s){return n[s](a)},"attr");return-Eb(e,n.length,function(a){return i(t,a)},function(a){return i(r,a)},t,r)},"getSimilarity"),qMe=o(function(e,t){var r=null;return t==="median"?r=zIe(e):t==="mean"?r=FIe(e):t==="min"?r=BIe(e):t==="max"?r=$Ie(e):r=t,r},"getPreference"),jMe=o(function(e,t,r){for(var n=[],i=0;i<e;i++)t[i*e+i]+r[i*e+i]>0&&n.push(i);return n},"findExemplars"),xG=o(function(e,t,r){for(var n=[],i=0;i<e;i++){for(var a=-1,s=-1/0,l=0;l<r.length;l++){var u=r[l];t[i*e+u]>s&&(a=u,s=t[i*e+u])}a>0&&n.push(a)}for(var h=0;h<r.length;h++)n[r[h]]=r[h];return n},"assignClusters"),YMe=o(function(e,t,r){for(var n=xG(e,t,r),i=0;i<r.length;i++){for(var a=[],s=0;s<n.length;s++)n[s]===r[i]&&a.push(s);for(var l=-1,u=-1/0,h=0;h<a.length;h++){for(var d=0,p=0;p<a.length;p++)d+=t[a[p]*e+a[h]];d>u&&(l=h,u=d)}r[i]=a[l]}return n=xG(e,t,r),n},"assign"),kG=o(function(e){for(var t=this.cy(),r=this.nodes(),n=zMe(e),i={},a=0;a<r.length;a++)i[r[a].id()]=a;var s,l,u,h,d,p;s=r.length,l=s*s,u=new Array(l);for(var f=0;f<l;f++)u[f]=-1/0;for(var g=0;g<s;g++)for(var m=0;m<s;m++)g!==m&&(u[g*s+m]=GMe(n.distance,r[g],r[m],n.attributes));h=qMe(u,n.preference);for(var y=0;y<s;y++)u[y*s+y]=h;d=new Array(l);for(var b=0;b<l;b++)d[b]=0;p=new Array(l);for(var v=0;v<l;v++)p[v]=0;for(var x=new Array(s),k=new Array(s),w=new Array(s),_=0;_<s;_++)x[_]=0,k[_]=0,w[_]=0;for(var S=new Array(s*n.minIterations),C=0;C<S.length;C++)S[C]=0;var T;for(T=0;T<n.maxIterations;T++){for(var N=0;N<s;N++){for(var D=-1/0,M=-1/0,L=-1,B=0,E=0;E<s;E++)x[E]=d[N*s+E],B=p[N*s+E]+u[N*s+E],B>=D?(M=D,D=B,L=E):B>M&&(M=B);for(var R=0;R<s;R++)d[N*s+R]=(1-n.damping)*(u[N*s+R]-D)+n.damping*x[R];d[N*s+L]=(1-n.damping)*(u[N*s+L]-M)+n.damping*x[L]}for(var O=0;O<s;O++){for(var P=0,A=0;A<s;A++)x[A]=p[A*s+O],k[A]=Math.max(0,d[A*s+O]),P+=k[A];P-=k[O],k[O]=d[O*s+O],P+=k[O];for(var $=0;$<s;$++)p[$*s+O]=(1-n.damping)*Math.min(0,P-k[$])+n.damping*x[$];p[O*s+O]=(1-n.damping)*(P-k[O])+n.damping*x[O]}for(var F=0,G=0;G<s;G++){var q=p[G*s+G]+d[G*s+G]>0?1:0;S[T%n.minIterations*s+G]=q,F+=q}if(F>0&&(T>=n.minIterations-1||T==n.maxIterations-1)){for(var W=0,re=0;re<s;re++){w[re]=0;for(var oe=0;oe<n.minIterations;oe++)w[re]+=S[oe*s+re];(w[re]===0||w[re]===n.minIterations)&&W++}if(W===s)break}}for(var te=jMe(s,d,p),se=YMe(s,u,te),Y={},V=0;V<te.length;V++)Y[te[V]]=[];for(var U=0;U<r.length;U++){var ne=i[r[U].id()],K=se[ne];K!=null&&Y[K].push(r[U])}for(var fe=new Array(te.length),Q=0;Q<te.length;Q++)fe[Q]=t.collection(Y[te[Q]]);return fe},"affinityPropagation"),UMe={affinityPropagation:kG,ap:kG},HMe=ca({root:void 0,directed:!1}),WMe={hierholzer:o(function(e){if(!en(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r=HMe(e),n=r.root,i=r.directed,a=this,s=!1,l,u,h;n&&(h=or(n)?this.filter(n)[0].id():n[0].id());var d={},p={};i?a.forEach(function(v){var x=v.id();if(v.isNode()){var k=v.indegree(!0),w=v.outdegree(!0),_=k-w,S=w-k;_==1?l?s=!0:l=x:S==1?u?s=!0:u=x:(S>1||_>1)&&(s=!0),d[x]=[],v.outgoers().forEach(function(C){C.isEdge()&&d[x].push(C.id())})}else p[x]=[void 0,v.target().id()]}):a.forEach(function(v){var x=v.id();if(v.isNode()){var k=v.degree(!0);k%2&&(l?u?s=!0:u=x:l=x),d[x]=[],v.connectedEdges().forEach(function(w){return d[x].push(w.id())})}else p[x]=[v.source().id(),v.target().id()]});var f={found:!1,trail:void 0};if(s)return f;if(u&&l)if(i){if(h&&u!=h)return f;h=u}else{if(h&&u!=h&&l!=h)return f;h||(h=u)}else h||(h=a[0].id());var g=o(function(v){for(var x=v,k=[v],w,_,S;d[x].length;)w=d[x].shift(),_=p[w][0],S=p[w][1],x!=S?(d[S]=d[S].filter(function(C){return C!=w}),x=S):!i&&x!=_&&(d[_]=d[_].filter(function(C){return C!=w}),x=_),k.unshift(w),k.unshift(x);return k},"walk"),m=[],y=[];for(y=g(h);y.length!=1;)d[y[0]].length==0?(m.unshift(a.getElementById(y.shift())),m.unshift(a.getElementById(y.shift()))):y=g(y.shift()).concat(y);m.unshift(a.getElementById(y.shift()));for(var b in d)if(d[b].length)return f;return f.found=!0,f.trail=this.spawn(m,!0),f},"hierholzer")},Wb=o(function(){var e=this,t={},r=0,n=0,i=[],a=[],s={},l=o(function(d,p){for(var f=a.length-1,g=[],m=e.spawn();a[f].x!=d||a[f].y!=p;)g.push(a.pop().edge),f--;g.push(a.pop().edge),g.forEach(function(y){var b=y.connectedNodes().intersection(e);m.merge(y),b.forEach(function(v){var x=v.id(),k=v.connectedEdges().intersection(e);m.merge(v),t[x].cutVertex?m.merge(k.filter(function(w){return w.isLoop()})):m.merge(k)})}),i.push(m)},"buildComponent"),u=o(function d(p,f,g){p===g&&(n+=1),t[f]={id:r,low:r++,cutVertex:!1};var m=e.getElementById(f).connectedEdges().intersection(e);if(m.size()===0)i.push(e.spawn(e.getElementById(f)));else{var y,b,v,x;m.forEach(function(k){y=k.source().id(),b=k.target().id(),v=y===f?b:y,v!==g&&(x=k.id(),s[x]||(s[x]=!0,a.push({x:f,y:v,edge:k})),v in t?t[f].low=Math.min(t[f].low,t[v].id):(d(p,v,f),t[f].low=Math.min(t[f].low,t[v].low),t[f].id<=t[v].low&&(t[f].cutVertex=!0,l(f,v))))})}},"biconnectedSearch");e.forEach(function(d){if(d.isNode()){var p=d.id();p in t||(n=0,u(p,p),t[p].cutVertex=n>1)}});var h=Object.keys(t).filter(function(d){return t[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(h),components:i}},"hopcroftTarjanBiconnected"),VMe={hopcroftTarjanBiconnected:Wb,htbc:Wb,htb:Wb,hopcroftTarjanBiconnectedComponents:Wb},Vb=o(function(){var e=this,t={},r=0,n=[],i=[],a=e.spawn(e),s=o(function l(u){i.push(u),t[u]={index:r,low:r++,explored:!1};var h=e.getElementById(u).connectedEdges().intersection(e);if(h.forEach(function(m){var y=m.target().id();y!==u&&(y in t||l(y),t[y].explored||(t[u].low=Math.min(t[u].low,t[y].low)))}),t[u].index===t[u].low){for(var d=e.spawn();;){var p=i.pop();if(d.merge(e.getElementById(p)),t[p].low=t[u].index,t[p].explored=!0,p===u)break}var f=d.edgesWith(d),g=d.merge(f);n.push(g),a=a.difference(g)}},"stronglyConnectedSearch");return e.forEach(function(l){if(l.isNode()){var u=l.id();u in t||s(u)}}),{cut:a,components:n}},"tarjanStronglyConnected"),XMe={tarjanStronglyConnected:Vb,tsc:Vb,tscc:Vb,tarjanStronglyConnectedComponents:Vb},wG={},[Tf,_Ie,CIe,AIe,NIe,MIe,OIe,sMe,gp,fp,aE,bMe,MMe,$Me,UMe,WMe,VMe,XMe].forEach(function(e){br(wG,e)}),TG=0,EG=1,_G=2,Cc=o(function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=TG,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api"),Cc.prototype={fulfill:o(function(e){return CG(this,EG,"fulfillValue",e)},"fulfill"),reject:o(function(e){return CG(this,_G,"rejectReason",e)},"reject"),then:o(function(e,t){var r=this,n=new Cc;return r.onFulfilled.push(LG(e,n,"fulfill")),r.onRejected.push(LG(t,n,"reject")),SG(r),n.proxy},"then")},CG=o(function(e,t,r,n){return e.state===TG&&(e.state=t,e[r]=n,SG(e)),e},"deliver"),SG=o(function(e){e.state===EG?AG(e,"onFulfilled",e.fulfillValue):e.state===_G&&AG(e,"onRejected",e.rejectReason)},"execute"),AG=o(function(e,t,r){if(e[t].length!==0){var n=e[t];e[t]=[];var i=o(function(){for(var a=0;a<n.length;a++)n[a](r)},"func");typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},"execute_handlers"),LG=o(function(e,t,r){return function(n){if(typeof e!="function")t[r].call(t,n);else{var i;try{i=e(n)}catch(a){t.reject(a);return}KMe(t,i)}}},"resolver"),KMe=o(function e(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Bi(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){t.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?t.reject(new TypeError("circular thenable chain")):e(t,a))},function(a){i||(i=!0,t.reject(a))})}catch(a){i||t.reject(a)}return}t.fulfill(r)},"resolve"),Cc.all=function(e){return new Cc(function(t,r){for(var n=new Array(e.length),i=0,a=o(function(l,u){n[l]=u,i++,i===e.length&&t(n)},"fulfill"),s=0;s<e.length;s++)(function(l){var u=e[l],h=u!=null&&u.then!=null;if(h)u.then(function(p){a(l,p)},function(p){r(p)});else{var d=u;a(l,d)}})(s)})},Cc.resolve=function(e){return new Cc(function(t,r){t(e)})},Cc.reject=function(e){return new Cc(function(t,r){r(e)})},yp=typeof Promise<"u"?Promise:Cc,lE=o(function(e,t,r){var n=UT(e),i=!n,a=this._private=br({duration:1e3},t,r);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&Jn(a.complete)&&a.completes.push(a.complete),i){var s=e.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(n){var l=e.pan();a.startPan={x:l.x,y:l.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},"Animation"),kd=lE.prototype,br(kd,{instanceString:o(function(){return"animation"},"instanceString"),hook:o(function(){var e=this._private;if(!e.hooked){var t,r=e.target._private.animation;e.queue?t=r.queue:t=r.current,t.push(this),Bs(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},"hook"),play:o(function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},"play"),playing:o(function(){return this._private.playing},"playing"),apply:o(function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},"apply"),applying:o(function(){return this._private.applying},"applying"),pause:o(function(){var e=this._private;return e.playing=!1,e.started=!1,this},"pause"),stop:o(function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},"stop"),rewind:o(function(){return this.progress(0)},"rewind"),fastforward:o(function(){return this.progress(1)},"fastforward"),time:o(function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},"time"),progress:o(function(e){var t=this._private,r=t.playing;return e===void 0?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},"progress"),completed:o(function(){return this._private.progress===1},"completed"),reverse:o(function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=o(function(l,u){var h=e[l];h!=null&&(e[l]=e[u],e[u]=h)},"swap");if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var n=0;n<e.style.length;n++){var i=e.style[n],a=i.name,s=e.startStyle[a];e.startStyle[a]=i,e.style[n]=s}return t&&this.play(),this},"reverse"),promise:o(function(e){var t=this._private,r;switch(e){case"frame":r=t.frames;break;default:case"complete":case"completed":r=t.completes}return new yp(function(n,i){r.push(function(){n()})})},"promise")}),kd.complete=kd.completed,kd.run=kd.play,kd.running=kd.playing,ZMe={animated:o(function(){return o(function(){var e=this,t=e.length!==void 0,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return!1;var i=r[0];if(i)return i._private.animation.current.length>0},"animatedImpl")},"animated"),clearQueue:o(function(){return o(function(){var e=this,t=e.length!==void 0,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var i=0;i<r.length;i++){var a=r[i];a._private.animation.queue=[]}return this},"clearQueueImpl")},"clearQueue"),delay:o(function(){return o(function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this},"delayImpl")},"delay"),delayAnimation:o(function(){return o(function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this},"delayAnimationImpl")},"delayAnimation"),animation:o(function(){return o(function(e,t){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this,s=!n,l=!s;if(!a.styleEnabled())return this;var u=a.style();e=br({},e,t);var h=Object.keys(e).length===0;if(h)return new lE(i[0],e);switch(e.duration===void 0&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200;break}if(l&&(e.style=u.getPropsList(e.style||e.css),e.css=void 0),l&&e.renderedPosition!=null){var d=e.renderedPosition,p=a.pan(),f=a.zoom();e.position=Qz(d,f,p)}if(s&&e.panBy!=null){var g=e.panBy,m=a.pan();e.pan={x:m.x+g.x,y:m.y+g.y}}var y=e.center||e.centre;if(s&&y!=null){var b=a.getCenterPan(y.eles,e.zoom);b!=null&&(e.pan=b)}if(s&&e.fit!=null){var v=e.fit,x=a.getFitViewport(v.eles||v.boundingBox,v.padding);x!=null&&(e.pan=x.pan,e.zoom=x.zoom)}if(s&&en(e.zoom)){var k=a.getZoomedViewport(e.zoom);k!=null?(k.zoomed&&(e.zoom=k.zoom),k.panned&&(e.pan=k.pan)):e.zoom=null}return new lE(i[0],e)},"animationImpl")},"animation"),animate:o(function(){return o(function(e,t){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;t&&(e=br({},e,t));for(var s=0;s<i.length;s++){var l=i[s],u=l.animated()&&(e.queue===void 0||e.queue),h=l.animation(e,u?{queue:!0}:void 0);h.play()}return this},"animateImpl")},"animate"),stop:o(function(){return o(function(e,t){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){for(var l=i[s],u=l._private,h=u.animation.current,d=0;d<h.length;d++){var p=h[d],f=p._private;t&&(f.duration=0)}e&&(u.animation.queue=[]),t||(u.animation.current=[])}return a.notify("draw"),this},"stopImpl")},"stop")},QMe=Array.isArray,Xb=QMe,JMe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eDe=/^\w*$/,o(mLe,"isKey"),tDe=mLe,rDe="[object AsyncFunction]",nDe="[object Function]",iDe="[object GeneratorFunction]",aDe="[object Proxy]",o(yLe,"isFunction"),sDe=yLe,oDe=Mb["__core-js_shared__"],cE=oDe,NG=function(){var e=/[^.]+$/.exec(cE&&cE.keys&&cE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),o(vLe,"isMasked"),lDe=vLe,cDe=Function.prototype,uDe=cDe.toString,o(bLe,"toSource"),hDe=bLe,dDe=/[\\^$.*+?()[\]{}|]/g,pDe=/^\[object .+?Constructor\]$/,gDe=Function.prototype,fDe=Object.prototype,mDe=gDe.toString,yDe=fDe.hasOwnProperty,vDe=RegExp("^"+mDe.call(yDe).replace(dDe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),o(xLe,"baseIsNative"),bDe=xLe,o(kLe,"getValue$1"),xDe=kLe,o(wLe,"getNative"),uE=wLe,kDe=uE(Object,"create"),Lf=kDe,o(TLe,"hashClear"),wDe=TLe,o(ELe,"hashDelete"),TDe=ELe,EDe="__lodash_hash_undefined__",_De=Object.prototype,CDe=_De.hasOwnProperty,o(_Le,"hashGet"),SDe=_Le,ADe=Object.prototype,LDe=ADe.hasOwnProperty,o(CLe,"hashHas"),NDe=CLe,IDe="__lodash_hash_undefined__",o(SLe,"hashSet"),MDe=SLe,o(rp,"Hash"),rp.prototype.clear=wDe,rp.prototype.delete=TDe,rp.prototype.get=SDe,rp.prototype.has=NDe,rp.prototype.set=MDe,IG=rp,o(ALe,"listCacheClear"),DDe=ALe,o(LLe,"eq"),MG=LLe,o(NLe,"assocIndexOf"),Kb=NLe,RDe=Array.prototype,ODe=RDe.splice,o(ILe,"listCacheDelete"),PDe=ILe,o(MLe,"listCacheGet"),BDe=MLe,o(DLe,"listCacheHas"),$De=DLe,o(RLe,"listCacheSet"),FDe=RLe,o(np,"ListCache"),np.prototype.clear=DDe,np.prototype.delete=PDe,np.prototype.get=BDe,np.prototype.has=$De,np.prototype.set=FDe,zDe=np,GDe=uE(Mb,"Map"),qDe=GDe,o(OLe,"mapCacheClear"),jDe=OLe,o(PLe,"isKeyable"),YDe=PLe,o(BLe,"getMapData"),Zb=BLe,o($Le,"mapCacheDelete"),UDe=$Le,o(FLe,"mapCacheGet"),HDe=FLe,o(zLe,"mapCacheHas"),WDe=zLe,o(GLe,"mapCacheSet"),VDe=GLe,o(ip,"MapCache"),ip.prototype.clear=jDe,ip.prototype.delete=UDe,ip.prototype.get=HDe,ip.prototype.has=WDe,ip.prototype.set=VDe,DG=ip,XDe="Expected a function",o(BT,"memoize"),BT.Cache=DG,KDe=BT,ZDe=500,o(qLe,"memoizeCapped"),QDe=qLe,JDe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eRe=/\\(\\)?/g,tRe=QDe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(JDe,function(r,n,i,a){t.push(i?a.replace(eRe,"$1"):n||r)}),t}),RG=tRe,o(jLe,"arrayMap"),OG=jLe,rRe=1/0,PG=lp?lp.prototype:void 0,BG=PG?PG.toString:void 0,o(tz,"baseToString"),nRe=tz,o(YLe,"toString$1"),$G=YLe,o(ULe,"castPath"),FG=ULe,iRe=1/0,o(HLe,"toKey"),hE=HLe,o(WLe,"baseGet"),aRe=WLe,o(VLe,"get"),sRe=VLe,oRe=function(){try{var e=uE(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zG=oRe,o(XLe,"baseAssignValue"),lRe=XLe,cRe=Object.prototype,uRe=cRe.hasOwnProperty,o(KLe,"assignValue"),hRe=KLe,dRe=9007199254740991,pRe=/^(?:0|[1-9]\d*)$/,o(ZLe,"isIndex"),gRe=ZLe,o(QLe,"baseSet"),fRe=QLe,o(JLe,"set"),mRe=JLe,o(eNe,"copyArray"),yRe=eNe,o(tNe,"toPath"),vRe=tNe,bRe={data:o(function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:o(function(r){},"beforeGet"),beforeSet:o(function(r,n){},"beforeSet"),onSet:o(function(r){},"onSet"),canSet:o(function(r){return!0},"canSet")};return e=br({},t,e),o(function(r,n){var i=e,a=this,s=a.length!==void 0,l=s?a:[a],u=s?a[0]:a;if(or(r)){var h=r.indexOf(".")!==-1,d=h&&vRe(r);if(i.allowGetting&&n===void 0){var p;return u&&(i.beforeGet(u),d&&u._private[i.field][r]===void 0?p=sRe(u._private[i.field],d):p=u._private[i.field][r]),p}else if(i.allowSetting&&n!==void 0){var f=!i.immutableKeys[r];if(f){var g=ZF({},r,n);i.beforeSet(a,g);for(var m=0,y=l.length;m<y;m++){var b=l[m];i.canSet(b)&&(d&&u._private[i.field][r]===void 0?mRe(b._private[i.field],d,n):b._private[i.field][r]=n)}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&en(r)){var v=r,x,k,w=Object.keys(v);i.beforeSet(a,v);for(var _=0;_<w.length;_++){x=w[_],k=v[x];var S=!i.immutableKeys[x];if(S)for(var C=0;C<l.length;C++){var T=l[C];i.canSet(T)&&(T._private[i.field][x]=k)}}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&Jn(r)){var N=r;a.on(i.bindingEvent,N)}else if(i.allowGetting&&r===void 0){var D;return u&&(i.beforeGet(u),D=u._private[i.field]),D}return a},"dataImpl")},"data"),removeData:o(function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=br({},t,e),o(function(r){var n=e,i=this,a=i.length!==void 0,s=a?i:[i];if(or(r)){for(var l=r.split(/\s+/),u=l.length,h=0;h<u;h++){var d=l[h];if(!Ru(d)){var p=!n.immutableKeys[d];if(p)for(var f=0,g=s.length;f<g;f++)s[f]._private[n.field][d]=void 0}}n.triggerEvent&&i[n.triggerFnName](n.event)}else if(r===void 0){for(var m=0,y=s.length;m<y;m++)for(var b=s[m]._private[n.field],v=Object.keys(b),x=0;x<v.length;x++){var k=v[x],w=!n.immutableKeys[k];w&&(b[k]=void 0)}n.triggerEvent&&i[n.triggerFnName](n.event)}return i},"removeDataImpl")},"removeData")},xRe={eventAliasesOn:o(function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(r,n){var i=this,a=Array.prototype.slice.call(arguments,0);return new yp(function(s,l){var u=o(function(p){i.off.apply(i,d),s(p)},"callback"),h=a.concat([u]),d=h.concat([]);i.on.apply(i,h)})}},"eventAliasesOn")},vn={},[ZMe,bRe,xRe].forEach(function(e){br(vn,e)}),kRe={animate:vn.animate(),animation:vn.animation(),animated:vn.animated(),clearQueue:vn.clearQueue(),delay:vn.delay(),delayAnimation:vn.delayAnimation(),stop:vn.stop()},Qb={classes:o(function(e){var t=this;if(e===void 0){var r=[];return t[0]._private.classes.forEach(function(g){return r.push(g)}),r}else In(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],i=new up(e),a=0;a<t.length;a++){for(var s=t[a],l=s._private,u=l.classes,h=!1,d=0;d<e.length;d++){var p=e[d],f=u.has(p);if(!f){h=!0;break}}h||(h=u.size!==e.length),h&&(l.classes=i,n.push(s))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),t},"classes"),addClass:o(function(e){return this.toggleClass(e,!0)},"addClass"),hasClass:o(function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},"hasClass"),toggleClass:o(function(e,t){In(e)||(e=e.match(/\S+/g)||[]);for(var r=this,n=t===void 0,i=[],a=0,s=r.length;a<s;a++)for(var l=r[a],u=l._private.classes,h=!1,d=0;d<e.length;d++){var p=e[d],f=u.has(p),g=!1;t||n&&!f?(u.add(p),g=!0):(!t||n&&f)&&(u.delete(p),g=!0),!h&&g&&(i.push(l),h=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},"toggleClass"),removeClass:o(function(e){return this.toggleClass(e,!1)},"removeClass"),flashClass:o(function(e,t){var r=this;if(t==null)t=250;else if(t===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r},"flashClass")},Qb.className=Qb.classNames=Qb.classes,tn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Fi,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"},tn.variable="(?:[\\w-.]|(?:\\\\"+tn.metaChar+"))+",tn.className="(?:[\\w-]|(?:\\\\"+tn.metaChar+"))+",tn.value=tn.string+"|"+tn.number,tn.id=tn.variable,function(){var e,t,r;for(e=tn.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],tn.comparatorOp+="|@"+t;for(e=tn.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(tn.comparatorOp+="|\\!"+t)}(),Sn=o(function(){return{checks:[]}},"newQuery"),Ft={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},dE=[{selector:":selected",matches:o(function(e){return e.selected()},"matches")},{selector:":unselected",matches:o(function(e){return!e.selected()},"matches")},{selector:":selectable",matches:o(function(e){return e.selectable()},"matches")},{selector:":unselectable",matches:o(function(e){return!e.selectable()},"matches")},{selector:":locked",matches:o(function(e){return e.locked()},"matches")},{selector:":unlocked",matches:o(function(e){return!e.locked()},"matches")},{selector:":visible",matches:o(function(e){return e.visible()},"matches")},{selector:":hidden",matches:o(function(e){return!e.visible()},"matches")},{selector:":transparent",matches:o(function(e){return e.transparent()},"matches")},{selector:":grabbed",matches:o(function(e){return e.grabbed()},"matches")},{selector:":free",matches:o(function(e){return!e.grabbed()},"matches")},{selector:":removed",matches:o(function(e){return e.removed()},"matches")},{selector:":inside",matches:o(function(e){return!e.removed()},"matches")},{selector:":grabbable",matches:o(function(e){return e.grabbable()},"matches")},{selector:":ungrabbable",matches:o(function(e){return!e.grabbable()},"matches")},{selector:":animated",matches:o(function(e){return e.animated()},"matches")},{selector:":unanimated",matches:o(function(e){return!e.animated()},"matches")},{selector:":parent",matches:o(function(e){return e.isParent()},"matches")},{selector:":childless",matches:o(function(e){return e.isChildless()},"matches")},{selector:":child",matches:o(function(e){return e.isChild()},"matches")},{selector:":orphan",matches:o(function(e){return e.isOrphan()},"matches")},{selector:":nonorphan",matches:o(function(e){return e.isChild()},"matches")},{selector:":compound",matches:o(function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()},"matches")},{selector:":loop",matches:o(function(e){return e.isLoop()},"matches")},{selector:":simple",matches:o(function(e){return e.isSimple()},"matches")},{selector:":active",matches:o(function(e){return e.active()},"matches")},{selector:":inactive",matches:o(function(e){return!e.active()},"matches")},{selector:":backgrounding",matches:o(function(e){return e.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:o(function(e){return!e.backgrounding()},"matches")}].sort(function(e,t){return NNe(e.selector,t.selector)}),wRe=function(){for(var e={},t,r=0;r<dE.length;r++)t=dE[r],e[t.selector]=t.matches;return e}(),TRe=o(function(e,t){return wRe[e](t)},"stateSelectorMatches"),ERe="("+dE.map(function(e){return e.selector}).join("|")+")",vp=o(function(e){return e.replace(new RegExp("\\\\("+tn.metaChar+")","g"),function(t,r){return r})},"cleanMetaChars"),Fu=o(function(e,t,r){e[e.length-1]=r},"replaceLastQuery"),pE=[{name:"group",query:!0,regex:"("+tn.group+")",populate:o(function(e,t,r){var n=Fo(r,1),i=n[0];t.checks.push({type:Ft.GROUP,value:i==="*"?i:i+"s"})},"populate")},{name:"state",query:!0,regex:ERe,populate:o(function(e,t,r){var n=Fo(r,1),i=n[0];t.checks.push({type:Ft.STATE,value:i})},"populate")},{name:"id",query:!0,regex:"\\#("+tn.id+")",populate:o(function(e,t,r){var n=Fo(r,1),i=n[0];t.checks.push({type:Ft.ID,value:vp(i)})},"populate")},{name:"className",query:!0,regex:"\\.("+tn.className+")",populate:o(function(e,t,r){var n=Fo(r,1),i=n[0];t.checks.push({type:Ft.CLASS,value:vp(i)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+tn.variable+")\\s*\\]",populate:o(function(e,t,r){var n=Fo(r,1),i=n[0];t.checks.push({type:Ft.DATA_EXIST,field:vp(i)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+tn.variable+")\\s*("+tn.comparatorOp+")\\s*("+tn.value+")\\s*\\]",populate:o(function(e,t,r){var n=Fo(r,3),i=n[0],a=n[1],s=n[2],l=new RegExp("^"+tn.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),t.checks.push({type:Ft.DATA_COMPARE,field:vp(i),operator:a,value:s})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+tn.boolOp+")\\s*("+tn.variable+")\\s*\\]",populate:o(function(e,t,r){var n=Fo(r,2),i=n[0],a=n[1];t.checks.push({type:Ft.DATA_BOOL,field:vp(a),operator:i})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+tn.meta+")\\s*("+tn.comparatorOp+")\\s*("+tn.number+")\\s*\\]\\]",populate:o(function(e,t,r){var n=Fo(r,3),i=n[0],a=n[1],s=n[2];t.checks.push({type:Ft.META_COMPARE,field:vp(i),operator:a,value:parseFloat(s)})},"populate")},{name:"nextQuery",separator:!0,regex:tn.separator,populate:o(function(e,t){var r=e.currentSubject,n=e.edgeCount,i=e.compoundCount,a=e[e.length-1];r!=null&&(a.subject=r,e.currentSubject=null),a.edgeCount=n,a.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=Sn();return s},"populate")},{name:"directedEdge",separator:!0,regex:tn.directedEdge,populate:o(function(e,t){if(e.currentSubject==null){var r=Sn(),n=t,i=Sn();return r.checks.push({type:Ft.DIRECTED_EDGE,source:n,target:i}),Fu(e,t,r),e.edgeCount++,i}else{var a=Sn(),s=t,l=Sn();return a.checks.push({type:Ft.NODE_SOURCE,source:s,target:l}),Fu(e,t,a),e.edgeCount++,l}},"populate")},{name:"undirectedEdge",separator:!0,regex:tn.undirectedEdge,populate:o(function(e,t){if(e.currentSubject==null){var r=Sn(),n=t,i=Sn();return r.checks.push({type:Ft.UNDIRECTED_EDGE,nodes:[n,i]}),Fu(e,t,r),e.edgeCount++,i}else{var a=Sn(),s=t,l=Sn();return a.checks.push({type:Ft.NODE_NEIGHBOR,node:s,neighbor:l}),Fu(e,t,a),l}},"populate")},{name:"child",separator:!0,regex:tn.child,populate:o(function(e,t){if(e.currentSubject==null){var r=Sn(),n=Sn(),i=e[e.length-1];return r.checks.push({type:Ft.CHILD,parent:i,child:n}),Fu(e,t,r),e.compoundCount++,n}else if(e.currentSubject===t){var a=Sn(),s=e[e.length-1],l=Sn(),u=Sn(),h=Sn(),d=Sn();return a.checks.push({type:Ft.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=t.checks,t.checks=[{type:Ft.TRUE}],d.checks.push({type:Ft.TRUE}),l.checks.push({type:Ft.PARENT,parent:d,child:h}),Fu(e,s,a),e.currentSubject=u,e.compoundCount++,h}else{var p=Sn(),f=Sn(),g=[{type:Ft.PARENT,parent:p,child:f}];return p.checks=t.checks,t.checks=g,e.compoundCount++,f}},"populate")},{name:"descendant",separator:!0,regex:tn.descendant,populate:o(function(e,t){if(e.currentSubject==null){var r=Sn(),n=Sn(),i=e[e.length-1];return r.checks.push({type:Ft.DESCENDANT,ancestor:i,descendant:n}),Fu(e,t,r),e.compoundCount++,n}else if(e.currentSubject===t){var a=Sn(),s=e[e.length-1],l=Sn(),u=Sn(),h=Sn(),d=Sn();return a.checks.push({type:Ft.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=t.checks,t.checks=[{type:Ft.TRUE}],d.checks.push({type:Ft.TRUE}),l.checks.push({type:Ft.ANCESTOR,ancestor:d,descendant:h}),Fu(e,s,a),e.currentSubject=u,e.compoundCount++,h}else{var p=Sn(),f=Sn(),g=[{type:Ft.ANCESTOR,ancestor:p,descendant:f}];return p.checks=t.checks,t.checks=g,e.compoundCount++,f}},"populate")},{name:"subject",modifier:!0,regex:tn.subject,populate:o(function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return yn("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1],n=r.checks[0],i=n==null?null:n.type;i===Ft.DIRECTED_EDGE?n.type=Ft.NODE_TARGET:i===Ft.UNDIRECTED_EDGE&&(n.type=Ft.NODE_NEIGHBOR,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)},"populate")}],pE.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),_Re=o(function(e){for(var t,r,n,i=0;i<pE.length;i++){var a=pE[i],s=a.name,l=e.match(a.regexObj);if(l!=null){r=l,t=a,n=s;var u=l[0];e=e.substring(u.length);break}}return{expr:t,match:r,name:n,remaining:e}},"consumeExpr"),CRe=o(function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e},"consumeWhitespace"),SRe=o(function(e){var t=this,r=t.inputText=e,n=t[0]=Sn();for(t.length=1,r=CRe(r);;){var i=_Re(r);if(i.expr==null)return yn("The selector `"+e+"`is invalid"),!1;var a=i.match.slice(1),s=i.expr.populate(t,n,a);if(s===!1)return!1;if(s!=null&&(n=s),r=i.remaining,r.match(/^\s*$/))break}var l=t[t.length-1];t.currentSubject!=null&&(l.subject=t.currentSubject),l.edgeCount=t.edgeCount,l.compoundCount=t.compoundCount;for(var u=0;u<t.length;u++){var h=t[u];if(h.compoundCount>0&&h.edgeCount>0)return yn("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return yn("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&yn("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),ARe=o(function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=o(function(u){return u??""},"clean"),t=o(function(u){return or(u)?'"'+u+'"':e(u)},"cleanVal"),r=o(function(u){return" "+u+" "},"space"),n=o(function(u,h){var d=u.type,p=u.value;switch(d){case Ft.GROUP:{var f=e(p);return f.substring(0,f.length-1)}case Ft.DATA_COMPARE:{var g=u.field,m=u.operator;return"["+g+r(e(m))+t(p)+"]"}case Ft.DATA_BOOL:{var y=u.operator,b=u.field;return"["+e(y)+b+"]"}case Ft.DATA_EXIST:{var v=u.field;return"["+v+"]"}case Ft.META_COMPARE:{var x=u.operator,k=u.field;return"[["+k+r(e(x))+t(p)+"]]"}case Ft.STATE:return p;case Ft.ID:return"#"+p;case Ft.CLASS:return"."+p;case Ft.PARENT:case Ft.CHILD:return i(u.parent,h)+r(">")+i(u.child,h);case Ft.ANCESTOR:case Ft.DESCENDANT:return i(u.ancestor,h)+" "+i(u.descendant,h);case Ft.COMPOUND_SPLIT:{var w=i(u.left,h),_=i(u.subject,h),S=i(u.right,h);return w+(w.length>0?" ":"")+_+S}case Ft.TRUE:return""}},"checkToString"),i=o(function(u,h){return u.checks.reduce(function(d,p,f){return d+(h===u&&f===0?"$":"")+n(p,h)},"")},"queryToString"),a="",s=0;s<this.length;s++){var l=this[s];a+=i(l,l.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},"toString"),LRe={parse:SRe,toString:ARe},GG=o(function(e,t,r){var n,i=or(e),a=Ct(e),s=or(r),l,u,h=!1,d=!1,p=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),d=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),h=!0),(i||s||h)&&(l=!i&&!a?"":""+e,u=""+r),h&&(e=l=l.toLowerCase(),r=u=u.toLowerCase()),t){case"*=":n=l.indexOf(u)>=0;break;case"$=":n=l.indexOf(u,l.length-u.length)>=0;break;case"^=":n=l.indexOf(u)===0;break;case"=":n=e===r;break;case">":p=!0,n=e>r;break;case">=":p=!0,n=e>=r;break;case"<":p=!0,n=e<r;break;case"<=":p=!0,n=e<=r;break;default:n=!1;break}return d&&(e!=null||!p)&&(n=!n),n},"valCmp"),NRe=o(function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},"boolCmp"),IRe=o(function(e){return e!==void 0},"existCmp"),gE=o(function(e,t){return e.data(t)},"data"),MRe=o(function(e,t){return e[t]()},"meta"),ui=[],qn=o(function(e,t){return e.checks.every(function(r){return ui[r.type](r,t)})},"matches"),ui[Ft.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()},ui[Ft.STATE]=function(e,t){var r=e.value;return TRe(r,t)},ui[Ft.ID]=function(e,t){var r=e.value;return t.id()===r},ui[Ft.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)},ui[Ft.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return GG(MRe(t,r),n,i)},ui[Ft.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return GG(gE(t,r),n,i)},ui[Ft.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return NRe(gE(t,r),n)},ui[Ft.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,IRe(gE(t,r))},ui[Ft.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],i=t.source(),a=t.target();return qn(r,i)&&qn(n,a)||qn(n,i)&&qn(r,a)},ui[Ft.NODE_NEIGHBOR]=function(e,t){return qn(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&qn(e.neighbor,r)})},ui[Ft.DIRECTED_EDGE]=function(e,t){return qn(e.source,t.source())&&qn(e.target,t.target())},ui[Ft.NODE_SOURCE]=function(e,t){return qn(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&qn(e.target,r)})},ui[Ft.NODE_TARGET]=function(e,t){return qn(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&qn(e.source,r)})},ui[Ft.CHILD]=function(e,t){return qn(e.child,t)&&qn(e.parent,t.parent())},ui[Ft.PARENT]=function(e,t){return qn(e.parent,t)&&t.children().some(function(r){return qn(e.child,r)})},ui[Ft.DESCENDANT]=function(e,t){return qn(e.descendant,t)&&t.ancestors().some(function(r){return qn(e.ancestor,r)})},ui[Ft.ANCESTOR]=function(e,t){return qn(e.ancestor,t)&&t.descendants().some(function(r){return qn(e.descendant,r)})},ui[Ft.COMPOUND_SPLIT]=function(e,t){return qn(e.subject,t)&&qn(e.left,t)&&qn(e.right,t)},ui[Ft.TRUE]=function(){return!0},ui[Ft.COLLECTION]=function(e,t){var r=e.value;return r.has(t)},ui[Ft.FILTER]=function(e,t){var r=e.value;return r(t)},DRe=o(function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Ft.ID)return e.getElementById(t[0].checks[0].value).collection();var r=o(function(n){for(var i=0;i<t.length;i++){var a=t[i];if(qn(a,n))return!0}return!1},"selectorFunction");return t.text()==null&&(r=o(function(){return!0},"selectorFunction")),e.filter(r)},"filter"),RRe=o(function(e){for(var t=this,r=0;r<t.length;r++){var n=t[r];if(qn(n,e))return!0}return!1},"matches"),ORe={matches:RRe,filter:DRe},zu=o(function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||or(e)&&e.match(/^\s*$/)||(Bs(e)?this.addQuery({checks:[{type:Ft.COLLECTION,value:e.collection()}]}):Jn(e)?this.addQuery({checks:[{type:Ft.FILTER,value:e}]}):or(e)?this.parse(e)||(this.invalid=!0):ci("A selector must be created from a string; found "))},"Selector"),Gu=zu.prototype,[LRe,ORe].forEach(function(e){return br(Gu,e)}),Gu.text=function(){return this.inputText},Gu.size=function(){return this.length},Gu.eq=function(e){return this[e]},Gu.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Gu.addQuery=function(e){this[this.length++]=e},Gu.selector=Gu.toString,qu={allAre:o(function(e){var t=new zu(e);return this.every(function(r){return t.matches(r)})},"allAre"),is:o(function(e){var t=new zu(e);return this.some(function(r){return t.matches(r)})},"is"),some:o(function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(n)return!0}return!1},"some"),every:o(function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!n)return!1}return!0},"every"),same:o(function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,r=e.length;return t!==r?!1:t===1?this[0]===e[0]:this.every(function(n){return e.hasElementWithId(n.id())})},"same"),anySame:o(function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},"anySame"),allAreNeighbors:o(function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(r){return t.hasElementWithId(r.id())})},"allAreNeighbors"),contains:o(function(e){e=this.cy().collection(e);var t=this;return e.every(function(r){return t.hasElementWithId(r.id())})},"contains")},qu.allAreNeighbours=qu.allAreNeighbors,qu.has=qu.contains,qu.equal=qu.equals=qu.same,lo=o(function(e,t){return o(function(r,n,i,a){var s=r,l=this,u;if(s==null?u="":Bs(s)&&s.length===1&&(u=s.id()),l.length===1&&u){var h=l[0]._private,d=h.traversalCache=h.traversalCache||{},p=d[t]=d[t]||[],f=md(u),g=p[f];return g||(p[f]=e.call(l,r,n,i,a))}else return e.call(l,r,n,i,a)},"traversalCache")},"cache"),bp={parent:o(function(e){var t=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var n=0;n<this.length;n++){var i=this[n],a=i._private.parent;a&&t.push(a)}return this.spawn(t,!0).filter(e)},"parent"),parents:o(function(e){for(var t=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}r=r.parent()}return this.spawn(t,!0).filter(e)},"parents"),commonAncestors:o(function(e){for(var t,r=0;r<this.length;r++){var n=this[r],i=n.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},"commonAncestors"),orphans:o(function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},"orphans"),nonorphans:o(function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},"nonorphans"),children:lo(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)t.push(i[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:o(function(e){return this.parent().children().not(this).filter(e)},"siblings"),isParent:o(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},"isParent"),isChildless:o(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},"isChildless"),isChild:o(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},"isChild"),isOrphan:o(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},"isOrphan"),descendants:o(function(e){var t=[];function r(n){for(var i=0;i<n.length;i++){var a=n[i];t.push(a),a.children().nonempty()&&r(a.children())}}return o(r,"add"),r(this.children()),this.spawn(t,!0).filter(e)},"descendants")},o($T,"forEachCompound"),o(rz,"addChildren"),bp.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return $T(this,e,t,rz)},o(nz,"addParent"),bp.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return $T(this,e,t,nz)},o(rNe,"addParentAndChildren"),bp.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return $T(this,e,t,rNe)},bp.ancestors=bp.parents,Jb=PRe={data:vn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:vn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:vn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:vn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:vn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:vn.removeData({field:"rscratch",triggerEvent:!1}),id:o(function(){var e=this[0];if(e)return e._private.data.id},"id")},Jb.attr=Jb.data,Jb.removeAttr=Jb.removeData,BRe=PRe,ex={},o(FT,"defineDegreeFunction"),br(ex,{degree:FT(function(e,t){return t.source().same(t.target())?2:1}),indegree:FT(function(e,t){return t.target().same(e)?1:0}),outdegree:FT(function(e,t){return t.source().same(e)?1:0})}),o(ap,"defineDegreeBoundsFunction"),br(ex,{minDegree:ap("degree",function(e,t){return e<t}),maxDegree:ap("degree",function(e,t){return e>t}),minIndegree:ap("indegree",function(e,t){return e<t}),maxIndegree:ap("indegree",function(e,t){return e>t}),minOutdegree:ap("outdegree",function(e,t){return e<t}),maxOutdegree:ap("outdegree",function(e,t){return e>t})}),br(ex,{totalDegree:o(function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t},"totalDegree")}),qG=o(function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(!i.locked()){var a=i._private.position,s={x:t.x!=null?t.x-a.x:0,y:t.y!=null?t.y-a.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,r),i.dirtyBoundingBoxCache()}}},"beforePositionSet"),jG={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:o(function(e){e.updateCompoundBounds()},"beforeGet"),beforeSet:o(function(e,t){qG(e,t,!1)},"beforeSet"),onSet:o(function(e){e.dirtyCompoundBoundsCache()},"onSet"),canSet:o(function(e){return!e.locked()},"canSet")},Il=$Re={position:vn.data(jG),silentPosition:vn.data(br({},jG,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:o(function(e,t){qG(e,t,!0)},"beforeSet"),onSet:o(function(e){e.dirtyCompoundBoundsCache()},"onSet")})),positions:o(function(e,t){if(en(e))t?this.silentPosition(e):this.position(e);else if(Jn(e)){var r=e,n=this.cy();n.startBatch();for(var i=0;i<this.length;i++){var a=this[i],s=void 0;(s=r(a,i))&&(t?a.silentPosition(s):a.position(s))}n.endBatch()}return this},"positions"),silentPositions:o(function(e){return this.positions(e,!0)},"silentPositions"),shift:o(function(e,t,r){var n;if(en(e)?(n={x:Ct(e.x)?e.x:0,y:Ct(e.y)?e.y:0},r=t):or(e)&&Ct(t)&&(n={x:0,y:0},n[e]=t),n!=null){var i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+n.x,y:l.y+n.y};r?s.silentPosition(u):s.position(u)}}i.endBatch()}return this},"shift"),silentShift:o(function(e,t){return en(e)?this.shift(e,!0):or(e)&&Ct(t)&&this.shift(e,t,!0),this},"silentShift"),renderedPosition:o(function(e,t){var r=this[0],n=this.cy(),i=n.zoom(),a=n.pan(),s=en(e)?e:void 0,l=s!==void 0||t!==void 0&&or(e);if(r&&r.isNode())if(l)for(var u=0;u<this.length;u++){var h=this[u];t!==void 0?h.position(e,(t-a[e])/i):s!==void 0&&h.position(Qz(s,i,a))}else{var d=r.position();return s=$b(d,i,a),e===void 0?s:s[e]}else if(!l)return;return this},"renderedPosition"),relativePosition:o(function(e,t){var r=this[0],n=this.cy(),i=en(e)?e:void 0,a=i!==void 0||t!==void 0&&or(e),s=n.hasCompoundNodes();if(r&&r.isNode())if(a)for(var l=0;l<this.length;l++){var u=this[l],h=s?u.parent():null,d=h&&h.length>0,p=d;d&&(h=h[0]);var f=p?h.position():{x:0,y:0};t!==void 0?u.position(e,t+f[e]):i!==void 0&&u.position({x:i.x+f.x,y:i.y+f.y})}else{var g=r.position(),m=s?r.parent():null,y=m&&m.length>0,b=y;y&&(m=m[0]);var v=b?m.position():{x:0,y:0};return i={x:g.x-v.x,y:g.y-v.y},e===void 0?i:i[e]}else if(!a)return;return this},"relativePosition")},Il.modelPosition=Il.point=Il.position,Il.modelPositions=Il.points=Il.positions,Il.renderedPoint=Il.renderedPosition,Il.relativePoint=Il.relativePosition,FRe=$Re,Nf=wd={},wd.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,s=t.x2*n+i.x,l=t.y1*n+i.y,u=t.y2*n+i.y;return{x1:a,x2:s,y1:l,y2:u,w:s-a,h:u-l}},wd.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)},wd.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(s){if(!s.isParent())return;var l=s._private,u=s.children(),h=s.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},p=u.boundingBox({includeLabels:h,includeOverlays:!1,useCache:!1}),f=l.position;(p.w===0||p.h===0)&&(p={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},p.x1=f.x-p.w/2,p.x2=f.x+p.w/2,p.y1=f.y-p.h/2,p.y2=f.y+p.h/2);function g(N,D,M){var L=0,B=0,E=D+M;return N>0&&E>0&&(L=D/E*N,B=M/E*N),{biasDiff:L,biasComplementDiff:B}}o(g,"computeBiasValues");function m(N,D,M,L){if(M.units==="%")switch(L){case"width":return N>0?M.pfValue*N:0;case"height":return D>0?M.pfValue*D:0;case"average":return N>0&&D>0?M.pfValue*(N+D)/2:0;case"min":return N>0&&D>0?N>D?M.pfValue*D:M.pfValue*N:0;case"max":return N>0&&D>0?N>D?M.pfValue*N:M.pfValue*D:0;default:return 0}else return M.units==="px"?M.pfValue:0}o(m,"computePaddingValues");var y=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(y=y*100/d.width.val);var b=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(b=b*100/d.width.val);var v=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(v=v*100/d.height.val);var x=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(x=x*100/d.height.val);var k=g(d.width.val-p.w,y,b),w=k.biasDiff,_=k.biasComplementDiff,S=g(d.height.val-p.h,v,x),C=S.biasDiff,T=S.biasComplementDiff;l.autoPadding=m(p.w,p.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),l.autoWidth=Math.max(p.w,d.width.val),f.x=(-w+p.x1+p.x2+_)/2,l.autoHeight=Math.max(p.h,d.height.val),f.y=(-C+p.y1+p.y2+T)/2}o(r,"update");for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||e)&&(r(i),t.batching()||(a.compoundBoundsClean=!0))}return this},co=o(function(e){return e===1/0||e===-1/0?0:e},"noninf"),Go=o(function(e,t,r,n,i){n-t===0||i-r===0||t==null||r==null||n==null||i==null||(e.x1=t<e.x1?t:e.x1,e.x2=n>e.x2?n:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},"updateBounds"),Td=o(function(e,t){return t==null?e:Go(e,t.x1,t.y1,t.x2,t.y2)},"updateBoundsFromBox"),If=o(function(e,t,r){return zo(e,t,r)},"prefixedProperty"),tx=o(function(e,t,r){if(!t.cy().headless()){var n=t._private,i=n.rstyle,a=i.arrowWidth/2,s=t.pstyle(r+"-arrow-shape").value,l,u;if(s!=="none"){r==="source"?(l=i.srcX,u=i.srcY):r==="target"?(l=i.tgtX,u=i.tgtY):(l=i.midX,u=i.midY);var h=n.arrowBounds=n.arrowBounds||{},d=h[r]=h[r]||{};d.x1=l-a,d.y1=u-a,d.x2=l+a,d.y2=u+a,d.w=d.x2-d.x1,d.h=d.y2-d.y1,zb(d,1),Go(e,d.x1,d.y1,d.x2,d.y2)}}},"updateBoundsFromArrow"),fE=o(function(e,t,r){if(!t.cy().headless()){var n;r?n=r+"-":n="";var i=t._private,a=i.rstyle,s=t.pstyle(n+"label").strValue;if(s){var l=t.pstyle("text-halign"),u=t.pstyle("text-valign"),h=If(a,"labelWidth",r),d=If(a,"labelHeight",r),p=If(a,"labelX",r),f=If(a,"labelY",r),g=t.pstyle(n+"text-margin-x").pfValue,m=t.pstyle(n+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(n+"text-rotation"),v=t.pstyle("text-outline-width").pfValue,x=t.pstyle("text-border-width").pfValue,k=x/2,w=t.pstyle("text-background-padding").pfValue,_=2,S=d,C=h,T=C/2,N=S/2,D,M,L,B;if(y)D=p-T,M=p+T,L=f-N,B=f+N;else{switch(l.value){case"left":D=p-C,M=p;break;case"center":D=p-T,M=p+T;break;case"right":D=p,M=p+C;break}switch(u.value){case"top":L=f-S,B=f;break;case"center":L=f-N,B=f+N;break;case"bottom":L=f,B=f+S;break}}D+=g-Math.max(v,k)-w-_,M+=g+Math.max(v,k)+w+_,L+=m-Math.max(v,k)-w-_,B+=m+Math.max(v,k)+w+_;var E=r||"main",R=i.labelBounds,O=R[E]=R[E]||{};O.x1=D,O.y1=L,O.x2=M,O.y2=B,O.w=M-D,O.h=B-L;var P=y&&b.strValue==="autorotate",A=b.pfValue!=null&&b.pfValue!==0;if(P||A){var $=P?If(i.rstyle,"labelAngle",r):b.pfValue,F=Math.cos($),G=Math.sin($),q=(D+M)/2,W=(L+B)/2;if(!y){switch(l.value){case"left":q=M;break;case"right":q=D;break}switch(u.value){case"top":W=B;break;case"bottom":W=L;break}}var re=o(function(ne,K){return ne=ne-q,K=K-W,{x:ne*F-K*G+q,y:ne*G+K*F+W}},"rotate"),oe=re(D,L),te=re(D,B),se=re(M,L),Y=re(M,B);D=Math.min(oe.x,te.x,se.x,Y.x),M=Math.max(oe.x,te.x,se.x,Y.x),L=Math.min(oe.y,te.y,se.y,Y.y),B=Math.max(oe.y,te.y,se.y,Y.y)}var V=E+"Rot",U=R[V]=R[V]||{};U.x1=D,U.y1=L,U.x2=M,U.y2=B,U.w=M-D,U.h=B-L,Go(e,D,L,M,B),Go(i.labelBounds.all,D,L,M,B)}return e}},"updateBoundsFromLabel"),zRe=o(function(e,t){if(!t.cy().headless()){var r=t.pstyle("outline-opacity").value,n=t.pstyle("outline-width").value;if(r>0&&n>0){var i=t.pstyle("outline-offset").value,a=t.pstyle("shape").value,s=n+i,l=(e.w+s*2)/e.w,u=(e.h+s*2)/e.h,h=0,d=0;["diamond","pentagon","round-triangle"].includes(a)?(l=(e.w+s*2.4)/e.w,d=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(a)?l=(e.w+s*2.4)/e.w:a==="star"?(l=(e.w+s*2.8)/e.w,u=(e.h+s*2.6)/e.h,d=-s/3.8):a==="triangle"?(l=(e.w+s*2.8)/e.w,u=(e.h+s*2.4)/e.h,d=-s/1.4):a==="vee"&&(l=(e.w+s*4.4)/e.w,u=(e.h+s*3.8)/e.h,d=-s*.5);var p=e.h*u-e.h,f=e.w*l-e.w;if(Gb(e,[Math.ceil(p/2),Math.ceil(f/2)]),h!=0||d!==0){var g=HIe(e,h,d);eG(e,g)}}}},"updateBoundsFromOutline"),GRe=o(function(e,t){var r=e._private.cy,n=r.styleEnabled(),i=r.headless(),a=gs(),s=e._private,l=e.isNode(),u=e.isEdge(),h,d,p,f,g,m,y=s.rstyle,b=l&&n?e.pstyle("bounds-expansion").pfValue:[0],v=o(function(Q){return Q.pstyle("display").value!=="none"},"isDisplayed"),x=!n||v(e)&&(!u||v(e.source())&&v(e.target()));if(x){var k=0,w=0;n&&t.includeOverlays&&(k=e.pstyle("overlay-opacity").value,k!==0&&(w=e.pstyle("overlay-padding").value));var _=0,S=0;n&&t.includeUnderlays&&(_=e.pstyle("underlay-opacity").value,_!==0&&(S=e.pstyle("underlay-padding").value));var C=Math.max(w,S),T=0,N=0;if(n&&(T=e.pstyle("width").pfValue,N=T/2),l&&t.includeNodes){var D=e.position();g=D.x,m=D.y;var M=e.outerWidth(),L=M/2,B=e.outerHeight(),E=B/2;h=g-L,d=g+L,p=m-E,f=m+E,Go(a,h,p,d,f),n&&t.includeOutlines&&zRe(a,e)}else if(u&&t.includeEdges)if(n&&!i){var R=e.pstyle("curve-style").strValue;if(h=Math.min(y.srcX,y.midX,y.tgtX),d=Math.max(y.srcX,y.midX,y.tgtX),p=Math.min(y.srcY,y.midY,y.tgtY),f=Math.max(y.srcY,y.midY,y.tgtY),h-=N,d+=N,p-=N,f+=N,Go(a,h,p,d,f),R==="haystack"){var O=y.haystackPts;if(O&&O.length===2){if(h=O[0].x,p=O[0].y,d=O[1].x,f=O[1].y,h>d){var P=h;h=d,d=P}if(p>f){var A=p;p=f,f=A}Go(a,h-N,p-N,d+N,f+N)}}else if(R==="bezier"||R==="unbundled-bezier"||R.endsWith("segments")||R.endsWith("taxi")){var $;switch(R){case"bezier":case"unbundled-bezier":$=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":$=y.linePts;break}if($!=null)for(var F=0;F<$.length;F++){var G=$[F];h=G.x-N,d=G.x+N,p=G.y-N,f=G.y+N,Go(a,h,p,d,f)}}}else{var q=e.source(),W=q.position(),re=e.target(),oe=re.position();if(h=W.x,d=oe.x,p=W.y,f=oe.y,h>d){var te=h;h=d,d=te}if(p>f){var se=p;p=f,f=se}h-=N,d+=N,p-=N,f+=N,Go(a,h,p,d,f)}if(n&&t.includeEdges&&u&&(tx(a,e,"mid-source"),tx(a,e,"mid-target"),tx(a,e,"source"),tx(a,e,"target")),n){var Y=e.pstyle("ghost").value==="yes";if(Y){var V=e.pstyle("ghost-offset-x").pfValue,U=e.pstyle("ghost-offset-y").pfValue;Go(a,a.x1+V,a.y1+U,a.x2+V,a.y2+U)}}var ne=s.bodyBounds=s.bodyBounds||{};tG(ne,a),Gb(ne,b),zb(ne,1),n&&(h=a.x1,d=a.x2,p=a.y1,f=a.y2,Go(a,h-C,p-C,d+C,f+C));var K=s.overlayBounds=s.overlayBounds||{};tG(K,a),Gb(K,b),zb(K,1);var fe=s.labelBounds=s.labelBounds||{};fe.all!=null?UIe(fe.all):fe.all=gs(),n&&t.includeLabels&&(t.includeMainLabels&&fE(a,e,null),u&&(t.includeSourceLabels&&fE(a,e,"source"),t.includeTargetLabels&&fE(a,e,"target")))}return a.x1=co(a.x1),a.y1=co(a.y1),a.x2=co(a.x2),a.y2=co(a.y2),a.w=co(a.x2-a.x1),a.h=co(a.y2-a.y1),a.w>0&&a.h>0&&x&&(Gb(a,b),zb(a,1)),a},"boundingBoxImpl"),YG=o(function(e){var t=0,r=o(function(i){return(i?1:0)<<t++},"tf"),n=0;return n+=r(e.incudeNodes),n+=r(e.includeEdges),n+=r(e.includeLabels),n+=r(e.includeMainLabels),n+=r(e.includeSourceLabels),n+=r(e.includeTargetLabels),n+=r(e.includeOverlays),n+=r(e.includeOutlines),n},"getKey"),UG=o(function(e){if(e.isEdge()){var t=e.source().position(),r=e.target().position(),n=o(function(i){return Math.round(i)},"r");return dIe([n(t.x),n(t.y),n(r.x),n(r.y)])}else return 0},"getBoundingBoxPosKey"),HG=o(function(e,t){var r=e._private,n,i=e.isEdge(),a=t==null?WG:YG(t),s=a===WG,l=UG(e),u=r.bbCachePosKey===l,h=t.useCache&&u,d=o(function(g){return g._private.bbCache==null||g._private.styleDirty},"isDirty"),p=!h||d(e)||i&&d(e.source())||d(e.target());if(p?(u||e.recalculateRenderedStyle(h),n=GRe(e,Mf),r.bbCache=n,r.bbCachePosKey=l):n=r.bbCache,!s){var f=e.isNode();n=gs(),(t.includeNodes&&f||t.includeEdges&&!f)&&(t.includeOverlays?Td(n,r.overlayBounds):Td(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?Td(n,r.labelBounds.all):(t.includeMainLabels&&Td(n,r.labelBounds.mainRot),t.includeSourceLabels&&Td(n,r.labelBounds.sourceRot),t.includeTargetLabels&&Td(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},"cachedBoundingBoxImpl"),Mf={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},WG=YG(Mf),VG=ca(Mf),wd.boundingBox=function(e){var t;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(e===void 0||e.useCache===void 0||e.useCache===!0))e===void 0?e=Mf:e=VG(e),t=HG(this[0],e);else{t=gs(),e=e||Mf;var r=VG(e),n=this,i=n.cy(),a=i.styleEnabled();if(a)for(var s=0;s<n.length;s++){var l=n[s],u=l._private,h=UG(l),d=u.bbCachePosKey===h,p=r.useCache&&d&&!u.styleDirty;l.recalculateRenderedStyle(p)}this.updateCompoundBounds(!e.useCache);for(var f=0;f<n.length;f++){var g=n[f];Td(t,HG(g,r))}}return t.x1=co(t.x1),t.y1=co(t.y1),t.x2=co(t.x2),t.y2=co(t.y2),t.w=co(t.x2-t.x1),t.h=co(t.y2-t.y1),t},wd.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},wd.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=t.filter(function(h){return h.isParent()}),t=t.not(i)),en(e)){var a=e;e=o(function(){return a},"fn")}var s=o(function(h,d){return h._private.bbAtOldPos=e(h,d)},"storeOldPos"),l=o(function(h){return h._private.bbAtOldPos},"getOldPos");r.startBatch(),t.forEach(s).silentPositions(e),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var u=YIe(this.boundingBox({useCache:!1}));return t.silentPositions(l),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),u},Nf.boundingbox=Nf.bb=Nf.boundingBox,Nf.renderedBoundingbox=Nf.renderedBoundingBox,qRe=wd,rx=nx={},XG=o(function(e){e.uppercaseName=Mz(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Mz(e.outerName),rx[e.name]=o(function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t)if(i){if(t.isParent())return t.updateCompoundBounds(),r[e.autoName]||0;var a=t.pstyle(e.name);switch(a.strValue){case"label":return t.recalculateRenderedStyle(),r.rstyle[e.labelName]||0;default:return a.pfValue}}else return 1},"dimImpl"),rx["outer"+e.uppercaseName]=o(function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t)if(i){var a=t[e.name](),s=t.pstyle("border-width").pfValue,l=2*t.padding();return a+s+l}else return 1},"outerDimImpl"),rx["rendered"+e.uppercaseName]=o(function(){var t=this[0];if(t){var r=t[e.name]();return r*this.cy().zoom()}},"renderedDimImpl"),rx["rendered"+e.uppercaseOuterName]=o(function(){var t=this[0];if(t){var r=t[e.outerName]();return r*this.cy().zoom()}},"renderedOuterDimImpl")},"defineDimFns"),XG({name:"width"}),XG({name:"height"}),nx.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},nx.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},nx.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()},jRe=nx,YRe=o(function(e,t){if(e.isEdge())return t(e)},"ifEdge"),URe=o(function(e,t){if(e.isEdge()){var r=e.cy();return $b(t(e),r.zoom(),r.pan())}},"ifEdgeRenderedPosition"),HRe=o(function(e,t){if(e.isEdge()){var r=e.cy(),n=r.pan(),i=r.zoom();return t(e).map(function(a){return $b(a,i,n)})}},"ifEdgeRenderedPositions"),WRe=o(function(e){return e.renderer().getControlPoints(e)},"controlPoints"),VRe=o(function(e){return e.renderer().getSegmentPoints(e)},"segmentPoints"),XRe=o(function(e){return e.renderer().getSourceEndpoint(e)},"sourceEndpoint"),KRe=o(function(e){return e.renderer().getTargetEndpoint(e)},"targetEndpoint"),ZRe=o(function(e){return e.renderer().getEdgeMidpoint(e)},"midpoint"),KG={controlPoints:{get:WRe,mult:!0},segmentPoints:{get:VRe,mult:!0},sourceEndpoint:{get:XRe},targetEndpoint:{get:KRe},midpoint:{get:ZRe}},QRe=o(function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},"renderedName"),JRe=Object.keys(KG).reduce(function(e,t){var r=KG[t],n=QRe(t);return e[t]=function(){return YRe(this,r.get)},r.mult?e[n]=function(){return HRe(this,r.get)}:e[n]=function(){return URe(this,r.get)},e},{}),eOe=br({},FRe,qRe,jRe,JRe),ZG=o(function(e,t){this.recycle(e,t)},"Event"),o(df,"returnFalse"),o(_b,"returnTrue"),ZG.prototype={instanceString:o(function(){return"event"},"instanceString"),recycle:o(function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=df,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?_b:df):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,n=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:r.x*n+i.x,y:r.y*n+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},"recycle"),preventDefault:o(function(){this.isDefaultPrevented=_b;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},"preventDefault"),stopPropagation:o(function(){this.isPropagationStopped=_b;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},"stopPropagation"),stopImmediatePropagation:o(function(){this.isImmediatePropagationStopped=_b,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:df,isPropagationStopped:df,isImmediatePropagationStopped:df},QG=/^([^.]+)(\.(?:[^.]+))?$/,tOe=".*",JG={qualifierCompare:o(function(e,t){return e===t},"qualifierCompare"),eventMatches:o(function(){return!0},"eventMatches"),addEventFields:o(function(){},"addEventFields"),callbackContext:o(function(e){return e},"callbackContext"),beforeEmit:o(function(){},"beforeEmit"),afterEmit:o(function(){},"afterEmit"),bubble:o(function(){return!1},"bubble"),parent:o(function(){return null},"parent"),context:null},eq=Object.keys(JG),rOe={},o(Cb,"Emitter"),ju=Cb.prototype,tq=o(function(e,t,r,n,i,a,s){Jn(n)&&(i=n,n=null),s&&(a==null?a=s:a=br({},a,s));for(var l=In(r)?r:r.split(/\s+/),u=0;u<l.length;u++){var h=l[u];if(!Ru(h)){var d=h.match(QG);if(d){var p=d[1],f=d[2]?d[2]:null,g=t(e,h,p,f,n,i,a);if(g===!1)break}}}},"forEachEvent"),rq=o(function(e,t){return e.addEventFields(e.context,t),new ZG(t.type,t)},"makeEventObj"),nOe=o(function(e,t,r){if(bNe(r)){t(e,r);return}else if(en(r)){t(e,rq(e,r));return}for(var n=In(r)?r:r.split(/\s+/),i=0;i<n.length;i++){var a=n[i];if(!Ru(a)){var s=a.match(QG);if(s){var l=s[1],u=s[2]?s[2]:null,h=rq(e,{type:l,namespace:u,target:e.context});t(e,h)}}}},"forEachEventObj"),ju.on=ju.addListener=function(e,t,r,n,i){return tq(this,function(a,s,l,u,h,d,p){Jn(d)&&a.listeners.push({event:s,callback:d,type:l,namespace:u,qualifier:h,conf:p})},e,t,r,n,i),this},ju.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})},ju.removeListener=ju.off=function(e,t,r,n){var i=this;this.emitting!==0&&(this.listeners=yIe(this.listeners));for(var a=this.listeners,s=o(function(u){var h=a[u];tq(i,function(d,p,f,g,m,y){if((h.type===f||e==="*")&&(!g&&h.namespace!==".*"||h.namespace===g)&&(!m||d.qualifierCompare(h.qualifier,m))&&(!y||h.callback===y))return a.splice(u,1),!1},e,t,r,n)},"_loop"),l=a.length-1;l>=0;l--)s(l);return this},ju.removeAllListeners=function(){return this.removeListener("*")},ju.emit=ju.trigger=function(e,t,r){var n=this.listeners,i=n.length;return this.emitting++,In(t)||(t=[t]),nOe(this,function(a,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var l=o(function(h){var d=n[h];if(d.type===s.type&&(!d.namespace||d.namespace===s.namespace||d.namespace===tOe)&&a.eventMatches(a.context,d,s)){var p=[s];t!=null&&bIe(p,t),a.beforeEmit(a.context,d,s),d.conf&&d.conf.one&&(a.listeners=a.listeners.filter(function(m){return m!==d}));var f=a.callbackContext(a.context,d,s),g=d.callback.apply(f,p);a.afterEmit(a.context,d,s),g===!1&&(s.stopPropagation(),s.preventDefault())}},"_loop2"),u=0;u<i;u++)l(u);a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,t)},e),this.emitting--,this},iOe={qualifierCompare:o(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:o(function(e,t,r){var n=t.qualifier;return n!=null?e!==r.target&&ff(r.target)&&n.matches(r.target):!0},"eventMatches"),addEventFields:o(function(e,t){t.cy=e.cy(),t.target=e},"addEventFields"),callbackContext:o(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext"),beforeEmit:o(function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},"beforeEmit"),bubble:o(function(){return!0},"bubble"),parent:o(function(e){return e.isChild()?e.parent():e.cy()},"parent")},ix=o(function(e){return or(e)?new zu(e):e},"argSelector"),nq={createEmitter:o(function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new Cb(iOe,t))}return this},"createEmitter"),emitter:o(function(){return this._private.emitter},"emitter"),on:o(function(e,t,r){for(var n=ix(t),i=0;i<this.length;i++){var a=this[i];a.emitter().on(e,n,r)}return this},"on"),removeListener:o(function(e,t,r){for(var n=ix(t),i=0;i<this.length;i++){var a=this[i];a.emitter().removeListener(e,n,r)}return this},"removeListener"),removeAllListeners:o(function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},"removeAllListeners"),one:o(function(e,t,r){for(var n=ix(t),i=0;i<this.length;i++){var a=this[i];a.emitter().one(e,n,r)}return this},"one"),once:o(function(e,t,r){for(var n=ix(t),i=0;i<this.length;i++){var a=this[i];a.emitter().on(e,n,r,{once:!0,onceCollection:this})}},"once"),emit:o(function(e,t){for(var r=0;r<this.length;r++){var n=this[r];n.emitter().emit(e,t)}return this},"emit"),emitAndNotify:o(function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this},"emitAndNotify")},vn.eventAliasesOn(nq),iq={nodes:o(function(e){return this.filter(function(t){return t.isNode()}).filter(e)},"nodes"),edges:o(function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},"edges"),byGroup:o(function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var n=this[r];n.isNode()?e.push(n):t.push(n)}return{nodes:e,edges:t}},"byGroup"),filter:o(function(e,t){if(e===void 0)return this;if(or(e)||Bs(e))return new zu(e).filter(this);if(Jn(e)){for(var r=this.spawn(),n=this,i=0;i<n.length;i++){var a=n[i],s=t?e.apply(t,[a,i,n]):e(a,i,n);s&&r.push(a)}return r}return this.spawn()},"filter"),not:o(function(e){if(e){or(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var n=this[r],i=e.has(n);i||t.push(n)}return t}else return this},"not"),absoluteComplement:o(function(){var e=this.cy();return e.mutableElements().not(this)},"absoluteComplement"),intersect:o(function(e){if(or(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),n=this,i=e,a=this.length<e.length,s=a?n:i,l=a?i:n,u=0;u<s.length;u++){var h=s[u];l.has(h)&&r.push(h)}return r},"intersect"),xor:o(function(e){var t=this._private.cy;or(e)&&(e=t.$(e));var r=this.spawn(),n=this,i=e,a=o(function(s,l){for(var u=0;u<s.length;u++){var h=s[u],d=h._private.data.id,p=l.hasElementWithId(d);p||r.push(h)}},"add");return a(n,i),a(i,n),r},"xor"),diff:o(function(e){var t=this._private.cy;or(e)&&(e=t.$(e));var r=this.spawn(),n=this.spawn(),i=this.spawn(),a=this,s=e,l=o(function(u,h,d){for(var p=0;p<u.length;p++){var f=u[p],g=f._private.data.id,m=h.hasElementWithId(g);m?i.merge(f):d.push(f)}},"add");return l(a,s,r),l(s,a,n),{left:r,right:n,both:i}},"diff"),add:o(function(e){var t=this._private.cy;if(!e)return this;if(or(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=this.spawnSelf(),i=0;i<e.length;i++){var a=e[i],s=!this.has(a);s&&n.push(a)}return n},"add"),merge:o(function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&or(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=t.map,a=0;a<e.length;a++){var s=e[a],l=s._private.data.id,u=!i.has(l);if(u){var h=this.length++;this[h]=s,i.set(l,{ele:s,index:h})}}return this},"merge"),unmergeAt:o(function(e){var t=this[e],r=t.id(),n=this._private,i=n.map;this[e]=void 0,i.delete(r);var a=e===this.length-1;if(this.length>1&&!a){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[e]=l,i.set(u,{ele:l,index:e})}return this.length--,this},"unmergeAt"),unmergeOne:o(function(e){e=e[0];var t=this._private,r=e._private.data.id,n=t.map,i=n.get(r);if(!i)return this;var a=i.index;return this.unmergeAt(a),this},"unmergeOne"),unmerge:o(function(e){var t=this._private.cy;if(!e)return this;if(e&&or(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=0;n<e.length;n++)this.unmergeOne(e[n]);return this},"unmerge"),unmergeBy:o(function(e){for(var t=this.length-1;t>=0;t--){var r=this[t];e(r)&&this.unmergeAt(t)}return this},"unmergeBy"),map:o(function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],s=t?e.apply(t,[a,i,n]):e(a,i,n);r.push(s)}return r},"map"),reduce:o(function(e,t){for(var r=t,n=this,i=0;i<n.length;i++)r=e(r,n[i],i,n);return r},"reduce"),max:o(function(e,t){for(var r=-1/0,n,i=this,a=0;a<i.length;a++){var s=i[a],l=t?e.apply(t,[s,a,i]):e(s,a,i);l>r&&(r=l,n=s)}return{value:r,ele:n}},"max"),min:o(function(e,t){for(var r=1/0,n,i=this,a=0;a<i.length;a++){var s=i[a],l=t?e.apply(t,[s,a,i]):e(s,a,i);l<r&&(r=l,n=s)}return{value:r,ele:n}},"min")},an=iq,an.u=an["|"]=an["+"]=an.union=an.or=an.add,an["\\"]=an["!"]=an["-"]=an.difference=an.relativeComplement=an.subtract=an.not,an.n=an["&"]=an["."]=an.and=an.intersection=an.intersect,an["^"]=an["(+)"]=an["(-)"]=an.symmetricDifference=an.symdiff=an.xor,an.fnFilter=an.filterFn=an.stdFilter=an.filter,an.complement=an.abscomp=an.absoluteComplement,aOe={isNode:o(function(){return this.group()==="nodes"},"isNode"),isEdge:o(function(){return this.group()==="edges"},"isEdge"),isLoop:o(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:o(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:o(function(){var e=this[0];if(e)return e._private.group},"group")},aq=o(function(e,t){var r=e.cy(),n=r.hasCompoundNodes();function i(h){var d=h.pstyle("z-compound-depth");return d.value==="auto"?n?h.zDepth():0:d.value==="bottom"?-1:d.value==="top"?XT:0}o(i,"getDepth");var a=i(e)-i(t);if(a!==0)return a;function s(h){var d=h.pstyle("z-index-compare");return d.value==="auto"&&h.isNode()?1:0}o(s,"getEleDepth");var l=s(e)-s(t);if(l!==0)return l;var u=e.pstyle("z-index").value-t.pstyle("z-index").value;return u!==0?u:e.poolIndex()-t.poolIndex()},"zIndexSort"),ax={forEach:o(function(e,t){if(Jn(e))for(var r=this.length,n=0;n<r;n++){var i=this[n],a=t?e.apply(t,[i,n,this]):e(i,n,this);if(a===!1)break}return this},"forEach"),toArray:o(function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},"toArray"),slice:o(function(e,t){var r=[],n=this.length;t==null&&(t=n),e==null&&(e=0),e<0&&(e=n+e),t<0&&(t=n+t);for(var i=e;i>=0&&i<t&&i<n;i++)r.push(this[i]);return this.spawn(r)},"slice"),size:o(function(){return this.length},"size"),eq:o(function(e){return this[e]||this.spawn()},"eq"),first:o(function(){return this[0]||this.spawn()},"first"),last:o(function(){return this[this.length-1]||this.spawn()},"last"),empty:o(function(){return this.length===0},"empty"),nonempty:o(function(){return!this.empty()},"nonempty"),sort:o(function(e){if(!Jn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},"sort"),sortByZIndex:o(function(){return this.sort(aq)},"sortByZIndex"),zDepth:o(function(){var e=this[0];if(e){var t=e._private,r=t.group;if(r==="nodes"){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:XT-1}else{var i=t.source,a=t.target,s=i.zDepth(),l=a.zDepth();return Math.max(s,l,0)}}},"zDepth")},ax.each=ax.forEach,sOe=o(function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":Bi(Symbol))!=e&&Bi(Symbol.iterator)!=e;t&&(ax[Symbol.iterator]=function(){var r=this,n={value:void 0,done:!1},i=0,a=this.length;return ZF({next:o(function(){return i<a?n.value=r[i++]:(n.value=void 0,n.done=!0),n},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator"),sOe(),oOe=ca({nodeDimensionsIncludeLabels:!1}),sx={layoutDimensions:o(function(e){e=oOe(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},"layoutDimensions"),layoutPositions:o(function(e,t,r){var n=this.nodes().filter(function(w){return!w.isParent()}),i=this.cy(),a=t.eles,s=o(function(w){return w.id()},"getMemoizeKey"),l=mf(r,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=o(function(w,_,S){var C={x:_.x1+_.w/2,y:_.y1+_.h/2},T={x:(S.x-C.x)*w,y:(S.y-C.y)*w};return{x:C.x+T.x,y:C.y+T.y}},"calculateSpacing"),h=t.spacingFactor&&t.spacingFactor!==1,d=o(function(){if(!h)return null;for(var w=gs(),_=0;_<n.length;_++){var S=n[_],C=l(S,_);WIe(w,C.x,C.y)}return w},"spacingBb"),p=d(),f=mf(function(w,_){var S=l(w,_);if(h){var C=Math.abs(t.spacingFactor);S=u(C,p,S)}return t.transform!=null&&(S=t.transform(w,S)),S},s);if(t.animate){for(var g=0;g<n.length;g++){var m=n[g],y=f(m,g),b=t.animateFilter==null||t.animateFilter(m,g);if(b){var v=m.animation({position:y,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}else m.position(y)}if(t.fit){var x=i.animation({fit:{boundingBox:a.boundingBoxAt(f),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(x)}else if(t.zoom!==void 0&&t.pan!==void 0){var k=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(k)}e.animations.forEach(function(w){return w.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),yp.all(e.animations.map(function(w){return w.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else n.positions(f),t.fit&&i.fit(t.eles,t.padding),t.zoom!=null&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},"layoutPositions"),layout:o(function(e){var t=this.cy();return t.makeLayout(br({},e,{eles:this}))},"layout")},sx.createLayout=sx.makeLayout=sx.layout,o(iz,"styleCache"),o(Sb,"cacheStyleFunction"),o(Ab,"cachePrototypeStyleFunction"),ua={recalculateRenderedStyle:o(function(e){var t=this.cy(),r=t.renderer(),n=t.styleEnabled();return r&&n&&r.recalculateRenderedStyle(this,e),this},"recalculateRenderedStyle"),dirtyStyleCache:o(function(){var e=this.cy(),t=o(function(n){return n._private.styleCache=null},"dirty");if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(t)}else this.forEach(function(n){t(n),n.connectedEdges().forEach(t)});return this},"dirtyStyleCache"),updateStyle:o(function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var r=t._private.batchStyleEles;return r.merge(this),this}var n=t.hasCompoundNodes(),i=this;e=!!(e||e===void 0),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=i;return e?a.emitAndNotify("style"):a.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:o(function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},"cleanStyle"),parsedStyle:o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],n=r.cy();if(n.styleEnabled()&&r){this.cleanStyle();var i=r._private.style[e];return i??(t?n.style().getDefaultProperty(e):null)}},"parsedStyle"),numericStyle:o(function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},"numericStyle"),numericStyleUnits:o(function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},"numericStyleUnits"),renderedStyle:o(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r)return t.style().getRenderedStyle(r,e)},"renderedStyle"),style:o(function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style();if(en(e)){var a=e;i.applyBypass(this,a,n),this.emitAndNotify("style")}else if(or(e))if(t===void 0){var s=this[0];return s?i.getStylePropertyValue(s,e):void 0}else i.applyBypass(this,e,t,n),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?i.getRawStyle(l):void 0}return this},"style"),removeStyle:o(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,n=t.style(),i=this;if(e===void 0)for(var a=0;a<i.length;a++){var s=i[a];n.removeAllBypasses(s,r)}else{e=e.split(/\s+/);for(var l=0;l<i.length;l++){var u=i[l];n.removeBypasses(u,e,r)}}return this.emitAndNotify("style"),this},"removeStyle"),show:o(function(){return this.css("display","element"),this},"show"),hide:o(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:o(function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=r.pstyle("opacity").value;if(!t)return i;var a=n.data.parent?r.parents():null;if(a)for(var s=0;s<a.length;s++){var l=a[s],u=l.pstyle("opacity").value;i=u*i}return i}},"effectiveOpacity"),transparent:o(function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();if(t)return r?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},"transparent"),backgrounding:o(function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding},"backgrounding")},o(zT,"checkCompound"),o(GT,"defineDerivedStateFunction"),xp=Sb("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)}),ua.takesUpSpace=Ab("takesUpSpace",GT({ok:xp})),lOe=Sb("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&xp(e)}),cOe=Sb("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&xp(e)}),ua.interactive=Ab("interactive",GT({ok:lOe,parentOk:cOe,edgeOkViaNode:xp})),ua.noninteractive=function(){var e=this[0];if(e)return!e.interactive()},uOe=Sb("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&xp(e)}),hOe=xp,ua.visible=Ab("visible",GT({ok:uOe,edgeOkViaNode:hOe})),ua.hidden=function(){var e=this[0];if(e)return!e.visible()},ua.isBundledBezier=Ab("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1}),ua.bypass=ua.css=ua.style,ua.renderedCss=ua.renderedStyle,ua.removeBypass=ua.removeCss=ua.removeStyle,ua.pstyle=ua.parsedStyle,Yu={},o(az,"defineSwitchFunction"),o(sp,"defineSwitchSet"),sp({field:"locked",overrideField:o(function(e){return e.cy().autolock()?!0:void 0},"overrideField"),on:"lock",off:"unlock"}),sp({field:"grabbable",overrideField:o(function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},"overrideField"),on:"grabify",off:"ungrabify"}),sp({field:"selected",ableField:"selectable",overrideAble:o(function(e){return e.cy().autounselectify()?!1:void 0},"overrideAble"),on:"select",off:"unselect"}),sp({field:"selectable",overrideField:o(function(e){return e.cy().autounselectify()?!1:void 0},"overrideField"),on:"selectify",off:"unselectify"}),Yu.deselect=Yu.unselect,Yu.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},sp({field:"active",on:"activate",off:"unactivate"}),sp({field:"pannable",on:"panify",off:"unpanify"}),Yu.inactive=function(){var e=this[0];if(e)return!e._private.active},Sa={},sq=o(function(e){return o(function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode()){for(var s=!1,l=a.connectedEdges(),u=0;u<l.length;u++){var h=l[u],d=h.source(),p=h.target();if(e.noIncomingEdges&&p===a&&d!==a||e.noOutgoingEdges&&d===a&&p!==a){s=!0;break}}s||n.push(a)}}return this.spawn(n,!0).filter(t)},"dagExtremityImpl")},"defineDagExtremity"),oq=o(function(e){return function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode())for(var s=a.connectedEdges(),l=0;l<s.length;l++){var u=s[l],h=u.source(),d=u.target();e.outgoing&&h===a?(n.push(u),n.push(d)):e.incoming&&d===a&&(n.push(u),n.push(h))}}return this.spawn(n,!0).filter(t)}},"defineDagOneHop"),lq=o(function(e){return function(t){for(var r=this,n=[],i={};;){var a=e.outgoing?r.outgoers():r.incomers();if(a.length===0)break;for(var s=!1,l=0;l<a.length;l++){var u=a[l],h=u.id();i[h]||(i[h]=!0,n.push(u),s=!0)}if(!s)break;r=a}return this.spawn(n,!0).filter(t)}},"defineDagAllHops"),Sa.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},br(Sa,{roots:sq({noIncomingEdges:!0}),leaves:sq({noOutgoingEdges:!0}),outgoers:lo(oq({outgoing:!0}),"outgoers"),successors:lq({outgoing:!0}),incomers:lo(oq({incoming:!0}),"incomers"),predecessors:lq({incoming:!0})}),br(Sa,{neighborhood:lo(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),h=l.target(),d=i===u?h:u;d.length>0&&t.push(d[0]),t.push(l[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:o(function(e){return this.neighborhood().add(this).filter(e)},"closedNeighborhood"),openNeighborhood:o(function(e){return this.neighborhood(e)},"openNeighborhood")}),Sa.neighbourhood=Sa.neighborhood,Sa.closedNeighbourhood=Sa.closedNeighborhood,Sa.openNeighbourhood=Sa.openNeighborhood,br(Sa,{source:lo(o(function(e){var t=this[0],r;return t&&(r=t._private.source||t.cy().collection()),r&&e?r.filter(e):r},"sourceImpl"),"source"),target:lo(o(function(e){var t=this[0],r;return t&&(r=t._private.target||t.cy().collection()),r&&e?r.filter(e):r},"targetImpl"),"target"),sources:sz({attr:"source"}),targets:sz({attr:"target"})}),o(sz,"defineSourceFunction"),br(Sa,{edgesWith:lo(oz(),"edgesWith"),edgesTo:lo(oz({thisIsSrc:!0}),"edgesTo")}),o(oz,"defineEdgesWithFunction"),br(Sa,{connectedEdges:lo(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var l=a[s];t.push(l)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:lo(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:lo(lz(),"parallelEdges"),codirectedEdges:lo(lz({codirected:!0}),"codirectedEdges")}),o(lz,"defineParallelEdgesFunction"),br(Sa,{components:o(function(e){var t=this,r=t.cy(),n=r.collection(),i=e==null?t.nodes():e.nodes(),a=[];e!=null&&i.empty()&&(i=e.sources());var s=o(function(u,h){n.merge(u),i.unmerge(u),h.merge(u)},"visitInComponent");if(i.empty())return t.spawn();var l=o(function(){var u=r.collection();a.push(u);var h=i[0];s(h,u),t.bfs({directed:!1,roots:h,visit:o(function(d){return s(d,u)},"visit")}),u.forEach(function(d){d.connectedEdges().forEach(function(p){t.has(p)&&u.has(p.source())&&u.has(p.target())&&u.merge(p)})})},"_loop");do l();while(i.length>0);return a},"components"),component:o(function(){var e=this[0];return e.cy().mutableElements().components(e)[0]},"component")}),Sa.componentsOf=Sa.components,ha=o(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){ci("A collection must have a reference to the core");return}var i=new Nl,a=!1;if(!t)t=[];else if(t.length>0&&en(t[0])&&!ff(t[0])){a=!0;for(var s=[],l=new up,u=0,h=t.length;u<h;u++){var d=t[u];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=Xz();else if(e.hasElementWithId(p.id)||l.has(p.id))continue;var f=new Bb(e,d,!1);s.push(f),l.add(p.id)}t=s}this.length=0;for(var g=0,m=t.length;g<m;g++){var y=t[g][0];if(y!=null){var b=y._private.data.id;(!r||!i.has(b))&&(r&&i.set(b,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(v){this.lazyMap=v},rebuildMap:o(function(){for(var v=this.lazyMap=new Nl,x=this.eles,k=0;k<x.length;k++){var w=x[k];v.set(w.id(),{index:k,ele:w})}},"rebuildMap")},r&&(this._private.map=i),a&&!n&&this.restore()},"Collection"),Pn=Bb.prototype=ha.prototype=Object.create(Array.prototype),Pn.instanceString=function(){return"collection"},Pn.spawn=function(e,t){return new ha(this.cy(),e,t)},Pn.spawnSelf=function(){return this.spawn(this)},Pn.cy=function(){return this._private.cy},Pn.renderer=function(){return this._private.cy.renderer()},Pn.element=function(){return this[0]},Pn.collection=function(){return Lz(this)?this:new ha(this._private.cy,[this])},Pn.unique=function(){return new ha(this._private.cy,this,!0)},Pn.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Pn.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new ha(t)},Pn.$id=Pn.getElementById,Pn.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index},Pn.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Pn.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Pn.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(en(e)){if(r.startBatch(),e.data){t.data(e.data);var i=n.data;if(t.isEdge()){var a=!1,s={},l=e.data.source,u=e.data.target;l!=null&&l!=i.source&&(s.source=""+l,a=!0),u!=null&&u!=i.target&&(s.target=""+u,a=!0),a&&(t=t.move(s))}else{var h="parent"in e.data,d=e.data.parent;h&&(d!=null||i.parent!=null)&&d!=i.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),t=t.move({parent:d}))}}e.position&&t.position(e.position);var p=o(function(m,y,b){var v=e[m];v!=null&&v!==n[m]&&(v?t[y]():t[b]())},"checkSwitch");return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var f={data:Ll(n.data),position:Ll(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};f.classes="";var g=0;return n.classes.forEach(function(m){return f.classes+=g++===0?m:" "+m}),f}}},Pn.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e},Pn.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new Bb(e,i,!1);t.push(a)}return new ha(e,t)},Pn.copy=Pn.clone,Pn.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],s=[],l,u=0,h=r.length;u<h;u++){var d=r[u];t&&!d.removed()||(d.isNode()?a.push(d):s.push(d))}l=a.concat(s);var p,f=o(function(){l.splice(p,1),p--},"removeFromElements");for(p=0;p<l.length;p++){var g=l[p],m=g._private,y=m.data;if(g.clearTraversalCache(),!(!t&&!m.removed)){if(y.id===void 0)y.id=Xz();else if(Ct(y.id))y.id=""+y.id;else if(Ru(y.id)||!or(y.id)){ci("Can not create element with invalid string ID `"+y.id+"`"),f();continue}else if(n.hasElementWithId(y.id)){ci("Can not create second element with ID `"+y.id+"`"),f();continue}}var b=y.id;if(g.isNode()){var v=m.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(g.isEdge()){for(var x=g,k=["source","target"],w=k.length,_=!1,S=0;S<w;S++){var C=k[S],T=y[C];Ct(T)&&(T=y[C]=""+y[C]),T==null||T===""?(ci("Can not create edge `"+b+"` with unspecified "+C),_=!0):n.hasElementWithId(T)||(ci("Can not create edge `"+b+"` with nonexistant "+C+" `"+T+"`"),_=!0)}if(_){f();continue}var N=n.getElementById(y.source),D=n.getElementById(y.target);N.same(D)?N._private.edges.push(x):(N._private.edges.push(x),D._private.edges.push(x)),x._private.source=N,x._private.target=D}m.map=new Nl,m.map.set(b,{ele:g,index:0}),m.removed=!1,t&&n.addToPool(g)}for(var M=0;M<a.length;M++){var L=a[M],B=L._private.data;Ct(B.parent)&&(B.parent=""+B.parent);var E=B.parent,R=E!=null;if(R||L._private.parent){var O=L._private.parent?n.collection().merge(L._private.parent):n.getElementById(E);if(O.empty())B.parent=void 0;else if(O[0].removed())yn("Node added with missing parent, reference to parent removed"),B.parent=void 0,L._private.parent=null;else{for(var P=!1,A=O;!A.empty();){if(L.same(A)){P=!0,B.parent=void 0;break}A=A.parent()}P||(O[0]._private.children.push(L),L._private.parent=O[0],i.hasCompoundNodes=!0)}}}if(l.length>0){for(var $=l.length===r.length?r:new ha(n,l),F=0;F<$.length;F++){var G=$[F];G.isNode()||(G.parallelEdges().clearTraversalCache(),G.source().clearTraversalCache(),G.target().clearTraversalCache())}var q;i.hasCompoundNodes?q=n.collection().merge($).merge($.connectedNodes()).merge($.parent()):q=$,q.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?$.emitAndNotify("add"):t&&$.emit("add")}return r},Pn.removed=function(){var e=this[0];return e&&e._private.removed},Pn.inside=function(){var e=this[0];return e&&!e._private.removed},Pn.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function s(E){for(var R=E._private.edges,O=0;O<R.length;O++)u(R[O])}o(s,"addConnectedEdges");function l(E){for(var R=E._private.children,O=0;O<R.length;O++)u(R[O])}o(l,"addChildren");function u(E){var R=i[E.id()];t&&E.removed()||R||(i[E.id()]=!0,E.isNode()?(n.push(E),s(E),l(E)):n.unshift(E))}o(u,"add");for(var h=0,d=r.length;h<d;h++){var p=r[h];u(p)}function f(E,R){var O=E._private.edges;Pu(O,R),E.clearTraversalCache()}o(f,"removeEdgeRef");function g(E){E.clearTraversalCache()}o(g,"removeParallelRef");var m=[];m.ids={};function y(E,R){R=R[0],E=E[0];var O=E._private.children,P=E.id();Pu(O,R),R._private.parent=null,m.ids[P]||(m.ids[P]=!0,m.push(E))}o(y,"removeChildRef"),r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(n);for(var b=0;b<n.length;b++){var v=n[b];if(v.isEdge()){var x=v.source()[0],k=v.target()[0];f(x,v),f(k,v);for(var w=v.parallelEdges(),_=0;_<w.length;_++){var S=w[_];g(S),S.isBundledBezier()&&S.dirtyBoundingBoxCache()}}else{var C=v.parent();C.length!==0&&y(C,v)}t&&(v._private.removed=!0)}var T=a._private.elements;a._private.hasCompoundNodes=!1;for(var N=0;N<T.length;N++){var D=T[N];if(D.isParent()){a._private.hasCompoundNodes=!0;break}}var M=new ha(this.cy(),n);M.size()>0&&(e?M.emitAndNotify("remove"):t&&M.emit("remove"));for(var L=0;L<m.length;L++){var B=m[L];(!t||!B.removed())&&B.updateStyle()}return M},Pn.move=function(e){var t=this._private.cy,r=this,n=!1,i=!1,a=o(function(g){return g==null?g:""+g},"toString");if(e.source!==void 0||e.target!==void 0){var s=a(e.source),l=a(e.target),u=s!=null&&t.hasElementWithId(s),h=l!=null&&t.hasElementWithId(l);(u||h)&&(t.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],y=m._private.data;m.isEdge()&&(u&&(y.source=s),h&&(y.target=l))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var d=a(e.parent),p=d===null||t.hasElementWithId(d);if(p){var f=d===null?void 0:d;t.batch(function(){var g=r.remove(n,i);g.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var y=r[m],b=y._private.data;y.isNode()&&(b.parent=f)}g.restore(n,i)}),r.emitAndNotify("move")}}return this},[wG,kRe,Qb,qu,bp,BRe,ex,eOe,nq,iq,aOe,ax,sx,ua,Yu,Sa].forEach(function(e){br(Pn,e)}),dOe={add:o(function(e){var t,r=this;if(Bs(e)){var n=e;if(n._private.cy===r)t=n.restore();else{for(var i=[],a=0;a<n.length;a++){var s=n[a];i.push(s.json())}t=new ha(r,i)}}else if(In(e)){var l=e;t=new ha(r,l)}else if(en(e)&&(In(e.nodes)||In(e.edges))){for(var u=e,h=[],d=["nodes","edges"],p=0,f=d.length;p<f;p++){var g=d[p],m=u[g];if(In(m))for(var y=0,b=m.length;y<b;y++){var v=br({group:g},m[y]);h.push(v)}}t=new ha(r,h)}else{var x=e;t=new Bb(r,x).collection()}return t},"add"),remove:o(function(e){if(!Bs(e)&&or(e)){var t=e;e=this.$(t)}return e.remove()},"remove")},o(nNe,"generateCubicBezier"),pOe=function(){function e(n){return-n.tension*n.x-n.friction*n.v}o(e,"springAccelerationForState");function t(n,i,a){var s={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:e(s)}}o(t,"springEvaluateStateWithDerivative");function r(n,i){var a={dx:n.v,dv:e(n)},s=t(n,i*.5,a),l=t(n,i*.5,s),u=t(n,i,l),h=1/6*(a.dx+2*(s.dx+l.dx)+u.dx),d=1/6*(a.dv+2*(s.dv+l.dv)+u.dv);return n.x=n.x+h*i,n.v=n.v+d*i,n}return o(r,"springIntegrateState"),o(function n(i,a,s){var l={x:-1,v:0,tension:null,friction:null},u=[0],h=0,d=1/1e4,p=16/1e3,f,g,m;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,l.tension=i,l.friction=a,f=s!==null,f?(h=n(i,a),g=h/s*p):g=p;m=r(m||l,g),u.push(1+m.x),h+=16,Math.abs(m.x)>d&&Math.abs(m.v)>d;);return f?function(y){return u[y*(u.length-1)|0]}:h},"springRK4Factory")}(),Bn=o(function(e,t,r,n){var i=nNe(e,t,r,n);return function(a,s,l){return a+(s-a)*i(l)}},"cubicBezier"),ox={linear:o(function(e,t,r){return e+(t-e)*r},"linear"),ease:Bn(.25,.1,.25,1),"ease-in":Bn(.42,0,1,1),"ease-out":Bn(0,0,.58,1),"ease-in-out":Bn(.42,0,.58,1),"ease-in-sine":Bn(.47,0,.745,.715),"ease-out-sine":Bn(.39,.575,.565,1),"ease-in-out-sine":Bn(.445,.05,.55,.95),"ease-in-quad":Bn(.55,.085,.68,.53),"ease-out-quad":Bn(.25,.46,.45,.94),"ease-in-out-quad":Bn(.455,.03,.515,.955),"ease-in-cubic":Bn(.55,.055,.675,.19),"ease-out-cubic":Bn(.215,.61,.355,1),"ease-in-out-cubic":Bn(.645,.045,.355,1),"ease-in-quart":Bn(.895,.03,.685,.22),"ease-out-quart":Bn(.165,.84,.44,1),"ease-in-out-quart":Bn(.77,0,.175,1),"ease-in-quint":Bn(.755,.05,.855,.06),"ease-out-quint":Bn(.23,1,.32,1),"ease-in-out-quint":Bn(.86,0,.07,1),"ease-in-expo":Bn(.95,.05,.795,.035),"ease-out-expo":Bn(.19,1,.22,1),"ease-in-out-expo":Bn(1,0,0,1),"ease-in-circ":Bn(.6,.04,.98,.335),"ease-out-circ":Bn(.075,.82,.165,1),"ease-in-out-circ":Bn(.785,.135,.15,.86),spring:o(function(e,t,r){if(r===0)return ox.linear;var n=pOe(e,t,r);return function(i,a,s){return i+(a-i)*n(s)}},"spring"),"cubic-bezier":Bn},o(cz,"getEasedValue"),o(uz,"getValue"),o(op,"ease"),o(iNe,"step$1"),o(pf,"valid"),o(aNe,"startAnimation"),o(hz,"stepAll"),gOe={animate:vn.animate(),animation:vn.animation(),animated:vn.animated(),clearQueue:vn.clearQueue(),delay:vn.delay(),delayAnimation:vn.delayAnimation(),stop:vn.stop(),addToAnimationPool:o(function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},"addToAnimationPool"),stopAnimationLoop:o(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:o(function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&Rb(o(function(n){hz(n,e),t()},"animationStep"))}o(t,"headlessStep");var r=e.renderer();r&&r.beforeRender?r.beforeRender(o(function(n,i){hz(i,e)},"rendererAnimationStep"),r.beforeRenderPriorities.animations):t()},"startAnimationLoop")},fOe={qualifierCompare:o(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:o(function(e,t,r){var n=t.qualifier;return n!=null?e!==r.target&&ff(r.target)&&n.matches(r.target):!0},"eventMatches"),addEventFields:o(function(e,t){t.cy=e,t.target=e},"addEventFields"),callbackContext:o(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext")},lx=o(function(e){return or(e)?new zu(e):e},"argSelector"),cq={createEmitter:o(function(){var e=this._private;return e.emitter||(e.emitter=new Cb(fOe,this)),this},"createEmitter"),emitter:o(function(){return this._private.emitter},"emitter"),on:o(function(e,t,r){return this.emitter().on(e,lx(t),r),this},"on"),removeListener:o(function(e,t,r){return this.emitter().removeListener(e,lx(t),r),this},"removeListener"),removeAllListeners:o(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:o(function(e,t,r){return this.emitter().one(e,lx(t),r),this},"one"),once:o(function(e,t,r){return this.emitter().one(e,lx(t),r),this},"once"),emit:o(function(e,t){return this.emitter().emit(e,t),this},"emit"),emitAndNotify:o(function(e,t){return this.emit(e),this.notify(e,t),this},"emitAndNotify")},vn.eventAliasesOn(cq),mE={png:o(function(e){var t=this._private.renderer;return e=e||{},t.png(e)},"png"),jpg:o(function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)},"jpg")},mE.jpeg=mE.jpg,cx={layout:o(function(e){var t=this;if(e==null){ci("Layout options must be specified to make a layout");return}if(e.name==null){ci("A `name` must be specified to make a layout");return}var r=e.name,n=t.extension("layout",r);if(n==null){ci("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;or(e.eles)?i=t.$(e.eles):i=e.eles!=null?e.eles:t.$();var a=new n(br({},e,{cy:t,eles:i}));return a},"layout")},cx.createLayout=cx.makeLayout=cx.layout,mOe={notify:o(function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var n=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();t!=null&&n.merge(t);return}if(r.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,t)}},"notify"),notifications:o(function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},"notifications"),noNotifications:o(function(e){this.notifications(!1),e(),this.notifications(!0)},"noNotifications"),batching:o(function(){return this._private.batchCount>0},"batching"),startBatch:o(function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},"startBatch"),endBatch:o(function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var n=e.batchNotifications[r];n.empty()?t.notify(r):t.notify(r,n)})}return this},"endBatch"),batch:o(function(e){return this.startBatch(),e(),this.endBatch(),this},"batch"),batchData:o(function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],a=e[i],s=t.getElementById(i);s.data(a)}})},"batchData")},yOe=ca({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),yE={renderTo:o(function(e,t,r,n){var i=this._private.renderer;return i.renderTo(e,t,r,n),this},"renderTo"),renderer:o(function(){return this._private.renderer},"renderer"),forceRender:o(function(){return this.notify("draw"),this},"forceRender"),resize:o(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:o(function(e){var t=this,r=t.extension("renderer",e.name);if(r==null){ci("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&yn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=yOe(e);n.cy=t,t._private.renderer=new r(n),this.notify("init")},"initRenderer"),destroyRenderer:o(function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var n=r._private;n.rscratch={},n.rstyle={},n.animation.current=[],n.animation.queue=[]})},"destroyRenderer"),onRender:o(function(e){return this.on("render",e)},"onRender"),offRender:o(function(e){return this.off("render",e)},"offRender")},yE.invalidateDimensions=yE.resize,ux={collection:o(function(e,t){return or(e)?this.$(e):Bs(e)?e.collection():In(e)?(t||(t={}),new ha(this,e,t.unique,t.removed)):new ha(this)},"collection"),nodes:o(function(e){var t=this.$(function(r){return r.isNode()});return e?t.filter(e):t},"nodes"),edges:o(function(e){var t=this.$(function(r){return r.isEdge()});return e?t.filter(e):t},"edges"),$:o(function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},"$"),mutableElements:o(function(){return this._private.elements},"mutableElements")},ux.elements=ux.filter=ux.$,Aa={},Df="t",vOe="f",Aa.apply=function(e){for(var t=this,r=t._private,n=r.cy,i=n.collection(),a=0;a<e.length;a++){var s=e[a],l=t.getContextMeta(s);if(!l.empty){var u=t.getContextStyle(l),h=t.applyContextStyle(l,u,s);s._private.appliedInitStyle?t.updateTransitions(s,h.diffProps):s._private.appliedInitStyle=!0;var d=t.updateStyleHints(s);d&&i.push(s)}}return i},Aa.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var s=[],l={},u=0;u<r.length;u++){var h=r[u],d=e[u]===Df,p=t[u]===Df,f=d!==p,g=h.mappedProperties.length>0;if(f||p&&g){var m=void 0;f&&g||f?m=h.properties:g&&(m=h.mappedProperties);for(var y=0;y<m.length;y++){for(var b=m[y],v=b.name,x=!1,k=u+1;k<r.length;k++){var w=r[k],_=t[k]===Df;if(_&&(x=w.properties[b.name]!=null,x))break}!l[v]&&!x&&(l[v]=!0,s.push(v))}}}return n[i]=s,s},Aa.getContextMeta=function(e){for(var t=this,r="",n,i=e._private.styleCxtKey||"",a=0;a<t.length;a++){var s=t[a],l=s.selector&&s.selector.matches(e);l?r+=Df:r+=vOe}return n=t.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}},Aa.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},a=0;a<r.length;a++){var s=r[a],l=t[a]===Df;if(l)for(var u=0;u<s.properties.length;u++){var h=s.properties[u];i[h.name]=h}}return n[t]=i,i},Aa.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,a={},s=n.types,l=0;l<i.length;l++){var u=i[l],h=t[u],d=r.pstyle(u);if(!h)if(d)d.bypass?h={name:u,deleteBypassed:!0}:h={name:u,delete:!0};else continue;if(d!==h){if(h.mapped===s.fn&&d!=null&&d.mapping!=null&&d.mapping.value===h.value){var p=d.mapping,f=p.fnValue=h.value(r);if(f===p.prevFnValue)continue}var g=a[u]={prev:d};n.applyParsedProperty(r,h),g.next=r.pstyle(u),g.next&&g.next.bypass&&(g.next=g.next.bypassed)}}return{diffProps:a}},Aa.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=o(function(U,ne,K){return r.getPropertiesHash(U,ne,K)},"propHash"),s=t.styleKey;if(e.removed())return!1;var l=t.group==="nodes",u=e._private.style;n=Object.keys(u);for(var h=0;h<i.length;h++){var d=i[h];t.styleKeys[d]=[cp,xf]}for(var p=o(function(U,ne){return t.styleKeys[ne][0]=kf(U,t.styleKeys[ne][0])},"updateGrKey1"),f=o(function(U,ne){return t.styleKeys[ne][1]=wf(U,t.styleKeys[ne][1])},"updateGrKey2"),g=o(function(U,ne){p(U,ne),f(U,ne)},"updateGrKey"),m=o(function(U,ne){for(var K=0;K<U.length;K++){var fe=U.charCodeAt(K);p(fe,ne),f(fe,ne)}},"updateGrKeyWStr"),y=2e9,b=o(function(U){return-128<U&&U<128&&Math.floor(U)!==U?y-(U*1024|0):U},"cleanNum"),v=0;v<n.length;v++){var x=n[v],k=u[x];if(k!=null){var w=this.properties[x],_=w.type,S=w.groupKey,C=void 0;w.hashOverride!=null?C=w.hashOverride(e,k):k.pfValue!=null&&(C=k.pfValue);var T=w.enums==null?k.value:null,N=C!=null,D=T!=null,M=N||D,L=k.units;if(_.number&&M&&!_.multiple){var B=N?C:T;g(b(B),S),!N&&L!=null&&m(L,S)}else m(k.strValue,S)}}for(var E=[cp,xf],R=0;R<i.length;R++){var O=i[R],P=t.styleKeys[O];E[0]=kf(P[0],E[0]),E[1]=wf(P[1],E[1])}t.styleKey=hIe(E[0],E[1]);var A=t.styleKeys;t.labelDimsKey=Ou(A.labelDimensions);var $=a(e,["label"],A.labelDimensions);if(t.labelKey=Ou($),t.labelStyleKey=Ou(Ob(A.commonLabel,$)),!l){var F=a(e,["source-label"],A.labelDimensions);t.sourceLabelKey=Ou(F),t.sourceLabelStyleKey=Ou(Ob(A.commonLabel,F));var G=a(e,["target-label"],A.labelDimensions);t.targetLabelKey=Ou(G),t.targetLabelStyleKey=Ou(Ob(A.commonLabel,G))}if(l){var q=t.styleKeys,W=q.nodeBody,re=q.nodeBorder,oe=q.nodeOutline,te=q.backgroundImage,se=q.compound,Y=q.pie,V=[W,re,oe,te,se,Y].filter(function(U){return U!=null}).reduce(Ob,[cp,xf]);t.nodeKey=Ou(V),t.hasPie=Y!=null&&Y[0]!==cp&&Y[1]!==xf}return s!==t.styleKey},Aa.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},Aa.applyParsedProperty=function(e,t){var r=this,n=t,i=e._private.style,a,s=r.types,l=r.properties[n.name].type,u=n.bypass,h=i[n.name],d=h&&h.bypass,p=e._private,f="mapping",g=o(function(q){return q==null?null:q.pfValue!=null?q.pfValue:q.value},"getVal"),m=o(function(){var q=g(h),W=g(n);r.checkTriggers(e,n.name,q,W)},"checkTriggers");if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",u)),n.delete)return i[n.name]=void 0,m(),!0;if(n.deleteBypassed)return h?h.bypass?(h.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return h?h.bypass?(i[n.name]=h.bypassed,m(),!0):!1:(m(),!0);var y=o(function(){yn("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")},"printMappingErr");switch(n.mapped){case s.mapData:{for(var b=n.field.split("."),v=p.data,x=0;x<b.length&&v;x++){var k=b[x];v=v[k]}if(v==null)return y(),!1;var w;if(Ct(v)){var _=n.fieldMax-n.fieldMin;_===0?w=0:w=(v-n.fieldMin)/_}else return yn("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+v+"` for `"+e.id()+"` is non-numeric)"),!1;if(w<0?w=0:w>1&&(w=1),l.color){var S=n.valueMin[0],C=n.valueMax[0],T=n.valueMin[1],N=n.valueMax[1],D=n.valueMin[2],M=n.valueMax[2],L=n.valueMin[3]==null?1:n.valueMin[3],B=n.valueMax[3]==null?1:n.valueMax[3],E=[Math.round(S+(C-S)*w),Math.round(T+(N-T)*w),Math.round(D+(M-D)*w),Math.round(L+(B-L)*w)];a={bypass:n.bypass,name:n.name,value:E,strValue:"rgb("+E[0]+", "+E[1]+", "+E[2]+")"}}else if(l.number){var R=n.valueMin+(n.valueMax-n.valueMin)*w;a=this.parse(n.name,R,n.bypass,f)}else return!1;if(!a)return y(),!1;a.mapping=n,n=a;break}case s.data:{for(var O=n.field.split("."),P=p.data,A=0;A<O.length&&P;A++){var $=O[A];P=P[$]}if(P!=null&&(a=this.parse(n.name,P,n.bypass,f)),!a)return y(),!1;a.mapping=n,n=a;break}case s.fn:{var F=n.value,G=n.fnValue!=null?n.fnValue:F(e);if(n.prevFnValue=G,G==null)return yn("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(a=this.parse(n.name,G,n.bypass,f),!a)return yn("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;a.mapping=Ll(n),n=a;break}case void 0:break;default:return!1}return u?(d?n.bypassed=h.bypassed:n.bypassed=h,i[n.name]=n):d?h.bypassed=n:i[n.name]=n,m(),!0},Aa.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),s=0;s<a.length;s++){var l=a[s],u=i[l];u!=null&&(u.bypass?u.bypassed=null:i[l]=null)}}},Aa.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()},Aa.updateTransitions=function(e,t){var r=this,n=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,s=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var l={},u=!1,h=0;h<i.length;h++){var d=i[h],p=e.pstyle(d),f=t[d];if(f){var g=f.prev,m=g,y=f.next!=null?f.next:p,b=!1,v=void 0,x=1e-6;m&&(Ct(m.pfValue)&&Ct(y.pfValue)?(b=y.pfValue-m.pfValue,v=m.pfValue+x*b):Ct(m.value)&&Ct(y.value)?(b=y.value-m.value,v=m.value+x*b):In(m.value)&&In(y.value)&&(b=m.value[0]!==y.value[0]||m.value[1]!==y.value[1]||m.value[2]!==y.value[2],v=m.strValue),b&&(l[d]=y.strValue,this.applyBypass(e,d,v),u=!0))}}if(!u)return;n.transitioning=!0,new yp(function(k){s>0?e.delayAnimation(s).play().promise().then(k):k()}).then(function(){return e.animation({style:l,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1)},Aa.checkTrigger=function(e,t,r,n,i,a){var s=this.properties[t],l=i(s);l!=null&&l(r,n)&&a(s)},Aa.checkZOrderTrigger=function(e,t,r,n){var i=this;this.checkTrigger(e,t,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",e)})},Aa.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&t==="curve-style"&&(r==="bezier"||n==="bezier")&&e.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&t==="display"&&(r==="none"||n==="none")&&e.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},Aa.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n)},Rf={},Rf.applyBypass=function(e,t,r,n){var i=this,a=[],s=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var l=0;l<i.properties.length;l++){var u=i.properties[l],h=u.name,d=this.parse(h,r,!0);d&&a.push(d)}}else if(or(t)){var p=this.parse(t,r,!0);p&&a.push(p)}else if(en(t)){var f=t;n=r;for(var g=Object.keys(f),m=0;m<g.length;m++){var y=g[m],b=f[y];if(b===void 0&&(b=f[Ib(y)]),b!==void 0){var v=this.parse(y,b,!0);v&&a.push(v)}}}else return!1;if(a.length===0)return!1;for(var x=!1,k=0;k<e.length;k++){for(var w=e[k],_={},S=void 0,C=0;C<a.length;C++){var T=a[C];if(n){var N=w.pstyle(T.name);S=_[T.name]={prev:N}}x=this.applyParsedProperty(w,Ll(T))||x,n&&(S.next=w.pstyle(T.name))}x&&this.updateStyleHints(w),n&&this.updateTransitions(w,_,s)}return x},Rf.overrideBypass=function(e,t,r){t=HT(t);for(var n=0;n<e.length;n++){var i=e[n],a=i._private.style[t],s=this.properties[t].type,l=s.color,u=s.mutiple,h=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,t,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),l?a.strValue="rgb("+r.join(",")+")":u?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,t,h,r)}},Rf.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)},Rf.removeBypasses=function(e,t,r){for(var n=!0,i=0;i<e.length;i++){for(var a=e[i],s={},l=0;l<t.length;l++){var u=t[l],h=this.properties[u],d=a.pstyle(h.name);if(!(!d||!d.bypass)){var p="",f=this.parse(u,p,!0),g=s[h.name]={prev:d};this.applyParsedProperty(a,f),g.next=a.pstyle(h.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,n)}},vE={},vE.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1},vE.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)},Ml={},Ml.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},Ml.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],s=r.getStylePropertyValue(e,a.name,t);s!=null&&(n[a.name]=s,n[Ib(a.name)]=s)}return n}},Ml.getIndexedStyle=function(e,t,r,n){var i=e.pstyle(t)[r][n];return i??e.cy().style().getDefaultProperty(t)[r][0]},Ml.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var i=n.properties[t];i.alias&&(i=i.pointsTo);var a=i.type,s=e.pstyle(i.name);if(s){var l=s.value,u=s.units,h=s.strValue;if(r&&a.number&&l!=null&&Ct(l)){var d=e.cy().zoom(),p=o(function(y){return y*d},"getRenderedValue"),f=o(function(y,b){return p(y)+b},"getValueStringWithUnits"),g=In(l),m=g?u.every(function(y){return y!=null}):u!=null;return m?g?l.map(function(y,b){return f(y,u[b])}).join(" "):f(l,u):g?l.map(function(y){return or(y)?y:""+p(y)}).join(" "):""+p(l)}else if(h!=null)return h}return null}},Ml.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=i.name,s=e.pstyle(a);s!==void 0&&(en(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r},Ml.getPropsList=function(e){var t=this,r=[],n=e,i=t.properties;if(n)for(var a=Object.keys(n),s=0;s<a.length;s++){var l=a[s],u=n[l],h=i[l]||i[HT(l)],d=this.parse(h.name,u);d&&r.push(d)}return r},Ml.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),i,a,s,l,u,h;for(u=0;u<t.length;u++)if(i=t[u],a=e.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=kf(l,n[0]),n[1]=wf(l,n[1]);else for(s=a.strValue,h=0;h<s.length;h++)l=s.charCodeAt(h),n[0]=kf(l,n[0]),n[1]=wf(l,n[1]);return n},Ml.getPropertiesHash=Ml.getNonDefaultPropertiesHash,hx={},hx.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css,s=Object.keys(a);t.selector(i);for(var l=0;l<s.length;l++){var u=s[l],h=a[u];t.css(u,h)}}return t},hx.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},hx.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},s=0;s<i.length;s++){var l=i[s];a[l.name]=l.strValue}e.push({selector:n?n.toString():"core",style:a})}return e},bE={},bE.appendFromString=function(e){var t=this,r=this,n=""+e,i,a,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>i.length?n=n.substr(i.length):n=""}o(l,"removeSelAndBlockFromRemaining");function u(){a.length>s.length?a=a.substr(s.length):a=""}for(o(u,"removePropAndValFromRem");;){var h=n.match(/^\s*$/);if(h)break;var d=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){yn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=d[0];var p=d[1];if(p!=="core"){var f=new zu(p);if(f.invalid){yn("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),l();continue}}var g=d[2],m=!1;a=g;for(var y=[];;){var b=a.match(/^\s*$/);if(b)break;var v=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){yn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+g),m=!0;break}s=v[0];var x=v[1],k=v[2],w=t.properties[x];if(!w){yn("Skipping property: Invalid property name in: "+s),u();continue}var _=r.parse(x,k);if(!_){yn("Skipping property: Invalid property definition in: "+s),u();continue}y.push({name:x,val:k}),u()}if(m){l();break}r.selector(p);for(var S=0;S<y.length;S++){var C=y[S];r.css(C.name,C.val)}l()}return r},bE.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t},da={},function(){var e=Fi,t=_Ne,r=SNe,n=ANe,i=LNe,a=o(function(Y){return"^"+Y+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),s=o(function(Y){var V=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+i;return"^"+Y+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+V+")\\s*\\,\\s*("+V+")\\)$"},"mapData"),l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];da.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:o(function(Y,V){switch(Y.length){case 2:return V[0]!=="deg"&&V[0]!=="rad"&&V[1]!=="deg"&&V[1]!=="rad";case 1:return or(Y[0])||V[0]==="deg"||V[0]==="rad";default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:o(function(Y){var V=Y.length;return V===1||V===2||V===4},"validate")}};var u={zeroNonZero:o(function(Y,V){return(Y==null||V==null)&&Y!==V||Y==0&&V!=0?!0:Y!=0&&V==0},"zeroNonZero"),any:o(function(Y,V){return Y!=V},"any"),emptyNonEmpty:o(function(Y,V){var U=Ru(Y),ne=Ru(V);return U&&!ne||!U&&ne},"emptyNonEmpty")},h=da.types,d=[{name:"label",type:h.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any}],p=[{name:"source-label",type:h.text,triggersBounds:u.any},{name:"source-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:h.size,triggersBounds:u.any}],f=[{name:"target-label",type:h.text,triggersBounds:u.any},{name:"target-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:h.size,triggersBounds:u.any}],g=[{name:"font-family",type:h.fontFamily,triggersBounds:u.any},{name:"font-style",type:h.fontStyle,triggersBounds:u.any},{name:"font-weight",type:h.fontWeight,triggersBounds:u.any},{name:"font-size",type:h.size,triggersBounds:u.any},{name:"text-transform",type:h.textTransform,triggersBounds:u.any},{name:"text-wrap",type:h.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:h.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:h.size,triggersBounds:u.any},{name:"text-outline-width",type:h.size,triggersBounds:u.any},{name:"line-height",type:h.positiveNumber,triggersBounds:u.any}],m=[{name:"text-valign",type:h.valign,triggersBounds:u.any},{name:"text-halign",type:h.halign,triggersBounds:u.any},{name:"color",type:h.color},{name:"text-outline-color",type:h.color},{name:"text-outline-opacity",type:h.zeroOneNumber},{name:"text-background-color",type:h.color},{name:"text-background-opacity",type:h.zeroOneNumber},{name:"text-background-padding",type:h.size,triggersBounds:u.any},{name:"text-border-opacity",type:h.zeroOneNumber},{name:"text-border-color",type:h.color},{name:"text-border-width",type:h.size,triggersBounds:u.any},{name:"text-border-style",type:h.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:h.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:h.justification}],y=[{name:"events",type:h.bool,triggersZOrder:u.any},{name:"text-events",type:h.bool,triggersZOrder:u.any}],b=[{name:"display",type:h.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:h.visibility,triggersZOrder:u.any},{name:"opacity",type:h.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:h.zeroOneNumber},{name:"min-zoomed-font-size",type:h.size},{name:"z-compound-depth",type:h.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:h.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:h.number,triggersZOrder:u.any}],v=[{name:"overlay-padding",type:h.size,triggersBounds:u.any},{name:"overlay-color",type:h.color},{name:"overlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:h.cornerRadius}],x=[{name:"underlay-padding",type:h.size,triggersBounds:u.any},{name:"underlay-color",type:h.color},{name:"underlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:h.cornerRadius}],k=[{name:"transition-property",type:h.propList},{name:"transition-duration",type:h.time},{name:"transition-delay",type:h.time},{name:"transition-timing-function",type:h.easing}],w=o(function(Y,V){return V.value==="label"?-Y.poolIndex():V.pfValue},"nodeSizeHashOverride"),_=[{name:"height",type:h.nodeSize,triggersBounds:u.any,hashOverride:w},{name:"width",type:h.nodeSize,triggersBounds:u.any,hashOverride:w},{name:"shape",type:h.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:h.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:h.cornerRadius},{name:"background-color",type:h.color},{name:"background-fill",type:h.fill},{name:"background-opacity",type:h.zeroOneNumber},{name:"background-blacken",type:h.nOneOneNumber},{name:"background-gradient-stop-colors",type:h.colors},{name:"background-gradient-stop-positions",type:h.percentages},{name:"background-gradient-direction",type:h.gradientDirection},{name:"padding",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:h.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:h.boundsExpansion,triggersBounds:u.any}],S=[{name:"border-color",type:h.color},{name:"border-opacity",type:h.zeroOneNumber},{name:"border-width",type:h.size,triggersBounds:u.any},{name:"border-style",type:h.borderStyle},{name:"border-cap",type:h.lineCap},{name:"border-join",type:h.lineJoin},{name:"border-dash-pattern",type:h.numbers},{name:"border-dash-offset",type:h.number},{name:"border-position",type:h.linePosition}],C=[{name:"outline-color",type:h.color},{name:"outline-opacity",type:h.zeroOneNumber},{name:"outline-width",type:h.size,triggersBounds:u.any},{name:"outline-style",type:h.borderStyle},{name:"outline-offset",type:h.size,triggersBounds:u.any}],T=[{name:"background-image",type:h.urls},{name:"background-image-crossorigin",type:h.bgCrossOrigin},{name:"background-image-opacity",type:h.zeroOneNumbers},{name:"background-image-containment",type:h.bgContainment},{name:"background-image-smoothing",type:h.bools},{name:"background-position-x",type:h.bgPos},{name:"background-position-y",type:h.bgPos},{name:"background-width-relative-to",type:h.bgRelativeTo},{name:"background-height-relative-to",type:h.bgRelativeTo},{name:"background-repeat",type:h.bgRepeat},{name:"background-fit",type:h.bgFit},{name:"background-clip",type:h.bgClip},{name:"background-width",type:h.bgWH},{name:"background-height",type:h.bgWH},{name:"background-offset-x",type:h.bgPos},{name:"background-offset-y",type:h.bgPos}],N=[{name:"position",type:h.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:h.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:h.size,triggersBounds:u.any},{name:"min-width-bias-left",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:h.size,triggersBounds:u.any},{name:"min-height-bias-top",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:h.sizeMaybePercent,triggersBounds:u.any}],D=[{name:"line-style",type:h.lineStyle},{name:"line-color",type:h.color},{name:"line-fill",type:h.fill},{name:"line-cap",type:h.lineCap},{name:"line-opacity",type:h.zeroOneNumber},{name:"line-dash-pattern",type:h.numbers},{name:"line-dash-offset",type:h.number},{name:"line-outline-width",type:h.size},{name:"line-outline-color",type:h.color},{name:"line-gradient-stop-colors",type:h.colors},{name:"line-gradient-stop-positions",type:h.percentages},{name:"curve-style",type:h.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:h.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:h.size,triggersBounds:u.any},{name:"control-point-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-radii",type:h.numbers,triggersBounds:u.any},{name:"radius-type",type:h.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:h.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:h.size,triggersBounds:u.any},{name:"taxi-direction",type:h.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:h.number,triggersBounds:u.any},{name:"edge-distances",type:h.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:h.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:h.angle,triggersBounds:u.any},{name:"loop-sweep",type:h.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:h.size,triggersBounds:u.any},{name:"target-distance-from-node",type:h.size,triggersBounds:u.any}],M=[{name:"ghost",type:h.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:h.zeroOneNumber}],L=[{name:"selection-box-color",type:h.color},{name:"selection-box-opacity",type:h.zeroOneNumber},{name:"selection-box-border-color",type:h.color},{name:"selection-box-border-width",type:h.size},{name:"active-bg-color",type:h.color},{name:"active-bg-opacity",type:h.zeroOneNumber},{name:"active-bg-size",type:h.size},{name:"outside-texture-bg-color",type:h.color},{name:"outside-texture-bg-opacity",type:h.zeroOneNumber}],B=[];da.pieBackgroundN=16,B.push({name:"pie-size",type:h.sizeMaybePercent});for(var E=1;E<=da.pieBackgroundN;E++)B.push({name:"pie-"+E+"-background-color",type:h.color}),B.push({name:"pie-"+E+"-background-size",type:h.percent}),B.push({name:"pie-"+E+"-background-opacity",type:h.zeroOneNumber});var R=[],O=da.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:h.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:h.color},{name:"arrow-fill",type:h.arrowFill},{name:"arrow-width",type:h.arrowWidth}].forEach(function(Y){O.forEach(function(V){var U=V+"-"+Y.name,ne=Y.type,K=Y.triggersBounds;R.push({name:U,type:ne,triggersBounds:K})})},{});var P=da.properties=[].concat(y,k,b,v,x,M,m,g,d,p,f,_,S,C,T,B,N,D,R,L),A=da.propertyGroups={behavior:y,transition:k,visibility:b,overlay:v,underlay:x,ghost:M,commonLabel:m,labelDimensions:g,mainLabel:d,sourceLabel:p,targetLabel:f,nodeBody:_,nodeBorder:S,nodeOutline:C,backgroundImage:T,pie:B,compound:N,edgeLine:D,edgeArrow:R,core:L},$=da.propertyGroupNames={},F=da.propertyGroupKeys=Object.keys(A);F.forEach(function(Y){$[Y]=A[Y].map(function(V){return V.name}),A[Y].forEach(function(V){return V.groupKey=Y})});var G=da.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];da.propertyNames=P.map(function(Y){return Y.name});for(var q=0;q<P.length;q++){var W=P[q];P[W.name]=W}for(var re=0;re<G.length;re++){var oe=G[re],te=P[oe.pointsTo],se={name:oe.name,alias:!0,pointsTo:te};P.push(se),P[oe.name]=se}}(),da.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},da.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=br({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,h){for(var d=1;d<=da.pieBackgroundN;d++){var p=h.name.replace("{{i}}",d),f=h.value;u[p]=f}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,h){return da.arrowPrefixes.forEach(function(d){var p=d+"-"+h.name,f=h.value;u[p]=f}),u},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=t[a],l=this.parse(a,s);r[a]=l}}return e.defaultProperties=r,e.defaultProperties},da.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length},dx={},dx.parse=function(e,t,r,n){var i=this;if(Jn(t))return i.parseImplWarn(e,t,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",l=""+t,u=Yz(e,l,s,a),h=i.propCache=i.propCache||[],d;return(d=h[u])||(d=h[u]=i.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(d=Ll(d),d&&(d.value=Ll(d.value))),d},dx.parseImplWarn=function(e,t,r,n){var i=this.parseImpl(e,t,r,n);return!i&&t!=null&&yn("The style property `".concat(e,": ").concat(t,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&t==="label"&&yn("The style value of `label` is deprecated for `"+i.name+"`"),i},dx.parseImpl=function(e,t,r,n){var i=this;e=HT(e);var a=i.properties[e],s=t,l=i.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var u=or(t);u&&(t=t.trim());var h=a.type;if(!h)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Jn(t))return{name:e,value:t,strValue:"fn",mapped:l.fn,bypass:r};var d,p;if(!(!u||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(d=new RegExp(l.data.regex).exec(t))){if(r)return!1;var f=l.data;return{name:e,value:d,strValue:""+t,mapped:f,field:d[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(p=new RegExp(l.mapData.regex).exec(t))){if(r||h.multiple)return!1;var g=l.mapData;if(!(h.color||h.number))return!1;var m=this.parse(e,p[4]);if(!m||m.mapped)return!1;var y=this.parse(e,p[5]);if(!y||y.mapped)return!1;if(m.pfValue===y.pfValue||m.strValue===y.strValue)return yn("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(h.color){var b=m.value,v=y.value,x=b[0]===v[0]&&b[1]===v[1]&&b[2]===v[2]&&(b[3]===v[3]||(b[3]==null||b[3]===1)&&(v[3]==null||v[3]===1));if(x)return!1}return{name:e,value:p,strValue:""+t,mapped:g,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:m.value,valueMax:y.value,bypass:r}}}if(h.multiple&&n!=="multiple"){var k;if(u?k=t.split(/\s+/):In(t)?k=t:k=[t],h.evenMultiple&&k.length%2!==0)return null;for(var w=[],_=[],S=[],C="",T=!1,N=0;N<k.length;N++){var D=i.parse(e,k[N],r,"multiple");T=T||or(D.value),w.push(D.value),S.push(D.pfValue!=null?D.pfValue:D.value),_.push(D.units),C+=(N>0?" ":"")+D.strValue}return h.validate&&!h.validate(w,_)?null:h.singleEnum&&T?w.length===1&&or(w[0])?{name:e,value:w[0],strValue:w[0],bypass:r}:null:{name:e,value:w,pfValue:S,strValue:C,bypass:r,units:_}}var M=o(function(){for(var Y=0;Y<h.enums.length;Y++){var V=h.enums[Y];if(V===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null},"checkEnums");if(h.number){var L,B="px";if(h.units&&(L=h.units),h.implicitUnits&&(B=h.implicitUnits),!h.unitless)if(u){var E="px|em"+(h.allowPercent?"|\\%":"");L&&(E=L);var R=t.match("^("+Fi+")("+E+")?$");R&&(t=R[1],L=R[2]||B)}else(!L||h.implicitUnits)&&(L=B);if(t=parseFloat(t),isNaN(t)&&h.enums===void 0)return null;if(isNaN(t)&&h.enums!==void 0)return t=s,M();if(h.integer&&!vNe(t)||h.min!==void 0&&(t<h.min||h.strictMin&&t===h.min)||h.max!==void 0&&(t>h.max||h.strictMax&&t===h.max))return null;var O={name:e,value:t,strValue:""+t+(L||""),units:L,bypass:r};return h.unitless||L!=="px"&&L!=="em"?O.pfValue=t:O.pfValue=L==="px"||!L?t:this.getEmSizeInPixels()*t,(L==="ms"||L==="s")&&(O.pfValue=L==="ms"?t:1e3*t),(L==="deg"||L==="rad")&&(O.pfValue=L==="rad"?t:GIe(t)),L==="%"&&(O.pfValue=t/100),O}else if(h.propList){var P=[],A=""+t;if(A!=="none"){for(var $=A.split(/\s*,\s*|\s+/),F=0;F<$.length;F++){var G=$[F].trim();i.properties[G]?P.push(G):yn("`"+G+"` is not a valid property name")}if(P.length===0)return null}return{name:e,value:P,strValue:P.length===0?"none":P.join(" "),bypass:r}}else if(h.color){var q=ONe(t);return q?{name:e,value:q,pfValue:q,strValue:"rgb("+q[0]+","+q[1]+","+q[2]+")",bypass:r}:null}else if(h.regex||h.regexes){if(h.enums){var W=M();if(W)return W}for(var re=h.regexes?h.regexes:[h.regex],oe=0;oe<re.length;oe++){var te=new RegExp(re[oe]),se=te.exec(t);if(se)return{name:e,value:h.singleRegexMatchValue?se[1]:se,strValue:""+t,bypass:r}}return null}else return h.string?{name:e,value:""+t,strValue:""+t,bypass:r}:h.enums?M():null},La=o(function e(t){if(!(this instanceof e))return new e(t);if(!UT(t)){ci("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},"Style"),Na=La.prototype,Na.instanceString=function(){return"style"},Na.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this},Na.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Na.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},Na.selector=function(e){var t=e==="core"?null:new zu(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this},Na.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var i=e.properties[n],a=r[i.name];a===void 0&&(a=r[Ib(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this},Na.style=Na.css,Na.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this},Na.append=function(e){return Nz(e)?e.appendToStyle(this):In(e)?this.appendFromJson(e):or(e)&&this.appendFromString(e),this},La.fromJson=function(e,t){var r=new La(e);return r.fromJson(t),r},La.fromString=function(e,t){return new La(e).fromString(t)},[Aa,Rf,vE,Ml,hx,bE,da,dx].forEach(function(e){br(Na,e)}),La.types=Na.types,La.properties=Na.properties,La.propertyGroups=Na.propertyGroups,La.propertyGroupNames=Na.propertyGroupNames,La.propertyGroupKeys=Na.propertyGroupKeys,bOe={style:o(function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},"style"),setStyle:o(function(e){var t=this._private;return Nz(e)?t.style=e.generateStyle(this):In(e)?t.style=La.fromJson(this,e):or(e)?t.style=La.fromString(this,e):t.style=La(this),t.style},"setStyle"),updateStyle:o(function(){this.mutableElements().updateStyle()},"updateStyle")},xOe="single",Ed={autolock:o(function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},"autolock"),autoungrabify:o(function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},"autoungrabify"),autounselectify:o(function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},"autounselectify"),selectionType:o(function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=xOe),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},"selectionType"),panningEnabled:o(function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},"panningEnabled"),userPanningEnabled:o(function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},"userPanningEnabled"),zoomingEnabled:o(function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},"zoomingEnabled"),userZoomingEnabled:o(function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},"userZoomingEnabled"),boxSelectionEnabled:o(function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},"boxSelectionEnabled"),pan:o(function(){var e=arguments,t=this._private.pan,r,n,i,a,s;switch(e.length){case 0:return t;case 1:if(or(e[0]))return r=e[0],t[r];if(en(e[0])){if(!this._private.panningEnabled)return this;i=e[0],a=i.x,s=i.y,Ct(a)&&(t.x=a),Ct(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],n=e[1],(r==="x"||r==="y")&&Ct(n)&&(t[r]=n),this.emit("pan viewport");break}return this.notify("viewport"),this},"pan"),panBy:o(function(e,t){var r=arguments,n=this._private.pan,i,a,s,l,u;if(!this._private.panningEnabled)return this;switch(r.length){case 1:en(e)&&(s=r[0],l=s.x,u=s.y,Ct(l)&&(n.x+=l),Ct(u)&&(n.y+=u),this.emit("pan viewport"));break;case 2:i=e,a=t,(i==="x"||i==="y")&&Ct(a)&&(n[i]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},"panBy"),fit:o(function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},"fit"),getFitViewport:o(function(e,t){if(Ct(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(or(e)){var n=e;e=this.$(n)}else if(kNe(e)){var i=e;r={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else Bs(e)||(e=this.mutableElements());if(!(Bs(e)&&e.empty())){r=r||e.boundingBox();var a=this.width(),s=this.height(),l;if(t=Ct(t)?t:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){l=Math.min((a-2*t)/r.w,(s-2*t)/r.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(a-l*(r.x1+r.x2))/2,y:(s-l*(r.y1+r.y2))/2};return{zoom:l,pan:u}}}}},"getFitViewport"),zoomRange:o(function(e,t){var r=this._private;if(t==null){var n=e;e=n.min,t=n.max}return Ct(e)&&Ct(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):Ct(e)&&t===void 0&&e<=r.maxZoom?r.minZoom=e:Ct(t)&&e===void 0&&t>=r.minZoom&&(r.maxZoom=t),this},"zoomRange"),minZoom:o(function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},"minZoom"),maxZoom:o(function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},"maxZoom"),getZoomedViewport:o(function(e){var t=this._private,r=t.pan,n=t.zoom,i,a,s=!1;if(t.zoomingEnabled||(s=!0),Ct(e)?a=e:en(e)&&(a=e.level,e.position!=null?i=$b(e.position,n,r):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!t.panningEnabled&&(s=!0)),a=a>t.maxZoom?t.maxZoom:a,a=a<t.minZoom?t.minZoom:a,s||!Ct(a)||a===n||i!=null&&(!Ct(i.x)||!Ct(i.y)))return null;if(i!=null){var l=r,u=n,h=a,d={x:-h/u*(i.x-l.x)+i.x,y:-h/u*(i.y-l.y)+i.y};return{zoomed:!0,panned:!0,zoom:h,pan:d}}else return{zoomed:!0,panned:!1,zoom:a,pan:r}},"getZoomedViewport"),zoom:o(function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return t==null||!t.zoomed?this:(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},"zoom"),viewport:o(function(e){var t=this._private,r=!0,n=!0,i=[],a=!1,s=!1;if(!e)return this;if(Ct(e.zoom)||(r=!1),en(e.pan)||(n=!1),!r&&!n)return this;if(r){var l=e.zoom;l<t.minZoom||l>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=l,i.push("zoom"))}if(n&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;Ct(u.x)&&(t.pan.x=u.x,s=!1),Ct(u.y)&&(t.pan.y=u.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},"viewport"),center:o(function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:o(function(e,t){if(this._private.panningEnabled){if(or(e)){var r=e;e=this.mutableElements().filter(r)}else Bs(e)||(e=this.mutableElements());if(e.length!==0){var n=e.boundingBox(),i=this.width(),a=this.height();t=t===void 0?this._private.zoom:t;var s={x:(i-t*(n.x1+n.x2))/2,y:(a-t*(n.y1+n.y2))/2};return s}}},"getCenterPan"),reset:o(function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},"reset"),invalidateSize:o(function(){this._private.sizeCache=null},"invalidateSize"),size:o(function(){var e=this._private,t=e.container,r=this;return e.sizeCache=e.sizeCache||(t?function(){var n=r.window().getComputedStyle(t),i=o(function(a){return parseFloat(n.getPropertyValue(a))},"val");return{width:t.clientWidth-i("padding-left")-i("padding-right"),height:t.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},"size"),width:o(function(){return this.size().width},"width"),height:o(function(){return this.size().height},"height"),extent:o(function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},"extent"),renderedExtent:o(function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},"renderedExtent"),multiClickDebounceTime:o(function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this},"multiClickDebounceTime")},Ed.centre=Ed.center,Ed.autolockNodes=Ed.autolock,Ed.autoungrabifyNodes=Ed.autoungrabify,Of={data:vn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:vn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:vn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:vn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})},Of.attr=Of.data,Of.removeAttr=Of.removeData,Pf=o(function(e){var t=this;e=br({},e);var r=e.container;r&&!Nb(r)&&Nb(r[0])&&(r=r[0]);var n=r?r._cyreg:null;n=n||{},n&&n.cy&&(n.cy.destroy(),n={});var i=n.readies=n.readies||[];r&&(r._cyreg=n),n.cy=t;var a=$i!==void 0&&r!==void 0&&!e.headless,s=e;s.layout=br({name:a?"grid":"null"},s.layout),s.renderer=br({name:a?"canvas":"null"},s.renderer);var l=o(function(f,g,m){return g!==void 0?g:m!==void 0?m:f},"defVal"),u=this._private={container:r,ready:!1,options:s,elements:new ha(this),listeners:[],aniEles:new ha(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:Ct(s.zoom)?s.zoom:1,pan:{x:en(s.pan)&&Ct(s.pan.x)?s.pan.x:0,y:en(s.pan)&&Ct(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var h=o(function(f,g){var m=f.some(wNe);if(m)return yp.all(f).then(g);g(f)},"loadExtData");u.styleEnabled&&t.setStyle([]);var d=br({},s,s.renderer);t.initRenderer(d);var p=o(function(f,g,m){t.notifications(!1);var y=t.mutableElements();y.length>0&&y.remove(),f!=null&&(en(f)||In(f))&&t.add(f),t.one("layoutready",function(v){t.notifications(!0),t.emit(v),t.one("load",g),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",m),t.emit("done")});var b=br({},t._private.options.layout);b.eles=t.elements(),t.layout(b).run()},"setElesAndLayout");h([s.style,s.elements],function(f){var g=f[0],m=f[1];u.styleEnabled&&t.style().append(g),p(m,function(){t.startAnimationLoop(),u.ready=!0,Jn(s.ready)&&t.on("ready",s.ready);for(var y=0;y<i.length;y++){var b=i[y];t.on("ready",b)}n&&(n.readies=[]),t.emit("ready")},s.done)})},"Core"),px=Pf.prototype,br(px,{instanceString:o(function(){return"core"},"instanceString"),isReady:o(function(){return this._private.ready},"isReady"),destroyed:o(function(){return this._private.destroyed},"destroyed"),ready:o(function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},"ready"),destroy:o(function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},"destroy"),hasElementWithId:o(function(e){return this._private.elements.hasElementWithId(e)},"hasElementWithId"),getElementById:o(function(e){return this._private.elements.getElementById(e)},"getElementById"),hasCompoundNodes:o(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:o(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:o(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:o(function(e){return this._private.elements.merge(e),this},"addToPool"),removeFromPool:o(function(e){return this._private.elements.unmerge(e),this},"removeFromPool"),container:o(function(){return this._private.container||null},"container"),window:o(function(){var e=this._private.container;if(e==null)return $i;var t=this._private.container.ownerDocument;return t===void 0||t==null?$i:t.defaultView||$i},"window"),mount:o(function(e){if(e!=null){var t=this,r=t._private,n=r.options;return!Nb(e)&&Nb(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer(br({},n,n.renderer,{name:n.renderer.name==="null"?"canvas":n.renderer.name})),t.startAnimationLoop(),t.style(n.style),t.emit("mount"),t}},"mount"),unmount:o(function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},"unmount"),options:o(function(){return Ll(this._private.options)},"options"),json:o(function(e){var t=this,r=t._private,n=t.mutableElements(),i=o(function(x){return t.getElementById(x.id())},"getFreshRef");if(en(e)){if(t.startBatch(),e.elements){var a={},s=o(function(x,k){for(var w=[],_=[],S=0;S<x.length;S++){var C=x[S];if(!C.data.id){yn("cy.json() cannot handle elements without an ID attribute");continue}var T=""+C.data.id,N=t.getElementById(T);a[T]=!0,N.length!==0?_.push({ele:N,json:C}):(k&&(C.group=k),w.push(C))}t.add(w);for(var D=0;D<_.length;D++){var M=_[D],L=M.ele,B=M.json;L.json(B)}},"updateEles");if(In(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var h=l[u],d=e.elements[h];In(d)&&s(d,h)}var p=t.collection();n.filter(function(x){return!a[x.id()]}).forEach(function(x){x.isParent()?p.merge(x):x.remove()}),p.forEach(function(x){return x.children().move({parent:null})}),p.forEach(function(x){return i(x).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var f=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<f.length;g++){var m=f[g];e[m]!=null&&t[m](e[m])}return t.endBatch(),this}else{var y=!!e,b={};y?b.elements=this.elements().map(function(x){return x.json()}):(b.elements={},n.forEach(function(x){var k=x.group();b.elements[k]||(b.elements[k]=[]),b.elements[k].push(x.json())})),this._private.styleEnabled&&(b.style=t.style().json()),b.data=Ll(t.data());var v=r.options;return b.zoomingEnabled=r.zoomingEnabled,b.userZoomingEnabled=r.userZoomingEnabled,b.zoom=r.zoom,b.minZoom=r.minZoom,b.maxZoom=r.maxZoom,b.panningEnabled=r.panningEnabled,b.userPanningEnabled=r.userPanningEnabled,b.pan=Ll(r.pan),b.boxSelectionEnabled=r.boxSelectionEnabled,b.renderer=Ll(v.renderer),b.hideEdgesOnViewport=v.hideEdgesOnViewport,b.textureOnViewport=v.textureOnViewport,b.wheelSensitivity=v.wheelSensitivity,b.motionBlur=v.motionBlur,b.multiClickDebounceTime=v.multiClickDebounceTime,b}},"json")}),px.$id=px.getElementById,[dOe,gOe,cq,mE,cx,mOe,yE,ux,bOe,Ed,Of].forEach(function(e){br(px,e)}),kOe={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},wOe={maximal:!1,acyclic:!1},kp=o(function(e){return e.scratch("breadthfirst")},"getInfo"),uq=o(function(e,t){return e.scratch("breadthfirst",t)},"setInfo"),o(dz,"BreadthFirstLayout"),dz.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().filter(function(Q){return!Q.isParent()}),a=n,s=t.directed,l=t.acyclic||t.maximal||t.maximalAdjustments>0,u=gs(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),h;if(Bs(t.roots))h=t.roots;else if(In(t.roots)){for(var d=[],p=0;p<t.roots.length;p++){var f=t.roots[p],g=r.getElementById(f);d.push(g)}h=r.collection(d)}else if(or(t.roots))h=r.$(t.roots);else if(s)h=i.roots();else{var m=n.components();h=r.collection();for(var y=o(function(Q){var Te=m[Q],ie=Te.maxDegree(!1),Me=Te.filter(function(Le){return Le.degree(!1)===ie});h=h.add(Me)},"_loop"),b=0;b<m.length;b++)y(b)}var v=[],x={},k=o(function(Q,Te){v[Te]==null&&(v[Te]=[]);var ie=v[Te].length;v[Te].push(Q),uq(Q,{index:ie,depth:Te})},"addToDepth"),w=o(function(Q,Te){var ie=kp(Q),Me=ie.depth,Le=ie.index;v[Me][Le]=null,k(Q,Te)},"changeDepth");a.bfs({roots:h,directed:t.directed,visit:o(function(Q,Te,ie,Me,Le){var Ie=Q[0],He=Ie.id();k(Ie,Le),x[He]=!0},"visit")});for(var _=[],S=0;S<i.length;S++){var C=i[S];x[C.id()]||_.push(C)}var T=o(function(Q){for(var Te=v[Q],ie=0;ie<Te.length;ie++){var Me=Te[ie];if(Me==null){Te.splice(ie,1),ie--;continue}uq(Me,{depth:Q,index:ie})}},"assignDepthsAt"),N=o(function(){for(var Q=0;Q<v.length;Q++)T(Q)},"assignDepths"),D=o(function(Q,Te){for(var ie=kp(Q),Me=Q.incomers().filter(function(H){return H.isNode()&&n.has(H)}),Le=-1,Ie=Q.id(),He=0;He<Me.length;He++){var We=Me[He],et=kp(We);Le=Math.max(Le,et.depth)}if(ie.depth<=Le){if(!t.acyclic&&Te[Ie])return null;var Ze=Le+1;return w(Q,Ze),Te[Ie]=Ze,!0}return!1},"adjustMaximally");if(s&&l){var M=[],L={},B=o(function(Q){return M.push(Q)},"enqueue"),E=o(function(){return M.shift()},"dequeue");for(i.forEach(function(Q){return M.push(Q)});M.length>0;){var R=E(),O=D(R,L);if(O)R.outgoers().filter(function(Q){return Q.isNode()&&n.has(Q)}).forEach(B);else if(O===null){yn("Detected double maximal shift for node `"+R.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}N();var P=0;if(t.avoidOverlap)for(var A=0;A<i.length;A++){var $=i[A],F=$.layoutDimensions(t),G=F.w,q=F.h;P=Math.max(P,G,q)}var W={},re=o(function(Q){if(W[Q.id()])return W[Q.id()];for(var Te=kp(Q).depth,ie=Q.neighborhood(),Me=0,Le=0,Ie=0;Ie<ie.length;Ie++){var He=ie[Ie];if(!(He.isEdge()||He.isParent()||!i.has(He))){var We=kp(He);if(We!=null){var et=We.index,Ze=We.depth;if(!(et==null||Ze==null)){var H=v[Ze].length;Ze<Te&&(Me+=et/H,Le++)}}}}return Le=Math.max(1,Le),Me=Me/Le,Le===0&&(Me=0),W[Q.id()]=Me,Me},"getWeightedPercent"),oe=o(function(Q,Te){var ie=re(Q),Me=re(Te),Le=ie-Me;return Le===0?Dz(Q.id(),Te.id()):Le},"sortFn");t.depthSort!==void 0&&(oe=t.depthSort);for(var te=0;te<v.length;te++)v[te].sort(oe),T(te);for(var se=[],Y=0;Y<_.length;Y++)se.push(_[Y]);v.unshift(se),N();for(var V=0,U=0;U<v.length;U++)V=Math.max(v[U].length,V);var ne={x:u.x1+u.w/2,y:u.x1+u.h/2},K=v.reduce(function(Q,Te){return Math.max(Q,Te.length)},0),fe=o(function(Q){var Te=kp(Q),ie=Te.depth,Me=Te.index,Le=v[ie].length,Ie=Math.max(u.w/((t.grid?K:Le)+1),P),He=Math.max(u.h/(v.length+1),P),We=Math.min(u.w/2/v.length,u.h/2/v.length);if(We=Math.max(We,P),t.circle){var et=We*ie+We-(v.length>0&&v[0].length<=3?We/2:0),Ze=2*Math.PI/v[ie].length*Me;return ie===0&&v[0].length===1&&(et=1),{x:ne.x+et*Math.cos(Ze),y:ne.y+et*Math.sin(Ze)}}else{var H={x:ne.x+(Me+1-(Le+1)/2)*Ie,y:(ie+1)*He};return H}},"getPosition");return n.nodes().layoutPositions(this,t,fe),this},TOe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(pz,"CircleLayout"),pz.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var s=gs(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,h=u/Math.max(1,a.length-1),d,p=0,f=0;f<a.length;f++){var g=a[f],m=g.layoutDimensions(t),y=m.w,b=m.h;p=Math.max(p,y,b)}if(Ct(t.radius)?d=t.radius:a.length<=1?d=0:d=Math.min(s.h,s.w)/2-p,a.length>1&&t.avoidOverlap){p*=1.75;var v=Math.cos(h)-Math.cos(0),x=Math.sin(h)-Math.sin(0),k=Math.sqrt(p*p/(v*v+x*x));d=Math.max(k,d)}var w=o(function(_,S){var C=t.startAngle+S*h*(i?1:-1),T=d*Math.cos(C),N=d*Math.sin(C),D={x:l.x+T,y:l.y+N};return D},"getPos");return n.nodes().layoutPositions(this,t,w),this},EOe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:o(function(e){return e.degree()},"concentric"),levelWidth:o(function(e){return e.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(gz,"ConcentricLayout"),gz.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,a=i.nodes().not(":parent"),s=gs(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],h=0,d=0;d<a.length;d++){var p=a[d],f=void 0;f=t.concentric(p),u.push({value:f,node:p}),p._private.scratch.concentric=f}a.updateStyle();for(var g=0;g<a.length;g++){var m=a[g],y=m.layoutDimensions(t);h=Math.max(h,y.w,y.h)}u.sort(function(Q,Te){return Te.value-Q.value});for(var b=t.levelWidth(a),v=[[]],x=v[0],k=0;k<u.length;k++){var w=u[k];if(x.length>0){var _=Math.abs(x[0].value-w.value);_>=b&&(x=[],v.push(x))}x.push(w)}var S=h+t.minNodeSpacing;if(!t.avoidOverlap){var C=v.length>0&&v[0].length>1,T=Math.min(s.w,s.h)/2-S,N=T/(v.length+C?1:0);S=Math.min(S,N)}for(var D=0,M=0;M<v.length;M++){var L=v[M],B=t.sweep===void 0?2*Math.PI-2*Math.PI/L.length:t.sweep,E=L.dTheta=B/Math.max(1,L.length-1);if(L.length>1&&t.avoidOverlap){var R=Math.cos(E)-Math.cos(0),O=Math.sin(E)-Math.sin(0),P=Math.sqrt(S*S/(R*R+O*O));D=Math.max(P,D)}L.r=D,D+=S}if(t.equidistant){for(var A=0,$=0,F=0;F<v.length;F++){var G=v[F],q=G.r-$;A=Math.max(A,q)}$=0;for(var W=0;W<v.length;W++){var re=v[W];W===0&&($=re.r),re.r=$,$+=A}}for(var oe={},te=0;te<v.length;te++)for(var se=v[te],Y=se.dTheta,V=se.r,U=0;U<se.length;U++){var ne=se[U],K=t.startAngle+(r?1:-1)*Y*U,fe={x:l.x+V*Math.cos(K),y:l.y+V*Math.sin(K)};oe[ne.node.id()]=fe}return i.nodes().layoutPositions(this,t,function(Q){var Te=Q.id();return oe[Te]}),this},_Oe={ready:o(function(){},"ready"),stop:o(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:o(function(e){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:o(function(e){return 32},"idealEdgeLength"),edgeElasticity:o(function(e){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1},o(Lb,"CoseLayout"),Lb.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?hq=!0:hq=!1;var n=COe(t,r,e);hq&&ket(n),e.randomize&&LOe(n);var i=Ec(),a=o(function(){NOe(n,t,e),e.fit===!0&&t.fit(e.padding)},"refresh"),s=o(function(p){return!(r.stopped||p>=e.numIter||(IOe(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},"mainLoop"),l=o(function(){if(e.animate===!0||e.animate===!1)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var p=e.eles.nodes(),f=dq(n,e,p);p.layoutPositions(r,e,f)}},"done"),u=0,h=!0;if(e.animate===!0){var d=o(function p(){for(var f=0;h&&f<e.refresh;)h=s(u),u++,f++;if(!h)gq(n,e),l();else{var g=Ec();g-i>=e.animationThreshold&&a(),Rb(p)}},"frame");d()}else{for(;h;)h=s(u),u++;gq(n,e),l()}return this},Lb.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Lb.prototype.destroy=function(){return this.thread&&this.thread.stop(),this},COe=o(function(e,t,r){for(var n=r.eles.edges(),i=r.eles.nodes(),a=gs(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},l=r.eles.components(),u={},h=0;h<l.length;h++)for(var d=l[h],p=0;p<d.length;p++){var f=d[p];u[f.id()]=h}for(var h=0;h<s.nodeSize;h++){var g=i[h],m=g.layoutDimensions(r),y={};y.isLocked=g.locked(),y.id=g.data("id"),y.parentId=g.data("parent"),y.cmptId=u[g.id()],y.children=[],y.positionX=g.position("x"),y.positionY=g.position("y"),y.offsetX=0,y.offsetY=0,y.height=m.w,y.width=m.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(g.style("padding")),y.padRight=parseFloat(g.style("padding")),y.padTop=parseFloat(g.style("padding")),y.padBottom=parseFloat(g.style("padding")),y.nodeRepulsion=Jn(r.nodeRepulsion)?r.nodeRepulsion(g):r.nodeRepulsion,s.layoutNodes.push(y),s.idToIndex[y.id]=h}for(var b=[],v=0,x=-1,k=[],h=0;h<s.nodeSize;h++){var g=s.layoutNodes[h],w=g.parentId;w!=null?s.layoutNodes[s.idToIndex[w]].children.push(g.id):(b[++x]=g.id,k.push(g.id))}for(s.graphSet.push(k);v<=x;){var _=b[v++],S=s.idToIndex[_],f=s.layoutNodes[S],C=f.children;if(C.length>0){s.graphSet.push(C);for(var h=0;h<C.length;h++)b[++x]=C[h]}}for(var h=0;h<s.graphSet.length;h++)for(var T=s.graphSet[h],p=0;p<T.length;p++){var N=s.idToIndex[T[p]];s.indexToGraph[N]=h}for(var h=0;h<s.edgeSize;h++){var D=n[h],M={};M.id=D.data("id"),M.sourceId=D.data("source"),M.targetId=D.data("target");var L=Jn(r.idealEdgeLength)?r.idealEdgeLength(D):r.idealEdgeLength,B=Jn(r.edgeElasticity)?r.edgeElasticity(D):r.edgeElasticity,E=s.idToIndex[M.sourceId],R=s.idToIndex[M.targetId],O=s.indexToGraph[E],P=s.indexToGraph[R];if(O!=P){for(var A=SOe(M.sourceId,M.targetId,s),$=s.graphSet[A],F=0,y=s.layoutNodes[E];$.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],F++;for(y=s.layoutNodes[R];$.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],F++;L*=F*r.nestingFactor}M.idealLength=L,M.elasticity=B,s.layoutEdges.push(M)}return s},"createLayoutInfo"),SOe=o(function(e,t,r){var n=AOe(e,t,0,r);return 2>n.count?0:n.graph},"findLCA"),AOe=o(function e(t,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(t)&&-1<a.indexOf(r))return{count:2,graph:n};for(var s=0,l=0;l<a.length;l++){var u=a[l],h=i.idToIndex[u],d=i.layoutNodes[h].children;if(d.length!==0){var p=i.indexToGraph[i.idToIndex[d[0]]],f=e(t,r,p,i);if(f.count!==0)if(f.count===1){if(s++,s===2)break}else return f}}return{count:s,graph:n}},"findLCA_aux"),LOe=o(function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*r,a.positionY=Math.random()*n)}},"randomizePositions"),dq=o(function(e,t,r){var n=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach(function(a){var s=e.layoutNodes[e.idToIndex[a.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(a,s){var l=e.layoutNodes[e.idToIndex[a.data("id")]];if(t.boundingBox){var u=(l.positionX-i.x1)/i.w,h=(l.positionY-i.y1)/i.h;return{x:n.x1+u*n.w,y:n.y1+h*n.h}}else return{x:l.positionX,y:l.positionY}}},"getScaleInBoundsFn"),NOe=o(function(e,t,r){var n=r.layout,i=r.eles.nodes(),a=dq(e,r,i);i.positions(a),e.ready!==!0&&(e.ready=!0,n.one("layoutready",r.ready),n.emit({type:"layoutready",layout:this}))},"refreshPositions"),IOe=o(function(e,t,r){MOe(e,t),OOe(e),POe(e,t),BOe(e),$Oe(e)},"step"),MOe=o(function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var n=e.graphSet[r],i=n.length,a=0;a<i;a++)for(var s=e.layoutNodes[e.idToIndex[n[a]]],l=a+1;l<i;l++){var u=e.layoutNodes[e.idToIndex[n[l]]];DOe(s,u,e,t)}},"calculateNodeForces"),pq=o(function(e){return-e+2*e*Math.random()},"randomDistance"),DOe=o(function(e,t,r,n){var i=e.cmptId,a=t.cmptId;if(!(i!==a&&!r.isCompound)){var s=t.positionX-e.positionX,l=t.positionY-e.positionY,u=1;s===0&&l===0&&(s=pq(u),l=pq(u));var h=ROe(e,t,s,l);if(h>0)var b=n.nodeOverlap*h,y=Math.sqrt(s*s+l*l),v=b*s/y,x=b*l/y;else var d=gx(e,s,l),p=gx(t,-1*s,-1*l),f=p.x-d.x,g=p.y-d.y,m=f*f+g*g,y=Math.sqrt(m),b=(e.nodeRepulsion+t.nodeRepulsion)/m,v=b*f/y,x=b*g/y;e.isLocked||(e.offsetX-=v,e.offsetY-=x),t.isLocked||(t.offsetX+=v,t.offsetY+=x)}},"nodeRepulsion"),ROe=o(function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},"nodesOverlap"),gx=o(function(e,t,r){var n=e.positionX,i=e.positionY,a=e.height||1,s=e.width||1,l=r/t,u=a/s,h={};return t===0&&0<r||t===0&&0>r?(h.x=n,h.y=i+a/2,h):0<t&&-1*u<=l&&l<=u?(h.x=n+s/2,h.y=i+s*r/2/t,h):0>t&&-1*u<=l&&l<=u?(h.x=n-s/2,h.y=i-s*r/2/t,h):0<r&&(l<=-1*u||l>=u)?(h.x=n+a*t/2/r,h.y=i+a/2,h):(0>r&&(l<=-1*u||l>=u)&&(h.x=n-a*t/2/r,h.y=i-a/2),h)},"findClippingPoint"),OOe=o(function(e,t){for(var r=0;r<e.edgeSize;r++){var n=e.layoutEdges[r],i=e.idToIndex[n.sourceId],a=e.layoutNodes[i],s=e.idToIndex[n.targetId],l=e.layoutNodes[s],u=l.positionX-a.positionX,h=l.positionY-a.positionY;if(!(u===0&&h===0)){var d=gx(a,u,h),p=gx(l,-1*u,-1*h),f=p.x-d.x,g=p.y-d.y,m=Math.sqrt(f*f+g*g),y=Math.pow(n.idealLength-m,2)/n.elasticity;if(m!==0)var b=y*f/m,v=y*g/m;else var b=0,v=0;a.isLocked||(a.offsetX+=b,a.offsetY+=v),l.isLocked||(l.offsetX-=b,l.offsetY-=v)}}},"calculateEdgeForces"),POe=o(function(e,t){if(t.gravity!==0)for(var r=1,n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],a=i.length;if(n===0)var u=e.clientHeight/2,h=e.clientWidth/2;else var s=e.layoutNodes[e.idToIndex[i[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]],u=l.positionX,h=l.positionY;for(var d=0;d<a;d++){var p=e.layoutNodes[e.idToIndex[i[d]]];if(!p.isLocked){var f=u-p.positionX,g=h-p.positionY,m=Math.sqrt(f*f+g*g);if(m>r){var y=t.gravity*f/m,b=t.gravity*g/m;p.offsetX+=y,p.offsetY+=b}}}}},"calculateGravityForces"),BOe=o(function(e,t){var r=[],n=0,i=-1;for(r.push.apply(r,e.graphSet[0]),i+=e.graphSet[0].length;n<=i;){var a=r[n++],s=e.idToIndex[a],l=e.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var h=l.offsetX,d=l.offsetY,p=0;p<u.length;p++){var f=e.layoutNodes[e.idToIndex[u[p]]];f.offsetX+=h,f.offsetY+=d,r[++i]=u[p]}l.offsetX=0,l.offsetY=0}}},"propagateForces"),$Oe=o(function(e,t){for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];0<n.children.length&&(n.maxX=void 0,n.minX=void 0,n.maxY=void 0,n.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];if(!(0<n.children.length||n.isLocked)){var i=FOe(n.offsetX,n.offsetY,e.temperature);n.positionX+=i.x,n.positionY+=i.y,n.offsetX=0,n.offsetY=0,n.minX=n.positionX-n.width,n.maxX=n.positionX+n.width,n.minY=n.positionY-n.height,n.maxY=n.positionY+n.height,zOe(n,e)}}for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];0<n.children.length&&!n.isLocked&&(n.positionX=(n.maxX+n.minX)/2,n.positionY=(n.maxY+n.minY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY)}},"updatePositions"),FOe=o(function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else var i={x:e,y:t};return i},"limitForce"),zOe=o(function e(t,r){var n=t.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(i.minX==null||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(i.maxY==null||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(i.minY==null||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a)return e(i,r)}},"updateAncestryBoundaries"),gq=o(function(e,t){for(var r=e.layoutNodes,n=[],i=0;i<r.length;i++){var a=r[i],s=a.cmptId,l=n[s]=n[s]||[];l.push(a)}for(var u=0,i=0;i<n.length;i++){var h=n[i];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var d=0;d<h.length;d++){var p=h[d];h.x1=Math.min(h.x1,p.positionX-p.width/2),h.x2=Math.max(h.x2,p.positionX+p.width/2),h.y1=Math.min(h.y1,p.positionY-p.height/2),h.y2=Math.max(h.y2,p.positionY+p.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,u+=h.w*h.h}}n.sort(function(v,x){return x.w*x.h-v.w*v.h});for(var f=0,g=0,m=0,y=0,b=Math.sqrt(u)*e.clientWidth/e.clientHeight,i=0;i<n.length;i++){var h=n[i];if(h){for(var d=0;d<h.length;d++){var p=h[d];p.isLocked||(p.positionX+=f-h.x1,p.positionY+=g-h.y1)}f+=h.w+t.componentSpacing,m+=h.w+t.componentSpacing,y=Math.max(y,h.h),m>b&&(g+=y+t.componentSpacing,f=0,m=0,y=0)}}},"separateComponents"),GOe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:o(function(e){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(fz,"GridLayout"),fz.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=gs(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,t,function(W){return{x:a.x1,y:a.y1}});else{var s=i.size(),l=Math.sqrt(s*a.h/a.w),u=Math.round(l),h=Math.round(a.w/a.h*l),d=o(function(W){if(W==null)return Math.min(u,h);var re=Math.min(u,h);re==u?u=W:h=W},"small"),p=o(function(W){if(W==null)return Math.max(u,h);var re=Math.max(u,h);re==u?u=W:h=W},"large"),f=t.rows,g=t.cols!=null?t.cols:t.columns;if(f!=null&&g!=null)u=f,h=g;else if(f!=null&&g==null)u=f,h=Math.ceil(s/u);else if(f==null&&g!=null)h=g,u=Math.ceil(s/h);else if(h*u>s){var m=d(),y=p();(m-1)*y>=s?d(m-1):(y-1)*m>=s&&p(y-1)}else for(;h*u<s;){var b=d(),v=p();(v+1)*b>=s?p(v+1):d(b+1)}var x=a.w/h,k=a.h/u;if(t.condense&&(x=0,k=0),t.avoidOverlap)for(var w=0;w<i.length;w++){var _=i[w],S=_._private.position;(S.x==null||S.y==null)&&(S.x=0,S.y=0);var C=_.layoutDimensions(t),T=t.avoidOverlapPadding,N=C.w+T,D=C.h+T;x=Math.max(x,N),k=Math.max(k,D)}for(var M={},L=o(function(W,re){return!!M["c-"+W+"-"+re]},"used"),B=o(function(W,re){M["c-"+W+"-"+re]=!0},"use"),E=0,R=0,O=o(function(){R++,R>=h&&(R=0,E++)},"moveToNextCell"),P={},A=0;A<i.length;A++){var $=i[A],F=t.position($);if(F&&(F.row!==void 0||F.col!==void 0)){var G={row:F.row,col:F.col};if(G.col===void 0)for(G.col=0;L(G.row,G.col);)G.col++;else if(G.row===void 0)for(G.row=0;L(G.row,G.col);)G.row++;P[$.id()]=G,B(G.row,G.col)}}var q=o(function(W,re){var oe,te;if(W.locked()||W.isParent())return!1;var se=P[W.id()];if(se)oe=se.col*x+x/2+a.x1,te=se.row*k+k/2+a.y1;else{for(;L(E,R);)O();oe=R*x+x/2+a.x1,te=E*k+k/2+a.y1,B(E,R),O()}return{x:oe,y:te}},"getPos");i.layoutPositions(this,t,q)}return this},qOe={ready:o(function(){},"ready"),stop:o(function(){},"stop")},o(qT,"NullLayout"),qT.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this},qT.prototype.stop=function(){return this},jOe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(mz,"PresetLayout"),mz.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=Jn(e.positions);function i(a){if(e.positions==null)return PIe(a.position());if(n)return e.positions(a);var s=e.positions[a._private.data.id];return s??null}return o(i,"getPosition"),r.layoutPositions(this,e,function(a,s){var l=i(a);return a.locked()||l==null?!1:l}),this},YOe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(yz,"RandomLayout"),yz.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=gs(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=o(function(a,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}},"getPos");return r.nodes().layoutPositions(this,e,i),this},UOe=[{name:"breadthfirst",impl:dz},{name:"circle",impl:pz},{name:"concentric",impl:gz},{name:"cose",impl:Lb},{name:"grid",impl:fz},{name:"null",impl:qT},{name:"preset",impl:mz},{name:"random",impl:yz}],o(vz,"NullRenderer"),fq=o(function(){},"noop"),mq=o(function(){throw new Error("A headless instance can not render images")},"throwImgErr"),vz.prototype={recalculateRenderedStyle:fq,notify:o(function(){this.notifications++},"notify"),init:fq,isHeadless:o(function(){return!0},"isHeadless"),png:mq,jpg:mq},xE={},xE.arrowShapeWidth=.3,xE.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=o(function(u,h,d,p,f,g,m){var y=f.x-d/2-m,b=f.x+d/2+m,v=f.y-d/2-m,x=f.y+d/2+m,k=y<=u&&u<=b&&v<=h&&h<=x;return k},"bbCollide"),n=o(function(u,h,d,p,f){var g=u*Math.cos(p)-h*Math.sin(p),m=u*Math.sin(p)+h*Math.cos(p),y=g*d,b=m*d,v=y+f.x,x=b+f.y;return{x:v,y:x}},"transform"),i=o(function(u,h,d,p){for(var f=[],g=0;g<u.length;g+=2){var m=u[g],y=u[g+1];f.push(n(m,y,h,d,p))}return f},"transformPoints"),a=o(function(u){for(var h=[],d=0;d<u.length;d++){var p=u[d];h.push(p.x,p.y)}return h},"pointsToArr"),s=o(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},"standardGap"),l=o(function(u,h){or(h)&&(h=e[h]),e[u]=br({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:o(function(d,p,f,g,m,y){var b=a(i(this.points,f+2*y,g,m)),v=fs(d,p,b);return v},"collide"),roughCollide:r,draw:o(function(d,p,f,g){var m=i(this.points,p,f,g);t.arrowShapeImpl("polygon")(d,m)},"draw"),spacing:o(function(d){return 0},"spacing"),gap:s},h)},"defineArrowShape");l("none",{collide:Pb,roughCollide:Pb,draw:KT,spacing:Wz,gap:Wz}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:o(function(u,h,d,p,f){var g=i(this.points,h,d,p),m=this.controlPoint,y=n(m[0],m[1],h,d,p);t.arrowShapeImpl(this.name)(u,g,y)},"draw"),gap:o(function(u){return s(u)*.8},"gap")}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:o(function(u,h,d,p,f,g,m){var y=a(i(this.points,d+2*m,p,f)),b=a(i(this.pointsTee,d+2*m,p,f)),v=fs(u,h,y)||fs(u,h,b);return v},"collide"),draw:o(function(u,h,d,p,f){var g=i(this.points,h,d,p),m=i(this.pointsTee,h,d,p);t.arrowShapeImpl(this.name)(u,g,m)},"draw")}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:o(function(u,h,d,p,f,g,m){var y=f,b=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2),v=a(i(this.points,d+2*m,p,f));return fs(u,h,v)||b},"collide"),draw:o(function(u,h,d,p,f){var g=i(this.pointsTr,h,d,p);t.arrowShapeImpl(this.name)(u,g,p.x,p.y,this.radius*h)},"draw"),spacing:o(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:o(function(u,h){var d=this.baseCrossLinePts.slice(),p=h/u,f=3,g=5;return d[f]=d[f]-p,d[g]=d[g]-p,d},"crossLinePts"),collide:o(function(u,h,d,p,f,g,m){var y=a(i(this.points,d+2*m,p,f)),b=a(i(this.crossLinePts(d,g),d+2*m,p,f)),v=fs(u,h,y)||fs(u,h,b);return v},"collide"),draw:o(function(u,h,d,p,f){var g=i(this.points,h,d,p),m=i(this.crossLinePts(h,f),h,d,p);t.arrowShapeImpl(this.name)(u,g,m)},"draw")}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:o(function(u){return s(u)*.525},"gap")}),l("circle",{radius:.15,collide:o(function(u,h,d,p,f,g,m){var y=f,b=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2);return b},"collide"),draw:o(function(u,h,d,p,f){t.arrowShapeImpl(this.name)(u,p.x,p.y,this.radius*h)},"draw"),spacing:o(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:o(function(u){return 1},"spacing"),gap:o(function(u){return 1},"gap")}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:o(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:o(function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")})},_d={},_d.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],s=n[4],l=r.pan(),u=r.zoom(),h=((e-i)/s-l.x)/u,d=((t-a)/s-l.y)/u;return[h,d]},_d.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=o(function(b){return parseFloat(r.getPropertyValue(b))},"styleValue"),i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=e.clientWidth,l=e.clientHeight,u=i.left+i.right,h=i.top+i.bottom,d=a.left+a.right,p=t.width/(s+d),f=s-u,g=l-h,m=t.left+i.left+a.left,y=t.top+i.top+a.top;return this.containerBB=[m,y,f,g,p]},_d.invalidateContainerClientCoordsCache=function(){this.containerBB=null},_d.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]},_d.findNearestElements=function(e,t,r,n){var i=this,a=this,s=a.getCachedZSortedEles(),l=[],u=a.cy.zoom(),h=a.cy.hasCompoundNodes(),d=(n?24:8)/u,p=(n?8:2)/u,f=(n?8:2)/u,g=1/0,m,y;r&&(s=s.interactive);function b(C,T){if(C.isNode()){if(y)return;y=C,l.push(C)}if(C.isEdge()&&(T==null||T<g))if(m){if(m.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var N=0;N<l.length;N++)if(l[N].isEdge()){l[N]=C,m=C,g=T??g;break}}}else l.push(C),m=C,g=T??g}o(b,"addEle");function v(C){var T=C.outerWidth()+2*p,N=C.outerHeight()+2*p,D=T/2,M=N/2,L=C.position(),B=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,E=C._private.rscratch;if(L.x-D<=e&&e<=L.x+D&&L.y-M<=t&&t<=L.y+M){var R=a.nodeShapes[i.getNodeShape(C)];if(R.checkPoint(e,t,0,T,N,L.x,L.y,B,E))return b(C,0),!0}}o(v,"checkNode");function x(C){var T=C._private,N=T.rscratch,D=C.pstyle("width").pfValue,M=C.pstyle("arrow-scale").value,L=D/2+d,B=L*L,E=L*2,R=T.source,O=T.target,P;if(N.edgeType==="segments"||N.edgeType==="straight"||N.edgeType==="haystack"){for(var A=N.allpts,$=0;$+3<A.length;$+=2)if(XIe(e,t,A[$],A[$+1],A[$+2],A[$+3],E)&&B>(P=eMe(e,t,A[$],A[$+1],A[$+2],A[$+3])))return b(C,P),!0}else if(N.edgeType==="bezier"||N.edgeType==="multibezier"||N.edgeType==="self"||N.edgeType==="compound"){for(var A=N.allpts,$=0;$+5<N.allpts.length;$+=4)if(KIe(e,t,A[$],A[$+1],A[$+2],A[$+3],A[$+4],A[$+5],E)&&B>(P=JIe(e,t,A[$],A[$+1],A[$+2],A[$+3],A[$+4],A[$+5])))return b(C,P),!0}for(var R=R||T.source,O=O||T.target,F=i.getArrowWidth(D,M),G=[{name:"source",x:N.arrowStartX,y:N.arrowStartY,angle:N.srcArrowAngle},{name:"target",x:N.arrowEndX,y:N.arrowEndY,angle:N.tgtArrowAngle},{name:"mid-source",x:N.midX,y:N.midY,angle:N.midsrcArrowAngle},{name:"mid-target",x:N.midX,y:N.midY,angle:N.midtgtArrowAngle}],$=0;$<G.length;$++){var q=G[$],W=a.arrowShapes[C.pstyle(q.name+"-arrow-shape").value],re=C.pstyle("width").pfValue;if(W.roughCollide(e,t,F,q.angle,{x:q.x,y:q.y},re,d)&&W.collide(e,t,F,q.angle,{x:q.x,y:q.y},re,d))return b(C),!0}h&&l.length>0&&(v(R),v(O))}o(x,"checkEdge");function k(C,T,N){return zo(C,T,N)}o(k,"preprop");function w(C,T){var N=C._private,D=f,M;T?M=T+"-":M="",C.boundingBox();var L=N.labelBounds[T||"main"],B=C.pstyle(M+"label").value,E=C.pstyle("text-events").strValue==="yes";if(!(!E||!B)){var R=k(N.rscratch,"labelX",T),O=k(N.rscratch,"labelY",T),P=k(N.rscratch,"labelAngle",T),A=C.pstyle(M+"text-margin-x").pfValue,$=C.pstyle(M+"text-margin-y").pfValue,F=L.x1-D-A,G=L.x2+D-A,q=L.y1-D-$,W=L.y2+D-$;if(P){var re=Math.cos(P),oe=Math.sin(P),te=o(function(K,fe){return K=K-R,fe=fe-O,{x:K*re-fe*oe+R,y:K*oe+fe*re+O}},"rotate"),se=te(F,q),Y=te(F,W),V=te(G,q),U=te(G,W),ne=[se.x+A,se.y+$,V.x+A,V.y+$,U.x+A,U.y+$,Y.x+A,Y.y+$];if(fs(e,t,ne))return b(C),!0}else if(pp(L,e,t))return b(C),!0}}o(w,"checkLabel");for(var _=s.length-1;_>=0;_--){var S=s[_];S.isNode()?v(S)||w(S):x(S)||w(S)||w(S,"source")||w(S,"target")}return l},_d.getAllInBox=function(e,t,r,n){var i=this.getCachedZSortedEles().interactive,a=[],s=Math.min(e,r),l=Math.max(e,r),u=Math.min(t,n),h=Math.max(t,n);e=s,r=l,t=u,n=h;for(var d=gs({x1:e,y1:t,x2:r,y2:n}),p=0;p<i.length;p++){var f=i[p];if(f.isNode()){var g=f,m=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});eE(d,m)&&!rG(m,d)&&a.push(g)}else{var y=f,b=y._private,v=b.rscratch;if(v.startX!=null&&v.startY!=null&&!pp(d,v.startX,v.startY)||v.endX!=null&&v.endY!=null&&!pp(d,v.endX,v.endY))continue;if(v.edgeType==="bezier"||v.edgeType==="multibezier"||v.edgeType==="self"||v.edgeType==="compound"||v.edgeType==="segments"||v.edgeType==="haystack"){for(var x=b.rstyle.bezierPts||b.rstyle.linePts||b.rstyle.haystackPts,k=!0,w=0;w<x.length;w++)if(!VIe(d,x[w])){k=!1;break}k&&a.push(y)}else(v.edgeType==="haystack"||v.edgeType==="straight")&&a.push(y)}}return a},fx={},fx.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",i=t.edgeType==="multibezier",a=t.edgeType==="segments",s=t.edgeType==="compound",l=t.edgeType==="self",u,h,d,p,f,g,v,x;if(r?(d=t.haystackPts[0],p=t.haystackPts[1],f=t.haystackPts[2],g=t.haystackPts[3]):(d=t.arrowStartX,p=t.arrowStartY,f=t.arrowEndX,g=t.arrowEndY),v=t.midX,x=t.midY,a)u=d-t.segpts[0],h=p-t.segpts[1];else if(i||s||l||n){var m=t.allpts,y=Ki(m[0],m[2],m[4],.1),b=Ki(m[1],m[3],m[5],.1);u=d-y,h=p-b}else u=d-v,h=p-x;t.srcArrowAngle=Fb(u,h);var v=t.midX,x=t.midY;if(r&&(v=(d+f)/2,x=(p+g)/2),u=f-d,h=g-p,a){var m=t.allpts;if(m.length/2%2===0){var k=m.length/2,w=k-2;u=m[k]-m[w],h=m[k+1]-m[w+1]}else if(t.isRound)u=t.midVector[1],h=-t.midVector[0];else{var k=m.length/2-1,w=k-2;u=m[k]-m[w],h=m[k+1]-m[w+1]}}else if(i||s||l){var m=t.allpts,_=t.ctrlpts,S,C,T,N;if(_.length/2%2===0){var D=m.length/2-1,M=D+2,L=M+2;S=Ki(m[D],m[M],m[L],0),C=Ki(m[D+1],m[M+1],m[L+1],0),T=Ki(m[D],m[M],m[L],1e-4),N=Ki(m[D+1],m[M+1],m[L+1],1e-4)}else{var M=m.length/2-1,D=M-2,L=M+2;S=Ki(m[D],m[M],m[L],.4999),C=Ki(m[D+1],m[M+1],m[L+1],.4999),T=Ki(m[D],m[M],m[L],.5),N=Ki(m[D+1],m[M+1],m[L+1],.5)}u=T-S,h=N-C}if(t.midtgtArrowAngle=Fb(u,h),t.midDispX=u,t.midDispY=h,u*=-1,h*=-1,a){var m=t.allpts;if(m.length/2%2!==0&&!t.isRound){var k=m.length/2-1,B=k+2;u=-(m[B]-m[k]),h=-(m[B+1]-m[k+1])}}if(t.midsrcArrowAngle=Fb(u,h),a)u=f-t.segpts[t.segpts.length-2],h=g-t.segpts[t.segpts.length-1];else if(i||s||l||n){var m=t.allpts,E=m.length,y=Ki(m[E-6],m[E-4],m[E-2],.9),b=Ki(m[E-5],m[E-3],m[E-1],.9);u=f-y,h=g-b}else u=f-v,h=g-x;t.tgtArrowAngle=Fb(u,h)},fx.getArrowWidth=fx.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)},Dl={},uo={},kq=o(function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},"asVec"),ZOe=o(function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},"invertVec"),QOe=o(function(e,t,r,n,i){if(e!==KOe?kq(t,e,Dl):ZOe(uo,Dl),kq(t,r,uo),HOe=Dl.nx*uo.ny-Dl.ny*uo.nx,WOe=Dl.nx*uo.nx-Dl.ny*-uo.ny,Uu=Math.asin(Math.max(-1,Math.min(1,HOe))),Math.abs(Uu)<1e-6){yq=t.x,vq=t.y,Ep=Bf=0;return}wp=1,kE=!1,WOe<0?Uu<0?Uu=Math.PI+Uu:(Uu=Math.PI-Uu,wp=-1,kE=!0):Uu>0&&(wp=-1,kE=!0),t.radius!==void 0?Bf=t.radius:Bf=n,Tp=Uu/2,wE=Math.min(Dl.len/2,uo.len/2),i?(Sc=Math.abs(Math.cos(Tp)*Bf/Math.sin(Tp)),Sc>wE?(Sc=wE,Ep=Math.abs(Sc*Math.sin(Tp)/Math.cos(Tp))):Ep=Bf):(Sc=Math.min(wE,Bf),Ep=Math.abs(Sc*Math.sin(Tp)/Math.cos(Tp))),bq=t.x+uo.nx*Sc,xq=t.y+uo.ny*Sc,yq=bq-uo.ny*Ep*wp,vq=xq+uo.nx*Ep*wp,VOe=t.x+Dl.nx*Sc,XOe=t.y+Dl.ny*Sc,KOe=t},"calcCornerArc"),o(bz,"drawPreparedRoundCorner"),o(jT,"getRoundCorner"),Ia={},Ia.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,i=t.vectorNormInverse,a,s=e.pstyle("source-endpoint"),l=e.pstyle("target-endpoint"),u=s.units!=null&&l.units!=null,h=o(function(w,_,S,C){var T=C-_,N=S-w,D=Math.sqrt(N*N+T*T);return{x:-T/D,y:N/D}},"recalcVectorNormInverse"),d=e.pstyle("edge-distances").value;switch(d){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(u){var p=this.manualEndptToPx(e.source()[0],s),f=Fo(p,2),g=f[0],m=f[1],y=this.manualEndptToPx(e.target()[0],l),b=Fo(y,2),v=b[0],x=b[1],k={x1:g,y1:m,x2:v,y2:x};i=h(g,m,v,x),a=k}else yn("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}},Ia.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=n.source,l=n.target,u=s.position(),h=l.position(),d=s.width(),p=l.width(),f=s.height(),g=l.height(),m=r.pstyle("haystack-radius").value,y=m/2;i.haystackPts=i.allpts=[i.source.x*d*y+u.x,i.source.y*f*y+u.y,i.target.x*p*y+h.x,i.target.y*g*y+h.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},Ia.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),s=e.pstyle("radius-type"),l=Math.min(n.pfValue.length,i.pfValue.length),u=a.pfValue[a.pfValue.length-1],h=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<l;d++){var p=n.pfValue[d],f=i.pfValue[d],g=1-p,m=p,y=this.findMidptPtsEtc(e,t),b=y.midptPts,v=y.vectorNormInverse,x={x:b.x1*g+b.x2*m,y:b.y1*g+b.y2*m};r.segpts.push(x.x+v.x*f,x.y+v.y*f),r.radii.push(a.pfValue[d]!==void 0?a.pfValue[d]:u),r.isArcRadius.push((s.pfValue[d]!==void 0?s.pfValue[d]:h)==="arc-radius")}},Ia.findLoopPoints=function(e,t,r,n){var i=e._private.rscratch,a=t.dirCounts,s=t.srcPos,l=e.pstyle("control-point-distances"),u=l?l.pfValue[0]:void 0,h=e.pstyle("loop-direction").pfValue,d=e.pstyle("loop-sweep").pfValue,p=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var f=r,g=p;n&&(f=0,g=u);var m=h-Math.PI/2,y=m-d/2,b=m+d/2,v=h+"_"+d;f=a[v]===void 0?a[v]=0:++a[v],i.ctrlpts=[s.x+Math.cos(y)*1.4*g*(f/3+1),s.y+Math.sin(y)*1.4*g*(f/3+1),s.x+Math.cos(b)*1.4*g*(f/3+1),s.y+Math.sin(b)*1.4*g*(f/3+1)]},Ia.findCompoundLoopPoints=function(e,t,r,n){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,s=t.tgtPos,l=t.srcW,u=t.srcH,h=t.tgtW,d=t.tgtH,p=e.pstyle("control-point-step-size").pfValue,f=e.pstyle("control-point-distances"),g=f?f.pfValue[0]:void 0,m=r,y=p;n&&(m=0,y=g);var b=50,v={x:a.x-l/2,y:a.y-u/2},x={x:s.x-h/2,y:s.y-d/2},k={x:Math.min(v.x,x.x),y:Math.min(v.y,x.y)},w=.5,_=Math.max(w,Math.log(l*.01)),S=Math.max(w,Math.log(h*.01));i.ctrlpts=[k.x,k.y-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*_,k.x-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*S,k.y]},Ia.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},Ia.findBezierPoints=function(e,t,r,n,i){var a=e._private.rscratch,s=e.pstyle("control-point-step-size").pfValue,l=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),h=l&&u?Math.min(l.value.length,u.value.length):1,d=l?l.pfValue[0]:void 0,p=u.value[0],f=n;a.edgeType=f?"multibezier":"bezier",a.ctrlpts=[];for(var g=0;g<h;g++){var m=(.5-t.eles.length/2+r)*s*(i?-1:1),y=void 0,b=Jz(m);f&&(d=l?l.pfValue[g]:s,p=u.value[g]),n?y=d:y=d!==void 0?b*d:void 0;var v=y!==void 0?y:m,x=1-p,k=p,w=this.findMidptPtsEtc(e,t),_=w.midptPts,S=w.vectorNormInverse,C={x:_.x1*x+_.x2*k,y:_.y1*x+_.y2*k};a.ctrlpts.push(C.x+S.x*v,C.y+S.y*v)}},Ia.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",s="rightward",l="downward",u="upward",h="auto",d=t.posPts,p=t.srcW,f=t.srcH,g=t.tgtW,m=t.tgtH,y=e.pstyle("edge-distances").value,b=y!=="node-position",v=e.pstyle("taxi-direction").value,x=v,k=e.pstyle("taxi-turn"),w=k.units==="%",_=k.pfValue,S=_<0,C=e.pstyle("taxi-turn-min-distance").pfValue,T=b?(p+g)/2:0,N=b?(f+m)/2:0,D=d.x2-d.x1,M=d.y2-d.y1,L=o(function(ae,pe){return ae>0?Math.max(ae-pe,0):Math.min(ae+pe,0)},"subDWH"),B=L(D,T),E=L(M,N),R=!1;x===h?v=Math.abs(B)>Math.abs(E)?i:n:x===u||x===l?(v=n,R=!0):(x===a||x===s)&&(v=i,R=!0);var O=v===n,P=O?E:B,A=O?M:D,$=Jz(A),F=!1;!(R&&(w||S))&&(x===l&&A<0||x===u&&A>0||x===a&&A>0||x===s&&A<0)&&($*=-1,P=$*Math.abs(P),F=!0);var G;if(w){var q=_<0?1+_:_;G=q*P}else{var W=_<0?P:0;G=W+_*$}var re=o(function(ae){return Math.abs(ae)<C||Math.abs(ae)>=Math.abs(P)},"getIsTooClose"),oe=re(G),te=re(Math.abs(P)-Math.abs(G)),se=oe||te;if(se&&!F)if(O){var Y=Math.abs(A)<=f/2,V=Math.abs(D)<=g/2;if(Y){var U=(d.x1+d.x2)/2,ne=d.y1,K=d.y2;r.segpts=[U,ne,U,K]}else if(V){var fe=(d.y1+d.y2)/2,Q=d.x1,Te=d.x2;r.segpts=[Q,fe,Te,fe]}else r.segpts=[d.x1,d.y2]}else{var ie=Math.abs(A)<=p/2,Me=Math.abs(M)<=m/2;if(ie){var Le=(d.y1+d.y2)/2,Ie=d.x1,He=d.x2;r.segpts=[Ie,Le,He,Le]}else if(Me){var We=(d.x1+d.x2)/2,et=d.y1,Ze=d.y2;r.segpts=[We,et,We,Ze]}else r.segpts=[d.x2,d.y1]}else if(O){var H=d.y1+G+(b?f/2*$:0),ge=d.x1,ce=d.x2;r.segpts=[ge,H,ce,H]}else{var ve=d.x1+G+(b?p/2*$:0),J=d.y1,Pe=d.y2;r.segpts=[ve,J,ve,Pe]}if(r.isRound){var Z=e.pstyle("taxi-radius").value,Fe=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Z),r.isArcRadius=new Array(r.segpts.length/2).fill(Fe)}},Ia.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,i=t.tgtPos,a=t.srcW,s=t.srcH,l=t.tgtW,u=t.tgtH,h=t.srcShape,d=t.tgtShape,p=t.srcCornerRadius,f=t.tgtCornerRadius,g=t.srcRs,m=t.tgtRs,y=!Ct(r.startX)||!Ct(r.startY),b=!Ct(r.arrowStartX)||!Ct(r.arrowStartY),v=!Ct(r.endX)||!Ct(r.endY),x=!Ct(r.arrowEndX)||!Ct(r.arrowEndY),k=3,w=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,_=k*w,S=yd({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),C=S<_,T=yd({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),N=T<_,D=!1;if(y||b||C){D=!0;var M={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},L=Math.sqrt(M.x*M.x+M.y*M.y),B={x:M.x/L,y:M.y/L},E=Math.max(a,s),R={x:r.ctrlpts[0]+B.x*2*E,y:r.ctrlpts[1]+B.y*2*E},O=h.intersectLine(n.x,n.y,a,s,R.x,R.y,0,p,g);C?(r.ctrlpts[0]=r.ctrlpts[0]+B.x*(_-S),r.ctrlpts[1]=r.ctrlpts[1]+B.y*(_-S)):(r.ctrlpts[0]=O[0]+B.x*_,r.ctrlpts[1]=O[1]+B.y*_)}if(v||x||N){D=!0;var P={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},A=Math.sqrt(P.x*P.x+P.y*P.y),$={x:P.x/A,y:P.y/A},F=Math.max(a,s),G={x:r.ctrlpts[0]+$.x*2*F,y:r.ctrlpts[1]+$.y*2*F},q=d.intersectLine(i.x,i.y,l,u,G.x,G.y,0,f,m);N?(r.ctrlpts[0]=r.ctrlpts[0]+$.x*(_-T),r.ctrlpts[1]=r.ctrlpts[1]+$.y*(_-T)):(r.ctrlpts[0]=q[0]+$.x*_,r.ctrlpts[1]=q[1]+$.y*_)}D&&this.findEndpoints(e)}},Ia.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,i;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,i=.5,t.midX=Ki(t.allpts[n],t.allpts[n+2],t.allpts[n+4],i),t.midY=Ki(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],i))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var s=t.radii[a/2-1],l=t.isArcRadius[a/2-1];t.roundCorners.push(jT({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:s},{x:t.allpts[a+2],y:t.allpts[a+3]},s,l))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,h=u-2;t.midX=(t.segpts[h]+t.segpts[u])/2,t.midY=(t.segpts[h+1]+t.segpts[u+1])/2}else{var d=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[d],t.midY=t.segpts[d+1];else{var p={x:t.segpts[d],y:t.segpts[d+1]},f=t.roundCorners[d/2],g=[p.x-f.cx,p.y-f.cy],m=f.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(y){return y*m}),t.midX=f.cx+g[0],t.midY=f.cy+g[1],t.midVector=g}}}},Ia.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||Ct(t.startX)&&Ct(t.startY)&&Ct(t.endX)&&Ct(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,yn("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Ia.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a={map:new Nl,get:o(function(S){var C=this.map.get(S[0]);return C!=null?C.get(S[1]):null},"get"),set:o(function(S,C){var T=this.map.get(S[0]);T==null&&(T=new Nl,this.map.set(S[0],T)),T.set(S[1],C)},"set")},s=[],l=[],u=0;u<e.length;u++){var h=e[u],d=h._private,p=h.pstyle("curve-style").value;if(!(h.removed()||!h.takesUpSpace())){if(p==="haystack"){l.push(h);continue}var f=p==="unbundled-bezier"||p.endsWith("segments")||p==="straight"||p==="straight-triangle"||p.endsWith("taxi"),g=p==="unbundled-bezier"||p==="bezier",m=d.source,y=d.target,b=m.poolIndex(),v=y.poolIndex(),x=[b,v].sort(),k=a.get(x);k==null&&(k={eles:[]},a.set(x,k),s.push(x)),k.eles.push(h),f&&(k.hasUnbundled=!0),g&&(k.hasBezier=!0)}}for(var w=o(function(S){var C=s[S],T=a.get(C),N=void 0;if(!T.hasUnbundled){var D=T.eles[0].parallelEdges().filter(function(ce){return ce.isBundledBezier()});ZT(T.eles),D.forEach(function(ce){return T.eles.push(ce)}),T.eles.sort(function(ce,ve){return ce.poolIndex()-ve.poolIndex()})}var M=T.eles[0],L=M.source(),B=M.target();if(L.poolIndex()>B.poolIndex()){var E=L;L=B,B=E}var R=T.srcPos=L.position(),O=T.tgtPos=B.position(),P=T.srcW=L.outerWidth(),A=T.srcH=L.outerHeight(),$=T.tgtW=B.outerWidth(),F=T.tgtH=B.outerHeight(),G=T.srcShape=r.nodeShapes[t.getNodeShape(L)],q=T.tgtShape=r.nodeShapes[t.getNodeShape(B)],W=T.srcCornerRadius=L.pstyle("corner-radius").value==="auto"?"auto":L.pstyle("corner-radius").pfValue,re=T.tgtCornerRadius=B.pstyle("corner-radius").value==="auto"?"auto":B.pstyle("corner-radius").pfValue,oe=T.tgtRs=B._private.rscratch,te=T.srcRs=L._private.rscratch;T.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var se=0;se<T.eles.length;se++){var Y=T.eles[se],V=Y[0]._private.rscratch,U=Y.pstyle("curve-style").value,ne=U==="unbundled-bezier"||U.endsWith("segments")||U.endsWith("taxi"),K=!L.same(Y.source());if(!T.calculatedIntersection&&L!==B&&(T.hasBezier||T.hasUnbundled)){T.calculatedIntersection=!0;var fe=G.intersectLine(R.x,R.y,P,A,O.x,O.y,0,W,te),Q=T.srcIntn=fe,Te=q.intersectLine(O.x,O.y,$,F,R.x,R.y,0,re,oe),ie=T.tgtIntn=Te,Me=T.intersectionPts={x1:fe[0],x2:Te[0],y1:fe[1],y2:Te[1]},Le=T.posPts={x1:R.x,x2:O.x,y1:R.y,y2:O.y},Ie=Te[1]-fe[1],He=Te[0]-fe[0],We=Math.sqrt(He*He+Ie*Ie),et=T.vector={x:He,y:Ie},Ze=T.vectorNorm={x:et.x/We,y:et.y/We},H={x:-Ze.y,y:Ze.x};T.nodesOverlap=!Ct(We)||q.checkPoint(fe[0],fe[1],0,$,F,O.x,O.y,re,oe)||G.checkPoint(Te[0],Te[1],0,P,A,R.x,R.y,W,te),T.vectorNormInverse=H,N={nodesOverlap:T.nodesOverlap,dirCounts:T.dirCounts,calculatedIntersection:!0,hasBezier:T.hasBezier,hasUnbundled:T.hasUnbundled,eles:T.eles,srcPos:O,tgtPos:R,srcW:$,srcH:F,tgtW:P,tgtH:A,srcIntn:ie,tgtIntn:Q,srcShape:q,tgtShape:G,posPts:{x1:Le.x2,y1:Le.y2,x2:Le.x1,y2:Le.y1},intersectionPts:{x1:Me.x2,y1:Me.y2,x2:Me.x1,y2:Me.y1},vector:{x:-et.x,y:-et.y},vectorNorm:{x:-Ze.x,y:-Ze.y},vectorNormInverse:{x:-H.x,y:-H.y}}}var ge=K?N:T;V.nodesOverlap=ge.nodesOverlap,V.srcIntn=ge.srcIntn,V.tgtIntn=ge.tgtIntn,V.isRound=U.startsWith("round"),i&&(L.isParent()||L.isChild()||B.isParent()||B.isChild())&&(L.parents().anySame(B)||B.parents().anySame(L)||L.same(B)&&L.isParent())?t.findCompoundLoopPoints(Y,ge,se,ne):L===B?t.findLoopPoints(Y,ge,se,ne):U.endsWith("segments")?t.findSegmentsPoints(Y,ge):U.endsWith("taxi")?t.findTaxiPoints(Y,ge):U==="straight"||!ne&&T.eles.length%2===1&&se===Math.floor(T.eles.length/2)?t.findStraightEdgePoints(Y):t.findBezierPoints(Y,ge,se,ne,K),t.findEndpoints(Y),t.tryToCorrectInvalidPoints(Y,ge),t.checkForInvalidEdgeWarning(Y),t.storeAllpts(Y),t.storeEdgeProjections(Y),t.calculateArrowAngles(Y),t.recalculateEdgeLabelProjections(Y),t.calculateLabelAngles(Y)}},"_loop"),_=0;_<s.length;_++)w(_);this.findHaystackPoints(l)}},o(xz,"getPts"),Ia.getSegmentPoints=function(e){var t=e[0]._private.rscratch,r=t.edgeType;if(r==="segments")return this.recalculateRenderedStyle(e),xz(t.segpts)},Ia.getControlPoints=function(e){var t=e[0]._private.rscratch,r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(e),xz(t.ctrlpts)},Ia.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}},$f={},$f.manualEndptToPx=function(e,t){var r=this,n=e.position(),i=e.outerWidth(),a=e.outerHeight(),s=e._private.rscratch;if(t.value.length===2){var l=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(l[0]=l[0]*i),t.units[1]==="%"&&(l[1]=l[1]*a),l[0]+=n.x,l[1]+=n.y,l}else{var u=t.pfValue[0];u=-Math.PI/2+u;var h=2*Math.max(i,a),d=[n.x+Math.cos(u)*h,n.y+Math.sin(u)*h];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,i,a,d[0],d[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,s)}},$f.findEndpoints=function(e){var t=this,r,n=e.source()[0],i=e.target()[0],a=n.position(),s=i.position(),l=e.pstyle("target-arrow-shape").value,u=e.pstyle("source-arrow-shape").value,h=e.pstyle("target-distance-from-node").pfValue,d=e.pstyle("source-distance-from-node").pfValue,p=n._private.rscratch,f=i._private.rscratch,g=e.pstyle("curve-style").value,m=e._private.rscratch,y=m.edgeType,b=g==="taxi",v=y==="self"||y==="compound",x=y==="bezier"||y==="multibezier"||v,k=y!=="bezier",w=y==="straight"||y==="segments",_=y==="segments",S=x||k||w,C=v||b,T=e.pstyle("source-endpoint"),N=C?"outside-to-node":T.value,D=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,M=e.pstyle("target-endpoint"),L=C?"outside-to-node":M.value,B=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;m.srcManEndpt=T,m.tgtManEndpt=M;var E,R,O,P;if(x){var A=[m.ctrlpts[0],m.ctrlpts[1]],$=k?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:A;E=$,R=A}else if(w){var F=_?m.segpts.slice(0,2):[s.x,s.y],G=_?m.segpts.slice(m.segpts.length-2):[a.x,a.y];E=G,R=F}if(L==="inside-to-node")r=[s.x,s.y];else if(M.units)r=this.manualEndptToPx(i,M);else if(L==="outside-to-line")r=m.tgtIntn;else if(L==="outside-to-node"||L==="outside-to-node-or-label"?O=E:(L==="outside-to-line"||L==="outside-to-line-or-label")&&(O=[a.x,a.y]),r=t.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),O[0],O[1],0,B,f),L==="outside-to-node-or-label"||L==="outside-to-line-or-label"){var q=i._private.rscratch,W=q.labelWidth,re=q.labelHeight,oe=q.labelX,te=q.labelY,se=W/2,Y=re/2,V=i.pstyle("text-valign").value;V==="top"?te-=Y:V==="bottom"&&(te+=Y);var U=i.pstyle("text-halign").value;U==="left"?oe-=se:U==="right"&&(oe+=se);var ne=Sf(O[0],O[1],[oe-se,te-Y,oe+se,te-Y,oe+se,te+Y,oe-se,te+Y],s.x,s.y);if(ne.length>0){var K=a,fe=vd(K,hp(r)),Q=vd(K,hp(ne)),Te=fe;if(Q<fe&&(r=ne,Te=Q),ne.length>2){var ie=vd(K,{x:ne[2],y:ne[3]});ie<Te&&(r=[ne[2],ne[3]])}}}var Me=Yb(r,E,t.arrowShapes[l].spacing(e)+h),Le=Yb(r,E,t.arrowShapes[l].gap(e)+h);if(m.endX=Le[0],m.endY=Le[1],m.arrowEndX=Me[0],m.arrowEndY=Me[1],N==="inside-to-node")r=[a.x,a.y];else if(T.units)r=this.manualEndptToPx(n,T);else if(N==="outside-to-line")r=m.srcIntn;else if(N==="outside-to-node"||N==="outside-to-node-or-label"?P=R:(N==="outside-to-line"||N==="outside-to-line-or-label")&&(P=[s.x,s.y]),r=t.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),P[0],P[1],0,D,p),N==="outside-to-node-or-label"||N==="outside-to-line-or-label"){var Ie=n._private.rscratch,He=Ie.labelWidth,We=Ie.labelHeight,et=Ie.labelX,Ze=Ie.labelY,H=He/2,ge=We/2,ce=n.pstyle("text-valign").value;ce==="top"?Ze-=ge:ce==="bottom"&&(Ze+=ge);var ve=n.pstyle("text-halign").value;ve==="left"?et-=H:ve==="right"&&(et+=H);var J=Sf(P[0],P[1],[et-H,Ze-ge,et+H,Ze-ge,et+H,Ze+ge,et-H,Ze+ge],a.x,a.y);if(J.length>0){var Pe=s,Z=vd(Pe,hp(r)),Fe=vd(Pe,hp(J)),ae=Z;if(Fe<Z&&(r=[J[0],J[1]],ae=Fe),J.length>2){var pe=vd(Pe,{x:J[2],y:J[3]});pe<ae&&(r=[J[2],J[3]])}}}var _e=Yb(r,R,t.arrowShapes[u].spacing(e)+d),Se=Yb(r,R,t.arrowShapes[u].gap(e)+d);m.startX=Se[0],m.startY=Se[1],m.arrowStartX=_e[0],m.arrowStartY=_e[1],S&&(!Ct(m.startX)||!Ct(m.startY)||!Ct(m.endX)||!Ct(m.endY)?m.badLine=!0:m.badLine=!1)},$f.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},$f.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}},TE={},o(sNe,"pushBezierPts"),TE.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)sNe(this,e,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=t.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},TE.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},Rl={},Rl.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!Ru(t)){var r,n,i=e._private,a=e.width(),s=e.height(),l=e.padding(),u=e.position(),h=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,p=i.rscratch,f=i.rstyle;switch(h){case"left":r=u.x-a/2-l;break;case"right":r=u.x+a/2+l;break;default:r=u.x}switch(d){case"top":n=u.y-s/2-l;break;case"bottom":n=u.y+s/2+l;break;default:n=u.y}p.labelX=r,p.labelY=n,f.labelX=r,f.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}},wq=o(function(e,t){var r=Math.atan(t/e);return e===0&&r<0&&(r=r*-1),r},"lineAngleFromDelta"),Tq=o(function(e,t){var r=t.x-e.x,n=t.y-e.y;return wq(r,n)},"lineAngle"),JOe=o(function(e,t,r,n){var i=_f(0,n-.001,1),a=_f(0,n+.001,1),s=dp(e,t,r,i),l=dp(e,t,r,a);return Tq(s,l)},"bezierAngle"),Rl.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:n.midX,y:n.midY};var s=o(function(d,p,f){Bu(r.rscratch,d,p,f),Bu(r.rstyle,d,p,f)},"setRs");s("labelX",null,t.x),s("labelY",null,t.y);var l=wq(n.midDispX,n.midDispY);s("labelAutoAngle",null,l);var u=o(function d(){if(d.cache)return d.cache;for(var p=[],f=0;f+5<n.allpts.length;f+=4){var g={x:n.allpts[f],y:n.allpts[f+1]},m={x:n.allpts[f+2],y:n.allpts[f+3]},y={x:n.allpts[f+4],y:n.allpts[f+5]};p.push({p0:g,p1:m,p2:y,startDist:0,length:0,segments:[]})}var b=r.rstyle.bezierPts,v=i.bezierProjPcts.length;function x(C,T,N,D,M){var L=yd(T,N),B=C.segments[C.segments.length-1],E={p0:T,p1:N,t0:D,t1:M,startDist:B?B.startDist+B.length:0,length:L};C.segments.push(E),C.length+=L}o(x,"addSegment");for(var k=0;k<p.length;k++){var w=p[k],_=p[k-1];_&&(w.startDist=_.startDist+_.length),x(w,w.p0,b[k*v],0,i.bezierProjPcts[0]);for(var S=0;S<v-1;S++)x(w,b[k*v+S],b[k*v+S+1],i.bezierProjPcts[S],i.bezierProjPcts[S+1]);x(w,b[k*v+v-1],w.p2,i.bezierProjPcts[v-1],1)}return d.cache=p},"createControlPointInfo"),h=o(function(d){var p,f=d==="source";if(a[d]){var g=e.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),y,b=0,v=0,x=0;x<m.length;x++){for(var k=m[f?x:m.length-1-x],w=0;w<k.segments.length;w++){var _=k.segments[f?w:k.segments.length-1-w],S=x===m.length-1&&w===k.segments.length-1;if(b=v,v+=_.length,v>=g||S){y={cp:k,segment:_};break}}if(y)break}var C=y.cp,T=y.segment,N=(g-b)/T.length,D=T.t1-T.t0,M=f?T.t0+D*N:T.t1-D*N;M=_f(0,M,1),t=dp(C.p0,C.p1,C.p2,M),p=JOe(C.p0,C.p1,C.p2,M);break}case"straight":case"segments":case"haystack":{for(var L=0,B,E,R,O,P=n.allpts.length,A=0;A+3<P&&(f?(R={x:n.allpts[A],y:n.allpts[A+1]},O={x:n.allpts[A+2],y:n.allpts[A+3]}):(R={x:n.allpts[P-2-A],y:n.allpts[P-1-A]},O={x:n.allpts[P-4-A],y:n.allpts[P-3-A]}),B=yd(R,O),E=L,L+=B,!(L>=g));A+=2);var $=g-E,F=$/B;F=_f(0,F,1),t=jIe(R,O,F),p=Tq(R,O);break}}s("labelX",d,t.x),s("labelY",d,t.y),s("labelAutoAngle",d,p)}},"calculateEndProjection");h("source"),h("target"),this.applyLabelDimensions(e)}},Rl.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Rl.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,n),a=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,l=zo(r.rscratch,"labelWrapCachedLines",t)||[],u=s!=="wrap"?1:Math.max(l.length,1),h=i.height/u,d=h*a,p=i.width,f=i.height+(u-1)*(a-1)*h;Bu(r.rstyle,"labelWidth",t,p),Bu(r.rscratch,"labelWidth",t,p),Bu(r.rstyle,"labelHeight",t,f),Bu(r.rscratch,"labelHeight",t,f),Bu(r.rscratch,"labelLineHeight",t,d)},Rl.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,s=o(function(q,W){return W?(Bu(r.rscratch,q,t,W),W):zo(r.rscratch,q,t)},"rscratch");if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var l=e.pstyle("text-wrap").value;if(l==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var h="\u200B",d=i.split(`
`),p=e.pstyle("text-max-width").pfValue,f=e.pstyle("text-overflow-wrap").value,g=f==="anywhere",m=[],y=/[\s\u200b]+|$/g,b=0;b<d.length;b++){var v=d[b],x=this.calculateLabelDimensions(e,v),k=x.width;if(g){var w=v.split("").join(h);v=w}if(k>p){var _=v.matchAll(y),S="",C=0,T=ez(_),N;try{for(T.s();!(N=T.n()).done;){var D=N.value,M=D[0],L=v.substring(C,D.index);C=D.index+M.length;var B=S.length===0?L:S+L+M,E=this.calculateLabelDimensions(e,B),R=E.width;R<=p?S+=L+M:(S&&m.push(S),S=L+M)}}catch(q){T.e(q)}finally{T.f()}S.match(/^[\s\u200b]+$/)||m.push(S)}else m.push(v)}s("labelWrapCachedLines",m),i=s("labelWrapCachedText",m.join(`
`)),s("labelWrapKey",u)}else if(l==="ellipsis"){var O=e.pstyle("text-max-width").pfValue,P="",A="\u2026",$=!1;if(this.calculateLabelDimensions(e,i).width<O)return i;for(var F=0;F<i.length;F++){var G=this.calculateLabelDimensions(e,P+i[F]+A).width;if(G>O)break;P+=i[F],F===i.length-1&&($=!0)}return $||(P+=A),P}return i},Rl.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t},Rl.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),i=n.document,a=md(t,e._private.labelDimsKey),s=r.labelDimCache||(r.labelDimCache=[]),l=s[a];if(l!=null)return l;var u=0,h=e.pstyle("font-style").strValue,d=e.pstyle("font-size").pfValue,p=e.pstyle("font-family").strValue,f=e.pstyle("font-weight").strValue,g=this.labelCalcCanvas,m=this.labelCalcCanvasContext;if(!g){g=this.labelCalcCanvas=i.createElement("canvas"),m=this.labelCalcCanvasContext=g.getContext("2d");var y=g.style;y.position="absolute",y.left="-9999px",y.top="-9999px",y.zIndex="-1",y.visibility="hidden",y.pointerEvents="none"}m.font="".concat(h," ").concat(f," ").concat(d,"px ").concat(p);for(var b=0,v=0,x=t.split(`
`),k=0;k<x.length;k++){var w=x[k],_=m.measureText(w),S=Math.ceil(_.width),C=d;b=Math.max(S,b),v+=C}return b+=u,v+=u,s[a]={width:b,height:v}},Rl.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,i=e.isEdge(),a=t?t+"-":"",s=e.pstyle(a+"text-rotation"),l=s.strValue;return l==="none"?0:i&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:s.pfValue},Rl.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,i=n.rscratch;i.labelAngle=t.calculateLabelAngle(e),r&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))},Eq={},_q=28,Cq=!1,Eq.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<_q||e.height()<_q))return Cq||(yn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Cq=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r},mx={},mx.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=o(function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(a),s)for(var l=0;l<a.length;l++){var u=a[l],h=u._private,d=h.rstyle;d.clean=!1,d.cleanConnected=!1}},"enqueue");r.binder(e).on("bounds.* dirty.*",o(function(a){var s=a.target;n(s)},"onDirtyBounds")).on("style.* background.*",o(function(a){var s=a.target;n(s,!1)},"onDirtyStyle"));var i=o(function(a){if(a){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var l=0;l<t.length;l++){var u=t[l],h=u._private.rstyle;u.isNode()&&!h.cleanConnected&&(n(u.connectedEdges()),h.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++){var p=s[d];p(a,t)}r.recalculateRenderedStyle(t),t=e.collection()}},"updateEleCalcs");r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)},mx.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)},mx.recalculateRenderedStyle=function(e,t){var r=o(function(k){return k._private.rstyle.cleanConnected},"isCleanConnected"),n=[],i=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var s=e[a],l=s._private,u=l.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(u.clean=!1),!(t&&u.clean||s.removed())&&s.pstyle("display").value!=="none"&&(l.group==="nodes"?i.push(s):n.push(s),u.clean=!0)}for(var h=0;h<i.length;h++){var d=i[h],p=d._private,f=p.rstyle,g=d.position();this.recalculateNodeLabelProjection(d),f.nodeX=g.x,f.nodeY=g.y,f.nodeW=d.pstyle("width").pfValue,f.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var y=n[m],b=y._private,v=b.rstyle,x=b.rscratch;v.srcX=x.arrowStartX,v.srcY=x.arrowStartY,v.tgtX=x.arrowEndX,v.tgtY=x.arrowEndY,v.midX=x.midX,v.midY=x.midY,v.labelAngle=x.labelAngle,v.sourceLabelAngle=x.sourceLabelAngle,v.targetLabelAngle=x.targetLabelAngle}}},yx={},yx.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):i.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}},yx.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},yx.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(aq),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t},Sq={},[_d,fx,Ia,$f,TE,Rl,Eq,mx,yx].forEach(function(e){br(Sq,e)}),Aq={},Aq.getCachedImage=function(e,t,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[e];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[e]=i[e]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var l="data:",u=e.substring(0,l.length).toLowerCase()===l;return u||(t=t==="null"?null:t,s.crossOrigin=t),s.src=e,s},_p={},_p.registerBinding=function(e,t,r,n){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)},_p.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||xNe(e);if(t.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:o(function(){return i=!0,!0},"get")});r.addEventListener("test",null,a)}catch{}t.supportsPassiveEvents=i}var s=o(function(l,u,h){var d=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(d[2]={capture:h??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:d}),(e.addEventListener||e.on).apply(e,d),this},"on");return{on:s,addEventListener:s,addListener:s,bind:s}},_p.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},_p.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},_p.load=function(){var e=this,t=e.cy.window(),r=o(function(H){return H.selected()},"isSelected"),n=o(function(H,ge,ce,ve){H==null&&(H=e.cy);for(var J=0;J<ge.length;J++){var Pe=ge[J];H.emit({originalEvent:ce,type:Pe,position:ve})}},"triggerEvents"),i=o(function(H){return H.shiftKey||H.metaKey||H.ctrlKey},"isMultSelKeyDown"),a=o(function(H,ge){var ce=!0;if(e.cy.hasCompoundNodes()&&H&&H.pannable())for(var ve=0;ge&&ve<ge.length;ve++){var H=ge[ve];if(H.isNode()&&H.isParent()&&!H.pannable()){ce=!1;break}}else ce=!0;return ce},"allowPanningPassthrough"),s=o(function(H){H[0]._private.grabbed=!0},"setGrabbed"),l=o(function(H){H[0]._private.grabbed=!1},"setFreed"),u=o(function(H){H[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),h=o(function(H){H[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),d=o(function(H){H[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),p=o(function(H){H[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),f=o(function(H,ge){var ce=ge.addToList,ve=ce.has(H);!ve&&H.grabbable()&&!H.locked()&&(ce.merge(H),s(H))},"addToDragList"),g=o(function(H,ge){if(H.cy().hasCompoundNodes()&&!(ge.inDragLayer==null&&ge.addToList==null)){var ce=H.descendants();ge.inDragLayer&&(ce.forEach(u),ce.connectedEdges().forEach(u)),ge.addToList&&f(ce,ge)}},"addDescendantsToDrag"),m=o(function(H,ge){ge=ge||{};var ce=H.cy().hasCompoundNodes();ge.inDragLayer&&(H.forEach(u),H.neighborhood().stdFilter(function(ve){return!ce||ve.isEdge()}).forEach(u)),ge.addToList&&H.forEach(function(ve){f(ve,ge)}),g(H,ge),v(H,{inDragLayer:ge.inDragLayer}),e.updateCachedGrabbedEles()},"addNodesToDrag"),y=m,b=o(function(H){H&&(e.getCachedZSortedEles().forEach(function(ge){l(ge),h(ge),p(ge)}),e.updateCachedGrabbedEles())},"freeDraggedElements"),v=o(function(H,ge){if(!(ge.inDragLayer==null&&ge.addToList==null)&&H.cy().hasCompoundNodes()){var ce=H.ancestors().orphans();if(!ce.same(H)){var ve=ce.descendants().spawnSelf().merge(ce).unmerge(H).unmerge(H.descendants()),J=ve.connectedEdges();ge.inDragLayer&&(J.forEach(u),ve.forEach(u)),ge.addToList&&ve.forEach(function(Pe){f(Pe,ge)})}}},"updateAncestorsInDragLayer"),x=o(function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},"blurActiveDomElement"),k=typeof MutationObserver<"u",w=typeof ResizeObserver<"u";k?(e.removeObserver=new MutationObserver(function(H){for(var ge=0;ge<H.length;ge++){var ce=H[ge],ve=ce.removedNodes;if(ve)for(var J=0;J<ve.length;J++){var Pe=ve[J];if(Pe===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(H){e.destroy()});var _=Db(function(){e.cy.resize()},100);k&&(e.styleObserver=new MutationObserver(_),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",_),w&&(e.resizeObserver=new ResizeObserver(_),e.resizeObserver.observe(e.container));var S=o(function(H,ge){for(;H!=null;)ge(H),H=H.parentNode},"forEachUp"),C=o(function(){e.invalidateContainerClientCoordsCache()},"invalidateCoords");S(e.container,function(H){e.registerBinding(H,"transitionend",C),e.registerBinding(H,"animationend",C),e.registerBinding(H,"scroll",C)}),e.registerBinding(e.container,"contextmenu",function(H){H.preventDefault()});var T=o(function(){return e.selection[4]!==0},"inBoxSelection"),N=o(function(H){for(var ge=e.findContainerClientCoords(),ce=ge[0],ve=ge[1],J=ge[2],Pe=ge[3],Z=H.touches?H.touches:[H],Fe=!1,ae=0;ae<Z.length;ae++){var pe=Z[ae];if(ce<=pe.clientX&&pe.clientX<=ce+J&&ve<=pe.clientY&&pe.clientY<=ve+Pe){Fe=!0;break}}if(!Fe)return!1;for(var _e=e.container,Se=H.target,Re=Se.parentNode,ke=!1;Re;){if(Re===_e){ke=!0;break}Re=Re.parentNode}return!!ke},"eventInContainer");e.registerBinding(e.container,"mousedown",o(function(H){if(N(H)&&!(e.hoverData.which===1&&H.which!==1)){H.preventDefault(),x(),e.hoverData.capture=!0,e.hoverData.which=H.which;var ge=e.cy,ce=[H.clientX,H.clientY],ve=e.projectIntoViewport(ce[0],ce[1]),J=e.selection,Pe=e.findNearestElements(ve[0],ve[1],!0,!1),Z=Pe[0],Fe=e.dragData.possibleDragElements;e.hoverData.mdownPos=ve,e.hoverData.mdownGPos=ce;var ae=o(function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var ke=e.hoverData.down;ke?ke.emit({originalEvent:H,type:"taphold",position:{x:ve[0],y:ve[1]}}):ge.emit({originalEvent:H,type:"taphold",position:{x:ve[0],y:ve[1]}})}},e.tapholdDuration)},"checkForTaphold");if(H.which==3){e.hoverData.cxtStarted=!0;var pe={originalEvent:H,type:"cxttapstart",position:{x:ve[0],y:ve[1]}};Z?(Z.activate(),Z.emit(pe),e.hoverData.down=Z):ge.emit(pe),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(H.which==1){Z&&Z.activate();{if(Z!=null&&e.nodeIsGrabbable(Z)){var _e=o(function(ke){return{originalEvent:H,type:ke,position:{x:ve[0],y:ve[1]}}},"makeEvent"),Se=o(function(ke){ke.emit(_e("grab"))},"triggerGrab");if(d(Z),!Z.selected())Fe=e.dragData.possibleDragElements=ge.collection(),y(Z,{addToList:Fe}),Z.emit(_e("grabon")).emit(_e("grab"));else{Fe=e.dragData.possibleDragElements=ge.collection();var Re=ge.$(function(ke){return ke.isNode()&&ke.selected()&&e.nodeIsGrabbable(ke)});m(Re,{addToList:Fe}),Z.emit(_e("grabon")),Re.forEach(Se)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=Z,e.hoverData.downs=Pe,e.hoverData.downTime=new Date().getTime()}n(Z,["mousedown","tapstart","vmousedown"],H,{x:ve[0],y:ve[1]}),Z==null?(J[4]=1,e.data.bgActivePosistion={x:ve[0],y:ve[1]},e.redrawHint("select",!0),e.redraw()):Z.pannable()&&(J[4]=1),ae()}J[0]=J[2]=ve[0],J[1]=J[3]=ve[1]}},"mousedownHandler"),!1),e.registerBinding(t,"mousemove",o(function(H){var ge=e.hoverData.capture;if(!(!ge&&!N(H))){var ce=!1,ve=e.cy,J=ve.zoom(),Pe=[H.clientX,H.clientY],Z=e.projectIntoViewport(Pe[0],Pe[1]),Fe=e.hoverData.mdownPos,ae=e.hoverData.mdownGPos,pe=e.selection,_e=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(_e=e.findNearestElement(Z[0],Z[1],!0,!1));var Se=e.hoverData.last,Re=e.hoverData.down,ke=[Z[0]-pe[2],Z[1]-pe[3]],Xe=e.dragData.possibleDragElements,Oe;if(ae){var lt=Pe[0]-ae[0],Dt=lt*lt,_t=Pe[1]-ae[1],gt=_t*_t,Pt=Dt+gt;e.hoverData.isOverThresholdDrag=Oe=Pt>=e.desktopTapThreshold2}var st=i(H);Oe&&(e.hoverData.tapholdCancelled=!0);var Qe=o(function(){var Gt=e.hoverData.dragDelta=e.hoverData.dragDelta||[];Gt.length===0?(Gt.push(ke[0]),Gt.push(ke[1])):(Gt[0]+=ke[0],Gt[1]+=ke[1])},"updateDragDelta");ce=!0,n(_e,["mousemove","vmousemove","tapdrag"],H,{x:Z[0],y:Z[1]});var Ke=o(function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||ve.emit({originalEvent:H,type:"boxstart",position:{x:Z[0],y:Z[1]}}),pe[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()},"goIntoBoxMode");if(e.hoverData.which===3){if(Oe){var It={originalEvent:H,type:"cxtdrag",position:{x:Z[0],y:Z[1]}};Re?Re.emit(It):ve.emit(It),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||_e!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:H,type:"cxtdragout",position:{x:Z[0],y:Z[1]}}),e.hoverData.cxtOver=_e,_e&&_e.emit({originalEvent:H,type:"cxtdragover",position:{x:Z[0],y:Z[1]}}))}}else if(e.hoverData.dragging){if(ce=!0,ve.panningEnabled()&&ve.userPanningEnabled()){var tt;if(e.hoverData.justStartedPan){var Zt=e.hoverData.mdownPos;tt={x:(Z[0]-Zt[0])*J,y:(Z[1]-Zt[1])*J},e.hoverData.justStartedPan=!1}else tt={x:ke[0]*J,y:ke[1]*J};ve.panBy(tt),ve.emit("dragpan"),e.hoverData.dragged=!0}Z=e.projectIntoViewport(H.clientX,H.clientY)}else if(pe[4]==1&&(Re==null||Re.pannable())){if(Oe){if(!e.hoverData.dragging&&ve.boxSelectionEnabled()&&(st||!ve.panningEnabled()||!ve.userPanningEnabled()))Ke();else if(!e.hoverData.selecting&&ve.panningEnabled()&&ve.userPanningEnabled()){var jt=a(Re,e.hoverData.downs);jt&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,pe[4]=0,e.data.bgActivePosistion=hp(Fe),e.redrawHint("select",!0),e.redraw())}Re&&Re.pannable()&&Re.active()&&Re.unactivate()}}else{if(Re&&Re.pannable()&&Re.active()&&Re.unactivate(),(!Re||!Re.grabbed())&&_e!=Se&&(Se&&n(Se,["mouseout","tapdragout"],H,{x:Z[0],y:Z[1]}),_e&&n(_e,["mouseover","tapdragover"],H,{x:Z[0],y:Z[1]}),e.hoverData.last=_e),Re)if(Oe){if(ve.boxSelectionEnabled()&&st)Re&&Re.grabbed()&&(b(Xe),Re.emit("freeon"),Xe.emit("free"),e.dragData.didDrag&&(Re.emit("dragfreeon"),Xe.emit("dragfree"))),Ke();else if(Re&&Re.grabbed()&&e.nodeIsDraggable(Re)){var pt=!e.dragData.didDrag;pt&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||m(Xe,{inDragLayer:!0});var dt={x:0,y:0};if(Ct(ke[0])&&Ct(ke[1])&&(dt.x+=ke[0],dt.y+=ke[1],pt)){var it=e.hoverData.dragDelta;it&&Ct(it[0])&&Ct(it[1])&&(dt.x+=it[0],dt.y+=it[1])}e.hoverData.draggingEles=!0,Xe.silentShift(dt).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else Qe();ce=!0}if(pe[2]=Z[0],pe[3]=Z[1],ce)return H.stopPropagation&&H.stopPropagation(),H.preventDefault&&H.preventDefault(),!1}},"mousemoveHandler"),!1);var D,M,L;e.registerBinding(t,"mouseup",o(function(H){if(!(e.hoverData.which===1&&H.which!==1&&e.hoverData.capture)){var ge=e.hoverData.capture;if(ge){e.hoverData.capture=!1;var ce=e.cy,ve=e.projectIntoViewport(H.clientX,H.clientY),J=e.selection,Pe=e.findNearestElement(ve[0],ve[1],!0,!1),Z=e.dragData.possibleDragElements,Fe=e.hoverData.down,ae=i(H);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Fe&&Fe.unactivate(),e.hoverData.which===3){var pe={originalEvent:H,type:"cxttapend",position:{x:ve[0],y:ve[1]}};if(Fe?Fe.emit(pe):ce.emit(pe),!e.hoverData.cxtDragged){var _e={originalEvent:H,type:"cxttap",position:{x:ve[0],y:ve[1]}};Fe?Fe.emit(_e):ce.emit(_e)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(n(Pe,["mouseup","tapend","vmouseup"],H,{x:ve[0],y:ve[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(n(Fe,["click","tap","vclick"],H,{x:ve[0],y:ve[1]}),M=!1,H.timeStamp-L<=ce.multiClickDebounceTime()?(D&&clearTimeout(D),M=!0,L=null,n(Fe,["dblclick","dbltap","vdblclick"],H,{x:ve[0],y:ve[1]})):(D=setTimeout(function(){M||n(Fe,["oneclick","onetap","voneclick"],H,{x:ve[0],y:ve[1]})},ce.multiClickDebounceTime()),L=H.timeStamp)),Fe==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!i(H)&&(ce.$(r).unselect(["tapunselect"]),Z.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=Z=ce.collection()),Pe==Fe&&!e.dragData.didDrag&&!e.hoverData.selecting&&Pe!=null&&Pe._private.selectable&&(e.hoverData.dragging||(ce.selectionType()==="additive"||ae?Pe.selected()?Pe.unselect(["tapunselect"]):Pe.select(["tapselect"]):ae||(ce.$(r).unmerge(Pe).unselect(["tapunselect"]),Pe.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Se=ce.collection(e.getAllInBox(J[0],J[1],J[2],J[3]));e.redrawHint("select",!0),Se.length>0&&e.redrawHint("eles",!0),ce.emit({type:"boxend",originalEvent:H,position:{x:ve[0],y:ve[1]}});var Re=o(function(Xe){return Xe.selectable()&&!Xe.selected()},"eleWouldBeSelected");ce.selectionType()==="additive"||ae||ce.$(r).unmerge(Se).unselect(),Se.emit("box").stdFilter(Re).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!J[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var ke=Fe&&Fe.grabbed();b(Z),ke&&(Fe.emit("freeon"),Z.emit("free"),e.dragData.didDrag&&(Fe.emit("dragfreeon"),Z.emit("dragfree")))}}J[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},"mouseupHandler"),!1);var B=o(function(H){if(!e.scrollingPage){var ge=e.cy,ce=ge.zoom(),ve=ge.pan(),J=e.projectIntoViewport(H.clientX,H.clientY),Pe=[J[0]*ce+ve.x,J[1]*ce+ve.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||T()){H.preventDefault();return}if(ge.panningEnabled()&&ge.userPanningEnabled()&&ge.zoomingEnabled()&&ge.userZoomingEnabled()){H.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var Z;H.deltaY!=null?Z=H.deltaY/-250:H.wheelDeltaY!=null?Z=H.wheelDeltaY/1e3:Z=H.wheelDelta/1e3,Z=Z*e.wheelSensitivity;var Fe=H.deltaMode===1;Fe&&(Z*=33);var ae=ge.zoom()*Math.pow(10,Z);H.type==="gesturechange"&&(ae=e.gestureStartZoom*H.scale),ge.zoom({level:ae,renderedPosition:{x:Pe[0],y:Pe[1]}}),ge.emit(H.type==="gesturechange"?"pinchzoom":"scrollzoom")}}},"wheelHandler");e.registerBinding(e.container,"wheel",B,!0),e.registerBinding(t,"scroll",o(function(H){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},"scrollHandler"),!0),e.registerBinding(e.container,"gesturestart",o(function(H){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||H.preventDefault()},"gestureStartHandler"),!0),e.registerBinding(e.container,"gesturechange",function(H){e.hasTouchStarted||B(H)},!0),e.registerBinding(e.container,"mouseout",o(function(H){var ge=e.projectIntoViewport(H.clientX,H.clientY);e.cy.emit({originalEvent:H,type:"mouseout",position:{x:ge[0],y:ge[1]}})},"mouseOutHandler"),!1),e.registerBinding(e.container,"mouseover",o(function(H){var ge=e.projectIntoViewport(H.clientX,H.clientY);e.cy.emit({originalEvent:H,type:"mouseover",position:{x:ge[0],y:ge[1]}})},"mouseOverHandler"),!1);var E,R,O,P,A,$,F,G,q,W,re,oe,te,se=o(function(H,ge,ce,ve){return Math.sqrt((ce-H)*(ce-H)+(ve-ge)*(ve-ge))},"distance"),Y=o(function(H,ge,ce,ve){return(ce-H)*(ce-H)+(ve-ge)*(ve-ge)},"distanceSq"),V;e.registerBinding(e.container,"touchstart",V=o(function(H){if(e.hasTouchStarted=!0,!!N(H)){x(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var ge=e.cy,ce=e.touchData.now,ve=e.touchData.earlier;if(H.touches[0]){var J=e.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);ce[0]=J[0],ce[1]=J[1]}if(H.touches[1]){var J=e.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);ce[2]=J[0],ce[3]=J[1]}if(H.touches[2]){var J=e.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);ce[4]=J[0],ce[5]=J[1]}if(H.touches[1]){e.touchData.singleTouchMoved=!0,b(e.dragData.touchDragEles);var Pe=e.findContainerClientCoords();q=Pe[0],W=Pe[1],re=Pe[2],oe=Pe[3],E=H.touches[0].clientX-q,R=H.touches[0].clientY-W,O=H.touches[1].clientX-q,P=H.touches[1].clientY-W,te=0<=E&&E<=re&&0<=O&&O<=re&&0<=R&&R<=oe&&0<=P&&P<=oe;var Z=ge.pan(),Fe=ge.zoom();A=se(E,R,O,P),$=Y(E,R,O,P),F=[(E+O)/2,(R+P)/2],G=[(F[0]-Z.x)/Fe,(F[1]-Z.y)/Fe];var ae=200,pe=ae*ae;if($<pe&&!H.touches[2]){var _e=e.findNearestElement(ce[0],ce[1],!0,!0),Se=e.findNearestElement(ce[2],ce[3],!0,!0);_e&&_e.isNode()?(_e.activate().emit({originalEvent:H,type:"cxttapstart",position:{x:ce[0],y:ce[1]}}),e.touchData.start=_e):Se&&Se.isNode()?(Se.activate().emit({originalEvent:H,type:"cxttapstart",position:{x:ce[0],y:ce[1]}}),e.touchData.start=Se):ge.emit({originalEvent:H,type:"cxttapstart",position:{x:ce[0],y:ce[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(H.touches[2])ge.boxSelectionEnabled()&&H.preventDefault();else if(!H.touches[1]&&H.touches[0]){var Re=e.findNearestElements(ce[0],ce[1],!0,!0),ke=Re[0];if(ke!=null&&(ke.activate(),e.touchData.start=ke,e.touchData.starts=Re,e.nodeIsGrabbable(ke))){var Xe=e.dragData.touchDragEles=ge.collection(),Oe=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),ke.selected()?(Oe=ge.$(function(Pt){return Pt.selected()&&e.nodeIsGrabbable(Pt)}),m(Oe,{addToList:Xe})):y(ke,{addToList:Xe}),d(ke);var lt=o(function(Pt){return{originalEvent:H,type:Pt,position:{x:ce[0],y:ce[1]}}},"makeEvent");ke.emit(lt("grabon")),Oe?Oe.forEach(function(Pt){Pt.emit(lt("grab"))}):ke.emit(lt("grab"))}n(ke,["touchstart","tapstart","vmousedown"],H,{x:ce[0],y:ce[1]}),ke==null&&(e.data.bgActivePosistion={x:J[0],y:J[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&n(e.touchData.start,["taphold"],H,{x:ce[0],y:ce[1]})},e.tapholdDuration)}if(H.touches.length>=1){for(var Dt=e.touchData.startPosition=[null,null,null,null,null,null],_t=0;_t<ce.length;_t++)Dt[_t]=ve[_t]=ce[_t];var gt=H.touches[0];e.touchData.startGPosition=[gt.clientX,gt.clientY]}}},"touchstartHandler"),!1);var U;e.registerBinding(t,"touchmove",U=o(function(H){var ge=e.touchData.capture;if(!(!ge&&!N(H))){var ce=e.selection,ve=e.cy,J=e.touchData.now,Pe=e.touchData.earlier,Z=ve.zoom();if(H.touches[0]){var Fe=e.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);J[0]=Fe[0],J[1]=Fe[1]}if(H.touches[1]){var Fe=e.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);J[2]=Fe[0],J[3]=Fe[1]}if(H.touches[2]){var Fe=e.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);J[4]=Fe[0],J[5]=Fe[1]}var ae=e.touchData.startGPosition,pe;if(ge&&H.touches[0]&&ae){for(var _e=[],Se=0;Se<J.length;Se++)_e[Se]=J[Se]-Pe[Se];var Re=H.touches[0].clientX-ae[0],ke=Re*Re,Xe=H.touches[0].clientY-ae[1],Oe=Xe*Xe,lt=ke+Oe;pe=lt>=e.touchTapThreshold2}if(ge&&e.touchData.cxt){H.preventDefault();var Dt=H.touches[0].clientX-q,_t=H.touches[0].clientY-W,gt=H.touches[1].clientX-q,Pt=H.touches[1].clientY-W,st=Y(Dt,_t,gt,Pt),Qe=st/$,Ke=150,It=Ke*Ke,tt=1.5,Zt=tt*tt;if(Qe>=Zt||st>=It){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var jt={originalEvent:H,type:"cxttapend",position:{x:J[0],y:J[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(jt),e.touchData.start=null):ve.emit(jt)}}if(ge&&e.touchData.cxt){var jt={originalEvent:H,type:"cxtdrag",position:{x:J[0],y:J[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(jt):ve.emit(jt),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var pt=e.findNearestElement(J[0],J[1],!0,!0);(!e.touchData.cxtOver||pt!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:H,type:"cxtdragout",position:{x:J[0],y:J[1]}}),e.touchData.cxtOver=pt,pt&&pt.emit({originalEvent:H,type:"cxtdragover",position:{x:J[0],y:J[1]}}))}else if(ge&&H.touches[2]&&ve.boxSelectionEnabled())H.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||ve.emit({originalEvent:H,type:"boxstart",position:{x:J[0],y:J[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,ce[4]=1,!ce||ce.length===0||ce[0]===void 0?(ce[0]=(J[0]+J[2]+J[4])/3,ce[1]=(J[1]+J[3]+J[5])/3,ce[2]=(J[0]+J[2]+J[4])/3+1,ce[3]=(J[1]+J[3]+J[5])/3+1):(ce[2]=(J[0]+J[2]+J[4])/3,ce[3]=(J[1]+J[3]+J[5])/3),e.redrawHint("select",!0),e.redraw();else if(ge&&H.touches[1]&&!e.touchData.didSelect&&ve.zoomingEnabled()&&ve.panningEnabled()&&ve.userZoomingEnabled()&&ve.userPanningEnabled()){H.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var dt=e.dragData.touchDragEles;if(dt){e.redrawHint("drag",!0);for(var it=0;it<dt.length;it++){var Gt=dt[it]._private;Gt.grabbed=!1,Gt.rscratch.inDragLayer=!1}}var Tt=e.touchData.start,Dt=H.touches[0].clientX-q,_t=H.touches[0].clientY-W,gt=H.touches[1].clientX-q,Pt=H.touches[1].clientY-W,hn=se(Dt,_t,gt,Pt),Ir=hn/A;if(te){var Gr=Dt-E,Xn=_t-R,bn=gt-O,ei=Pt-P,$n=(Gr+bn)/2,ti=(Xn+ei)/2,ye=ve.zoom(),xt=ye*Ir,bt=ve.pan(),Yr=G[0]*ye+bt.x,Vr=G[1]*ye+bt.y,An={x:-xt/ye*(Yr-bt.x-$n)+Yr,y:-xt/ye*(Vr-bt.y-ti)+Vr};if(Tt&&Tt.active()){var dt=e.dragData.touchDragEles;b(dt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Tt.unactivate().emit("freeon"),dt.emit("free"),e.dragData.didDrag&&(Tt.emit("dragfreeon"),dt.emit("dragfree"))}ve.viewport({zoom:xt,pan:An,cancelOnFailedZoom:!0}),ve.emit("pinchzoom"),A=hn,E=Dt,R=_t,O=gt,P=Pt,e.pinching=!0}if(H.touches[0]){var Fe=e.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);J[0]=Fe[0],J[1]=Fe[1]}if(H.touches[1]){var Fe=e.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);J[2]=Fe[0],J[3]=Fe[1]}if(H.touches[2]){var Fe=e.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);J[4]=Fe[0],J[5]=Fe[1]}}else if(H.touches[0]&&!e.touchData.didSelect){var Fn=e.touchData.start,di=e.touchData.last,pt;if(!e.hoverData.draggingEles&&!e.swipePanning&&(pt=e.findNearestElement(J[0],J[1],!0,!0)),ge&&Fn!=null&&H.preventDefault(),ge&&Fn!=null&&e.nodeIsDraggable(Fn))if(pe){var dt=e.dragData.touchDragEles,Mn=!e.dragData.didDrag;Mn&&m(dt,{inDragLayer:!0}),e.dragData.didDrag=!0;var ft={x:0,y:0};if(Ct(_e[0])&&Ct(_e[1])&&(ft.x+=_e[0],ft.y+=_e[1],Mn)){e.redrawHint("eles",!0);var zt=e.touchData.dragDelta;zt&&Ct(zt[0])&&Ct(zt[1])&&(ft.x+=zt[0],ft.y+=zt[1])}e.hoverData.draggingEles=!0,dt.silentShift(ft).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==Pe[0]&&e.touchData.startPosition[1]==Pe[1]&&e.redrawHint("eles",!0),e.redraw()}else{var zt=e.touchData.dragDelta=e.touchData.dragDelta||[];zt.length===0?(zt.push(_e[0]),zt.push(_e[1])):(zt[0]+=_e[0],zt[1]+=_e[1])}if(n(Fn||pt,["touchmove","tapdrag","vmousemove"],H,{x:J[0],y:J[1]}),(!Fn||!Fn.grabbed())&&pt!=di&&(di&&di.emit({originalEvent:H,type:"tapdragout",position:{x:J[0],y:J[1]}}),pt&&pt.emit({originalEvent:H,type:"tapdragover",position:{x:J[0],y:J[1]}})),e.touchData.last=pt,ge)for(var it=0;it<J.length;it++)J[it]&&e.touchData.startPosition[it]&&pe&&(e.touchData.singleTouchMoved=!0);if(ge&&(Fn==null||Fn.pannable())&&ve.panningEnabled()&&ve.userPanningEnabled()){var ut=a(Fn,e.touchData.starts);ut&&(H.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=hp(e.touchData.startPosition)),e.swipePanning?(ve.panBy({x:_e[0]*Z,y:_e[1]*Z}),ve.emit("dragpan")):pe&&(e.swipePanning=!0,ve.panBy({x:Re*Z,y:Xe*Z}),ve.emit("dragpan"),Fn&&(Fn.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var Fe=e.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);J[0]=Fe[0],J[1]=Fe[1]}}for(var Se=0;Se<J.length;Se++)Pe[Se]=J[Se];ge&&H.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},"touchmoveHandler"),!1);var ne;e.registerBinding(t,"touchcancel",ne=o(function(H){var ge=e.touchData.start;e.touchData.capture=!1,ge&&ge.unactivate()},"touchcancelHandler"));var K,fe,Q,Te;if(e.registerBinding(t,"touchend",K=o(function(H){var ge=e.touchData.start,ce=e.touchData.capture;if(ce)H.touches.length===0&&(e.touchData.capture=!1),H.preventDefault();else return;var ve=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var J=e.cy,Pe=J.zoom(),Z=e.touchData.now,Fe=e.touchData.earlier;if(H.touches[0]){var ae=e.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);Z[0]=ae[0],Z[1]=ae[1]}if(H.touches[1]){var ae=e.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);Z[2]=ae[0],Z[3]=ae[1]}if(H.touches[2]){var ae=e.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);Z[4]=ae[0],Z[5]=ae[1]}ge&&ge.unactivate();var pe;if(e.touchData.cxt){if(pe={originalEvent:H,type:"cxttapend",position:{x:Z[0],y:Z[1]}},ge?ge.emit(pe):J.emit(pe),!e.touchData.cxtDragged){var _e={originalEvent:H,type:"cxttap",position:{x:Z[0],y:Z[1]}};ge?ge.emit(_e):J.emit(_e)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!H.touches[2]&&J.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Se=J.collection(e.getAllInBox(ve[0],ve[1],ve[2],ve[3]));ve[0]=void 0,ve[1]=void 0,ve[2]=void 0,ve[3]=void 0,ve[4]=0,e.redrawHint("select",!0),J.emit({type:"boxend",originalEvent:H,position:{x:Z[0],y:Z[1]}});var Re=o(function(Ke){return Ke.selectable()&&!Ke.selected()},"eleWouldBeSelected");Se.emit("box").stdFilter(Re).select().emit("boxselect"),Se.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(ge?.unactivate(),H.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!H.touches[1]&&!H.touches[0]&&!H.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var ke=e.dragData.touchDragEles;if(ge!=null){var Xe=ge._private.grabbed;b(ke),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Xe&&(ge.emit("freeon"),ke.emit("free"),e.dragData.didDrag&&(ge.emit("dragfreeon"),ke.emit("dragfree"))),n(ge,["touchend","tapend","vmouseup","tapdragout"],H,{x:Z[0],y:Z[1]}),ge.unactivate(),e.touchData.start=null}else{var Oe=e.findNearestElement(Z[0],Z[1],!0,!0);n(Oe,["touchend","tapend","vmouseup","tapdragout"],H,{x:Z[0],y:Z[1]})}var lt=e.touchData.startPosition[0]-Z[0],Dt=lt*lt,_t=e.touchData.startPosition[1]-Z[1],gt=_t*_t,Pt=Dt+gt,st=Pt*Pe*Pe;e.touchData.singleTouchMoved||(ge||J.$(":selected").unselect(["tapunselect"]),n(ge,["tap","vclick"],H,{x:Z[0],y:Z[1]}),fe=!1,H.timeStamp-Te<=J.multiClickDebounceTime()?(Q&&clearTimeout(Q),fe=!0,Te=null,n(ge,["dbltap","vdblclick"],H,{x:Z[0],y:Z[1]})):(Q=setTimeout(function(){fe||n(ge,["onetap","voneclick"],H,{x:Z[0],y:Z[1]})},J.multiClickDebounceTime()),Te=H.timeStamp)),ge!=null&&!e.dragData.didDrag&&ge._private.selectable&&st<e.touchTapThreshold2&&!e.pinching&&(J.selectionType()==="single"?(J.$(r).unmerge(ge).unselect(["tapunselect"]),ge.select(["tapselect"])):ge.selected()?ge.unselect(["tapunselect"]):ge.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var Qe=0;Qe<Z.length;Qe++)Fe[Qe]=Z[Qe];e.dragData.didDrag=!1,H.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),H.touches.length<2&&(H.touches.length===1&&(e.touchData.startGPosition=[H.touches[0].clientX,H.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},"touchendHandler"),!1),typeof TouchEvent>"u"){var ie=[],Me=o(function(H){return{clientX:H.clientX,clientY:H.clientY,force:1,identifier:H.pointerId,pageX:H.pageX,pageY:H.pageY,radiusX:H.width/2,radiusY:H.height/2,screenX:H.screenX,screenY:H.screenY,target:H.target}},"makeTouch"),Le=o(function(H){return{event:H,touch:Me(H)}},"makePointer"),Ie=o(function(H){ie.push(Le(H))},"addPointer"),He=o(function(H){for(var ge=0;ge<ie.length;ge++){var ce=ie[ge];if(ce.event.pointerId===H.pointerId){ie.splice(ge,1);return}}},"removePointer"),We=o(function(H){var ge=ie.filter(function(ce){return ce.event.pointerId===H.pointerId})[0];ge.event=H,ge.touch=Me(H)},"updatePointer"),et=o(function(H){H.touches=ie.map(function(ge){return ge.touch})},"addTouchesToEvent"),Ze=o(function(H){return H.pointerType==="mouse"||H.pointerType===4},"pointerIsMouse");e.registerBinding(e.container,"pointerdown",function(H){Ze(H)||(H.preventDefault(),Ie(H),et(H),V(H))}),e.registerBinding(e.container,"pointerup",function(H){Ze(H)||(He(H),et(H),K(H))}),e.registerBinding(e.container,"pointercancel",function(H){Ze(H)||(He(H),et(H),ne(H))}),e.registerBinding(e.container,"pointermove",function(H){Ze(H)||(H.preventDefault(),We(H),et(H),U(H))})}},Ac={},Ac.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:o(function(r,n,i,a,s,l){this.renderer.nodeShapeImpl("polygon",r,n,i,a,s,this.points)},"draw"),intersectLine:o(function(r,n,i,a,s,l,u,h){return Sf(s,l,this.points,r,n,i/2,a/2,u)},"intersectLine"),checkPoint:o(function(r,n,i,a,s,l,u,h){return _c(r,n,this.points,l,u,a,s,[0,-1],i)},"checkPoint")}},Ac.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},"draw"),intersectLine:o(function(e,t,r,n,i,a,s,l){return rMe(i,a,e,t,r/2+s,n/2+s)},"intersectLine"),checkPoint:o(function(e,t,r,n,i,a,s,l){return bd(e,t,n,i,a,s,r)},"checkPoint")}},Ac.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:o(function(r,n,i,a,s,l,u){if(l[u]!==void 0&&l[u+"-cx"]===r&&l[u+"-cy"]===n)return l[u];l[u]=new Array(t.length/2),l[u+"-cx"]=r,l[u+"-cy"]=n;var h=i/2,d=a/2;s=s==="auto"?aG(i,a):s;for(var p=new Array(t.length/2),f=0;f<t.length/2;f++)p[f]={x:r+h*t[f*2],y:n+d*t[f*2+1]};var g,m,y,b,v=p.length;for(m=p[v-1],g=0;g<v;g++)y=p[g%v],b=p[(g+1)%v],l[u][g]=jT(m,y,b,s),m=y,y=b;return l[u]},"getOrCreateCorners"),draw:o(function(r,n,i,a,s,l,u){this.renderer.nodeShapeImpl("round-polygon",r,n,i,a,s,this.points,this.getOrCreateCorners(n,i,a,s,l,u,"drawCorners"))},"draw"),intersectLine:o(function(r,n,i,a,s,l,u,h,d){return nMe(s,l,this.points,r,n,i,a,u,this.getOrCreateCorners(r,n,i,a,h,d,"corners"))},"intersectLine"),checkPoint:o(function(r,n,i,a,s,l,u,h,d){return tMe(r,n,this.points,l,u,a,s,this.getOrCreateCorners(l,u,a,s,h,d,"corners"))},"checkPoint")}},Ac.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ha(4,0),draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},"draw"),intersectLine:o(function(e,t,r,n,i,a,s,l){return nG(i,a,e,t,r,n,s,l)},"intersectLine"),checkPoint:o(function(e,t,r,n,i,a,s,l){var u=n/2,h=i/2;l=l==="auto"?xd(n,i):l,l=Math.min(u,h,l);var d=l*2;return!!(_c(e,t,this.points,a,s,n,i-d,[0,-1],r)||_c(e,t,this.points,a,s,n-d,i,[0,-1],r)||bd(e,t,d,d,a-u+l,s-h+l,r)||bd(e,t,d,d,a+u-l,s-h+l,r)||bd(e,t,d,d,a+u-l,s+h-l,r)||bd(e,t,d,d,a-u+l,s+h-l,r))},"checkPoint")}},Ac.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:nE(),points:Ha(4,0),draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,null,a)},"draw"),generateCutTrianglePts:o(function(e,t,r,n,i){var a=i==="auto"?this.cornerLength:i,s=t/2,l=e/2,u=r-l,h=r+l,d=n-s,p=n+s;return{topLeft:[u,d+a,u+a,d,u+a,d+a],topRight:[h-a,d,h,d+a,h-a,d+a],bottomRight:[h,p-a,h-a,p,h-a,p-a],bottomLeft:[u+a,p,u,p-a,u+a,p-a]}},"generateCutTrianglePts"),intersectLine:o(function(e,t,r,n,i,a,s,l){var u=this.generateCutTrianglePts(r+2*s,n+2*s,e,t,l),h=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Sf(i,a,h,e,t)},"intersectLine"),checkPoint:o(function(e,t,r,n,i,a,s,l){var u=l==="auto"?this.cornerLength:l;if(_c(e,t,this.points,a,s,n,i-2*u,[0,-1],r)||_c(e,t,this.points,a,s,n-2*u,i,[0,-1],r))return!0;var h=this.generateCutTrianglePts(n,i,a,s);return fs(e,t,h.topLeft)||fs(e,t,h.topRight)||fs(e,t,h.bottomRight)||fs(e,t,h.bottomLeft)},"checkPoint")}},Ac.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ha(4,0),draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},"draw"),intersectLine:o(function(e,t,r,n,i,a,s,l){var u=.15,h=.5,d=.85,p=this.generateBarrelBezierPts(r+2*s,n+2*s,e,t),f=o(function(m){var y=dp({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},u),b=dp({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},h),v=dp({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},d);return[m[0],m[1],y.x,y.y,b.x,b.y,v.x,v.y,m[4],m[5]]},"approximateBarrelCurvePts"),g=[].concat(f(p.topLeft),f(p.topRight),f(p.bottomRight),f(p.bottomLeft));return Sf(i,a,g,e,t)},"intersectLine"),generateBarrelBezierPts:o(function(e,t,r,n){var i=t/2,a=e/2,s=r-a,l=r+a,u=n-i,h=n+i,d=iE(e,t),p=d.heightOffset,f=d.widthOffset,g=d.ctrlPtOffsetPct*e,m={topLeft:[s,u+p,s+g,u,s+f,u],topRight:[l-f,u,l-g,u,l,u+p],bottomRight:[l,h-p,l-g,h,l-f,h],bottomLeft:[s+f,h,s+g,h,s,h-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},"generateBarrelBezierPts"),checkPoint:o(function(e,t,r,n,i,a,s,l){var u=iE(n,i),h=u.heightOffset,d=u.widthOffset;if(_c(e,t,this.points,a,s,n,i-2*h,[0,-1],r)||_c(e,t,this.points,a,s,n-2*d,i,[0,-1],r))return!0;for(var p=this.generateBarrelBezierPts(n,i,a,s),f=o(function(S,C,T){var N=T[4],D=T[2],M=T[0],L=T[5],B=T[1],E=Math.min(N,M),R=Math.max(N,M),O=Math.min(L,B),P=Math.max(L,B);if(E<=S&&S<=R&&O<=C&&C<=P){var A=iMe(N,D,M),$=ZIe(A[0],A[1],A[2],S),F=$.filter(function(G){return 0<=G&&G<=1});if(F.length>0)return F[0]}return null},"getCurveT"),g=Object.keys(p),m=0;m<g.length;m++){var y=g[m],b=p[y],v=f(e,t,b);if(v!=null){var x=b[5],k=b[3],w=b[1],_=Ki(x,k,w,v);if(b.isTop&&_<=t||b.isBottom&&t<=_)return!0}}return!1},"checkPoint")}},Ac.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ha(4,0),draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},"draw"),intersectLine:o(function(e,t,r,n,i,a,s,l){var u=e-(r/2+s),h=t-(n/2+s),d=h,p=e+(r/2+s),f=$u(i,a,e,t,u,h,p,d,!1);return f.length>0?f:nG(i,a,e,t,r,n,s,l)},"intersectLine"),checkPoint:o(function(e,t,r,n,i,a,s,l){l=l==="auto"?xd(n,i):l;var u=2*l;if(_c(e,t,this.points,a,s,n,i-u,[0,-1],r)||_c(e,t,this.points,a,s,n-u,i,[0,-1],r))return!0;var h=n/2+2*r,d=i/2+2*r,p=[a-h,s-d,a-h,s,a+h,s,a+h,s-d];return!!(fs(e,t,p)||bd(e,t,u,u,a+n/2-l,s+i/2-l,r)||bd(e,t,u,u,a-n/2+l,s+i/2-l,r))},"checkPoint")}},Ac.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Ha(3,0)),this.generateRoundPolygon("round-triangle",Ha(3,0)),this.generatePolygon("rectangle",Ha(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Ha(5,0)),this.generateRoundPolygon("round-pentagon",Ha(5,0)),this.generatePolygon("hexagon",Ha(6,0)),this.generateRoundPolygon("round-hexagon",Ha(6,0)),this.generatePolygon("heptagon",Ha(7,0)),this.generateRoundPolygon("round-heptagon",Ha(7,0)),this.generatePolygon("octagon",Ha(8,0)),this.generateRoundPolygon("round-octagon",Ha(8,0));var n=new Array(20);{var i=rE(5,0),a=rE(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var l=0;l<a.length/2;l++)a[l*2]*=s,a[l*2+1]*=s;for(var l=0;l<20/4;l++)n[l*4]=i[l*2],n[l*4+1]=i[l*2+1],n[l*4+2]=a[l*2],n[l*4+3]=a[l*2+1]}n=iG(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}e.makePolygon=function(h){var d=h.join("$"),p="polygon-"+d,f;return(f=this[p])?f:t.generatePolygon(p,h)}},Ff={},Ff.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},Ff.redraw=function(e){e=e||Kz();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},Ff.beforeRender=function(e,t){if(!this.destroyed){t==null&&ci("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,i){return i.priority-n.priority})}},Lq=o(function(e,t,r){for(var n=e.beforeRenderCallbacks,i=0;i<n.length;i++)n[i].fn(t,r)},"beforeRenderCallbacks"),Ff.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=o(function n(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){Lq(e,!0,i);var a=Ec();e.render(e.renderOptions);var s=e.lastDrawTime=Ec();e.averageRedrawTime===void 0&&(e.averageRedrawTime=s-a),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var l=s-a;e.redrawTotalTime+=l,e.lastRedrawTime=l,e.averageRedrawTime=e.averageRedrawTime/2+l/2,e.requestedFrame=!1}else Lq(e,!1,i);e.skipFrame=!1,Rb(n)}},"renderFn");Rb(r)}},ePe=o(function(e){this.init(e)},"BaseRenderer"),Nq=ePe,Cp=Nq.prototype,Cp.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Cp.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var i=n.document,a=i.head,s="__________cytoscape_stylesheet",l="__________cytoscape_container",u=i.getElementById(s)!=null;if(r.className.indexOf(l)<0&&(r.className=(r.className||"")+" "+l),!u){var h=i.createElement("style");h.id=s,h.textContent="."+l+" { position: relative; }",a.insertBefore(h,a.children[0])}var d=n.getComputedStyle(r),p=d.getPropertyValue("position");p==="static"&&yn("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=Ct(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Cp.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Cp.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}},Cp.isHeadless=function(){return!1},[xE,Sq,Aq,_p,Ac,Ff].forEach(function(e){br(Cp,e)}),EE=1e3/60,Iq={setupDequeueing:o(function(e){return o(function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var n=Db(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},e.deqRedrawThreshold),i=o(function(s,l){var u=Ec(),h=r.averageRedrawTime,d=r.lastRedrawTime,p=[],f=r.cy.extent(),g=r.getPixelRatio();for(s||r.flushRenderedStyleQueue();;){var m=Ec(),y=m-u,b=m-l;if(d<EE){var v=EE-(s?h:0);if(b>=e.deqFastCost*v)break}else if(s){if(y>=e.deqCost*d||y>=e.deqAvgCost*h)break}else if(b>=e.deqNoDrawCost*EE)break;var x=e.deq(t,g,f);if(x.length>0)for(var k=0;k<x.length;k++)p.push(x[k]);else break}p.length>0&&(e.onDeqd(t,p),!s&&e.shouldRedraw(t,p,g,f)&&n())},"dequeue"),a=e.priority||KT;r.beforeRender(i,a(t))}},"setupDequeueingImpl")},"setupDequeueing")},tPe=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pb;OT(this,e),this.idsByKey=new Nl,this.keyForId=new Nl,this.cachesByLvl=new Nl,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return o(e,"ElementTextureCacheLookup"),PT(e,[{key:"getIdsFor",value:o(function(t){t==null&&ci("Can not get id list for null key");var r=this.idsByKey,n=this.idsByKey.get(t);return n||(n=new up,r.set(t,n)),n},"getIdsFor")},{key:"addIdForKey",value:o(function(t,r){t!=null&&this.getIdsFor(t).add(r)},"addIdForKey")},{key:"deleteIdForKey",value:o(function(t,r){t!=null&&this.getIdsFor(t).delete(r)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:o(function(t){return t==null?0:this.getIdsFor(t).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:o(function(t){var r=t.id(),n=this.keyForId.get(r),i=this.getKey(t);this.deleteIdForKey(n,r),this.addIdForKey(i,r),this.keyForId.set(r,i)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:o(function(t){var r=t.id(),n=this.keyForId.get(r);this.deleteIdForKey(n,r),this.keyForId.delete(r)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:o(function(t){var r=t.id(),n=this.keyForId.get(r),i=this.getKey(t);return n!==i},"keyHasChangedFor")},{key:"isInvalid",value:o(function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)},"isInvalid")},{key:"getCachesAt",value:o(function(t){var r=this.cachesByLvl,n=this.lvls,i=r.get(t);return i||(i=new Nl,r.set(t,i),n.push(t)),i},"getCachesAt")},{key:"getCache",value:o(function(t,r){return this.getCachesAt(r).get(t)},"getCache")},{key:"get",value:o(function(t,r){var n=this.getKey(t),i=this.getCache(n,r);return i!=null&&this.updateKeyMappingFor(t),i},"get")},{key:"getForCachedKey",value:o(function(t,r){var n=this.keyForId.get(t.id()),i=this.getCache(n,r);return i},"getForCachedKey")},{key:"hasCache",value:o(function(t,r){return this.getCachesAt(r).has(t)},"hasCache")},{key:"has",value:o(function(t,r){var n=this.getKey(t);return this.hasCache(n,r)},"has")},{key:"setCache",value:o(function(t,r,n){n.key=t,this.getCachesAt(r).set(t,n)},"setCache")},{key:"set",value:o(function(t,r,n){var i=this.getKey(t);this.setCache(i,r,n),this.updateKeyMappingFor(t)},"set")},{key:"deleteCache",value:o(function(t,r){this.getCachesAt(r).delete(t)},"deleteCache")},{key:"delete",value:o(function(t,r){var n=this.getKey(t);this.deleteCache(n,r)},"_delete")},{key:"invalidateKey",value:o(function(t){var r=this;this.lvls.forEach(function(n){return r.deleteCache(t,n)})},"invalidateKey")},{key:"invalidate",value:o(function(t){var r=t.id(),n=this.keyForId.get(r);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(n),i||this.getNumberOfIdsForKey(n)===0},"invalidate")}]),e}(),Mq=25,vx=50,bx=-4,_E=3,rPe=7.99,nPe=8,iPe=1024,aPe=1024,sPe=1024,oPe=.2,lPe=.8,cPe=10,uPe=.15,hPe=.1,dPe=.9,pPe=.9,gPe=100,fPe=1,Sp={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},mPe=ca({getKey:null,doesEleInvalidateKey:Pb,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Hz,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),zf=o(function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var n=mPe(t);br(r,n),r.lookup=new tPe(n.getKey,n.doesEleInvalidateKey),r.setupDequeueing()},"ElementTextureCache"),zi=zf.prototype,zi.reasons=Sp,zi.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},zi.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n},zi.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new Ef(function(r,n){return n.reqs-r.reqs});return t},zi.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t},zi.getElement=function(e,t,r,n,i){var a=this,s=this.renderer,l=s.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(JT(l*r))),n<bx)n=bx;else if(l>=rPe||n>_E)return null;var h=Math.pow(2,n),d=t.h*h,p=t.w*h,f=s.eleTextBiggerThanMin(e,h);if(!this.isVisible(e,f))return null;var g=u.get(e,n);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;var m;if(d<=Mq?m=Mq:d<=vx?m=vx:m=Math.ceil(d/vx)*vx,d>sPe||p>aPe)return null;var y=a.getTextureQueue(m),b=y[y.length-2],v=o(function(){return a.recycleTexture(m,p)||a.addTexture(m,p)},"addNewTxr");b||(b=y[y.length-1]),b||(b=v()),b.width-b.usedWidth<p&&(b=v());for(var x=o(function(R){return R&&R.scaledLabelShown===f},"scalableFrom"),k=i&&i===Sp.dequeue,w=i&&i===Sp.highQuality,_=i&&i===Sp.downscale,S,C=n+1;C<=_E;C++){var T=u.get(e,C);if(T){S=T;break}}var N=S&&S.level===n+1?S:null,D=o(function(){b.context.drawImage(N.texture.canvas,N.x,0,N.width,N.height,b.usedWidth,0,p,d)},"downscale");if(b.context.setTransform(1,0,0,1,0,0),b.context.clearRect(b.usedWidth,0,p,m),x(N))D();else if(x(S))if(w){for(var M=S.level;M>n;M--)N=a.getElement(e,t,r,M,Sp.downscale);D()}else return a.queueElement(e,S.level-1),S;else{var L;if(!k&&!w&&!_)for(var B=n-1;B>=bx;B--){var E=u.get(e,B);if(E){L=E;break}}if(x(L))return a.queueElement(e,n),L;b.context.translate(b.usedWidth,0),b.context.scale(h,h),this.drawElement(b.context,e,t,f,!1),b.context.scale(1/h,1/h),b.context.translate(-b.usedWidth,0)}return g={x:b.usedWidth,texture:b,level:n,scale:h,width:p,height:d,scaledLabelShown:f},b.usedWidth+=Math.ceil(p+nPe),b.eleCaches.push(g),u.set(e,n,g),a.checkTextureFullness(b),g},zi.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},zi.invalidateElement=function(e){var t=this,r=t.lookup,n=[],i=r.isInvalid(e);if(i){for(var a=bx;a<=_E;a++){var s=r.getForCachedKey(e,a);s&&n.push(s)}var l=r.invalidate(e);if(l)for(var u=0;u<n.length;u++){var h=n[u],d=h.texture;d.invalidatedWidth+=h.width,h.invalidated=!0,t.checkTextureUtility(d)}t.removeFromQueue(e)}},zi.checkTextureUtility=function(e){e.invalidatedWidth>=oPe*e.width&&this.retireTexture(e)},zi.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>lPe&&e.fullnessChecks>=cPe?Pu(r,e):e.fullnessChecks++},zi.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),i=this.lookup;Pu(n,e),e.retired=!0;for(var a=e.eleCaches,s=0;s<a.length;s++){var l=a[s];i.deleteCache(l.key,l.level)}ZT(a);var u=t.getRetiredTextureQueue(r);u.push(e)},zi.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),i={};return n.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(iPe,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i},zi.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),i=r.getRetiredTextureQueue(e),a=0;a<i.length;a++){var s=i[a];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,ZT(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Pu(i,s),n.push(s),s}},zi.queueElement=function(e,t){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(e),s=i[a];if(s)s.level=Math.max(s.level,t),s.eles.merge(e),s.reqs++,n.updateItem(s);else{var l={eles:e.spawn().merge(e),level:t,reqs:1,key:a};n.push(l),i[a]=l}},zi.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=[],a=t.lookup,s=0;s<fPe&&r.size()>0;s++){var l=r.pop(),u=l.key,h=l.eles[0],d=a.hasCache(h,l.level);if(n[u]=null,!d){i.push(l);var p=t.getBoundingBox(h);t.getElement(h,p,e,l.level,Sp.dequeue)}}return i},zi.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=this.getKey(e),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=XT,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(e))},zi.onDequeue=function(e){this.onDequeues.push(e)},zi.offDequeue=function(e){Pu(this.onDequeues,e)},zi.setupDequeueing=Iq.setupDequeueing({deqRedrawThreshold:gPe,deqCost:uPe,deqAvgCost:hPe,deqNoDrawCost:dPe,deqFastCost:pPe,deq:o(function(e,t,r){return e.dequeue(t,r)},"deq"),onDeqd:o(function(e,t){for(var r=0;r<e.onDequeues.length;r++){var n=e.onDequeues[r];n(t)}},"onDeqd"),shouldRedraw:o(function(e,t,r,n){for(var i=0;i<t.length;i++)for(var a=t[i].eles,s=0;s<a.length;s++){var l=a[s].boundingBox();if(eE(l,n))return!0}return!1},"shouldRedraw"),priority:o(function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq},"priority")}),yPe=1,Gf=-4,xx=2,vPe=3.99,bPe=50,xPe=50,kPe=.15,wPe=.1,TPe=.9,EPe=.9,_Pe=1,Dq=250,CPe=4e3*4e3,SPe=!0,Rq=o(function(e){var t=this,r=t.renderer=e,n=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Ec()-2*Dq,t.skipping=!1,t.eleTxrDeqs=n.collection(),t.scheduleElementRefinement=Db(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},xPe),r.beforeRender(function(a,s){s-t.lastInvalidationTime<=Dq?t.skipping=!0:t.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var i=o(function(a,s){return s.reqs-a.reqs},"qSort");t.layersQueue=new Ef(i),t.setupDequeueing()},"LayeredTextureCache"),pa=Rq.prototype,Oq=0,APe=Math.pow(2,53)-1,pa.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(n,i),s={id:Oq=++Oq%APe,bb:e,level:t,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=s.context,u=-s.bb.x1,h=-s.bb.y1;return l.scale(r,r),l.translate(u,h),s},pa.getLayers=function(e,t,r){var n=this,i=n.renderer,a=i.cy,s=a.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(JT(s*t)),r<Gf)r=Gf;else if(s>=vPe||r>xx)return null}n.validateLayersElesOrdering(r,e);var u=n.layersByLevel,h=Math.pow(2,r),d=u[r]=u[r]||[],p,f=n.levelIsComplete(r,e),g,m=o(function(){var N=o(function(B){if(n.validateLayersElesOrdering(B,e),n.levelIsComplete(B,e))return g=u[B],!0},"canUseAsTmpLvl"),D=o(function(B){if(!g)for(var E=r+B;Gf<=E&&E<=xx&&!N(E);E+=B);},"checkLvls");D(1),D(-1);for(var M=d.length-1;M>=0;M--){var L=d[M];L.invalid&&Pu(d,L)}},"checkTempLevels");if(!f)m();else return d;var y=o(function(){if(!p){p=gs();for(var N=0;N<e.length;N++)eG(p,e[N].boundingBox())}return p},"getBb"),b=o(function(N){N=N||{};var D=N.after;y();var M=p.w*h*(p.h*h);if(M>CPe)return null;var L=n.makeLayer(p,r);if(D!=null){var B=d.indexOf(D)+1;d.splice(B,0,L)}else(N.insert===void 0||N.insert)&&d.unshift(L);return L},"makeLayer");if(n.skipping&&!l)return null;for(var v=null,x=e.length/yPe,k=!l,w=0;w<e.length;w++){var _=e[w],S=_._private.rscratch,C=S.imgLayerCaches=S.imgLayerCaches||{},T=C[r];if(T){v=T;continue}if((!v||v.eles.length>=x||!rG(v.bb,_.boundingBox()))&&(v=b({insert:!0,after:v}),!v))return null;g||k?n.queueLayer(v,_):n.drawEleInLayer(v,_,r,t),v.eles.push(_),C[r]=v}return g||(k?null:d)},pa.getEleLevelForLayerLevel=function(e,t){return e},pa.drawEleInLayer=function(e,t,r,n){var i=this,a=this.renderer,s=e.context,l=t.boundingBox();l.w===0||l.h===0||!t.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(s,!1),a.drawCachedElement(s,t,null,null,r,SPe),a.setImgSmoothing(s,!0))},pa.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var s=n[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===t.length},pa.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,s=0;s<t.length;s++)if(i.eles[0]===t[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var l=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==t[l+s]){this.invalidateLayer(i);break}}},pa.updateElementsInLayers=function(e,t){for(var r=this,n=ff(e[0]),i=0;i<e.length;i++)for(var a=n?null:e[i],s=n?e[i]:e[i].ele,l=s._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},h=Gf;h<=xx;h++){var d=u[h];d&&(a&&r.getEleLevelForLayerLevel(d.level)!==a.level||t(d,s,a))}},pa.haveLayers=function(){for(var e=this,t=!1,r=Gf;r<=xx;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t},pa.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=Ec(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,o(function(r,n,i){t.invalidateLayer(r)},"invalAssocLayers")))},pa.invalidateLayer=function(e){if(this.lastInvalidationTime=Ec(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];Pu(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},pa.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,o(function(r,n,i){var a=r.replacement;if(a||(a=r.replacement=t.makeLayer(r.bb,r.level),a.replaces=r,a.eles=r.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)t.queueLayer(a,a.eles[s])},"refineEachEle"))},pa.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},pa.queueLayer=function(e,t){var r=this,n=r.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},pa.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<_Pe&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(t.drawEleInLayer(a,s,a.level,e),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return n},pa.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=e;for(var a=0;a<e.eles.length;a++){var s=e.eles[a]._private,l=s.imgLayerCaches=s.imgLayerCaches||{};l&&(l[e.level]=e)}t.requestRedraw()}},pa.requestRedraw=Db(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),pa.setupDequeueing=Iq.setupDequeueing({deqRedrawThreshold:bPe,deqCost:kPe,deqAvgCost:wPe,deqNoDrawCost:TPe,deqFastCost:EPe,deq:o(function(e,t){return e.dequeue(t)},"deq"),onDeqd:KT,shouldRedraw:Hz,priority:o(function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")}),Pq={},o(oNe,"polygon"),o(lNe,"triangleBackcurve"),o(kz,"triangleTee"),o(cNe,"circleTriangle"),o(uNe,"circle"),Pq.arrowShapeImpl=function(e){return(LPe||(LPe={polygon:oNe,"triangle-backcurve":lNe,"triangle-tee":kz,"circle-triangle":cNe,"triangle-cross":kz,circle:uNe}))[e]},Ol={},Ol.drawElement=function(e,t,r,n,i,a){var s=this;t.isNode()?s.drawNode(e,t,r,n,i,a):s.drawEdge(e,t,r,n,i,a)},Ol.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)},Ol.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)},Ol.drawCachedElementPortion=function(e,t,r,n,i,a,s,l){var u=this,h=r.getBoundingBox(t);if(!(h.w===0||h.h===0)){var d=r.getElement(t,h,n,i,a);if(d!=null){var p=l(u,t);if(p===0)return;var f=s(u,t),g=h.x1,m=h.y1,y=h.w,b=h.h,v,x,k,w,_;if(f!==0){var S=r.getRotationPoint(t);k=S.x,w=S.y,e.translate(k,w),e.rotate(f),_=u.getImgSmoothing(e),_||u.setImgSmoothing(e,!0);var C=r.getRotationOffset(t);v=C.x,x=C.y}else v=g,x=m;var T;p!==1&&(T=e.globalAlpha,e.globalAlpha=T*p),e.drawImage(d.texture.canvas,d.x,0,d.width,d.height,v,x,y,b),p!==1&&(e.globalAlpha=T),f!==0&&(e.rotate(-f),e.translate(-k,-w),_||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}},NPe=o(function(){return 0},"getZeroRotation"),IPe=o(function(e,t){return e.getTextAngle(t,null)},"getLabelRotation"),MPe=o(function(e,t){return e.getTextAngle(t,"source")},"getSourceLabelRotation"),DPe=o(function(e,t){return e.getTextAngle(t,"target")},"getTargetLabelRotation"),RPe=o(function(e,t){return t.effectiveOpacity()},"getOpacity"),CE=o(function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()},"getTextOpacity"),Ol.drawCachedElement=function(e,t,r,n,i,a){var s=this,l=s.data,u=l.eleTxrCache,h=l.lblTxrCache,d=l.slbTxrCache,p=l.tlbTxrCache,f=t.boundingBox(),g=a===!0?u.reasons.highQuality:null;if(!(f.w===0||f.h===0||!t.visible())&&(!n||eE(f,n))){var m=t.isEdge(),y=t.element()._private.rscratch.badLine;s.drawElementUnderlay(e,t),s.drawCachedElementPortion(e,t,u,r,i,g,NPe,RPe),(!m||!y)&&s.drawCachedElementPortion(e,t,h,r,i,g,IPe,CE),m&&!y&&(s.drawCachedElementPortion(e,t,d,r,i,g,MPe,CE),s.drawCachedElementPortion(e,t,p,r,i,g,DPe,CE)),s.drawElementOverlay(e,t)}},Ol.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var i=t[n];r.drawElement(e,i)}},Ol.drawCachedElements=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var s=t[a];i.drawCachedElement(e,s,r,n)}},Ol.drawCachedNodes=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var s=t[a];s.isNode()&&i.drawCachedElement(e,s,r,n)}},Ol.drawLayeredElements=function(e,t,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(t,r);if(a)for(var s=0;s<a.length;s++){var l=a[s],u=l.bb;u.w===0||u.h===0||e.drawImage(l.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(e,t,r,n)},Lc={},Lc.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l=t._private.rscratch;if(!(a&&!t.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var h=a?t.pstyle("opacity").value:1,d=a?t.pstyle("line-opacity").value:1,p=t.pstyle("curve-style").value,f=t.pstyle("line-style").value,g=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,y=t.pstyle("line-outline-width").value,b=t.pstyle("line-outline-color").value,v=h*d,x=h*d,k=o(function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;p==="straight-triangle"?(s.eleStrokeStyle(e,t,E),s.drawEdgeTrianglePath(t,e,l.allpts)):(e.lineWidth=g,e.lineCap=m,s.eleStrokeStyle(e,t,E),s.drawEdgePath(t,e,l.allpts,f),e.lineCap="butt")},"drawLine"),w=o(function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(e.lineWidth=g+y,e.lineCap=m,y>0)s.colorStrokeStyle(e,b[0],b[1],b[2],E);else{e.lineCap="butt";return}p==="straight-triangle"?s.drawEdgeTrianglePath(t,e,l.allpts):(s.drawEdgePath(t,e,l.allpts,f),e.lineCap="butt")},"drawLineOutline"),_=o(function(){i&&s.drawEdgeOverlay(e,t)},"drawOverlay"),S=o(function(){i&&s.drawEdgeUnderlay(e,t)},"drawUnderlay"),C=o(function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;s.drawArrowheads(e,t,E)},"drawArrows"),T=o(function(){s.drawElementText(e,t,null,n)},"drawText");e.lineJoin="round";var N=t.pstyle("ghost").value==="yes";if(N){var D=t.pstyle("ghost-offset-x").pfValue,M=t.pstyle("ghost-offset-y").pfValue,L=t.pstyle("ghost-opacity").value,B=v*L;e.translate(D,M),k(B),C(B),e.translate(-D,-M)}else w();S(),k(),C(),_(),T(),r&&e.translate(u.x1,u.y1)}},Bq=o(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var n=r.pstyle("".concat(e,"-opacity")).value;if(n!==0){var i=this,a=i.usePaths(),s=r._private.rscratch,l=r.pstyle("".concat(e,"-padding")).pfValue,u=2*l,h=r.pstyle("".concat(e,"-color")).value;t.lineWidth=u,s.edgeType==="self"&&!a?t.lineCap="butt":t.lineCap="round",i.colorStrokeStyle(t,h[0],h[1],h[2],n),i.drawEdgePath(r,t,s.allpts,"solid")}}}},"drawEdgeOverlayUnderlay"),Lc.drawEdgeOverlay=Bq("overlay"),Lc.drawEdgeUnderlay=Bq("underlay"),Lc.drawEdgePath=function(e,t,r,n){var i=e._private.rscratch,a=t,s,l=!1,u=this.usePaths(),h=e.pstyle("line-dash-pattern").pfValue,d=e.pstyle("line-dash-offset").pfValue;if(u){var p=r.join("$"),f=i.pathCacheKey&&i.pathCacheKey===p;f?(s=t=i.pathCache,l=!0):(s=t=new Path2D,i.pathCacheKey=p,i.pathCache=s)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(h),a.lineDashOffset=d;break;case"solid":a.setLineDash([]);break}if(!l&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var g=2;g+3<r.length;g+=4)t.quadraticCurveTo(r[g],r[g+1],r[g+2],r[g+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)t.lineTo(r[m],r[m+1]);break;case"segments":if(i.isRound){var y=ez(i.roundCorners),b;try{for(y.s();!(b=y.n()).done;){var v=b.value;bz(t,v)}}catch(k){y.e(k)}finally{y.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var x=2;x+1<r.length;x+=2)t.lineTo(r[x],r[x+1]);break}t=a,u?t.stroke(s):t.stroke(),t.setLineDash&&t.setLineDash([])},Lc.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),l=[a[1]/s,-a[0]/s],u=[l[0]*n/2,l[1]*n/2];t.beginPath(),t.moveTo(r[i]-u[0],r[i+1]-u[1]),t.lineTo(r[i]+u[0],r[i+1]+u[1]),t.lineTo(r[i+2],r[i+3]),t.closePath(),t.fill()}},Lc.drawArrowheads=function(e,t,r){var n=t._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},Lc.drawArrowhead=function(e,t,r,n,i,a,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var l=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var h=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=t.pstyle(r+"-arrow-fill").value,p=t.pstyle("width").pfValue,f=t.pstyle(r+"-arrow-width"),g=f.value==="match-line"?p:f.pfValue;f.units==="%"&&(g*=p);var m=t.pstyle("opacity").value;s===void 0&&(s=m);var y=e.globalCompositeOperation;(s!==1||d==="hollow")&&(e.globalCompositeOperation="destination-out",l.colorFillStyle(e,255,255,255,1),l.colorStrokeStyle(e,255,255,255,1),l.drawArrowShape(t,e,h,p,u,g,n,i,a),e.globalCompositeOperation=y);var b=t.pstyle(r+"-arrow-color").value;l.colorFillStyle(e,b[0],b[1],b[2],s),l.colorStrokeStyle(e,b[0],b[1],b[2],s),l.drawArrowShape(t,e,d,p,u,g,n,i,a)}}},Lc.drawArrowShape=function(e,t,r,n,i,a,s,l,u){var h=this,d=this.usePaths()&&i!=="triangle-cross",p=!1,f,g=t,m={x:s,y:l},y=e.pstyle("arrow-scale").value,b=this.getArrowWidth(n,y),v=h.arrowShapes[i];if(d){var x=h.arrowPathCache=h.arrowPathCache||[],k=md(i),w=x[k];w!=null?(f=t=w,p=!0):(f=t=new Path2D,x[k]=f)}p||(t.beginPath&&t.beginPath(),d?v.draw(t,1,0,{x:0,y:0},1):v.draw(t,b,u,m,n),t.closePath&&t.closePath()),t=g,d&&(t.translate(s,l),t.rotate(u),t.scale(b,b)),(r==="filled"||r==="both")&&(d?t.fill(f):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=a/(d?b:1),t.lineJoin="miter",d?t.stroke(f):t.stroke()),d&&(t.scale(1/b,1/b),t.rotate(-u),t.translate(-s,-l))},SE={},SE.safeDrawImage=function(e,t,r,n,i,a,s,l,u,h){if(!(i<=0||a<=0||u<=0||h<=0))try{e.drawImage(t,r,n,i,a,s,l,u,h)}catch(d){yn(d)}},SE.drawInscribedImage=function(e,t,r,n,i){var a=this,s=r.position(),l=s.x,u=s.y,h=r.cy().style(),d=h.getIndexedStyle.bind(h),p=d(r,"background-fit","value",n),f=d(r,"background-repeat","value",n),g=r.width(),m=r.height(),y=r.padding()*2,b=g+(d(r,"background-width-relative-to","value",n)==="inner"?0:y),v=m+(d(r,"background-height-relative-to","value",n)==="inner"?0:y),x=r._private.rscratch,k=d(r,"background-clip","value",n),w=k==="node",_=d(r,"background-image-opacity","value",n)*i,S=d(r,"background-image-smoothing","value",n),C=r.pstyle("corner-radius").value;C!=="auto"&&(C=r.pstyle("corner-radius").pfValue);var T=t.width||t.cachedW,N=t.height||t.cachedH;(T==null||N==null)&&(document.body.appendChild(t),T=t.cachedW=t.width||t.offsetWidth,N=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var D=T,M=N;if(d(r,"background-width","value",n)!=="auto"&&(d(r,"background-width","units",n)==="%"?D=d(r,"background-width","pfValue",n)*b:D=d(r,"background-width","pfValue",n)),d(r,"background-height","value",n)!=="auto"&&(d(r,"background-height","units",n)==="%"?M=d(r,"background-height","pfValue",n)*v:M=d(r,"background-height","pfValue",n)),!(D===0||M===0)){if(p==="contain"){var L=Math.min(b/D,v/M);D*=L,M*=L}else if(p==="cover"){var L=Math.max(b/D,v/M);D*=L,M*=L}var B=l-b/2,E=d(r,"background-position-x","units",n),R=d(r,"background-position-x","pfValue",n);E==="%"?B+=(b-D)*R:B+=R;var O=d(r,"background-offset-x","units",n),P=d(r,"background-offset-x","pfValue",n);O==="%"?B+=(b-D)*P:B+=P;var A=u-v/2,$=d(r,"background-position-y","units",n),F=d(r,"background-position-y","pfValue",n);$==="%"?A+=(v-M)*F:A+=F;var G=d(r,"background-offset-y","units",n),q=d(r,"background-offset-y","pfValue",n);G==="%"?A+=(v-M)*q:A+=q,x.pathCache&&(B-=l,A-=u,l=0,u=0);var W=e.globalAlpha;e.globalAlpha=_;var re=a.getImgSmoothing(e),oe=!1;if(S==="no"&&re?(a.setImgSmoothing(e,!1),oe=!0):S==="yes"&&!re&&(a.setImgSmoothing(e,!0),oe=!0),f==="no-repeat")w&&(e.save(),x.pathCache?e.clip(x.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,l,u,b,v,C,x),e.clip())),a.safeDrawImage(e,t,0,0,T,N,B,A,D,M),w&&e.restore();else{var te=e.createPattern(t,f);e.fillStyle=te,a.nodeShapes[a.getNodeShape(r)].draw(e,l,u,b,v,C,x),e.translate(B,A),e.fill(),e.translate(-B,-A)}e.globalAlpha=W,oe&&a.setImgSmoothing(e,re)}},Cd={},Cd.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(JT(r*n));t=Math.pow(2,i)}var a=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue;return!(a<s)},Cd.drawElementText=function(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(a&&!s.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var l=t.pstyle("label");if(!l||!l.value)return;var u=s.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var h=t.element()._private.rscratch.badLine,d=t.pstyle("label"),p=t.pstyle("source-label"),f=t.pstyle("target-label");if(h||(!d||!d.value)&&(!p||!p.value)&&(!f||!f.value))return;e.textAlign="center",e.textBaseline="bottom"}var g=!r,m;r&&(m=r,e.translate(-m.x1,-m.y1)),i==null?(s.drawText(e,t,null,g,a),t.isEdge()&&(s.drawText(e,t,"source",g,a),s.drawText(e,t,"target",g,a))):s.drawText(e,t,i,g,a),r&&e.translate(m.x1,m.y1)},Cd.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},Cd.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,s=t.pstyle("font-weight").strValue,l=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*l,h=t.pstyle("color").value,d=t.pstyle("text-outline-color").value;e.font=n+" "+s+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,h[0],h[1],h[2],l),this.colorStrokeStyle(e,d[0],d[1],d[2],u)},o(YT,"roundRect"),Cd.getTextAngle=function(e,t){var r,n=e._private,i=n.rscratch,a=t?t+"-":"",s=e.pstyle(a+"text-rotation"),l=zo(i,"labelAngle",t);return s.strValue==="autorotate"?r=e.isEdge()?l:0:s.strValue==="none"?r=0:r=s.pfValue,r},Cd.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,s=a.rscratch,l=i?t.effectiveOpacity():1;if(!(i&&(l===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=zo(s,"labelX",r),h=zo(s,"labelY",r),d,p,f=this.getLabelText(t,r);if(f!=null&&f!==""&&!isNaN(u)&&!isNaN(h)){this.setupTextStyle(e,t,i);var g=r?r+"-":"",m=zo(s,"labelWidth",r),y=zo(s,"labelHeight",r),b=t.pstyle(g+"text-margin-x").pfValue,v=t.pstyle(g+"text-margin-y").pfValue,x=t.isEdge(),k=t.pstyle("text-halign").value,w=t.pstyle("text-valign").value;x&&(k="center",w="center"),u+=b,h+=v;var _;switch(n?_=this.getTextAngle(t,r):_=0,_!==0&&(d=u,p=h,e.translate(d,p),e.rotate(_),u=0,h=0),w){case"top":break;case"center":h+=y/2;break;case"bottom":h+=y;break}var S=t.pstyle("text-background-opacity").value,C=t.pstyle("text-border-opacity").value,T=t.pstyle("text-border-width").pfValue,N=t.pstyle("text-background-padding").pfValue,D=t.pstyle("text-background-shape").strValue,M=D.indexOf("round")===0,L=2;if(S>0||T>0&&C>0){var B=u-N;switch(k){case"left":B-=m;break;case"center":B-=m/2;break}var E=h-y-N,R=m+2*N,O=y+2*N;if(S>0){var P=e.fillStyle,A=t.pstyle("text-background-color").value;e.fillStyle="rgba("+A[0]+","+A[1]+","+A[2]+","+S*l+")",M?YT(e,B,E,R,O,L):e.fillRect(B,E,R,O),e.fillStyle=P}if(T>0&&C>0){var $=e.strokeStyle,F=e.lineWidth,G=t.pstyle("text-border-color").value,q=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+G[0]+","+G[1]+","+G[2]+","+C*l+")",e.lineWidth=T,e.setLineDash)switch(q){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=T/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}if(M?YT(e,B,E,R,O,L,"stroke"):e.strokeRect(B,E,R,O),q==="double"){var W=T/2;M?YT(e,B+W,E+W,R-W*2,O-W*2,L,"stroke"):e.strokeRect(B+W,E+W,R-W*2,O-W*2)}e.setLineDash&&e.setLineDash([]),e.lineWidth=F,e.strokeStyle=$}}var re=2*t.pstyle("text-outline-width").pfValue;if(re>0&&(e.lineWidth=re),t.pstyle("text-wrap").value==="wrap"){var oe=zo(s,"labelWrapCachedLines",r),te=zo(s,"labelLineHeight",r),se=m/2,Y=this.getLabelJustification(t);switch(Y==="auto"||(k==="left"?Y==="left"?u+=-m:Y==="center"&&(u+=-se):k==="center"?Y==="left"?u+=-se:Y==="right"&&(u+=se):k==="right"&&(Y==="center"?u+=se:Y==="right"&&(u+=m))),w){case"top":h-=(oe.length-1)*te;break;case"center":case"bottom":h-=(oe.length-1)*te;break}for(var V=0;V<oe.length;V++)re>0&&e.strokeText(oe[V],u,h),e.fillText(oe[V],u,h),h+=te}else re>0&&e.strokeText(f,u,h),e.fillText(f,u,h);_!==0&&(e.rotate(-_),e.translate(-d,-p))}}},Ap={},Ap.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l,u,h=t._private,d=h.rscratch,p=t.position();if(!(!Ct(p.x)||!Ct(p.y))&&!(a&&!t.visible())){var f=a?t.effectiveOpacity():1,g=s.usePaths(),m,y=!1,b=t.padding();l=t.width()+2*b,u=t.height()+2*b;var v;r&&(v=r,e.translate(-v.x1,-v.y1));for(var x=t.pstyle("background-image"),k=x.value,w=new Array(k.length),_=new Array(k.length),S=0,C=0;C<k.length;C++){var T=k[C],N=w[C]=T!=null&&T!=="none";if(N){var D=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",C);S++,_[C]=s.getCachedImage(T,D,function(){h.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var M=t.pstyle("background-blacken").value,L=t.pstyle("border-width").pfValue,B=t.pstyle("background-opacity").value*f,E=t.pstyle("border-color").value,R=t.pstyle("border-style").value,O=t.pstyle("border-join").value,P=t.pstyle("border-cap").value,A=t.pstyle("border-position").value,$=t.pstyle("border-dash-pattern").pfValue,F=t.pstyle("border-dash-offset").pfValue,G=t.pstyle("border-opacity").value*f,q=t.pstyle("outline-width").pfValue,W=t.pstyle("outline-color").value,re=t.pstyle("outline-style").value,oe=t.pstyle("outline-opacity").value*f,te=t.pstyle("outline-offset").value,se=t.pstyle("corner-radius").value;se!=="auto"&&(se=t.pstyle("corner-radius").pfValue);var Y=o(function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;s.eleFillStyle(e,t,Pe)},"setupShapeColor"),V=o(function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;s.colorStrokeStyle(e,E[0],E[1],E[2],Pe)},"setupBorderColor"),U=o(function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe;s.colorStrokeStyle(e,W[0],W[1],W[2],Pe)},"setupOutlineColor"),ne=o(function(Pe,Z,Fe,ae){var pe=s.nodePathCache=s.nodePathCache||[],_e=Yz(Fe==="polygon"?Fe+","+ae.join(","):Fe,""+Z,""+Pe,""+se),Se=pe[_e],Re,ke=!1;return Se!=null?(Re=Se,ke=!0,d.pathCache=Re):(Re=new Path2D,pe[_e]=d.pathCache=Re),{path:Re,cacheHit:ke}},"getPath"),K=t.pstyle("shape").strValue,fe=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(p.x,p.y);var Q=ne(l,u,K,fe);m=Q.path,y=Q.cacheHit}var Te=o(function(){if(!y){var Pe=p;g&&(Pe={x:0,y:0}),s.nodeShapes[s.getNodeShape(t)].draw(m||e,Pe.x,Pe.y,l,u,se,d)}g?e.fill(m):e.fill()},"drawShape"),ie=o(function(){for(var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Fe=h.backgrounding,ae=0,pe=0;pe<_.length;pe++){var _e=t.cy().style().getIndexedStyle(t,"background-image-containment","value",pe);if(Z&&_e==="over"||!Z&&_e==="inside"){ae++;continue}w[pe]&&_[pe].complete&&!_[pe].error&&(ae++,s.drawInscribedImage(e,_[pe],t,pe,Pe))}h.backgrounding=ae!==S,Fe!==h.backgrounding&&t.updateStyle(!1)},"drawImages"),Me=o(function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;s.hasPie(t)&&(s.drawPie(e,t,Z),Pe&&(g||s.nodeShapes[s.getNodeShape(t)].draw(e,p.x,p.y,l,u,se,d)))},"drawPie"),Le=o(function(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,Z=(M>0?M:-M)*Pe,Fe=M>0?0:255;M!==0&&(s.colorFillStyle(e,Fe,Fe,Fe,Z),g?e.fill(m):e.fill())},"darken"),Ie=o(function(){if(L>0){if(e.lineWidth=L,e.lineCap=P,e.lineJoin=O,e.setLineDash)switch(R){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash($),e.lineDashOffset=F;break;case"solid":case"double":e.setLineDash([]);break}if(A!=="center"){if(e.save(),e.lineWidth*=2,A==="inside")g?e.clip(m):e.clip();else{var Pe=new Path2D;Pe.rect(-l/2-L,-u/2-L,l+2*L,u+2*L),Pe.addPath(m),e.clip(Pe,"evenodd")}g?e.stroke(m):e.stroke(),e.restore()}else g?e.stroke(m):e.stroke();if(R==="double"){e.lineWidth=L/3;var Z=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(m):e.stroke(),e.globalCompositeOperation=Z}e.setLineDash&&e.setLineDash([])}},"drawBorder"),He=o(function(){if(q>0){if(e.lineWidth=q,e.lineCap="butt",e.setLineDash)switch(re){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var Pe=p;g&&(Pe={x:0,y:0});var Z=s.getNodeShape(t),Fe=L;A==="inside"&&(Fe=0),A==="outside"&&(Fe*=2);var ae=(l+Fe+(q+te))/l,pe=(u+Fe+(q+te))/u,_e=l*ae,Se=u*pe,Re=s.nodeShapes[Z].points,ke;if(g){var Xe=ne(_e,Se,Z,Re);ke=Xe.path}if(Z==="ellipse")s.drawEllipsePath(ke||e,Pe.x,Pe.y,_e,Se);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Z)){var Oe=0,lt=0,Dt=0;Z==="round-diamond"?Oe=(Fe+te+q)*1.4:Z==="round-heptagon"?(Oe=(Fe+te+q)*1.075,Dt=-(Fe/2+te+q)/35):Z==="round-hexagon"?Oe=(Fe+te+q)*1.12:Z==="round-pentagon"?(Oe=(Fe+te+q)*1.13,Dt=-(Fe/2+te+q)/15):Z==="round-tag"?(Oe=(Fe+te+q)*1.12,lt=(Fe/2+q+te)*.07):Z==="round-triangle"&&(Oe=(Fe+te+q)*(Math.PI/2),Dt=-(Fe+te/2+q)/Math.PI),Oe!==0&&(ae=(l+Oe)/l,_e=l*ae,["round-hexagon","round-tag"].includes(Z)||(pe=(u+Oe)/u,Se=u*pe)),se=se==="auto"?aG(_e,Se):se;for(var _t=_e/2,gt=Se/2,Pt=se+(Fe+q+te)/2,st=new Array(Re.length/2),Qe=new Array(Re.length/2),Ke=0;Ke<Re.length/2;Ke++)st[Ke]={x:Pe.x+lt+_t*Re[Ke*2],y:Pe.y+Dt+gt*Re[Ke*2+1]};var It,tt,Zt,jt,pt=st.length;for(tt=st[pt-1],It=0;It<pt;It++)Zt=st[It%pt],jt=st[(It+1)%pt],Qe[It]=jT(tt,Zt,jt,Pt),tt=Zt,Zt=jt;s.drawRoundPolygonPath(ke||e,Pe.x+lt,Pe.y+Dt,l*ae,u*pe,Re,Qe)}else if(["roundrectangle","round-rectangle"].includes(Z))se=se==="auto"?xd(_e,Se):se,s.drawRoundRectanglePath(ke||e,Pe.x,Pe.y,_e,Se,se+(Fe+q+te)/2);else if(["cutrectangle","cut-rectangle"].includes(Z))se=se==="auto"?nE():se,s.drawCutRectanglePath(ke||e,Pe.x,Pe.y,_e,Se,null,se+(Fe+q+te)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Z))se=se==="auto"?xd(_e,Se):se,s.drawBottomRoundRectanglePath(ke||e,Pe.x,Pe.y,_e,Se,se+(Fe+q+te)/2);else if(Z==="barrel")s.drawBarrelPath(ke||e,Pe.x,Pe.y,_e,Se);else if(Z.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Z)){var dt=(Fe+q+te)/l;Re=qb(jb(Re,dt)),s.drawPolygonPath(ke||e,Pe.x,Pe.y,l,u,Re)}else{var it=(Fe+q+te)/l;Re=qb(jb(Re,-it)),s.drawPolygonPath(ke||e,Pe.x,Pe.y,l,u,Re)}if(g?e.stroke(ke):e.stroke(),re==="double"){e.lineWidth=Fe/3;var Gt=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(ke):e.stroke(),e.globalCompositeOperation=Gt}e.setLineDash&&e.setLineDash([])}},"drawOutline"),We=o(function(){i&&s.drawNodeOverlay(e,t,p,l,u)},"drawOverlay"),et=o(function(){i&&s.drawNodeUnderlay(e,t,p,l,u)},"drawUnderlay"),Ze=o(function(){s.drawElementText(e,t,null,n)},"drawText"),H=t.pstyle("ghost").value==="yes";if(H){var ge=t.pstyle("ghost-offset-x").pfValue,ce=t.pstyle("ghost-offset-y").pfValue,ve=t.pstyle("ghost-opacity").value,J=ve*f;e.translate(ge,ce),U(),He(),Y(ve*B),Te(),ie(J,!0),V(ve*G),Ie(),Me(M!==0||L!==0),ie(J,!1),Le(J),e.translate(-ge,-ce)}g&&e.translate(-p.x,-p.y),et(),g&&e.translate(p.x,p.y),U(),He(),Y(),Te(),ie(f,!0),V(),Ie(),Me(M!==0||L!==0),ie(f,!1),Le(),g&&e.translate(-p.x,-p.y),Ze(),We(),r&&e.translate(v.x1,v.y1)}},$q=o(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,n,i,a){var s=this;if(r.visible()){var l=r.pstyle("".concat(e,"-padding")).pfValue,u=r.pstyle("".concat(e,"-opacity")).value,h=r.pstyle("".concat(e,"-color")).value,d=r.pstyle("".concat(e,"-shape")).value,p=r.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(n=n||r.position(),i==null||a==null){var f=r.padding();i=r.width()+2*f,a=r.height()+2*f}s.colorFillStyle(t,h[0],h[1],h[2],u),s.nodeShapes[d].draw(t,n.x,n.y,i+l*2,a+l*2,p),t.fill()}}}},"drawNodeOverlayUnderlay"),Ap.drawNodeOverlay=$q("overlay"),Ap.drawNodeUnderlay=$q("underlay"),Ap.hasPie=function(e){return e=e[0],e._private.hasPie},Ap.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),s=n.x,l=n.y,u=t.width(),h=t.height(),d=Math.min(u,h)/2,p=0,f=this.usePaths();f&&(s=0,l=0),a.units==="%"?d=d*a.pfValue:a.pfValue!==void 0&&(d=a.pfValue/2);for(var g=1;g<=i.pieBackgroundN;g++){var m=t.pstyle("pie-"+g+"-background-size").value,y=t.pstyle("pie-"+g+"-background-color").value,b=t.pstyle("pie-"+g+"-background-opacity").value*r,v=m/100;v+p>1&&(v=1-p);var x=1.5*Math.PI+2*Math.PI*p,k=2*Math.PI*v,w=x+k;m===0||p>=1||p+v>1||(e.beginPath(),e.moveTo(s,l),e.arc(s,l,d,x,w),e.closePath(),this.colorFillStyle(e,y[0],y[1],y[2],b),e.fill(),p+=v)}},$s={},OPe=100,$s.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r},$s.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<t.length;i++)if(n=t[i],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n},$s.createGradientStyleFor=function(e,t,r,n,i){var a,s=this.usePaths(),l=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var h=r.sourceEndpoint(),d=r.targetEndpoint(),p=r.midpoint(),f=yd(h,p),g=yd(d,p);a=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(f,g))}else{var m=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),b=r.paddedHeight();a=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(y,b))}else if(r.isEdge()){var v=r.sourceEndpoint(),x=r.targetEndpoint();a=e.createLinearGradient(v.x,v.y,x.x,x.y)}else{var k=s?{x:0,y:0}:r.position(),w=r.paddedWidth(),_=r.paddedHeight(),S=w/2,C=_/2,T=r.pstyle("background-gradient-direction").value;switch(T){case"to-bottom":a=e.createLinearGradient(k.x,k.y-C,k.x,k.y+C);break;case"to-top":a=e.createLinearGradient(k.x,k.y+C,k.x,k.y-C);break;case"to-left":a=e.createLinearGradient(k.x+S,k.y,k.x-S,k.y);break;case"to-right":a=e.createLinearGradient(k.x-S,k.y,k.x+S,k.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(k.x-S,k.y-C,k.x+S,k.y+C);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(k.x-S,k.y+C,k.x+S,k.y-C);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(k.x+S,k.y-C,k.x-S,k.y+C);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(k.x+S,k.y+C,k.x-S,k.y-C);break}}if(!a)return null;for(var N=u.length===l.length,D=l.length,M=0;M<D;M++)a.addColorStop(N?u[M]:M/(D-1),"rgba("+l[M][0]+","+l[M][1]+","+l[M][2]+","+i+")");return a},$s.gradientFillStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"background",t,r,n);if(!i)return null;e.fillStyle=i},$s.colorFillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"},$s.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],r)}},$s.gradientStrokeStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"line",t,r,n);if(!i)return null;e.strokeStyle=i},$s.colorStrokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"},$s.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],r)}},$s.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],a=n[3],s=t.getPixelRatio(),l=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(s=l);var u=i*s,h=a*s,d;if(!(u===t.canvasWidth&&h===t.canvasHeight)){t.fontCaches=null;var p=r.canvasContainer;p.style.width=i+"px",p.style.height=a+"px";for(var f=0;f<t.CANVAS_LAYERS;f++)d=r.canvases[f],d.width=u,d.height=h,d.style.width=i+"px",d.style.height=a+"px";for(var f=0;f<t.BUFFER_COUNT;f++)d=r.bufferCanvases[f],d.width=u,d.height=h,d.style.width=i+"px",d.style.height=a+"px";t.textureMult=1,s<=1&&(d=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,d.width=u*t.textureMult,d.height=h*t.textureMult),t.canvasWidth=u,t.canvasHeight=h}},$s.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},$s.render=function(e){e=e||Kz();var t=e.forcedContext,r=e.drawAllLayers,n=e.drawOnlyNodeLayer,i=e.forcedZoom,a=e.forcedPan,s=this,l=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=s.cy,h=s.data,d=h.canvasNeedsRedraw,p=s.textureOnViewport&&!t&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),f=e.motionBlur!==void 0?e.motionBlur:s.motionBlur,g=s.motionBlurPxRatio,m=u.hasCompoundNodes(),y=s.hoverData.draggingEles,b=!!(s.hoverData.selecting||s.touchData.selecting);f=f&&!t&&s.motionBlurEnabled&&!b;var v=f;t||(s.prevPxRatio!==l&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=l),!t&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),f&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(v=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!p&&(d[s.NODE]=!0,d[s.SELECT_BOX]=!0);var x=u.style(),k=u.zoom(),w=i!==void 0?i:k,_=u.pan(),S={x:_.x,y:_.y},C={zoom:k,pan:{x:_.x,y:_.y}},T=s.prevViewport,N=T===void 0||C.zoom!==T.zoom||C.pan.x!==T.pan.x||C.pan.y!==T.pan.y;!N&&!(y&&!m)&&(s.motionBlurPxRatio=1),a&&(S=a),w*=l,S.x*=l,S.y*=l;var D=s.getCachedZSortedEles();function M(Q,Te,ie,Me,Le){var Ie=Q.globalCompositeOperation;Q.globalCompositeOperation="destination-out",s.colorFillStyle(Q,255,255,255,s.motionBlurTransparency),Q.fillRect(Te,ie,Me,Le),Q.globalCompositeOperation=Ie}o(M,"mbclear");function L(Q,Te){var ie,Me,Le,Ie;!s.clearingMotionBlur&&(Q===h.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||Q===h.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(ie={x:_.x*g,y:_.y*g},Me=k*g,Le=s.canvasWidth*g,Ie=s.canvasHeight*g):(ie=S,Me=w,Le=s.canvasWidth,Ie=s.canvasHeight),Q.setTransform(1,0,0,1,0,0),Te==="motionBlur"?M(Q,0,0,Le,Ie):!t&&(Te===void 0||Te)&&Q.clearRect(0,0,Le,Ie),r||(Q.translate(ie.x,ie.y),Q.scale(Me,Me)),a&&Q.translate(a.x,a.y),i&&Q.scale(i,i)}if(o(L,"setContextTransform"),p||(s.textureDrawLastFrame=!1),p){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=u.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var B=s.data.bufferContexts[s.TEXTURE_BUFFER];B.setTransform(1,0,0,1,0,0),B.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:B,drawOnlyNodeLayer:!0,forcedPxRatio:l*s.textureMult});var C=s.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:s.canvasWidth,height:s.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}d[s.DRAG]=!1,d[s.NODE]=!1;var E=h.contexts[s.NODE],R=s.textureCache.texture,C=s.textureCache.viewport;E.setTransform(1,0,0,1,0,0),f?M(E,0,0,C.width,C.height):E.clearRect(0,0,C.width,C.height);var O=x.core("outside-texture-bg-color").value,P=x.core("outside-texture-bg-opacity").value;s.colorFillStyle(E,O[0],O[1],O[2],P),E.fillRect(0,0,C.width,C.height);var k=u.zoom();L(E,!1),E.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/l,C.height/C.zoom/l),E.drawImage(R,C.mpan.x,C.mpan.y,C.width/C.zoom/l,C.height/C.zoom/l)}else s.textureOnViewport&&!t&&(s.textureCache=null);var A=u.extent(),$=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),F=s.hideEdgesOnViewport&&$,G=[];if(G[s.NODE]=!d[s.NODE]&&f&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,G[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),G[s.DRAG]=!d[s.DRAG]&&f&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,G[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),d[s.NODE]||r||n||G[s.NODE]){var q=f&&!G[s.NODE]&&g!==1,E=t||(q?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:h.contexts[s.NODE]),W=f&&!q?"motionBlur":void 0;L(E,W),F?s.drawCachedNodes(E,D.nondrag,l,A):s.drawLayeredElements(E,D.nondrag,l,A),s.debug&&s.drawDebugPoints(E,D.nondrag),!r&&!f&&(d[s.NODE]=!1)}if(!n&&(d[s.DRAG]||r||G[s.DRAG])){var q=f&&!G[s.DRAG]&&g!==1,E=t||(q?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:h.contexts[s.DRAG]);L(E,f&&!q?"motionBlur":void 0),F?s.drawCachedNodes(E,D.drag,l,A):s.drawCachedElements(E,D.drag,l,A),s.debug&&s.drawDebugPoints(E,D.drag),!r&&!f&&(d[s.DRAG]=!1)}if(s.showFps||!n&&d[s.SELECT_BOX]&&!r){var E=t||h.contexts[s.SELECT_BOX];if(L(E),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var k=s.cy.zoom(),re=x.core("selection-box-border-width").value/k;E.lineWidth=re,E.fillStyle="rgba("+x.core("selection-box-color").value[0]+","+x.core("selection-box-color").value[1]+","+x.core("selection-box-color").value[2]+","+x.core("selection-box-opacity").value+")",E.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),re>0&&(E.strokeStyle="rgba("+x.core("selection-box-border-color").value[0]+","+x.core("selection-box-border-color").value[1]+","+x.core("selection-box-border-color").value[2]+","+x.core("selection-box-opacity").value+")",E.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(h.bgActivePosistion&&!s.hoverData.selecting){var k=s.cy.zoom(),oe=h.bgActivePosistion;E.fillStyle="rgba("+x.core("active-bg-color").value[0]+","+x.core("active-bg-color").value[1]+","+x.core("active-bg-color").value[2]+","+x.core("active-bg-opacity").value+")",E.beginPath(),E.arc(oe.x,oe.y,x.core("active-bg-size").pfValue/k,0,2*Math.PI),E.fill()}var te=s.lastRedrawTime;if(s.showFps&&te){te=Math.round(te);var se=Math.round(1e3/te);E.setTransform(1,0,0,1,0,0),E.fillStyle="rgba(255, 0, 0, 0.75)",E.strokeStyle="rgba(255, 0, 0, 0.75)",E.lineWidth=1,E.fillText("1 frame = "+te+" ms = "+se+" fps",0,20);var Y=60;E.strokeRect(0,30,250,20),E.fillRect(0,30,250*Math.min(se/Y,1),20)}r||(d[s.SELECT_BOX]=!1)}if(f&&g!==1){var V=h.contexts[s.NODE],U=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],ne=h.contexts[s.DRAG],K=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],fe=o(function(Q,Te,ie){Q.setTransform(1,0,0,1,0,0),ie||!v?Q.clearRect(0,0,s.canvasWidth,s.canvasHeight):M(Q,0,0,s.canvasWidth,s.canvasHeight);var Me=g;Q.drawImage(Te,0,0,s.canvasWidth*Me,s.canvasHeight*Me,0,0,s.canvasWidth,s.canvasHeight)},"drawMotionBlur");(d[s.NODE]||G[s.NODE])&&(fe(V,U,G[s.NODE]),d[s.NODE]=!1),(d[s.DRAG]||G[s.DRAG])&&(fe(ne,K,G[s.DRAG]),d[s.DRAG]=!1)}s.prevViewport=C,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),f&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!p,s.mbFrames=0,d[s.NODE]=!0,d[s.DRAG]=!0,s.redraw()},OPe)),t||u.emit("render")},Hu={},Hu.drawPolygonPath=function(e,t,r,n,i,a){var s=n/2,l=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+s*a[0],r+l*a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(t+s*a[u*2],r+l*a[u*2+1]);e.closePath()},Hu.drawRoundPolygonPath=function(e,t,r,n,i,a,s){s.forEach(function(l){return bz(e,l)}),e.closePath()},Hu.drawRoundRectanglePath=function(e,t,r,n,i,a){var s=n/2,l=i/2,u=a==="auto"?xd(n,i):Math.min(a,l,s);e.beginPath&&e.beginPath(),e.moveTo(t,r-l),e.arcTo(t+s,r-l,t+s,r,u),e.arcTo(t+s,r+l,t,r+l,u),e.arcTo(t-s,r+l,t-s,r,u),e.arcTo(t-s,r-l,t,r-l,u),e.lineTo(t,r-l),e.closePath()},Hu.drawBottomRoundRectanglePath=function(e,t,r,n,i,a){var s=n/2,l=i/2,u=a==="auto"?xd(n,i):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-l),e.lineTo(t+s,r-l),e.lineTo(t+s,r),e.arcTo(t+s,r+l,t,r+l,u),e.arcTo(t-s,r+l,t-s,r,u),e.lineTo(t-s,r-l),e.lineTo(t,r-l),e.closePath()},Hu.drawCutRectanglePath=function(e,t,r,n,i,a,s){var l=n/2,u=i/2,h=s==="auto"?nE():s;e.beginPath&&e.beginPath(),e.moveTo(t-l+h,r-u),e.lineTo(t+l-h,r-u),e.lineTo(t+l,r-u+h),e.lineTo(t+l,r+u-h),e.lineTo(t+l-h,r+u),e.lineTo(t-l+h,r+u),e.lineTo(t-l,r+u-h),e.lineTo(t-l,r-u+h),e.closePath()},Hu.drawBarrelPath=function(e,t,r,n,i){var a=n/2,s=i/2,l=t-a,u=t+a,h=r-s,d=r+s,p=iE(n,i),f=p.widthOffset,g=p.heightOffset,m=p.ctrlPtOffsetPct*f;e.beginPath&&e.beginPath(),e.moveTo(l,h+g),e.lineTo(l,d-g),e.quadraticCurveTo(l+m,d,l+f,d),e.lineTo(u-f,d),e.quadraticCurveTo(u-m,d,u,d-g),e.lineTo(u,h+g),e.quadraticCurveTo(u-m,h,u-f,h),e.lineTo(l+f,h),e.quadraticCurveTo(l+m,h,l,h+g),e.closePath()},Fq=Math.sin(0),zq=Math.cos(0),AE={},LE={},Gq=Math.PI/40,Lp=0*Math.PI;Lp<2*Math.PI;Lp+=Gq)AE[Lp]=Math.sin(Lp),LE[Lp]=Math.cos(Lp);Hu.drawEllipsePath=function(e,t,r,n,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var a,s,l=n/2,u=i/2,h=0*Math.PI;h<2*Math.PI;h+=Gq)a=t-l*AE[h]*Fq+l*LE[h]*zq,s=r+u*LE[h]*Fq+u*AE[h]*zq,h===0?e.moveTo(a,s):e.lineTo(a,s);e.closePath()},qf={},qf.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},qf.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=e.full?Math.ceil(n.w):i[2],s=e.full?Math.ceil(n.h):i[3],l=Ct(e.maxWidth)||Ct(e.maxHeight),u=this.getPixelRatio(),h=1;if(e.scale!==void 0)a*=e.scale,s*=e.scale,h=e.scale;else if(l){var d=1/0,p=1/0;Ct(e.maxWidth)&&(d=h*e.maxWidth/a),Ct(e.maxHeight)&&(p=h*e.maxHeight/s),h=Math.min(d,p),a*=h,s*=h}l||(a*=u,s*=u,h*=u);var f=document.createElement("canvas");f.width=a,f.height=s,f.style.width=a+"px",f.style.height=s+"px";var g=f.getContext("2d");if(a>0&&s>0){g.clearRect(0,0,a,s),g.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(e.full)g.translate(-n.x1*h,-n.y1*h),g.scale(h,h),this.drawElements(g,m),g.scale(1/h,1/h),g.translate(n.x1*h,n.y1*h);else{var y=t.pan(),b={x:y.x*h,y:y.y*h};h*=t.zoom(),g.translate(b.x,b.y),g.scale(h,h),this.drawElements(g,m),g.scale(1/h,1/h),g.translate(-b.x,-b.y)}e.bg&&(g.globalCompositeOperation="destination-over",g.fillStyle=e.bg,g.rect(0,0,a,s),g.fill())}return f},o(hNe,"b64ToBlob"),o(wz,"b64UriToB64"),o(Tz,"output"),qf.png=function(e){return Tz(e,this.bufferCanvasImage(e),"image/png")},qf.jpg=function(e){return Tz(e,this.bufferCanvasImage(e),"image/jpeg")},qq={},qq.nodeShapeImpl=function(e,t,r,n,i,a,s,l){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,a);case"polygon":return this.drawPolygonPath(t,r,n,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,i,a,s,l);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,i,a,l);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,i,a,s,l);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,i,a,l);case"barrel":return this.drawBarrelPath(t,r,n,i,a)}},PPe=Ez,sn=Ez.prototype,sn.CANVAS_LAYERS=3,sn.SELECT_BOX=0,sn.DRAG=1,sn.NODE=2,sn.BUFFER_COUNT=3,sn.TEXTURE_BUFFER=0,sn.MOTIONBLUR_BUFFER_NODE=1,sn.MOTIONBLUR_BUFFER_DRAG=2,o(Ez,"CanvasRenderer"),sn.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[sn.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[sn.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[sn.SELECT_BOX]=t;break}},BPe=typeof Path2D<"u",sn.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e},sn.usePaths=function(){return BPe&&this.pathsEnabled},sn.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},sn.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},sn.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":Bi(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=e,r.height=t}return r},[Pq,Ol,Lc,SE,Cd,Ap,$s,Hu,qf,qq].forEach(function(e){br(sn,e)}),$Pe=[{name:"null",impl:vz},{name:"base",impl:Nq},{name:"canvas",impl:PPe}],FPe=[{type:"layout",extensions:UOe},{type:"renderer",extensions:$Pe}],jq={},Yq={},o(_z,"setExtension"),o(Cz,"getExtension"),o(dNe,"setModule"),o(pNe,"getModule"),NE=o(function(){if(arguments.length===2)return Cz.apply(null,arguments);if(arguments.length===3)return _z.apply(null,arguments);if(arguments.length===4)return pNe.apply(null,arguments);if(arguments.length===5)return dNe.apply(null,arguments);ci("Invalid extension access syntax")},"extension"),Pf.prototype.extension=NE,FPe.forEach(function(e){e.extensions.forEach(function(t){_z(e.type,t.name,t.impl)})}),Uq=o(function e(){if(!(this instanceof e))return new e;this.length=0},"Stylesheet"),Sd=Uq.prototype,Sd.instanceString=function(){return"stylesheet"},Sd.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},Sd.css=function(e,t){var r=this.length-1;if(or(e))this[r].properties.push({name:e,value:t});else if(en(e))for(var n=e,i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],l=n[s];if(l!=null){var u=La.properties[s]||La.properties[Ib(s)];if(u!=null){var h=u.name,d=l;this[r].properties.push({name:h,value:d})}}}return this},Sd.style=Sd.css,Sd.generateStyle=function(e){var t=new La(e);return this.appendToStyle(t)},Sd.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,i=r.properties;e.selector(n);for(var a=0;a<i.length;a++){var s=i[a];e.css(s.name,s.value)}}return e},zPe="3.30.2",Pl=o(function(e){if(e===void 0&&(e={}),en(e))return new Pf(e);if(or(e))return NE.apply(NE,arguments)},"cytoscape"),Pl.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Pl),e.apply(null,t),this},Pl.warnings=function(e){return Vz(e)},Pl.version=zPe,Pl.stylesheet=Pl.Stylesheet=Uq}),qPe=Mt((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n():typeof define=="function"&&define.amd?define([],n):typeof e=="object"?e.layoutBase=n():r.layoutBase=n()},"webpackUniversalModuleDefinition")(e,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return o(i,"__webpack_require__"),i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,l){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:l})},i.n=function(a){var s=a&&a.__esModule?o(function(){return a.default},"getDefault"):o(function(){return a},"getModuleExports");return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(r,n,i){"use strict";function a(){}o(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(8),l=i(9);function u(d,p,f){a.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=d,this.target=p}o(u,"LEdge"),u.prototype=Object.create(a.prototype);for(var h in a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var f=this.getOtherEnd(d),g=p.getGraphManager().getRoot();;){if(f.getOwner()==p)return f;if(f.getOwner()==g)break;f=f.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,i){"use strict";function a(s){this.vGraphObject=s}o(a,"LGraphObject"),r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(10),l=i(13),u=i(0),h=i(16),d=i(4);function p(g,m,y,b){y==null&&b==null&&(b=m),a.call(this,b),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=g,y!=null&&m!=null?this.rect=new l(m.x,m.y,y.width,y.height):this.rect=new l}o(p,"LNode"),p.prototype=Object.create(a.prototype);for(var f in a)p[f]=a[f];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(g){this.rect.width=g},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(g){this.rect.height=g},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(g,m){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(g,m){this.rect.x=g-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(g,m){this.rect.x=g,this.rect.y=m},p.prototype.moveBy=function(g,m){this.rect.x+=g,this.rect.y+=m},p.prototype.getEdgeListToNode=function(g){var m=[],y,b=this;return b.edges.forEach(function(v){if(v.target==g){if(v.source!=b)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(g){var m=[],y,b=this;return b.edges.forEach(function(v){if(!(v.source==b||v.target==b))throw"Incorrect edge source and/or target";(v.target==g||v.source==g)&&m.push(v)}),m},p.prototype.getNeighborsList=function(){var g=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)g.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";g.add(y.source)}}),g},p.prototype.withChildren=function(){var g=new Set,m,y;if(g.add(this),this.child!=null)for(var b=this.child.getNodes(),v=0;v<b.length;v++)m=b[v],y=m.withChildren(),y.forEach(function(x){g.add(x)});return g},p.prototype.getNoOfChildren=function(){var g=0,m;if(this.child==null)g=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],g+=m.getNoOfChildren();return g==0&&(g=1),g},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var g,m,y=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+h.nextDouble()*(b-y)+y;var v=-u.INITIAL_WORLD_BOUNDARY,x=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(x-v)+v,this.rect.x=g,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=g.getRight()-g.getLeft(),y=g.getBottom()-g.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(g){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var b=new d(m,y),v=g.inverseTransformPoint(b);this.setLocation(v.x,v.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p},function(r,n,i){"use strict";function a(s,l){s==null&&l==null?(this.x=0,this.y=0):(this.x=s,this.y=l)}o(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(10),l=i(0),u=i(6),h=i(3),d=i(1),p=i(13),f=i(12),g=i(11);function m(b,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=l.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,v!=null&&v instanceof u?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}o(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var y in a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,v,x){if(v==null&&x==null){var k=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(k)>-1)throw"Node already in graph!";return k.owner=this,this.getNodes().push(k),k}else{var w=b;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(w.source=v,w.target=x,w.isInterGraph=!1,this.getEdges().push(w),v.edges.push(w),x!=v&&x.edges.push(w),w)}},m.prototype.remove=function(b){var v=b;if(b instanceof h){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),k,w=x.length,_=0;_<w;_++)k=x[_],k.isInterGraph?this.graphManager.remove(k):k.source.owner.remove(k);var S=this.nodes.indexOf(v);if(S==-1)throw"Node not in owner node list!";this.nodes.splice(S,1)}else if(b instanceof d){var k=b;if(k==null)throw"Edge is null!";if(!(k.source!=null&&k.target!=null))throw"Source and/or target is null!";if(!(k.source.owner!=null&&k.target.owner!=null&&k.source.owner==this&&k.target.owner==this))throw"Source and/or target owner is invalid!";var C=k.source.edges.indexOf(k),T=k.target.edges.indexOf(k);if(!(C>-1&&T>-1))throw"Source and/or target doesn't know this edge!";k.source.edges.splice(C,1),k.target!=k.source&&k.target.edges.splice(T,1);var S=k.source.owner.getEdges().indexOf(k);if(S==-1)throw"Not in owner's edge list!";k.source.owner.getEdges().splice(S,1)}},m.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,v=s.MAX_VALUE,x,k,w,_=this.getNodes(),S=_.length,C=0;C<S;C++){var T=_[C];x=T.getTop(),k=T.getLeft(),b>x&&(b=x),v>k&&(v=k)}return b==s.MAX_VALUE?null:(_[0].getParent().paddingLeft!=null?w=_[0].getParent().paddingLeft:w=this.margin,this.left=v-w,this.top=b-w,new f(this.left,this.top))},m.prototype.updateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,k=s.MAX_VALUE,w=-s.MAX_VALUE,_,S,C,T,N,D=this.nodes,M=D.length,L=0;L<M;L++){var B=D[L];b&&B.child!=null&&B.updateBounds(),_=B.getLeft(),S=B.getRight(),C=B.getTop(),T=B.getBottom(),v>_&&(v=_),x<S&&(x=S),k>C&&(k=C),w<T&&(w=T)}var E=new p(v,k,x-v,w-k);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),D[0].getParent().paddingLeft!=null?N=D[0].getParent().paddingLeft:N=this.margin,this.left=E.x-N,this.right=E.x+E.width+N,this.top=E.y-N,this.bottom=E.y+E.height+N},m.calculateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,k=s.MAX_VALUE,w=-s.MAX_VALUE,_,S,C,T,N=b.length,D=0;D<N;D++){var M=b[D];_=M.getLeft(),S=M.getRight(),C=M.getTop(),T=M.getBottom(),v>_&&(v=_),x<S&&(x=S),k>C&&(k=C),w<T&&(w=T)}var L=new p(v,k,x-v,w-k);return L},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,v=this.nodes,x=v.length,k=0;k<x;k++){var w=v[k];b+=w.calcEstimatedSize()}return b==0?this.estimatedSize=l.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new g,x=new Set,k=this.nodes[0],w,_,S=k.withChildren();for(S.forEach(function(L){v.push(L),x.add(L)});v.length!==0;){k=v.shift(),w=k.getEdges();for(var C=w.length,T=0;T<C;T++){var N=w[T];if(_=N.getOtherEndInGraph(k,this),_!=null&&!x.has(_)){var D=_.withChildren();D.forEach(function(L){v.push(L),x.add(L)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var M=0;x.forEach(function(L){L.owner==b&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,n,i){"use strict";var a,s=i(1);function l(u){a=i(5),this.layout=u,this.graphs=[],this.edges=[]}o(l,"LGraphManager"),l.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},l.prototype.add=function(u,h,d,p,f){if(d==null&&p==null&&f==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{f=d,p=h,d=u;var g=p.getOwner(),m=f.getOwner();if(!(g!=null&&g.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(g==m)return d.isInterGraph=!1,g.add(d,p,f);if(d.isInterGraph=!0,d.source=p,d.target=f,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},l.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(h.getEdges());for(var p,f=d.length,g=0;g<f;g++)p=d[g],h.remove(p);var m=[];m=m.concat(h.getNodes());var y;f=m.length;for(var g=0;g<f;g++)y=m[g],h.remove(y);h==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(h);this.graphs.splice(b,1),h.parent=null}else if(u instanceof s){if(p=u,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var b=p.source.edges.indexOf(p);if(p.source.edges.splice(b,1),b=p.target.edges.indexOf(p),p.target.edges.splice(b,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var b=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(b,1)}},l.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},l.prototype.getGraphs=function(){return this.graphs},l.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},l.prototype.resetAllNodes=function(){this.allNodes=null},l.prototype.resetAllEdges=function(){this.allEdges=null},l.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},l.prototype.getAllEdges=function(){if(this.allEdges==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<h.length;p++)u=u.concat(h[p].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},l.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},l.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},l.prototype.getRoot=function(){return this.rootGraph},l.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},l.prototype.getLayout=function(){return this.layout},l.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var d=u.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=h.getOwner();do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},l.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,f,g=this.getAllEdges(),m=g.length,y=0;y<m;y++){if(u=g[y],h=u.source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h==d){u.lca=h.getOwner();continue}for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,f=d.getOwner();u.lca==null;){if(f==p){u.lca=f;break}if(f==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=f.getParent(),f=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},l.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var d=u.getOwner();do{if(d==null)break;var p=h.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},l.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var d,p=u.getNodes(),f=p.length,g=0;g<f;g++)d=p[g],d.inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},l.prototype.includesInvalidEdge=function(){for(var u,h=this.edges.length,d=0;d<h;d++)if(u=this.edges[d],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=l},function(r,n,i){"use strict";var a=i(0);function s(){}o(s,"FDLayoutConstants");for(var l in a)s[l]=a[l];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){"use strict";var a=i(12);function s(){}o(s,"IGeometry"),s.calcSeparationAmount=function(l,u,h,d){if(!l.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(l,u,p),h[0]=Math.min(l.getRight(),u.getRight())-Math.max(l.x,u.x),h[1]=Math.min(l.getBottom(),u.getBottom())-Math.max(l.y,u.y),l.getX()<=u.getX()&&l.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-l.getX(),l.getRight()-u.getRight()):u.getX()<=l.getX()&&u.getRight()>=l.getRight()&&(h[0]+=Math.min(l.getX()-u.getX(),u.getRight()-l.getRight())),l.getY()<=u.getY()&&l.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-l.getY(),l.getBottom()-u.getBottom()):u.getY()<=l.getY()&&u.getBottom()>=l.getBottom()&&(h[1]+=Math.min(l.getY()-u.getY(),u.getBottom()-l.getBottom()));var f=Math.abs((u.getCenterY()-l.getCenterY())/(u.getCenterX()-l.getCenterX()));u.getCenterY()===l.getCenterY()&&u.getCenterX()===l.getCenterX()&&(f=1);var g=f*h[0],m=h[1]/f;h[0]<m?m=h[0]:g=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(g/2+d)},s.decideDirectionsForOverlappingNodes=function(l,u,h){l.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,l.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(l,u,h){var d=l.getCenterX(),p=l.getCenterY(),f=u.getCenterX(),g=u.getCenterY();if(l.intersects(u))return h[0]=d,h[1]=p,h[2]=f,h[3]=g,!0;var m=l.getX(),y=l.getY(),b=l.getRight(),v=l.getX(),x=l.getBottom(),k=l.getRight(),w=l.getWidthHalf(),_=l.getHeightHalf(),S=u.getX(),C=u.getY(),T=u.getRight(),N=u.getX(),D=u.getBottom(),M=u.getRight(),L=u.getWidthHalf(),B=u.getHeightHalf(),E=!1,R=!1;if(d===f){if(p>g)return h[0]=d,h[1]=y,h[2]=f,h[3]=D,!1;if(p<g)return h[0]=d,h[1]=x,h[2]=f,h[3]=C,!1}else if(p===g){if(d>f)return h[0]=m,h[1]=p,h[2]=T,h[3]=g,!1;if(d<f)return h[0]=b,h[1]=p,h[2]=S,h[3]=g,!1}else{var O=l.height/l.width,P=u.height/u.width,A=(g-p)/(f-d),$=void 0,F=void 0,G=void 0,q=void 0,W=void 0,re=void 0;if(-O===A?d>f?(h[0]=v,h[1]=x,E=!0):(h[0]=b,h[1]=y,E=!0):O===A&&(d>f?(h[0]=m,h[1]=y,E=!0):(h[0]=k,h[1]=x,E=!0)),-P===A?f>d?(h[2]=N,h[3]=D,R=!0):(h[2]=T,h[3]=C,R=!0):P===A&&(f>d?(h[2]=S,h[3]=C,R=!0):(h[2]=M,h[3]=D,R=!0)),E&&R)return!1;if(d>f?p>g?($=this.getCardinalDirection(O,A,4),F=this.getCardinalDirection(P,A,2)):($=this.getCardinalDirection(-O,A,3),F=this.getCardinalDirection(-P,A,1)):p>g?($=this.getCardinalDirection(-O,A,1),F=this.getCardinalDirection(-P,A,3)):($=this.getCardinalDirection(O,A,2),F=this.getCardinalDirection(P,A,4)),!E)switch($){case 1:q=y,G=d+-_/A,h[0]=G,h[1]=q;break;case 2:G=k,q=p+w*A,h[0]=G,h[1]=q;break;case 3:q=x,G=d+_/A,h[0]=G,h[1]=q;break;case 4:G=v,q=p+-w*A,h[0]=G,h[1]=q;break}if(!R)switch(F){case 1:re=C,W=f+-B/A,h[2]=W,h[3]=re;break;case 2:W=M,re=g+L*A,h[2]=W,h[3]=re;break;case 3:re=D,W=f+B/A,h[2]=W,h[3]=re;break;case 4:W=N,re=g+-L*A,h[2]=W,h[3]=re;break}}return!1},s.getCardinalDirection=function(l,u,h){return l>u?h:1+h%4},s.getIntersection=function(l,u,h,d){if(d==null)return this.getIntersection2(l,u,h);var p=l.x,f=l.y,g=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,k=void 0,w=void 0,_=void 0,S=void 0,C=void 0,T=void 0,N=void 0,D=void 0,M=void 0;return _=m-f,C=p-g,N=g*f-p*m,S=x-b,T=y-v,D=v*b-y*x,M=_*T-S*C,M===0?null:(k=(C*D-T*N)/M,w=(S*N-_*D)/M,new a(k,w))},s.angleOfVector=function(l,u,h,d){var p=void 0;return l!==h?(p=Math.atan((d-u)/(h-l)),h<l?p+=Math.PI:d<u&&(p+=this.TWO_PI)):d<u?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(l,u,h,d){var p=l.x,f=l.y,g=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,k=(g-p)*(x-b)-(v-y)*(m-f);if(k===0)return!1;var w=((x-b)*(v-p)+(y-v)*(x-f))/k,_=((f-m)*(v-p)+(g-p)*(x-f))/k;return 0<w&&w<1&&0<_&&_<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){"use strict";function a(){}o(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){"use strict";function a(){}o(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){"use strict";var a=function(){function p(f,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return o(p,"defineProperties"),function(f,g,m){return g&&p(f.prototype,g),m&&p(f,m),f}}();function s(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=o(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=o(function(p,f,g,m){return p!==null?p.next=f:m.head=f,g!==null?g.prev=f:m.tail=f,f.prev=p,f.next=g,m.length++,f},"add"),h=o(function(p,f){var g=p.prev,m=p.next;return g!==null?g.next=m:f.head=m,m!==null?m.prev=g:f.tail=g,p.prev=p.next=null,f.length--,p},"_remove"),d=function(){function p(f){var g=this;s(this,p),this.length=0,this.head=null,this.tail=null,f?.forEach(function(m){return g.push(m)})}return o(p,"LinkedList"),a(p,[{key:"size",value:o(function(){return this.length},"size")},{key:"insertBefore",value:o(function(f,g){return u(g.prev,l(f),g,this)},"insertBefore")},{key:"insertAfter",value:o(function(f,g){return u(g,l(f),g.next,this)},"insertAfter")},{key:"insertNodeBefore",value:o(function(f,g){return u(g.prev,f,g,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:o(function(f,g){return u(g,f,g.next,this)},"insertNodeAfter")},{key:"push",value:o(function(f){return u(this.tail,l(f),null,this)},"push")},{key:"unshift",value:o(function(f){return u(null,l(f),this.head,this)},"unshift")},{key:"remove",value:o(function(f){return h(f,this)},"remove")},{key:"pop",value:o(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:o(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:o(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:o(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:o(function(f){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;return m.value}},"get_object_at")},{key:"set_object_at",value:o(function(f,g){if(f<=this.length()){for(var m=1,y=this.head;m<f;)y=y.next,m++;y.value=g}},"set_object_at")}]),p}();r.exports=d},function(r,n,i){"use strict";function a(s,l,u){this.x=null,this.y=null,s==null&&l==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof l=="number"&&u==null?(this.x=s,this.y=l):s.constructor.name=="Point"&&l==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}o(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,l,u){s.constructor.name=="Point"&&l==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof l=="number"&&u==null&&(parseInt(s)==s&&parseInt(l)==l?this.move(s,l):(this.x=Math.floor(s+.5),this.y=Math.floor(l+.5)))},a.prototype.move=function(s,l){this.x=s,this.y=l},a.prototype.translate=function(s,l){this.x+=s,this.y+=l},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var l=s;return this.x==l.x&&this.y==l.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){"use strict";function a(s,l,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&l!=null&&u!=null&&h!=null&&(this.x=s,this.y=l,this.width=u,this.height=h)}o(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function s(){}o(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(l){return s.isPrimitive(l)?l:(l.uniqueID!=null||(l.uniqueID=s.getString(),s.lastID++),l.uniqueID)},s.getString=function(l){return l==null&&(l=s.lastID),"Object#"+l},s.isPrimitive=function(l){var u=typeof l>"u"?"undefined":a(l);return l==null||u!="object"&&u!="function"},r.exports=s},function(r,n,i){"use strict";function a(y){if(Array.isArray(y)){for(var b=0,v=Array(y.length);b<y.length;b++)v[b]=y[b];return v}else return Array.from(y)}o(a,"_toConsumableArray");var s=i(0),l=i(6),u=i(3),h=i(1),d=i(5),p=i(4),f=i(17),g=i(27);function m(y){g.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new l(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}o(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(g.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new l(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y,b=this.graphManager.getAllEdges(),v=0;v<b.length;v++)y=b[v];for(var x,k=this.graphManager.getRoot().getNodes(),v=0;v<k.length;v++)x=k[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var b=y;if(b.getChild()!=null)for(var v=b.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(b.vGraphObject!=null){var k=b.vGraphObject;k.update(b)}}else if(y instanceof h){var w=y;if(w.vGraphObject!=null){var _=w.vGraphObject;_.update(w)}}else if(y instanceof d){var S=y;if(S.vGraphObject!=null){var C=S.vGraphObject;C.update(S)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var b=new f,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(v.x),b.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),k,w=0;w<x.length;w++)k=x[w],k.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,v,x=y.getNodes(),k=0;k<x.length;k++)b=x[k],v=b.getChild(),v==null||v.getNodes().length==0?b.scatter():(this.positionNodesRandomly(v),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,v=this.graphManager.getRoot().getNodes(),x=!0,k=0;k<v.length;k++)v[k].getChild()!=null&&(x=!1);if(!x)return y;var w=new Set,_=[],S=new Map,C=[];for(C=C.concat(v);C.length>0&&b;){for(_.push(C[0]);_.length>0&&b;){var T=_[0];_.splice(0,1),w.add(T);for(var N=T.getEdges(),k=0;k<N.length;k++){var D=N[k].getOtherEnd(T);if(S.get(T)!=D)if(!w.has(D))_.push(D),S.set(D,T);else{b=!1;break}}}if(!b)y=[];else{var M=[].concat(a(w));y.push(M);for(var k=0;k<M.length;k++){var L=M[k],B=C.indexOf(L);B>-1&&C.splice(B,1)}w=new Set,S=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],v=y.source,x=this.graphManager.calcLowestCommonAncestor(y.source,y.target),k=0;k<y.bendpoints.length;k++){var w=this.newNode(null);w.setRect(new Point(0,0),new Dimension(1,1)),x.add(w);var _=this.newEdge(null);this.graphManager.add(_,v,w),b.add(w),v=w}var _=this.newEdge(null);return this.graphManager.add(_,v,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):x.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var v=y[b];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),k=0;k<x.length;k++){var w=x[k],_=new p(w.getCenterX(),w.getCenterY()),S=v.bendpoints.get(k);S.x=_.x,S.y=_.y,w.getOwner().remove(w)}this.graphManager.add(v,v.source,v.target)}}},m.transform=function(y,b,v,x){if(v!=null&&x!=null){var k=b;if(y<=50){var w=b/v;k-=(b-w)/50*(50-y)}else{var _=b*x;k+=(_-b)/50*(y-50)}return k}else{var S,C;return y<=50?(S=9*b/500,C=b/10):(S=9*b/50,C=-8*b),S*y+C}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var v=[],x=new Map,k=!1,w=null;(b.length==1||b.length==2)&&(k=!0,w=b[0]);for(var _=0;_<b.length;_++){var S=b[_],C=S.getNeighborsList().size;x.set(S,S.getNeighborsList().size),C==1&&v.push(S)}var T=[];for(T=T.concat(v);!k;){var N=[];N=N.concat(T),T=[];for(var _=0;_<b.length;_++){var S=b[_],D=b.indexOf(S);D>=0&&b.splice(D,1);var M=S.getNeighborsList();M.forEach(function(E){if(v.indexOf(E)<0){var R=x.get(E),O=R-1;O==1&&T.push(E),x.set(E,O)}})}v=v.concat(T),(b.length==1||b.length==2)&&(k=!0,w=b[0])}return w},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,n,i){"use strict";function a(){}o(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){"use strict";var a=i(4);function s(l,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(l){this.lworldOrgX=l},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(l){this.lworldOrgY=l},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(l){this.lworldExtX=l},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(l){this.lworldExtY=l},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(l){this.ldeviceOrgX=l},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(l){this.ldeviceOrgY=l},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(l){this.ldeviceExtX=l},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(l){this.ldeviceExtY=l},s.prototype.transformX=function(l){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(l-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(l){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(l-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(l){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(l-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(l){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(l-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(l){var u=new a(this.inverseTransformX(l.x),this.inverseTransformY(l.y));return u},r.exports=s},function(r,n,i){"use strict";function a(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}else return Array.from(g)}o(a,"_toConsumableArray");var s=i(15),l=i(7),u=i(0),h=i(8),d=i(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.springConstant=l.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=l.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=l.MAX_ITERATIONS}o(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var f in s)p[f]=s[f];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var g,m,y,b,v,x,k=this.getGraphManager().getAllEdges(),w=0;w<k.length;w++)g=k[w],g.idealLength=this.idealEdgeLength,g.isInterGraph&&(y=g.getSource(),b=g.getTarget(),v=g.getSourceInLca().getEstimatedSize(),x=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=v+x-2*u.SIMPLE_NODE_SIZE),m=g.getLca().getInclusionTreeDepth(),g.idealLength+=l.DEFAULT_EDGE_LENGTH*l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+b.getInclusionTreeDepth()-2*m))},p.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>l.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*l.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-l.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>l.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(l.COOLING_ADAPTATION_FACTOR,1-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*(1-l.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var g=this.getAllEdges(),m,y=0;y<g.length;y++)m=g[y],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,v,x,k=this.getAllNodes(),w;if(this.useFRGridVariant)for(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&g&&this.updateGrid(),w=new Set,y=0;y<k.length;y++)v=k[y],this.calculateRepulsionForceOfANode(v,w,g,m),w.add(v);else for(y=0;y<k.length;y++)for(v=k[y],b=y+1;b<k.length;b++)x=k[b],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},p.prototype.calcGravitationalForces=function(){for(var g,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)g=m[y],this.calcGravitationalForce(g)},p.prototype.moveNodes=function(){for(var g=this.getAllNodes(),m,y=0;y<g.length;y++)m=g[y],m.move()},p.prototype.calcSpringForce=function(g,m){var y=g.getSource(),b=g.getTarget(),v,x,k,w;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;v=g.getLength(),v!=0&&(x=this.springConstant*(v-m),k=x*(g.lengthX/v),w=x*(g.lengthY/v),y.springForceX+=k,y.springForceY+=w,b.springForceX-=k,b.springForceY-=w)},p.prototype.calcRepulsionForce=function(g,m){var y=g.getRect(),b=m.getRect(),v=new Array(2),x=new Array(4),k,w,_,S,C,T,N;if(y.intersects(b)){h.calcSeparationAmount(y,b,v,l.DEFAULT_EDGE_LENGTH/2),T=2*v[0],N=2*v[1];var D=g.noOfChildren*m.noOfChildren/(g.noOfChildren+m.noOfChildren);g.repulsionForceX-=D*T,g.repulsionForceY-=D*N,m.repulsionForceX+=D*T,m.repulsionForceY+=D*N}else this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null?(k=b.getCenterX()-y.getCenterX(),w=b.getCenterY()-y.getCenterY()):(h.getIntersection(y,b,x),k=x[2]-x[0],w=x[3]-x[1]),Math.abs(k)<l.MIN_REPULSION_DIST&&(k=d.sign(k)*l.MIN_REPULSION_DIST),Math.abs(w)<l.MIN_REPULSION_DIST&&(w=d.sign(w)*l.MIN_REPULSION_DIST),_=k*k+w*w,S=Math.sqrt(_),C=this.repulsionConstant*g.noOfChildren*m.noOfChildren/_,T=C*k/S,N=C*w/S,g.repulsionForceX-=T,g.repulsionForceY-=N,m.repulsionForceX+=T,m.repulsionForceY+=N},p.prototype.calcGravitationalForce=function(g){var m,y,b,v,x,k,w,_;m=g.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,v=g.getCenterX()-y,x=g.getCenterY()-b,k=Math.abs(v)+g.getWidth()/2,w=Math.abs(x)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(_=m.getEstimatedSize()*this.gravityRangeFactor,(k>_||w>_)&&(g.gravitationForceX=-this.gravityConstant*v,g.gravitationForceY=-this.gravityConstant*x)):(_=m.getEstimatedSize()*this.compoundGravityRangeFactor,(k>_||w>_)&&(g.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},p.prototype.isConverged=function(){var g,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)g=m[y],g.noOfChildren=g.getNoOfChildren()},p.prototype.calcGrid=function(g){var m=0,y=0;m=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var b=new Array(m),v=0;v<m;v++)b[v]=new Array(y);for(var v=0;v<m;v++)for(var x=0;x<y;x++)b[v][x]=new Array;return b},p.prototype.addNodeToGrid=function(g,m,y){var b=0,v=0,x=0,k=0;b=parseInt(Math.floor((g.getRect().x-m)/this.repulsionRange)),v=parseInt(Math.floor((g.getRect().width+g.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((g.getRect().y-y)/this.repulsionRange)),k=parseInt(Math.floor((g.getRect().height+g.getRect().y-y)/this.repulsionRange));for(var w=b;w<=v;w++)for(var _=x;_<=k;_++)this.grid[w][_].push(g),g.setGridCoordinates(b,v,x,k)},p.prototype.updateGrid=function(){var g,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<y.length;g++)m=y[g],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(g,m,y,b){if(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var v=new Set;g.surrounding=new Array;for(var x,k=this.grid,w=g.startX-1;w<g.finishX+2;w++)for(var _=g.startY-1;_<g.finishY+2;_++)if(!(w<0||_<0||w>=k.length||_>=k[0].length)){for(var S=0;S<k[w][_].length;S++)if(x=k[w][_][S],!(g.getOwner()!=x.getOwner()||g==x)&&!m.has(x)&&!v.has(x)){var C=Math.abs(g.getCenterX()-x.getCenterX())-(g.getWidth()/2+x.getWidth()/2),T=Math.abs(g.getCenterY()-x.getCenterY())-(g.getHeight()/2+x.getHeight()/2);C<=this.repulsionRange&&T<=this.repulsionRange&&v.add(x)}}g.surrounding=[].concat(a(v))}for(w=0;w<g.surrounding.length;w++)this.calcRepulsionForce(g,g.surrounding[w])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p},function(r,n,i){"use strict";var a=i(1),s=i(7);function l(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH}o(l,"FDLayoutEdge"),l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];r.exports=l},function(r,n,i){"use strict";var a=i(3);function s(u,h,d,p){a.call(this,u,h,d,p),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o(s,"FDLayoutNode"),s.prototype=Object.create(a.prototype);for(var l in a)s[l]=a[l];s.prototype.setGridCoordinates=function(u,h,d,p){this.startX=u,this.finishX=h,this.startY=d,this.finishY=p},r.exports=s},function(r,n,i){"use strict";function a(s,l){this.width=0,this.height=0,s!==null&&l!==null&&(this.height=l,this.width=s)}o(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){"use strict";var a=i(14);function s(){this.map={},this.keys=[]}o(s,"HashMap"),s.prototype.put=function(l,u){var h=a.createID(l);this.contains(h)||(this.map[h]=u,this.keys.push(l))},s.prototype.contains=function(l){var u=a.createID(l);return this.map[l]!=null},s.prototype.get=function(l){var u=a.createID(l);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){"use strict";var a=i(14);function s(){this.set={}}o(s,"HashSet"),s.prototype.add=function(l){var u=a.createID(l);this.contains(u)||(this.set[u]=l)},s.prototype.remove=function(l){delete this.set[a.createID(l)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(l){return this.set[a.createID(l)]==l},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(l){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)l.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(l){for(var u=l.length,h=0;h<u;h++){var d=l[h];this.add(d)}},r.exports=s},function(r,n,i){"use strict";var a=function(){function h(d,p){for(var f=0;f<p.length;f++){var g=p[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return o(h,"defineProperties"),function(d,p,f){return p&&h(d.prototype,p),f&&h(d,f),d}}();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=i(11),u=function(){function h(d,p){s(this,h),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var f=void 0;d instanceof l?f=d.size():f=d.length,this._quicksort(d,0,f-1)}return o(h,"Quicksort"),a(h,[{key:"_quicksort",value:o(function(d,p,f){if(p<f){var g=this._partition(d,p,f);this._quicksort(d,p,g),this._quicksort(d,g+1,f)}},"_quicksort")},{key:"_partition",value:o(function(d,p,f){for(var g=this._get(d,p),m=p,y=f;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}},"_partition")},{key:"_get",value:o(function(d,p){return d instanceof l?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:o(function(d,p,f){d instanceof l?d.set_object_at(p,f):d[p]=f},"_set")},{key:"_swap",value:o(function(d,p,f){var g=this._get(d,p);this._set(d,p,this._get(d,f)),this._set(d,f,g)},"_swap")},{key:"_defaultCompareFunction",value:o(function(d,p){return p>d},"_defaultCompareFunction")}]),h}();r.exports=u},function(r,n,i){"use strict";var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return o(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=f,this.gap_penalty=g,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[b][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:o(function(){return this.score},"getScore")},{key:"getAlignments",value:o(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:o(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var f=1;f<this.jMax;f++){var g=void 0;this.sequence1[p-1]===this.sequence2[f-1]?g=this.grid[p-1][f-1]+this.match_score:g=this.grid[p-1][f-1]+this.mismatch_penalty;var m=this.grid[p-1][f]+this.gap_penalty,y=this.grid[p][f-1]+this.gap_penalty,b=[g,m,y],v=this.arrayAllMaxIndexes(b);this.grid[p][f]=b[v[0]],this.tracebackGrid[p][f]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:o(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:o(function(h,d){for(var p=[],f=-1;(f=h.indexOf(d,f+1))!==-1;)p.push(f);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:o(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u}();r.exports=l},function(r,n,i){"use strict";var a=o(function(){},"layoutBase");a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),r.exports=a},function(r,n,i){"use strict";function a(){this.listeners=[]}o(a,"Emitter");var s=a.prototype;s.addListener=function(l,u){this.listeners.push({event:l,callback:u})},s.removeListener=function(l,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===l&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(l,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];l===d.event&&d.callback(u)}},r.exports=a}])})}),jPe=Mt((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(qPe()):typeof define=="function"&&define.amd?define(["layout-base"],n):typeof e=="object"?e.coseBase=n(qPe()):r.coseBase=n(r.layoutBase)},"webpackUniversalModuleDefinition")(e,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return n[s].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return o(a,"__webpack_require__"),a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,l,u){a.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var l=s&&s.__esModule?o(function(){return s.default},"getDefault"):o(function(){return s},"getModuleExports");return a.d(l,"a",l),l},a.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},a.p="",a(a.s=7)}([function(n,i){n.exports=r},function(n,i,a){"use strict";var s=a(0).FDLayoutConstants;function l(){}o(l,"CoSEConstants");for(var u in s)l[u]=s[u];l.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,l.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,l.DEFAULT_COMPONENT_SEPERATION=60,l.TILE=!0,l.TILING_PADDING_VERTICAL=10,l.TILING_PADDING_HORIZONTAL=10,l.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=l},function(n,i,a){"use strict";var s=a(0).FDLayoutEdge;function l(h,d,p){s.call(this,h,d,p)}o(l,"CoSEEdge"),l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];n.exports=l},function(n,i,a){"use strict";var s=a(0).LGraph;function l(h,d,p){s.call(this,h,d,p)}o(l,"CoSEGraph"),l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];n.exports=l},function(n,i,a){"use strict";var s=a(0).LGraphManager;function l(h){s.call(this,h)}o(l,"CoSEGraphManager"),l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];n.exports=l},function(n,i,a){"use strict";var s=a(0).FDLayoutNode,l=a(0).IMath;function u(d,p,f,g){s.call(this,d,p,f,g)}o(u,"CoSENode"),u.prototype=Object.create(s.prototype);for(var h in s)u[h]=s[h];u.prototype.move=function(){var d=this.graphManager.getLayout();this.displacementX=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementX=d.coolingFactor*d.maxNodeDisplacement*l.sign(this.displacementX)),Math.abs(this.displacementY)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementY=d.coolingFactor*d.maxNodeDisplacement*l.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),d.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(d,p){for(var f=this.getChild().getNodes(),g,m=0;m<f.length;m++)g=f[m],g.getChild()==null?(g.moveBy(d,p),g.displacementX+=d,g.displacementY+=p):g.propogateDisplacementToChildren(d,p)},u.prototype.setPred1=function(d){this.pred1=d},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(d){this.next=d},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(d){this.processed=d},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,i,a){"use strict";var s=a(0).FDLayout,l=a(4),u=a(3),h=a(5),d=a(2),p=a(1),f=a(0).FDLayoutConstants,g=a(0).LayoutConstants,m=a(0).Point,y=a(0).PointD,b=a(0).Layout,v=a(0).Integer,x=a(0).IGeometry,k=a(0).LGraph,w=a(0).Transform;function _(){s.call(this),this.toBeTiled={}}o(_,"CoSELayout"),_.prototype=Object.create(s.prototype);for(var S in s)_[S]=s[S];_.prototype.newGraphManager=function(){var C=new l(this);return this.graphManager=C,C},_.prototype.newGraph=function(C){return new u(null,this.graphManager,C)},_.prototype.newNode=function(C){return new h(this.graphManager,C)},_.prototype.newEdge=function(C){return new d(null,null,C)},_.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=f.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=f.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=f.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=f.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/f.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=f.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},_.prototype.layout=function(){var C=g.DEFAULT_CREATE_BENDS_AS_NEEDED;return C&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},_.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(p.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(D){return C.has(D)});this.graphManager.setAllNodesToApplyGravitation(T)}}else{var N=this.getFlatForest();if(N.length>0)this.positionNodesRadially(N);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(L){return C.has(L)});this.graphManager.setAllNodesToApplyGravitation(T),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},_.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%f.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),T=this.nodesWithGravity.filter(function(M){return C.has(M)});this.graphManager.setAllNodesToApplyGravitation(T),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var N=!this.isTreeGrowing&&!this.isGrowthFinished,D=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(N,D),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},_.prototype.getPositionsData=function(){for(var C=this.graphManager.getAllNodes(),T={},N=0;N<C.length;N++){var D=C[N].rect,M=C[N].id;T[M]={id:M,x:D.getCenterX(),y:D.getCenterY(),w:D.width,h:D.height}}return T},_.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var C=!1;if(f.ANIMATE==="during")this.emit("layoutstarted");else{for(;!C;)C=this.tick();this.graphManager.updateBounds()}},_.prototype.calculateNodesToApplyGravitationTo=function(){var C=[],T,N=this.graphManager.getGraphs(),D=N.length,M;for(M=0;M<D;M++)T=N[M],T.updateConnected(),T.isConnected||(C=C.concat(T.getNodes()));return C},_.prototype.createBendpoints=function(){var C=[];C=C.concat(this.graphManager.getAllEdges());var T=new Set,N;for(N=0;N<C.length;N++){var D=C[N];if(!T.has(D)){var M=D.getSource(),L=D.getTarget();if(M==L)D.getBendpoints().push(new y),D.getBendpoints().push(new y),this.createDummyNodesForBendpoints(D),T.add(D);else{var B=[];if(B=B.concat(M.getEdgeListToNode(L)),B=B.concat(L.getEdgeListToNode(M)),!T.has(B[0])){if(B.length>1){var E;for(E=0;E<B.length;E++){var R=B[E];R.getBendpoints().push(new y),this.createDummyNodesForBendpoints(R)}}B.forEach(function(O){T.add(O)})}}}if(T.size==C.length)break}},_.prototype.positionNodesRadially=function(C){for(var T=new m(0,0),N=Math.ceil(Math.sqrt(C.length)),D=0,M=0,L=0,B=new y(0,0),E=0;E<C.length;E++){E%N==0&&(L=0,M=D,E!=0&&(M+=p.DEFAULT_COMPONENT_SEPERATION),D=0);var R=C[E],O=b.findCenterOfTree(R);T.x=L,T.y=M,B=_.radialLayout(R,O,T),B.y>D&&(D=Math.floor(B.y)),L=Math.floor(B.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new y(g.WORLD_CENTER_X-B.x/2,g.WORLD_CENTER_Y-B.y/2))},_.radialLayout=function(C,T,N){var D=Math.max(this.maxDiagonalInTree(C),p.DEFAULT_RADIAL_SEPARATION);_.branchRadialLayout(T,null,0,359,0,D);var M=k.calculateBounds(C),L=new w;L.setDeviceOrgX(M.getMinX()),L.setDeviceOrgY(M.getMinY()),L.setWorldOrgX(N.x),L.setWorldOrgY(N.y);for(var B=0;B<C.length;B++){var E=C[B];E.transform(L)}var R=new y(M.getMaxX(),M.getMaxY());return L.inverseTransformPoint(R)},_.branchRadialLayout=function(C,T,N,D,M,L){var B=(D-N+1)/2;B<0&&(B+=180);var E=(B+N)%360,R=E*x.TWO_PI/360,O=Math.cos(R),P=M*Math.cos(R),A=M*Math.sin(R);C.setCenter(P,A);var $=[];$=$.concat(C.getEdges());var F=$.length;T!=null&&F--;for(var G=0,q=$.length,W,re=C.getEdgesBetween(T);re.length>1;){var oe=re[0];re.splice(0,1);var te=$.indexOf(oe);te>=0&&$.splice(te,1),q--,F--}T!=null?W=($.indexOf(re[0])+1)%q:W=0;for(var se=Math.abs(D-N)/F,Y=W;G!=F;Y=++Y%q){var V=$[Y].getOtherEnd(C);if(V!=T){var U=(N+G*se)%360,ne=(U+se)%360;_.branchRadialLayout(V,C,U,ne,M+L,L),G++}}},_.maxDiagonalInTree=function(C){for(var T=v.MIN_VALUE,N=0;N<C.length;N++){var D=C[N],M=D.getDiagonal();M>T&&(T=M)}return T},_.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},_.prototype.groupZeroDegreeMembers=function(){var C=this,T={};this.memberGroups={},this.idToDummyNode={};for(var N=[],D=this.graphManager.getAllNodes(),M=0;M<D.length;M++){var L=D[M],B=L.getParent();this.getNodeDegreeWithChildren(L)===0&&(B.id==null||!this.getToBeTiled(B))&&N.push(L)}for(var M=0;M<N.length;M++){var L=N[M],E=L.getParent().id;typeof T[E]>"u"&&(T[E]=[]),T[E]=T[E].concat(L)}Object.keys(T).forEach(function(R){if(T[R].length>1){var O="DummyCompound_"+R;C.memberGroups[O]=T[R];var P=T[R][0].getParent(),A=new h(C.graphManager);A.id=O,A.paddingLeft=P.paddingLeft||0,A.paddingRight=P.paddingRight||0,A.paddingBottom=P.paddingBottom||0,A.paddingTop=P.paddingTop||0,C.idToDummyNode[O]=A;var $=C.getGraphManager().add(C.newGraph(),A),F=P.getChild();F.add(A);for(var G=0;G<T[R].length;G++){var q=T[R][G];F.remove(q),$.add(q)}}})},_.prototype.clearCompounds=function(){var C={},T={};this.performDFSOnCompounds();for(var N=0;N<this.compoundOrder.length;N++)T[this.compoundOrder[N].id]=this.compoundOrder[N],C[this.compoundOrder[N].id]=[].concat(this.compoundOrder[N].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[N].getChild()),this.compoundOrder[N].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(C,T)},_.prototype.clearZeroDegreeMembers=function(){var C=this,T=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(N){var D=C.idToDummyNode[N];T[N]=C.tileNodes(C.memberGroups[N],D.paddingLeft+D.paddingRight),D.rect.width=T[N].width,D.rect.height=T[N].height})},_.prototype.repopulateCompounds=function(){for(var C=this.compoundOrder.length-1;C>=0;C--){var T=this.compoundOrder[C],N=T.id,D=T.paddingLeft,M=T.paddingTop;this.adjustLocations(this.tiledMemberPack[N],T.rect.x,T.rect.y,D,M)}},_.prototype.repopulateZeroDegreeMembers=function(){var C=this,T=this.tiledZeroDegreePack;Object.keys(T).forEach(function(N){var D=C.idToDummyNode[N],M=D.paddingLeft,L=D.paddingTop;C.adjustLocations(T[N],D.rect.x,D.rect.y,M,L)})},_.prototype.getToBeTiled=function(C){var T=C.id;if(this.toBeTiled[T]!=null)return this.toBeTiled[T];var N=C.getChild();if(N==null)return this.toBeTiled[T]=!1,!1;for(var D=N.getNodes(),M=0;M<D.length;M++){var L=D[M];if(this.getNodeDegree(L)>0)return this.toBeTiled[T]=!1,!1;if(L.getChild()==null){this.toBeTiled[L.id]=!1;continue}if(!this.getToBeTiled(L))return this.toBeTiled[T]=!1,!1}return this.toBeTiled[T]=!0,!0},_.prototype.getNodeDegree=function(C){for(var T=C.id,N=C.getEdges(),D=0,M=0;M<N.length;M++){var L=N[M];L.getSource().id!==L.getTarget().id&&(D=D+1)}return D},_.prototype.getNodeDegreeWithChildren=function(C){var T=this.getNodeDegree(C);if(C.getChild()==null)return T;for(var N=C.getChild().getNodes(),D=0;D<N.length;D++){var M=N[D];T+=this.getNodeDegreeWithChildren(M)}return T},_.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},_.prototype.fillCompexOrderByDFS=function(C){for(var T=0;T<C.length;T++){var N=C[T];N.getChild()!=null&&this.fillCompexOrderByDFS(N.getChild().getNodes()),this.getToBeTiled(N)&&this.compoundOrder.push(N)}},_.prototype.adjustLocations=function(C,T,N,D,M){T+=D,N+=M;for(var L=T,B=0;B<C.rows.length;B++){var E=C.rows[B];T=L;for(var R=0,O=0;O<E.length;O++){var P=E[O];P.rect.x=T,P.rect.y=N,T+=P.rect.width+C.horizontalPadding,P.rect.height>R&&(R=P.rect.height)}N+=R+C.verticalPadding}},_.prototype.tileCompoundMembers=function(C,T){var N=this;this.tiledMemberPack=[],Object.keys(C).forEach(function(D){var M=T[D];N.tiledMemberPack[D]=N.tileNodes(C[D],M.paddingLeft+M.paddingRight),M.rect.width=N.tiledMemberPack[D].width,M.rect.height=N.tiledMemberPack[D].height})},_.prototype.tileNodes=function(C,T){var N=p.TILING_PADDING_VERTICAL,D=p.TILING_PADDING_HORIZONTAL,M={rows:[],rowWidth:[],rowHeight:[],width:0,height:T,verticalPadding:N,horizontalPadding:D};C.sort(function(E,R){return E.rect.width*E.rect.height>R.rect.width*R.rect.height?-1:E.rect.width*E.rect.height<R.rect.width*R.rect.height?1:0});for(var L=0;L<C.length;L++){var B=C[L];M.rows.length==0?this.insertNodeToRow(M,B,0,T):this.canAddHorizontal(M,B.rect.width,B.rect.height)?this.insertNodeToRow(M,B,this.getShortestRowIndex(M),T):this.insertNodeToRow(M,B,M.rows.length,T),this.shiftToLastRow(M)}return M},_.prototype.insertNodeToRow=function(C,T,N,D){var M=D;if(N==C.rows.length){var L=[];C.rows.push(L),C.rowWidth.push(M),C.rowHeight.push(0)}var B=C.rowWidth[N]+T.rect.width;C.rows[N].length>0&&(B+=C.horizontalPadding),C.rowWidth[N]=B,C.width<B&&(C.width=B);var E=T.rect.height;N>0&&(E+=C.verticalPadding);var R=0;E>C.rowHeight[N]&&(R=C.rowHeight[N],C.rowHeight[N]=E,R=C.rowHeight[N]-R),C.height+=R,C.rows[N].push(T)},_.prototype.getShortestRowIndex=function(C){for(var T=-1,N=Number.MAX_VALUE,D=0;D<C.rows.length;D++)C.rowWidth[D]<N&&(T=D,N=C.rowWidth[D]);return T},_.prototype.getLongestRowIndex=function(C){for(var T=-1,N=Number.MIN_VALUE,D=0;D<C.rows.length;D++)C.rowWidth[D]>N&&(T=D,N=C.rowWidth[D]);return T},_.prototype.canAddHorizontal=function(C,T,N){var D=this.getShortestRowIndex(C);if(D<0)return!0;var M=C.rowWidth[D];if(M+C.horizontalPadding+T<=C.width)return!0;var L=0;C.rowHeight[D]<N&&D>0&&(L=N+C.verticalPadding-C.rowHeight[D]);var B;C.width-M>=T+C.horizontalPadding?B=(C.height+L)/(M+T+C.horizontalPadding):B=(C.height+L)/C.width,L=N+C.verticalPadding;var E;return C.width<T?E=(C.height+L)/T:E=(C.height+L)/C.width,E<1&&(E=1/E),B<1&&(B=1/B),B<E},_.prototype.shiftToLastRow=function(C){var T=this.getLongestRowIndex(C),N=C.rowWidth.length-1,D=C.rows[T],M=D[D.length-1],L=M.width+C.horizontalPadding;if(C.width-C.rowWidth[N]>L&&T!=N){D.splice(-1,1),C.rows[N].push(M),C.rowWidth[T]=C.rowWidth[T]-L,C.rowWidth[N]=C.rowWidth[N]+L,C.width=C.rowWidth[instance.getLongestRowIndex(C)];for(var B=Number.MIN_VALUE,E=0;E<D.length;E++)D[E].height>B&&(B=D[E].height);T>0&&(B+=C.verticalPadding);var R=C.rowHeight[T]+C.rowHeight[N];C.rowHeight[T]=B,C.rowHeight[N]<M.height+C.verticalPadding&&(C.rowHeight[N]=M.height+C.verticalPadding);var O=C.rowHeight[T]+C.rowHeight[N];C.height+=O-R,this.shiftToLastRow(C)}},_.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},_.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},_.prototype.reduceTrees=function(){for(var C=[],T=!0,N;T;){var D=this.graphManager.getAllNodes(),M=[];T=!1;for(var L=0;L<D.length;L++)N=D[L],N.getEdges().length==1&&!N.getEdges()[0].isInterGraph&&N.getChild()==null&&(M.push([N,N.getEdges()[0],N.getOwner()]),T=!0);if(T==!0){for(var B=[],E=0;E<M.length;E++)M[E][0].getEdges().length==1&&(B.push(M[E]),M[E][0].getOwner().remove(M[E][0]));C.push(B),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=C},_.prototype.growTree=function(C){for(var T=C.length,N=C[T-1],D,M=0;M<N.length;M++)D=N[M],this.findPlaceforPrunedNode(D),D[2].add(D[0]),D[2].add(D[1],D[1].source,D[1].target);C.splice(C.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},_.prototype.findPlaceforPrunedNode=function(C){var T,N,D=C[0];D==C[1].source?N=C[1].target:N=C[1].source;var M=N.startX,L=N.finishX,B=N.startY,E=N.finishY,R=0,O=0,P=0,A=0,$=[R,P,O,A];if(B>0)for(var F=M;F<=L;F++)$[0]+=this.grid[F][B-1].length+this.grid[F][B].length-1;if(L<this.grid.length-1)for(var F=B;F<=E;F++)$[1]+=this.grid[L+1][F].length+this.grid[L][F].length-1;if(E<this.grid[0].length-1)for(var F=M;F<=L;F++)$[2]+=this.grid[F][E+1].length+this.grid[F][E].length-1;if(M>0)for(var F=B;F<=E;F++)$[3]+=this.grid[M-1][F].length+this.grid[M][F].length-1;for(var G=v.MAX_VALUE,q,W,re=0;re<$.length;re++)$[re]<G?(G=$[re],q=1,W=re):$[re]==G&&q++;if(q==3&&G==0)$[0]==0&&$[1]==0&&$[2]==0?T=1:$[0]==0&&$[1]==0&&$[3]==0?T=0:$[0]==0&&$[2]==0&&$[3]==0?T=3:$[1]==0&&$[2]==0&&$[3]==0&&(T=2);else if(q==2&&G==0){var oe=Math.floor(Math.random()*2);$[0]==0&&$[1]==0?oe==0?T=0:T=1:$[0]==0&&$[2]==0?oe==0?T=0:T=2:$[0]==0&&$[3]==0?oe==0?T=0:T=3:$[1]==0&&$[2]==0?oe==0?T=1:T=2:$[1]==0&&$[3]==0?oe==0?T=1:T=3:oe==0?T=2:T=3}else if(q==4&&G==0){var oe=Math.floor(Math.random()*4);T=oe}else T=W;T==0?D.setCenter(N.getCenterX(),N.getCenterY()-N.getHeight()/2-f.DEFAULT_EDGE_LENGTH-D.getHeight()/2):T==1?D.setCenter(N.getCenterX()+N.getWidth()/2+f.DEFAULT_EDGE_LENGTH+D.getWidth()/2,N.getCenterY()):T==2?D.setCenter(N.getCenterX(),N.getCenterY()+N.getHeight()/2+f.DEFAULT_EDGE_LENGTH+D.getHeight()/2):D.setCenter(N.getCenterX()-N.getWidth()/2-f.DEFAULT_EDGE_LENGTH-D.getWidth()/2,N.getCenterY())},n.exports=_},function(n,i,a){"use strict";var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),n.exports=s}])})}),wet=Mt((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(jPe()):typeof define=="function"&&define.amd?define(["cose-base"],n):typeof e=="object"?e.cytoscapeCoseBilkent=n(jPe()):r.cytoscapeCoseBilkent=n(r.coseBase)},"webpackUniversalModuleDefinition")(e,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return n[s].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return o(a,"__webpack_require__"),a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,l,u){a.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var l=s&&s.__esModule?o(function(){return s.default},"getDefault"):o(function(){return s},"getModuleExports");return a.d(l,"a",l),l},a.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},a.p="",a(a.s=1)}([function(n,i){n.exports=r},function(n,i,a){"use strict";var s=a(0).layoutBase.LayoutConstants,l=a(0).layoutBase.FDLayoutConstants,u=a(0).CoSEConstants,h=a(0).CoSELayout,d=a(0).CoSENode,p=a(0).layoutBase.PointD,f=a(0).layoutBase.DimensionD,g={ready:o(function(){},"ready"),stop:o(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(x,k){var w={};for(var _ in x)w[_]=x[_];for(var _ in k)w[_]=k[_];return w}o(m,"extend");function y(x){this.options=m(g,x),b(this.options)}o(y,"_CoSELayout");var b=o(function(x){x.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=l.DEFAULT_REPULSION_STRENGTH=x.nodeRepulsion),x.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=x.idealEdgeLength),x.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=l.DEFAULT_SPRING_STRENGTH=x.edgeElasticity),x.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.nestingFactor),x.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=x.gravity),x.numIter!=null&&(u.MAX_ITERATIONS=l.MAX_ITERATIONS=x.numIter),x.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=x.gravityRange),x.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.gravityCompound),x.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.gravityRangeCompound),x.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=l.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.initialEnergyOnIncremental),x.quality=="draft"?s.QUALITY=0:x.quality=="proof"?s.QUALITY=2:s.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=x.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!x.randomize,u.ANIMATE=l.ANIMATE=s.ANIMATE=x.animate,u.TILE=x.tile,u.TILING_PADDING_VERTICAL=typeof x.tilingPaddingVertical=="function"?x.tilingPaddingVertical.call():x.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof x.tilingPaddingHorizontal=="function"?x.tilingPaddingHorizontal.call():x.tilingPaddingHorizontal},"getUserOptions");y.prototype.run=function(){var x,k,w=this.options,_=this.idToLNode={},S=this.layout=new h,C=this;C.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var T=S.newGraphManager();this.gm=T;var N=this.options.eles.nodes(),D=this.options.eles.edges();this.root=T.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(N),S);for(var M=0;M<D.length;M++){var L=D[M],B=this.idToLNode[L.data("source")],E=this.idToLNode[L.data("target")];if(B!==E&&B.getEdgesBetween(E).length==0){var R=T.add(S.newEdge(),B,E);R.id=L.id()}}var O=o(function(A,$){typeof A=="number"&&(A=$);var F=A.data("id"),G=C.idToLNode[F];return{x:G.getRect().getCenterX(),y:G.getRect().getCenterY()}},"getPositions"),P=o(function A(){for(var $=o(function(){w.fit&&w.cy.fit(w.eles,w.padding),x||(x=!0,C.cy.one("layoutready",w.ready),C.cy.trigger({type:"layoutready",layout:C}))},"afterReposition"),F=C.options.refresh,G,q=0;q<F&&!G;q++)G=C.stopped||C.layout.tick();if(G){S.checkLayoutSuccess()&&!S.isSubLayout&&S.doPostLayout(),S.tilingPostLayout&&S.tilingPostLayout(),S.isLayoutFinished=!0,C.options.eles.nodes().positions(O),$(),C.cy.one("layoutstop",C.options.stop),C.cy.trigger({type:"layoutstop",layout:C}),k&&cancelAnimationFrame(k),x=!1;return}var W=C.layout.getPositionsData();w.eles.nodes().positions(function(re,oe){if(typeof re=="number"&&(re=oe),!re.isParent()){for(var te=re.id(),se=W[te],Y=re;se==null&&(se=W[Y.data("parent")]||W["DummyCompound_"+Y.data("parent")],W[te]=se,Y=Y.parent()[0],Y!=null););return se!=null?{x:se.x,y:se.y}:{x:re.position("x"),y:re.position("y")}}}),$(),k=requestAnimationFrame(A)},"iterateAnimated");return S.addListener("layoutstarted",function(){C.options.animate==="during"&&(k=requestAnimationFrame(P))}),S.runLayout(),this.options.animate!=="during"&&(C.options.eles.nodes().not(":parent").layoutPositions(C,C.options,O),x=!1),this},y.prototype.getTopMostNodes=function(x){for(var k={},w=0;w<x.length;w++)k[x[w].id()]=!0;var _=x.filter(function(S,C){typeof S=="number"&&(S=C);for(var T=S.parent()[0];T!=null;){if(k[T.id()])return!1;T=T.parent()[0]}return!0});return _},y.prototype.processChildrenList=function(x,k,w){for(var _=k.length,S=0;S<_;S++){var C=k[S],T=C.children(),N,D=C.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(C.outerWidth()!=null&&C.outerHeight()!=null?N=x.add(new d(w.graphManager,new p(C.position("x")-D.w/2,C.position("y")-D.h/2),new f(parseFloat(D.w),parseFloat(D.h)))):N=x.add(new d(this.graphManager)),N.id=C.data("id"),N.paddingLeft=parseInt(C.css("padding")),N.paddingTop=parseInt(C.css("padding")),N.paddingRight=parseInt(C.css("padding")),N.paddingBottom=parseInt(C.css("padding")),this.options.nodeDimensionsIncludeLabels&&C.isParent()){var M=C.boundingBox({includeLabels:!0,includeNodes:!1}).w,L=C.boundingBox({includeLabels:!0,includeNodes:!1}).h,B=C.css("text-halign");N.labelWidth=M,N.labelHeight=L,N.labelPos=B}if(this.idToLNode[C.data("id")]=N,isNaN(N.rect.x)&&(N.rect.x=0),isNaN(N.rect.y)&&(N.rect.y=0),T!=null&&T.length>0){var E;E=w.getGraphManager().add(w.newGraph(),N),this.processChildrenList(E,T,w)}}},y.prototype.stop=function(){return this.stopped=!0,this};var v=o(function(x){x("layout","cose-bilkent",y)},"register");typeof cytoscape<"u"&&v(cytoscape),n.exports=v}])})});function YPe(e,t,r,n,i){return e.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("transform","translate("+(i.width-t)/2+", "+r+")")}var UPe,HPe,WPe,VPe,XPe,KPe,ZPe,QPe,JPe,eBe,Tet=I(()=>{"use strict";ac(),Dr(),UPe=12,HPe=o(function(e,t,r,n){t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${-r.height+2*5} q0,-5 5,-5 h${r.width-2*5} q5,0 5,5 v${r.height-5} H0 Z`),t.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),WPe=o(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),VPe=o(function(e,t,r){let n=r.width,i=r.height,a=.15*n,s=.25*n,l=.35*n,u=.2*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 0 0,1 ${n*.25},${-1*n*.1}
      a${l},${l} 1 0,1 ${n*.4},${-1*n*.1}
      a${s},${s} 1 0,1 ${n*.35},${1*n*.2}

      a${a},${a} 1 0,1 ${n*.15},${1*i*.35}
      a${u},${u} 1 0,1 ${-1*n*.15},${1*i*.65}

      a${s},${a} 1 0,1 ${-1*n*.25},${n*.15}
      a${l},${l} 1 0,1 ${-1*n*.5},0
      a${a},${a} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${a},${a} 1 0,1 ${-1*n*.1},${-1*i*.35}
      a${u},${u} 1 0,1 ${n*.1},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),XPe=o(function(e,t,r){let n=r.width,i=r.height,a=.15*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 1 0,0 ${n*.25},${-1*i*.1}
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},${1*i*.1}

      a${a},${a} 1 0,0 ${n*.15},${1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${1*i*.34}
      a${a},${a} 1 0,0 ${-1*n*.15},${1*i*.33}

      a${a},${a} 1 0,0 ${-1*n*.25},${i*.15}
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},${-1*i*.15}

      a${a},${a} 1 0,0 ${-1*n*.1},${-1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${-1*i*.34}
      a${a},${a} 1 0,0 ${n*.1},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),KPe=o(function(e,t,r){t.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("r",r.width/2)},"circleBkg"),o(YPe,"insertPolygonShape"),ZPe=o(function(e,t,r){let n=r.height,i=n/4,a=r.width-r.padding+2*i,s=[{x:i,y:0},{x:a-i,y:0},{x:a,y:-n/2},{x:a-i,y:-n},{x:i,y:-n},{x:0,y:-n/2}];YPe(t,a,n,s,r)},"hexagonBkg"),QPe=o(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),JPe=o(async function(e,t,r,n,i){let a=i.htmlLabels,s=n%(UPe-1),l=t.append("g");r.section=s;let u="section-"+s;s<0&&(u+=" section-root"),l.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+u);let h=l.append("g"),d=l.append("g"),p=r.descr.replace(/(<br\/*>)/g,`
`);await Qs(d,p,{useHtmlLabels:a,width:r.width,classes:"mindmap-node-label"},i),a||d.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");let f=d.node().getBBox(),[g]=Qc(i.fontSize);if(r.height=f.height+g*1.1*.5+r.padding,r.width=f.width+2*r.padding,r.icon)if(r.type===e.nodeType.CIRCLE)r.height+=50,r.width+=50,l.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),d.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;let m=r.height;r.height=Math.max(m,60);let y=Math.abs(r.height-m);l.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+y/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),d.attr("transform","translate("+(25+r.width/2)+", "+(y/2+r.padding/2)+")")}else if(a){let m=(r.width-f.width)/2,y=(r.height-f.height)/2;d.attr("transform","translate("+m+", "+y+")")}else{let m=r.width/2,y=r.padding/2;d.attr("transform","translate("+m+", "+y+")")}switch(r.type){case e.nodeType.DEFAULT:HPe(e,h,r,s);break;case e.nodeType.ROUNDED_RECT:QPe(e,h,r,s);break;case e.nodeType.RECT:WPe(e,h,r,s);break;case e.nodeType.CIRCLE:h.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),KPe(e,h,r,s);break;case e.nodeType.CLOUD:VPe(e,h,r,s);break;case e.nodeType.BANG:XPe(e,h,r,s);break;case e.nodeType.HEXAGON:ZPe(e,h,r,s);break}return e.setElementForId(r.id,l),r.height},"drawNode"),eBe=o(function(e,t){let r=e.getElementById(t.id),n=t.x||0,i=t.y||0;r.attr("transform","translate("+n+","+i+")")},"positionNode")});async function Hq(e,t,r,n,i){await JPe(e,t,r,n,i),r.children&&await Promise.all(r.children.map((a,s)=>Hq(e,t,a,n<0?s:n,i)))}function tBe(e,t){t.edges().map((r,n)=>{let i=r.data();if(r[0]._private.bodyBounds){let a=r[0]._private.rscratch;X.trace("Edge: ",n,i),e.insert("path").attr("d",`M ${a.startX},${a.startY} L ${a.midX},${a.midY} L${a.endX},${a.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}function Wq(e,t,r,n){t.add({group:"nodes",data:{id:e.id.toString(),labelText:e.descr,height:e.height,width:e.width,level:n,nodeId:e.id,padding:e.padding,type:e.type},position:{x:e.x,y:e.y}}),e.children&&e.children.forEach(i=>{Wq(i,t,r,n+1),t.add({group:"edges",data:{id:`${e.id}_${i.id}`,source:e.id,target:i.id,depth:n,section:i.section}})})}function rBe(e,t){return new Promise(r=>{let n=nt("body").append("div").attr("id","cy").attr("style","display:none"),i=Pl({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),Wq(e,i,t,0),i.nodes().forEach(function(a){a.layoutDimensions=()=>{let s=a.data();return{w:s.width,h:s.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(a=>{X.info("Ready",a),r(i)})})}function nBe(e,t){t.nodes().map((r,n)=>{let i=r.data();i.x=r.position().x,i.y=r.position().y,eBe(e,i);let a=e.getElementById(i.nodeId);X.info("Id:",n,"Position: (",r.position().x,", ",r.position().y,")",i),a.attr("transform",`translate(${r.position().x-i.width/2}, ${r.position().y-i.height/2})`),a.attr("attr",`apa-${n})`)})}var iBe,aBe,sBe,Eet=I(()=>{"use strict";GPe(),iBe=xr(wet(),1),Fr(),tr(),Ye(),sd(),wi(),Tet(),Gs(),Pl.use(iBe.default),o(Hq,"drawNodes"),o(tBe,"drawEdges"),o(Wq,"addNodes"),o(rBe,"layoutMindmap"),o(nBe,"positionNodes"),aBe=o(async(e,t,r,n)=>{X.debug(`Rendering mindmap diagram
`+e);let i=n.db,a=i.getMindmap();if(!a)return;let s=we();s.htmlLabels=!1;let l=Lu(t),u=l.append("g");u.attr("class","mindmap-edges");let h=l.append("g");h.attr("class","mindmap-nodes"),await Hq(i,h,a,-1,s);let d=await rBe(a,s);tBe(u,d),nBe(i,d),jd(void 0,l,s.mindmap?.padding??Kr.mindmap.padding,s.mindmap?.useMaxWidth??Kr.mindmap.useMaxWidth)},"draw"),sBe={draw:aBe}}),oBe,lBe,cBe,_et=I(()=>{"use strict";Jo(),oBe=o(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Oc(e["lineColor"+r])?e["lineColor"+r]=Vt(e["lineColor"+r],20):e["lineColor"+r]=ir(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),lBe=o(e=>`
  .edge {
    stroke-width: 3;
  }
  ${oBe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),cBe=lBe}),uBe={};Nt(uBe,{diagram:()=>hBe});var hBe,Cet=I(()=>{"use strict";bet(),xet(),Eet(),_et(),hBe={db:tLe,renderer:sBe,parser:j9e,styles:cBe}}),IE,dBe,Aet=I(()=>{"use strict";IE=function(){var e=o(function(C,T,N,D){for(N=N||{},D=C.length;D--;N[C[D]]=T);return N},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],l=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],f=[6,7,11],g=[1,31],m=[6,7,11,24],y=[1,6,13,16,17,20,23],b=[1,35],v=[1,36],x=[1,6,7,11,13,16,17,20,23],k=[1,38],w={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:o(function(C,T,N,D,M,L,B){var E=L.length-1;switch(M){case 6:case 7:return D;case 8:D.getLogger().trace("Stop NL ");break;case 9:D.getLogger().trace("Stop EOF ");break;case 11:D.getLogger().trace("Stop NL2 ");break;case 12:D.getLogger().trace("Stop EOF2 ");break;case 15:D.getLogger().info("Node: ",L[E-1].id),D.addNode(L[E-2].length,L[E-1].id,L[E-1].descr,L[E-1].type,L[E]);break;case 16:D.getLogger().info("Node: ",L[E].id),D.addNode(L[E-1].length,L[E].id,L[E].descr,L[E].type);break;case 17:D.getLogger().trace("Icon: ",L[E]),D.decorateNode({icon:L[E]});break;case 18:case 23:D.decorateNode({class:L[E]});break;case 19:D.getLogger().trace("SPACELIST");break;case 20:D.getLogger().trace("Node: ",L[E-1].id),D.addNode(0,L[E-1].id,L[E-1].descr,L[E-1].type,L[E]);break;case 21:D.getLogger().trace("Node: ",L[E].id),D.addNode(0,L[E].id,L[E].descr,L[E].type);break;case 22:D.decorateNode({icon:L[E]});break;case 27:D.getLogger().trace("node found ..",L[E-2]),this.$={id:L[E-1],descr:L[E-1],type:D.getType(L[E-2],L[E])};break;case 28:this.$={id:L[E],descr:L[E],type:0};break;case 29:D.getLogger().trace("node found ..",L[E-3]),this.$={id:L[E-3],descr:L[E-1],type:D.getType(L[E-2],L[E])};break;case 30:this.$=L[E-1]+L[E];break;case 31:this.$=L[E];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},{6:r,9:22,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},{6:h,7:d,10:23,11:p},e(f,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:s,23:l}),e(f,[2,19]),e(f,[2,21],{15:30,24:g}),e(f,[2,22]),e(f,[2,23]),e(m,[2,25]),e(m,[2,26]),e(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:h,7:d,10:34,11:p},{1:[2,7],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},e(y,[2,14],{7:b,11:v}),e(x,[2,8]),e(x,[2,9]),e(x,[2,10]),e(f,[2,16],{15:37,24:g}),e(f,[2,17]),e(f,[2,18]),e(f,[2,20],{24:k}),e(m,[2,31]),{21:[1,39]},{22:[1,40]},e(y,[2,13],{7:b,11:v}),e(x,[2,11]),e(x,[2,12]),e(f,[2,15],{24:k}),e(m,[2,30]),{22:[1,41]},e(m,[2,27]),e(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:o(function(C,T){if(T.recoverable)this.trace(C);else{var N=new Error(C);throw N.hash=T,N}},"parseError"),parse:o(function(C){var T=this,N=[0],D=[],M=[null],L=[],B=this.table,E="",R=0,O=0,P=0,A=2,$=1,F=L.slice.call(arguments,1),G=Object.create(this.lexer),q={yy:{}};for(var W in this.yy)Object.prototype.hasOwnProperty.call(this.yy,W)&&(q.yy[W]=this.yy[W]);G.setInput(C,q.yy),q.yy.lexer=G,q.yy.parser=this,typeof G.yylloc>"u"&&(G.yylloc={});var re=G.yylloc;L.push(re);var oe=G.options&&G.options.ranges;typeof q.yy.parseError=="function"?this.parseError=q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function te(He){N.length=N.length-2*He,M.length=M.length-He,L.length=L.length-He}o(te,"popStack");function se(){var He;return He=D.pop()||G.lex()||$,typeof He!="number"&&(He instanceof Array&&(D=He,He=D.pop()),He=T.symbols_[He]||He),He}o(se,"lex");for(var Y,V,U,ne,K,fe,Q={},Te,ie,Me,Le;;){if(U=N[N.length-1],this.defaultActions[U]?ne=this.defaultActions[U]:((Y===null||typeof Y>"u")&&(Y=se()),ne=B[U]&&B[U][Y]),typeof ne>"u"||!ne.length||!ne[0]){var Ie="";Le=[];for(Te in B[U])this.terminals_[Te]&&Te>A&&Le.push("'"+this.terminals_[Te]+"'");G.showPosition?Ie="Parse error on line "+(R+1)+`:
`+G.showPosition()+`
Expecting `+Le.join(", ")+", got '"+(this.terminals_[Y]||Y)+"'":Ie="Parse error on line "+(R+1)+": Unexpected "+(Y==$?"end of input":"'"+(this.terminals_[Y]||Y)+"'"),this.parseError(Ie,{text:G.match,token:this.terminals_[Y]||Y,line:G.yylineno,loc:re,expected:Le})}if(ne[0]instanceof Array&&ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+U+", token: "+Y);switch(ne[0]){case 1:N.push(Y),M.push(G.yytext),L.push(G.yylloc),N.push(ne[1]),Y=null,V?(Y=V,V=null):(O=G.yyleng,E=G.yytext,R=G.yylineno,re=G.yylloc,P>0&&P--);break;case 2:if(ie=this.productions_[ne[1]][1],Q.$=M[M.length-ie],Q._$={first_line:L[L.length-(ie||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(ie||1)].first_column,last_column:L[L.length-1].last_column},oe&&(Q._$.range=[L[L.length-(ie||1)].range[0],L[L.length-1].range[1]]),fe=this.performAction.apply(Q,[E,O,R,q.yy,ne[1],M,L].concat(F)),typeof fe<"u")return fe;ie&&(N=N.slice(0,-1*ie*2),M=M.slice(0,-1*ie),L=L.slice(0,-1*ie)),N.push(this.productions_[ne[1]][0]),M.push(Q.$),L.push(Q._$),Me=B[N[N.length-2]][N[N.length-1]],N.push(Me);break;case 3:return!0}}return!0},"parse")},_=function(){var C={EOF:1,parseError:o(function(T,N){if(this.yy.parser)this.yy.parser.parseError(T,N);else throw new Error(T)},"parseError"),setInput:o(function(T,N){return this.yy=N||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var T=this._input[0];this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T;var N=T.match(/(?:\r\n?|\n).*/g);return N?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),T},"input"),unput:o(function(T){var N=T.length,D=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var M=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),D.length-1&&(this.yylineno-=D.length-1);var L=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:D?(D.length===M.length?this.yylloc.first_column:0)+M[M.length-D.length].length-D[0].length:this.yylloc.first_column-N},this.options.ranges&&(this.yylloc.range=[L[0],L[0]+this.yyleng-N]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(T){this.unput(this.match.slice(T))},"less"),pastInput:o(function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var T=this.match;return T.length<20&&(T+=this._input.substr(0,20-T.length)),(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var T=this.pastInput(),N=new Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+N+"^"},"showPosition"),test_match:o(function(T,N){var D,M,L;if(this.options.backtrack_lexer&&(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(L.yylloc.range=this.yylloc.range.slice(0))),M=T[0].match(/(?:\r\n?|\n).*/g),M&&(this.yylineno+=M.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:M?M[M.length-1].length-M[M.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],D=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),D)return D;if(this._backtrack){for(var B in L)this[B]=L[B];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var T,N,D,M;this._more||(this.yytext="",this.match="");for(var L=this._currentRules(),B=0;B<L.length;B++)if(D=this._input.match(this.rules[L[B]]),D&&(!N||D[0].length>N[0].length)){if(N=D,M=B,this.options.backtrack_lexer){if(T=this.test_match(D,L[B]),T!==!1)return T;if(this._backtrack){N=!1;continue}else return!1}else if(!this.options.flex)break}return N?(T=this.test_match(N,L[M]),T!==!1?T:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var T=this.next();return T||this.lex()},"lex"),begin:o(function(T){this.conditionStack.push(T)},"begin"),popState:o(function(){var T=this.conditionStack.length-1;return T>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(T){return T=this.conditionStack.length-1-Math.abs(T||0),T>=0?this.conditionStack[T]:"INITIAL"},"topState"),pushState:o(function(T){this.begin(T)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(T,N,D,M){var L=M;switch(D){case 0:return this.pushState("shapeData"),N.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:let B=/\n\s*/g;return N.yytext=N.yytext.replace(B,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return T.getLogger().trace("Found comment",N.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:T.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return T.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:T.getLogger().trace("end icon"),this.popState();break;case 16:return T.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return T.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return T.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return T.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:T.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return T.getLogger().trace("description:",N.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),T.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),T.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),T.getLogger().trace("node end ...",N.yytext),"NODE_DEND";case 36:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 41:return T.getLogger().trace("Long description:",N.yytext),21;case 42:return T.getLogger().trace("Long description:",N.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return C}();w.lexer=_;function S(){this.yy={}}return o(S,"Parser"),S.prototype=w,w.Parser=S,new S}(),IE.parser=IE,dBe=IE}),ho,ME,DE,RE,pBe,gBe,Vq,fBe,mBe,Gi,yBe,vBe,bBe,xBe,kBe,wBe,TBe,EBe,Let=I(()=>{"use strict";tr(),Pr(),Ye(),Gs(),vN(),ho=[],ME=[],DE=0,RE={},pBe=o(()=>{ho=[],ME=[],DE=0,RE={}},"clear"),gBe=o(e=>{if(ho.length===0)return null;let t=ho[0].level,r=null;for(let n=ho.length-1;n>=0;n--)if(ho[n].level===t&&!r&&(r=ho[n]),ho[n].level<t)throw new Error('Items without section detected, found section ("'+ho[n].label+'")');return e===r?.level?null:r},"getSection"),Vq=o(function(){return ME},"getSections"),fBe=o(function(){let e=[],t=[],r=Vq(),n=we();for(let i of r){let a={id:i.id,label:En(i.label??"",n),isGroup:!0,ticket:i.ticket,shape:"kanbanSection",level:i.level,look:n.look};t.push(a);let s=ho.filter(l=>l.parentId===i.id);for(let l of s){let u={id:l.id,parentId:i.id,label:En(l.label??"",n),isGroup:!1,ticket:l?.ticket,priority:l?.priority,assigned:l?.assigned,icon:l?.icon,shape:"kanbanItem",level:l.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(u)}}return{nodes:t,edges:e,other:{},config:we()}},"getData"),mBe=o((e,t,r,n,i)=>{let a=we(),s=a.mindmap?.padding??Kr.mindmap.padding;switch(n){case Gi.ROUNDED_RECT:case Gi.RECT:case Gi.HEXAGON:s*=2}let l={id:En(t,a)||"kbn"+DE++,level:e,label:En(r,a),width:a.mindmap?.maxNodeWidth??Kr.mindmap.maxNodeWidth,padding:s,isGroup:!1};if(i!==void 0){let h;i.includes(`
`)?h=i+`
`:h=`{
`+i+`
}`;let d=lk(h,{schema:ok});if(d.shape&&(d.shape!==d.shape.toLowerCase()||d.shape.includes("_")))throw new Error(`No such shape: ${d.shape}. Shape names should be lowercase.`);d?.shape&&d.shape==="kanbanItem"&&(l.shape=d?.shape),d?.label&&(l.label=d?.label),d?.icon&&(l.icon=d?.icon.toString()),d?.assigned&&(l.assigned=d?.assigned.toString()),d?.ticket&&(l.ticket=d?.ticket.toString()),d?.priority&&(l.priority=d?.priority)}let u=gBe(e);u?l.parentId=u.id||"kbn"+DE++:ME.push(l),ho.push(l)},"addNode"),Gi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},yBe=o((e,t)=>{switch(X.debug("In get type",e,t),e){case"[":return Gi.RECT;case"(":return t===")"?Gi.ROUNDED_RECT:Gi.CLOUD;case"((":return Gi.CIRCLE;case")":return Gi.CLOUD;case"))":return Gi.BANG;case"{{":return Gi.HEXAGON;default:return Gi.DEFAULT}},"getType"),vBe=o((e,t)=>{RE[e]=t},"setElementForId"),bBe=o(e=>{if(!e)return;let t=we(),r=ho[ho.length-1];e.icon&&(r.icon=En(e.icon,t)),e.class&&(r.cssClasses=En(e.class,t))},"decorateNode"),xBe=o(e=>{switch(e){case Gi.DEFAULT:return"no-border";case Gi.RECT:return"rect";case Gi.ROUNDED_RECT:return"rounded-rect";case Gi.CIRCLE:return"circle";case Gi.CLOUD:return"cloud";case Gi.BANG:return"bang";case Gi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),kBe=o(()=>X,"getLogger"),wBe=o(e=>RE[e],"getElementById"),TBe={clear:pBe,addNode:mBe,getSections:Vq,getData:fBe,nodeType:Gi,getType:yBe,setElementForId:vBe,decorateNode:bBe,type2Str:xBe,getLogger:kBe,getElementById:wBe},EBe=TBe}),_Be,CBe,Net=I(()=>{"use strict";tr(),Ye(),sd(),wi(),Gs(),DN(),qN(),_Be=o(async(e,t,r,n)=>{X.debug(`Rendering kanban diagram
`+e);let i=n.db.getData(),a=we();a.htmlLabels=!1;let s=Lu(t),l=s.append("g");l.attr("class","sections");let u=s.append("g");u.attr("class","items");let h=i.nodes.filter(y=>y.isGroup),d=0,p=10,f=[],g=25;for(let y of h){let b=a?.kanban?.sectionWidth||200;d=d+1,y.x=b*d+(d-1)*p/2,y.width=b,y.y=0,y.height=b*3,y.rx=5,y.ry=5,y.cssClasses=y.cssClasses+" section-"+d;let v=await vk(l,y);g=Math.max(g,v?.labelBBox?.height),f.push(v)}let m=0;for(let y of h){let b=f[m];m=m+1;let v=a?.kanban?.sectionWidth||200,x=-v*3/2+g,k=x,w=i.nodes.filter(C=>C.parentId===y.id);for(let C of w){if(C.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");C.x=y.x,C.width=v-1.5*p;let T=(await bk(u,C,{config:a})).node().getBBox();C.y=k+T.height/2,await xk(C),k=C.y+T.height/2+p/2}let _=b.cluster.select("rect"),S=Math.max(k-x+3*p,50)+(g-25);_.attr("height",S)}jd(void 0,s,a.mindmap?.padding??Kr.kanban.padding,a.mindmap?.useMaxWidth??Kr.kanban.useMaxWidth)},"draw"),CBe={draw:_Be}}),SBe,ABe,LBe,Iet=I(()=>{"use strict";Jo(),SBe=o(e=>{let t="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++)e["lineColor"+n]=e["lineColor"+n]||e["cScaleInv"+n],Oc(e["lineColor"+n])?e["lineColor"+n]=Vt(e["lineColor"+n],20):e["lineColor"+n]=ir(e["lineColor"+n],20);let r=o((n,i)=>e.darkMode?ir(n,i):Vt(n,i),"adjuster");for(let n=0;n<e.THEME_COLOR_LIMIT;n++){let i=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${r(e["cScale"+n],10)};
      stroke: ${r(e["cScale"+n],10)};

    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${i};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    text-decoration: underline;
  }
    `}return t},"genSections"),ABe=o(e=>`
  .edge {
    stroke-width: 3;
  }
  ${SBe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),LBe=ABe}),NBe={};Nt(NBe,{diagram:()=>IBe});var IBe,Met=I(()=>{"use strict";Aet(),Let(),Net(),Iet(),IBe={db:EBe,renderer:CBe,parser:dBe,styles:LBe}}),OE,kx,Det=I(()=>{"use strict";OE=function(){var e=o(function(l,u,h,d){for(h=h||{},d=l.length;d--;h[l[d]]=u);return h},"o"),t=[1,9],r=[1,10],n=[1,5,10,12],i={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:o(function(l,u,h,d,p,f,g){var m=f.length-1;switch(p){case 7:let y=d.findOrCreateNode(f[m-4].trim().replaceAll('""','"')),b=d.findOrCreateNode(f[m-2].trim().replaceAll('""','"')),v=parseFloat(f[m].trim());d.addLink(y,b,v);break;case 8:case 9:case 11:this.$=f[m];break;case 10:this.$=f[m-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(n,[2,8]),e(n,[2,9]),{19:[1,16]},e(n,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(n,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:o(function(l,u){if(u.recoverable)this.trace(l);else{var h=new Error(l);throw h.hash=u,h}},"parseError"),parse:o(function(l){var u=this,h=[0],d=[],p=[null],f=[],g=this.table,m="",y=0,b=0,v=0,x=2,k=1,w=f.slice.call(arguments,1),_=Object.create(this.lexer),S={yy:{}};for(var C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(S.yy[C]=this.yy[C]);_.setInput(l,S.yy),S.yy.lexer=_,S.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var T=_.yylloc;f.push(T);var N=_.options&&_.options.ranges;typeof S.yy.parseError=="function"?this.parseError=S.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function D(re){h.length=h.length-2*re,p.length=p.length-re,f.length=f.length-re}o(D,"popStack");function M(){var re;return re=d.pop()||_.lex()||k,typeof re!="number"&&(re instanceof Array&&(d=re,re=d.pop()),re=u.symbols_[re]||re),re}o(M,"lex");for(var L,B,E,R,O,P,A={},$,F,G,q;;){if(E=h[h.length-1],this.defaultActions[E]?R=this.defaultActions[E]:((L===null||typeof L>"u")&&(L=M()),R=g[E]&&g[E][L]),typeof R>"u"||!R.length||!R[0]){var W="";q=[];for($ in g[E])this.terminals_[$]&&$>x&&q.push("'"+this.terminals_[$]+"'");_.showPosition?W="Parse error on line "+(y+1)+`:
`+_.showPosition()+`
Expecting `+q.join(", ")+", got '"+(this.terminals_[L]||L)+"'":W="Parse error on line "+(y+1)+": Unexpected "+(L==k?"end of input":"'"+(this.terminals_[L]||L)+"'"),this.parseError(W,{text:_.match,token:this.terminals_[L]||L,line:_.yylineno,loc:T,expected:q})}if(R[0]instanceof Array&&R.length>1)throw new Error("Parse Error: multiple actions possible at state: "+E+", token: "+L);switch(R[0]){case 1:h.push(L),p.push(_.yytext),f.push(_.yylloc),h.push(R[1]),L=null,B?(L=B,B=null):(b=_.yyleng,m=_.yytext,y=_.yylineno,T=_.yylloc,v>0&&v--);break;case 2:if(F=this.productions_[R[1]][1],A.$=p[p.length-F],A._$={first_line:f[f.length-(F||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(F||1)].first_column,last_column:f[f.length-1].last_column},N&&(A._$.range=[f[f.length-(F||1)].range[0],f[f.length-1].range[1]]),P=this.performAction.apply(A,[m,b,y,S.yy,R[1],p,f].concat(w)),typeof P<"u")return P;F&&(h=h.slice(0,-1*F*2),p=p.slice(0,-1*F),f=f.slice(0,-1*F)),h.push(this.productions_[R[1]][0]),p.push(A.$),f.push(A._$),G=g[h[h.length-2]][h[h.length-1]],h.push(G);break;case 3:return!0}}return!0},"parse")},a=function(){var l={EOF:1,parseError:o(function(u,h){if(this.yy.parser)this.yy.parser.parseError(u,h);else throw new Error(u)},"parseError"),setInput:o(function(u,h){return this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var h=u.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},"input"),unput:o(function(u){var h=u.length,d=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),d.length-1&&(this.yylineno-=d.length-1);var f=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===p.length?this.yylloc.first_column:0)+p[p.length-d.length].length-d[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-h]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(u){this.unput(this.match.slice(u))},"less"),pastInput:o(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var u=this.pastInput(),h=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},"showPosition"),test_match:o(function(u,h){var d,p,f;if(this.options.backtrack_lexer&&(f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))),p=u[0].match(/(?:\r\n?|\n).*/g),p&&(this.yylineno+=p.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:p?p[p.length-1].length-p[p.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],d=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),d)return d;if(this._backtrack){for(var g in f)this[g]=f[g];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,h,d,p;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length;g++)if(d=this._input.match(this.rules[f[g]]),d&&(!h||d[0].length>h[0].length)){if(h=d,p=g,this.options.backtrack_lexer){if(u=this.test_match(d,f[g]),u!==!1)return u;if(this._backtrack){h=!1;continue}else return!1}else if(!this.options.flex)break}return h?(u=this.test_match(h,f[p]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var u=this.next();return u||this.lex()},"lex"),begin:o(function(u){this.conditionStack.push(u)},"begin"),popState:o(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:o(function(u){this.begin(u)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(u,h,d,p){var f=p;switch(d){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return l}();i.lexer=a;function s(){this.yy={}}return o(s,"Parser"),s.prototype=i,i.Parser=s,new s}(),OE.parser=OE,kx=OE}),wx,Tx,Ex,MBe,DBe,RBe,OBe,PBe,BBe,$Be,FBe,zBe,Ret=I(()=>{"use strict";tr(),Pr(),Hi(),wx=[],Tx=[],Ex=new Map,MBe=o(()=>{wx=[],Tx=[],Ex=new Map,Yi()},"clear"),DBe=class{constructor(e,t,r=0){this.source=e,this.target=t,this.value=r}static{o(this,"SankeyLink")}},RBe=o((e,t,r)=>{wx.push(new DBe(e,t,r))},"addLink"),OBe=class{constructor(e){this.ID=e}static{o(this,"SankeyNode")}},PBe=o(e=>{e=ot.sanitizeText(e,we());let t=Ex.get(e);return t===void 0&&(t=new OBe(e),Ex.set(e,t),Tx.push(t)),t},"findOrCreateNode"),BBe=o(()=>Tx,"getNodes"),$Be=o(()=>wx,"getLinks"),FBe=o(()=>({nodes:Tx.map(e=>({id:e.ID})),links:wx.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),zBe={nodesMap:Ex,getConfig:o(()=>we().sankey,"getConfig"),getNodes:BBe,getLinks:$Be,getGraph:FBe,addLink:RBe,findOrCreateNode:PBe,getAccTitle:ea,setAccTitle:Ui,getAccDescription:ra,setAccDescription:ta,getDiagramTitle:na,setDiagramTitle:za,clear:MBe}});function Xq(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var Oet=I(()=>{"use strict";o(Xq,"max")});function Kq(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var Pet=I(()=>{"use strict";o(Kq,"min")});function PE(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}var Bet=I(()=>{"use strict";o(PE,"sum")}),GBe=I(()=>{"use strict";Oet(),Pet(),Bet()});function qBe(e){return e.target.depth}function jBe(e){return e.depth}function YBe(e,t){return t-1-e.height}function Zq(e,t){return e.sourceLinks.length?e.depth:t-1}function UBe(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?Kq(e.sourceLinks,qBe)-1:0}var HBe=I(()=>{"use strict";GBe(),o(qBe,"targetDepth"),o(jBe,"left"),o(YBe,"right"),o(Zq,"justify"),o(UBe,"center")});function _x(e){return function(){return e}}var $et=I(()=>{"use strict";o(_x,"constant")});function Qq(e,t){return Cx(e.source,t.source)||e.index-t.index}function Jq(e,t){return Cx(e.target,t.target)||e.index-t.index}function Cx(e,t){return e.y0-t.y0}function BE(e){return e.value}function WBe(e){return e.index}function VBe(e){return e.nodes}function XBe(e){return e.links}function ej(e,t){let r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function tj({nodes:e}){for(let t of e){let r=t.y0,n=r;for(let i of t.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(let i of t.targetLinks)i.y1=n+i.width/2,n+=i.width}}function KBe(){let e=0,t=0,r=1,n=1,i=24,a=8,s,l=WBe,u=Zq,h,d,p=VBe,f=XBe,g=6;function m(){let R={nodes:p.apply(null,arguments),links:f.apply(null,arguments)};return y(R),b(R),v(R),x(R),_(R),tj(R),R}o(m,"sankey"),m.update=function(R){return tj(R),R},m.nodeId=function(R){return arguments.length?(l=typeof R=="function"?R:_x(R),m):l},m.nodeAlign=function(R){return arguments.length?(u=typeof R=="function"?R:_x(R),m):u},m.nodeSort=function(R){return arguments.length?(h=R,m):h},m.nodeWidth=function(R){return arguments.length?(i=+R,m):i},m.nodePadding=function(R){return arguments.length?(a=s=+R,m):a},m.nodes=function(R){return arguments.length?(p=typeof R=="function"?R:_x(R),m):p},m.links=function(R){return arguments.length?(f=typeof R=="function"?R:_x(R),m):f},m.linkSort=function(R){return arguments.length?(d=R,m):d},m.size=function(R){return arguments.length?(e=t=0,r=+R[0],n=+R[1],m):[r-e,n-t]},m.extent=function(R){return arguments.length?(e=+R[0][0],r=+R[1][0],t=+R[0][1],n=+R[1][1],m):[[e,t],[r,n]]},m.iterations=function(R){return arguments.length?(g=+R,m):g};function y({nodes:R,links:O}){for(let[A,$]of R.entries())$.index=A,$.sourceLinks=[],$.targetLinks=[];let P=new Map(R.map((A,$)=>[l(A,$,R),A]));for(let[A,$]of O.entries()){$.index=A;let{source:F,target:G}=$;typeof F!="object"&&(F=$.source=ej(P,F)),typeof G!="object"&&(G=$.target=ej(P,G)),F.sourceLinks.push($),G.targetLinks.push($)}if(d!=null)for(let{sourceLinks:A,targetLinks:$}of R)A.sort(d),$.sort(d)}o(y,"computeNodeLinks");function b({nodes:R}){for(let O of R)O.value=O.fixedValue===void 0?Math.max(PE(O.sourceLinks,BE),PE(O.targetLinks,BE)):O.fixedValue}o(b,"computeNodeValues");function v({nodes:R}){let O=R.length,P=new Set(R),A=new Set,$=0;for(;P.size;){for(let F of P){F.depth=$;for(let{target:G}of F.sourceLinks)A.add(G)}if(++$>O)throw new Error("circular link");P=A,A=new Set}}o(v,"computeNodeDepths");function x({nodes:R}){let O=R.length,P=new Set(R),A=new Set,$=0;for(;P.size;){for(let F of P){F.height=$;for(let{source:G}of F.targetLinks)A.add(G)}if(++$>O)throw new Error("circular link");P=A,A=new Set}}o(x,"computeNodeHeights");function k({nodes:R}){let O=Xq(R,$=>$.depth)+1,P=(r-e-i)/(O-1),A=new Array(O);for(let $ of R){let F=Math.max(0,Math.min(O-1,Math.floor(u.call(null,$,O))));$.layer=F,$.x0=e+F*P,$.x1=$.x0+i,A[F]?A[F].push($):A[F]=[$]}if(h)for(let $ of A)$.sort(h);return A}o(k,"computeNodeLayers");function w(R){let O=Kq(R,P=>(n-t-(P.length-1)*s)/PE(P,BE));for(let P of R){let A=t;for(let $ of P){$.y0=A,$.y1=A+$.value*O,A=$.y1+s;for(let F of $.sourceLinks)F.width=F.value*O}A=(n-A+s)/(P.length+1);for(let $=0;$<P.length;++$){let F=P[$];F.y0+=A*($+1),F.y1+=A*($+1)}L(P)}}o(w,"initializeNodeBreadths");function _(R){let O=k(R);s=Math.min(a,(n-t)/(Xq(O,P=>P.length)-1)),w(O);for(let P=0;P<g;++P){let A=Math.pow(.99,P),$=Math.max(1-A,(P+1)/g);C(O,A,$),S(O,A,$)}}o(_,"computeNodeBreadths");function S(R,O,P){for(let A=1,$=R.length;A<$;++A){let F=R[A];for(let G of F){let q=0,W=0;for(let{source:oe,value:te}of G.targetLinks){let se=te*(G.layer-oe.layer);q+=B(oe,G)*se,W+=se}if(!(W>0))continue;let re=(q/W-G.y0)*O;G.y0+=re,G.y1+=re,M(G)}h===void 0&&F.sort(Cx),T(F,P)}}o(S,"relaxLeftToRight");function C(R,O,P){for(let A=R.length,$=A-2;$>=0;--$){let F=R[$];for(let G of F){let q=0,W=0;for(let{target:oe,value:te}of G.sourceLinks){let se=te*(oe.layer-G.layer);q+=E(G,oe)*se,W+=se}if(!(W>0))continue;let re=(q/W-G.y0)*O;G.y0+=re,G.y1+=re,M(G)}h===void 0&&F.sort(Cx),T(F,P)}}o(C,"relaxRightToLeft");function T(R,O){let P=R.length>>1,A=R[P];D(R,A.y0-s,P-1,O),N(R,A.y1+s,P+1,O),D(R,n,R.length-1,O),N(R,t,0,O)}o(T,"resolveCollisions");function N(R,O,P,A){for(;P<R.length;++P){let $=R[P],F=(O-$.y0)*A;F>1e-6&&($.y0+=F,$.y1+=F),O=$.y1+s}}o(N,"resolveCollisionsTopToBottom");function D(R,O,P,A){for(;P>=0;--P){let $=R[P],F=($.y1-O)*A;F>1e-6&&($.y0-=F,$.y1-=F),O=$.y0-s}}o(D,"resolveCollisionsBottomToTop");function M({sourceLinks:R,targetLinks:O}){if(d===void 0){for(let{source:{sourceLinks:P}}of O)P.sort(Jq);for(let{target:{targetLinks:P}}of R)P.sort(Qq)}}o(M,"reorderNodeLinks");function L(R){if(d===void 0)for(let{sourceLinks:O,targetLinks:P}of R)O.sort(Jq),P.sort(Qq)}o(L,"reorderLinks");function B(R,O){let P=R.y0-(R.sourceLinks.length-1)*s/2;for(let{target:A,width:$}of R.sourceLinks){if(A===O)break;P+=$+s}for(let{source:A,width:$}of O.targetLinks){if(A===R)break;P-=$}return P}o(B,"targetTop");function E(R,O){let P=O.y0-(O.targetLinks.length-1)*s/2;for(let{source:A,width:$}of O.targetLinks){if(A===R)break;P+=$+s}for(let{target:A,width:$}of R.sourceLinks){if(A===O)break;P-=$}return P}return o(E,"sourceTop"),m}var Fet=I(()=>{"use strict";GBe(),HBe(),$et(),o(Qq,"ascendingSourceBreadth"),o(Jq,"ascendingTargetBreadth"),o(Cx,"ascendingBreadth"),o(BE,"value"),o(WBe,"defaultId"),o(VBe,"defaultNodes"),o(XBe,"defaultLinks"),o(ej,"find"),o(tj,"computeLinkBreadths"),o(KBe,"Sankey")});function $E(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rj(){return new $E}var FE,zE,Ad,ZBe,QBe,zet=I(()=>{"use strict";FE=Math.PI,zE=2*FE,Ad=1e-6,ZBe=zE-Ad,o($E,"Path"),o(rj,"path"),$E.prototype=rj.prototype={constructor:$E,moveTo:o(function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},"moveTo"),closePath:o(function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},"closePath"),lineTo:o(function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},"lineTo"),quadraticCurveTo:o(function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},"quadraticCurveTo"),bezierCurveTo:o(function(e,t,r,n,i,a){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},"bezierCurveTo"),arcTo:o(function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var a=this._x1,s=this._y1,l=r-e,u=n-t,h=a-e,d=s-t,p=h*h+d*d;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>Ad)if(!(Math.abs(d*l-u*h)>Ad)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=r-a,g=n-s,m=l*l+u*u,y=f*f+g*g,b=Math.sqrt(m),v=Math.sqrt(p),x=i*Math.tan((FE-Math.acos((m+p-y)/(2*b*v)))/2),k=x/v,w=x/b;Math.abs(k-1)>Ad&&(this._+="L"+(e+k*h)+","+(t+k*d)),this._+="A"+i+","+i+",0,0,"+ +(d*f>h*g)+","+(this._x1=e+w*l)+","+(this._y1=t+w*u)}},"arcTo"),arc:o(function(e,t,r,n,i,a){e=+e,t=+t,r=+r,a=!!a;var s=r*Math.cos(n),l=r*Math.sin(n),u=e+s,h=t+l,d=1^a,p=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+h:(Math.abs(this._x1-u)>Ad||Math.abs(this._y1-h)>Ad)&&(this._+="L"+u+","+h),r&&(p<0&&(p=p%zE+zE),p>ZBe?this._+="A"+r+","+r+",0,1,"+d+","+(e-s)+","+(t-l)+"A"+r+","+r+",0,1,"+d+","+(this._x1=u)+","+(this._y1=h):p>Ad&&(this._+="A"+r+","+r+",0,"+ +(p>=FE)+","+d+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},"arc"),rect:o(function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},"rect"),toString:o(function(){return this._},"toString")},QBe=rj}),Get=I(()=>{"use strict";zet()});function nj(e){return o(function(){return e},"constant")}var qet=I(()=>{"use strict";o(nj,"default")});function JBe(e){return e[0]}function e$e(e){return e[1]}var jet=I(()=>{"use strict";o(JBe,"x"),o(e$e,"y")}),t$e,Yet=I(()=>{"use strict";t$e=Array.prototype.slice});function r$e(e){return e.source}function n$e(e){return e.target}function i$e(e){var t=r$e,r=n$e,n=JBe,i=e$e,a=null;function s(){var l,u=t$e.call(arguments),h=t.apply(this,u),d=r.apply(this,u);if(a||(a=l=QBe()),e(a,+n.apply(this,(u[0]=h,u)),+i.apply(this,u),+n.apply(this,(u[0]=d,u)),+i.apply(this,u)),l)return a=null,l+""||null}return o(s,"link"),s.source=function(l){return arguments.length?(t=l,s):t},s.target=function(l){return arguments.length?(r=l,s):r},s.x=function(l){return arguments.length?(n=typeof l=="function"?l:nj(+l),s):n},s.y=function(l){return arguments.length?(i=typeof l=="function"?l:nj(+l),s):i},s.context=function(l){return arguments.length?(a=l??null,s):a},s}function a$e(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function s$e(){return i$e(a$e)}var Uet=I(()=>{"use strict";Get(),Yet(),qet(),jet(),o(r$e,"linkSource"),o(n$e,"linkTarget"),o(i$e,"link"),o(a$e,"curveHorizontal"),o(s$e,"linkHorizontal")}),Het=I(()=>{"use strict";Uet()});function o$e(e){return[e.source.x1,e.y0]}function l$e(e){return[e.target.x0,e.y1]}function c$e(){return s$e().source(o$e).target(l$e)}var Wet=I(()=>{"use strict";Het(),o(o$e,"horizontalSource"),o(l$e,"horizontalTarget"),o(c$e,"default")}),Vet=I(()=>{"use strict";Fet(),HBe(),Wet()}),ij,Xet=I(()=>{"use strict";ij=class Xj{static{o(this,"Uid")}static{this.count=0}static next(t){return new Xj(t+ ++Xj.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}}}),u$e,h$e,d$e,Ket=I(()=>{"use strict";tr(),Fr(),Vet(),wi(),Xet(),u$e={left:jBe,right:YBe,center:UBe,justify:Zq},h$e=o(function(e,t,r,n){let{securityLevel:i,sankey:a}=we(),s=EC.sankey,l;i==="sandbox"&&(l=nt("#i"+t));let u=nt(i==="sandbox"?l.nodes()[0].contentDocument.body:"body"),h=i==="sandbox"?u.select(`[id="${t}"]`):nt(`[id="${t}"]`),d=a?.width??s.width,p=a?.height??s.width,f=a?.useMaxWidth??s.useMaxWidth,g=a?.nodeAlignment??s.nodeAlignment,m=a?.prefix??s.prefix,y=a?.suffix??s.suffix,b=a?.showValues??s.showValues,v=n.db.getGraph(),x=u$e[g];KBe().nodeId(T=>T.id).nodeWidth(10).nodePadding(10+(b?15:0)).nodeAlign(x).extent([[0,0],[d,p]])(v);let k=vy(_ee);h.append("g").attr("class","nodes").selectAll(".node").data(v.nodes).join("g").attr("class","node").attr("id",T=>(T.uid=ij.next("node-")).id).attr("transform",function(T){return"translate("+T.x0+","+T.y0+")"}).attr("x",T=>T.x0).attr("y",T=>T.y0).append("rect").attr("height",T=>T.y1-T.y0).attr("width",T=>T.x1-T.x0).attr("fill",T=>k(T.id));let w=o(({id:T,value:N})=>b?`${T}
${m}${Math.round(N*100)/100}${y}`:T,"getText");h.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(v.nodes).join("text").attr("x",T=>T.x0<d/2?T.x1+6:T.x0-6).attr("y",T=>(T.y1+T.y0)/2).attr("dy",`${b?"0":"0.35"}em`).attr("text-anchor",T=>T.x0<d/2?"start":"end").text(w);let _=h.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(v.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),S=a?.linkColor??"gradient";if(S==="gradient"){let T=_.append("linearGradient").attr("id",N=>(N.uid=ij.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",N=>N.source.x1).attr("x2",N=>N.target.x0);T.append("stop").attr("offset","0%").attr("stop-color",N=>k(N.source.id)),T.append("stop").attr("offset","100%").attr("stop-color",N=>k(N.target.id))}let C;switch(S){case"gradient":C=o(T=>T.uid,"coloring");break;case"source":C=o(T=>k(T.source.id),"coloring");break;case"target":C=o(T=>k(T.target.id),"coloring");break;default:C=S}_.append("path").attr("d",c$e()).attr("stroke",C).attr("stroke-width",T=>Math.max(1,T.width)),jd(void 0,h,0,f)},"draw"),d$e={draw:h$e}}),p$e,Zet=I(()=>{"use strict";p$e=o(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing")}),g$e={};Nt(g$e,{diagram:()=>m$e});var f$e,m$e,Qet=I(()=>{"use strict";Det(),Ret(),Ket(),Zet(),f$e=kx.parse.bind(kx),kx.parse=e=>f$e(p$e(e)),m$e={parser:kx,db:zBe,renderer:d$e}}),aj,GE,y$e,v$e,b$e,x$e,k$e,Np,w$e=I(()=>{"use strict";xs(),Gs(),Dr(),Hi(),aj={packet:[]},GE=structuredClone(aj),y$e=Kr.packet,v$e=o(()=>{let e=Zc({...y$e,...Yn().packet});return e.showBits&&(e.paddingY+=10),e},"getConfig"),b$e=o(()=>GE.packet,"getPacket"),x$e=o(e=>{e.length>0&&GE.packet.push(e)},"pushWord"),k$e=o(()=>{Yi(),GE=structuredClone(aj)},"clear"),Np={pushWord:x$e,getPacket:b$e,getConfig:v$e,clear:k$e,setAccTitle:Ui,getAccTitle:ea,setDiagramTitle:za,getDiagramTitle:na,getAccDescription:ra,setAccDescription:ta}}),T$e,E$e,_$e,C$e,Jet=I(()=>{"use strict";Qv(),Ye(),C7(),w$e(),T$e=1e4,E$e=o(e=>{Jv(e,Np);let t=-1,r=[],n=1,{bitsPerRow:i}=Np.getConfig();for(let{start:a,end:s,label:l}of e.blocks){if(s&&s<a)throw new Error(`Packet block ${a} - ${s} is invalid. End must be greater than start.`);if(a!==t+1)throw new Error(`Packet block ${a} - ${s??a} is not contiguous. It should start from ${t+1}.`);for(t=s??a,X.debug(`Packet block ${a} - ${t} with label ${l}`);r.length<=i+1&&Np.getPacket().length<T$e;){let[u,h]=_$e({start:a,end:s,label:l},n,i);if(r.push(u),u.end+1===n*i&&(Np.pushWord(r),r=[],n++),!h)break;({start:a,end:s,label:l}=h)}}Np.pushWord(r)},"populate"),_$e=o((e,t,r)=>{if(e.end===void 0&&(e.end=e.start),e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);return e.end+1<=t*r?[e,void 0]:[{start:e.start,end:t*r-1,label:e.label},{start:t*r,end:e.end,label:e.label}]},"getNextFittingBlock"),C$e={parse:o(async e=>{let t=await Y0("packet",e);X.debug(t),E$e(t)},"parse")}}),S$e,A$e,L$e,ett=I(()=>{"use strict";sd(),wi(),S$e=o((e,t,r,n)=>{let i=n.db,a=i.getConfig(),{rowHeight:s,paddingY:l,bitWidth:u,bitsPerRow:h}=a,d=i.getPacket(),p=i.getDiagramTitle(),f=s+l,g=f*(d.length+1)-(p?0:s),m=u*h+2,y=Lu(t);y.attr("viewbox",`0 0 ${m} ${g}`),ba(y,g,m,a.useMaxWidth);for(let[b,v]of d.entries())A$e(y,v,b,a);y.append("text").text(p).attr("x",m/2).attr("y",g-f/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),A$e=o((e,t,r,{rowHeight:n,paddingX:i,paddingY:a,bitWidth:s,bitsPerRow:l,showBits:u})=>{let h=e.append("g"),d=r*(n+a)+a;for(let p of t){let f=p.start%l*s+1,g=(p.end-p.start+1)*s-i;if(h.append("rect").attr("x",f).attr("y",d).attr("width",g).attr("height",n).attr("class","packetBlock"),h.append("text").attr("x",f+g/2).attr("y",d+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(p.label),!u)continue;let m=p.end===p.start,y=d-2;h.append("text").attr("x",f+(m?g/2:0)).attr("y",y).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(p.start),m||h.append("text").attr("x",f+g).attr("y",y).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(p.end)}},"drawWord"),L$e={draw:S$e}}),N$e,I$e,ttt=I(()=>{"use strict";Dr(),N$e={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},I$e=o(({packet:e}={})=>{let t=Zc(N$e,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles")}),M$e={};Nt(M$e,{diagram:()=>D$e});var D$e,rtt=I(()=>{"use strict";w$e(),Jet(),ett(),ttt(),D$e={parser:C$e,db:Np,renderer:L$e,styles:I$e}}),qE,R$e,ntt=I(()=>{"use strict";qE=function(){var e=o(function(k,w,_,S){for(_=_||{},S=k.length;S--;_[k[S]]=w);return _},"o"),t=[1,7],r=[1,13],n=[1,14],i=[1,15],a=[1,19],s=[1,16],l=[1,17],u=[1,18],h=[8,30],d=[8,21,28,29,30,31,32,40,44,47],p=[1,23],f=[1,24],g=[8,15,16,21,28,29,30,31,32,40,44,47],m=[8,15,16,21,27,28,29,30,31,32,40,44,47],y=[1,49],b={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:o(function(k,w,_,S,C,T,N){var D=T.length-1;switch(C){case 4:S.getLogger().debug("Rule: separator (NL) ");break;case 5:S.getLogger().debug("Rule: separator (Space) ");break;case 6:S.getLogger().debug("Rule: separator (EOF) ");break;case 7:S.getLogger().debug("Rule: hierarchy: ",T[D-1]),S.setHierarchy(T[D-1]);break;case 8:S.getLogger().debug("Stop NL ");break;case 9:S.getLogger().debug("Stop EOF ");break;case 10:S.getLogger().debug("Stop NL2 ");break;case 11:S.getLogger().debug("Stop EOF2 ");break;case 12:S.getLogger().debug("Rule: statement: ",T[D]),typeof T[D].length=="number"?this.$=T[D]:this.$=[T[D]];break;case 13:S.getLogger().debug("Rule: statement #2: ",T[D-1]),this.$=[T[D-1]].concat(T[D]);break;case 14:S.getLogger().debug("Rule: link: ",T[D],k),this.$={edgeTypeStr:T[D],label:""};break;case 15:S.getLogger().debug("Rule: LABEL link: ",T[D-3],T[D-1],T[D]),this.$={edgeTypeStr:T[D],label:T[D-1]};break;case 18:let M=parseInt(T[D]),L=S.generateId();this.$={id:L,type:"space",label:"",width:M,children:[]};break;case 23:S.getLogger().debug("Rule: (nodeStatement link node) ",T[D-2],T[D-1],T[D]," typestr: ",T[D-1].edgeTypeStr);let B=S.edgeStrToEdgeData(T[D-1].edgeTypeStr);this.$=[{id:T[D-2].id,label:T[D-2].label,type:T[D-2].type,directions:T[D-2].directions},{id:T[D-2].id+"-"+T[D].id,start:T[D-2].id,end:T[D].id,label:T[D-1].label,type:"edge",directions:T[D].directions,arrowTypeEnd:B,arrowTypeStart:"arrow_open"},{id:T[D].id,label:T[D].label,type:S.typeStr2Type(T[D].typeStr),directions:T[D].directions}];break;case 24:S.getLogger().debug("Rule: nodeStatement (abc88 node size) ",T[D-1],T[D]),this.$={id:T[D-1].id,label:T[D-1].label,type:S.typeStr2Type(T[D-1].typeStr),directions:T[D-1].directions,widthInColumns:parseInt(T[D],10)};break;case 25:S.getLogger().debug("Rule: nodeStatement (node) ",T[D]),this.$={id:T[D].id,label:T[D].label,type:S.typeStr2Type(T[D].typeStr),directions:T[D].directions,widthInColumns:1};break;case 26:S.getLogger().debug("APA123",this?this:"na"),S.getLogger().debug("COLUMNS: ",T[D]),this.$={type:"column-setting",columns:T[D]==="auto"?-1:parseInt(T[D])};break;case 27:S.getLogger().debug("Rule: id-block statement : ",T[D-2],T[D-1]);let E=S.generateId();this.$={...T[D-2],type:"composite",children:T[D-1]};break;case 28:S.getLogger().debug("Rule: blockStatement : ",T[D-2],T[D-1],T[D]);let R=S.generateId();this.$={id:R,type:"composite",label:"",children:T[D-1]};break;case 29:S.getLogger().debug("Rule: node (NODE_ID separator): ",T[D]),this.$={id:T[D]};break;case 30:S.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",T[D-1],T[D]),this.$={id:T[D-1],label:T[D].label,typeStr:T[D].typeStr,directions:T[D].directions};break;case 31:S.getLogger().debug("Rule: dirList: ",T[D]),this.$=[T[D]];break;case 32:S.getLogger().debug("Rule: dirList: ",T[D-1],T[D]),this.$=[T[D-1]].concat(T[D]);break;case 33:S.getLogger().debug("Rule: nodeShapeNLabel: ",T[D-2],T[D-1],T[D]),this.$={typeStr:T[D-2]+T[D],label:T[D-1]};break;case 34:S.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",T[D-3],T[D-2]," #3:",T[D-1],T[D]),this.$={typeStr:T[D-3]+T[D],label:T[D-2],directions:T[D-1]};break;case 35:case 36:this.$={type:"classDef",id:T[D-1].trim(),css:T[D].trim()};break;case 37:this.$={type:"applyClass",id:T[D-1].trim(),styleClass:T[D].trim()};break;case 38:this.$={type:"applyStyles",id:T[D-1].trim(),stylesStr:T[D].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:l,47:u},{8:[1,20]},e(h,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:t,28:r,29:n,31:i,32:a,40:s,44:l,47:u}),e(d,[2,16],{14:22,15:p,16:f}),e(d,[2,17]),e(d,[2,18]),e(d,[2,19]),e(d,[2,20]),e(d,[2,21]),e(d,[2,22]),e(g,[2,25],{27:[1,25]}),e(d,[2,26]),{19:26,26:12,32:a},{11:27,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:l,47:u},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},e(m,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},e(h,[2,13]),{26:35,32:a},{32:[2,14]},{17:[1,36]},e(g,[2,24]),{11:37,13:4,14:22,15:p,16:f,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:l,47:u},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},e(m,[2,30]),{18:[1,43]},{18:[1,44]},e(g,[2,23]),{18:[1,45]},{30:[1,46]},e(d,[2,28]),e(d,[2,35]),e(d,[2,36]),e(d,[2,37]),e(d,[2,38]),{37:[1,47]},{34:48,35:y},{15:[1,50]},e(d,[2,27]),e(m,[2,33]),{39:[1,51]},{34:52,35:y,39:[2,31]},{32:[2,15]},e(m,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:o(function(k,w){if(w.recoverable)this.trace(k);else{var _=new Error(k);throw _.hash=w,_}},"parseError"),parse:o(function(k){var w=this,_=[0],S=[],C=[null],T=[],N=this.table,D="",M=0,L=0,B=0,E=2,R=1,O=T.slice.call(arguments,1),P=Object.create(this.lexer),A={yy:{}};for(var $ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$)&&(A.yy[$]=this.yy[$]);P.setInput(k,A.yy),A.yy.lexer=P,A.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var F=P.yylloc;T.push(F);var G=P.options&&P.options.ranges;typeof A.yy.parseError=="function"?this.parseError=A.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function q(ie){_.length=_.length-2*ie,C.length=C.length-ie,T.length=T.length-ie}o(q,"popStack");function W(){var ie;return ie=S.pop()||P.lex()||R,typeof ie!="number"&&(ie instanceof Array&&(S=ie,ie=S.pop()),ie=w.symbols_[ie]||ie),ie}o(W,"lex");for(var re,oe,te,se,Y,V,U={},ne,K,fe,Q;;){if(te=_[_.length-1],this.defaultActions[te]?se=this.defaultActions[te]:((re===null||typeof re>"u")&&(re=W()),se=N[te]&&N[te][re]),typeof se>"u"||!se.length||!se[0]){var Te="";Q=[];for(ne in N[te])this.terminals_[ne]&&ne>E&&Q.push("'"+this.terminals_[ne]+"'");P.showPosition?Te="Parse error on line "+(M+1)+`:
`+P.showPosition()+`
Expecting `+Q.join(", ")+", got '"+(this.terminals_[re]||re)+"'":Te="Parse error on line "+(M+1)+": Unexpected "+(re==R?"end of input":"'"+(this.terminals_[re]||re)+"'"),this.parseError(Te,{text:P.match,token:this.terminals_[re]||re,line:P.yylineno,loc:F,expected:Q})}if(se[0]instanceof Array&&se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+te+", token: "+re);switch(se[0]){case 1:_.push(re),C.push(P.yytext),T.push(P.yylloc),_.push(se[1]),re=null,oe?(re=oe,oe=null):(L=P.yyleng,D=P.yytext,M=P.yylineno,F=P.yylloc,B>0&&B--);break;case 2:if(K=this.productions_[se[1]][1],U.$=C[C.length-K],U._$={first_line:T[T.length-(K||1)].first_line,last_line:T[T.length-1].last_line,first_column:T[T.length-(K||1)].first_column,last_column:T[T.length-1].last_column},G&&(U._$.range=[T[T.length-(K||1)].range[0],T[T.length-1].range[1]]),V=this.performAction.apply(U,[D,L,M,A.yy,se[1],C,T].concat(O)),typeof V<"u")return V;K&&(_=_.slice(0,-1*K*2),C=C.slice(0,-1*K),T=T.slice(0,-1*K)),_.push(this.productions_[se[1]][0]),C.push(U.$),T.push(U._$),fe=N[_[_.length-2]][_[_.length-1]],_.push(fe);break;case 3:return!0}}return!0},"parse")},v=function(){var k={EOF:1,parseError:o(function(w,_){if(this.yy.parser)this.yy.parser.parseError(w,_);else throw new Error(w)},"parseError"),setInput:o(function(w,_){return this.yy=_||this.yy||{},this._input=w,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var w=this._input[0];this.yytext+=w,this.yyleng++,this.offset++,this.match+=w,this.matched+=w;var _=w.match(/(?:\r\n?|\n).*/g);return _?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),w},"input"),unput:o(function(w){var _=w.length,S=w.split(/(?:\r\n?|\n)/g);this._input=w+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-_),this.offset-=_;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),S.length-1&&(this.yylineno-=S.length-1);var T=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:S?(S.length===C.length?this.yylloc.first_column:0)+C[C.length-S.length].length-S[0].length:this.yylloc.first_column-_},this.options.ranges&&(this.yylloc.range=[T[0],T[0]+this.yyleng-_]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(w){this.unput(this.match.slice(w))},"less"),pastInput:o(function(){var w=this.matched.substr(0,this.matched.length-this.match.length);return(w.length>20?"...":"")+w.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var w=this.match;return w.length<20&&(w+=this._input.substr(0,20-w.length)),(w.substr(0,20)+(w.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var w=this.pastInput(),_=new Array(w.length+1).join("-");return w+this.upcomingInput()+`
`+_+"^"},"showPosition"),test_match:o(function(w,_){var S,C,T;if(this.options.backtrack_lexer&&(T={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(T.yylloc.range=this.yylloc.range.slice(0))),C=w[0].match(/(?:\r\n?|\n).*/g),C&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+w[0].length},this.yytext+=w[0],this.match+=w[0],this.matches=w,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(w[0].length),this.matched+=w[0],S=this.performAction.call(this,this.yy,this,_,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),S)return S;if(this._backtrack){for(var N in T)this[N]=T[N];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var w,_,S,C;this._more||(this.yytext="",this.match="");for(var T=this._currentRules(),N=0;N<T.length;N++)if(S=this._input.match(this.rules[T[N]]),S&&(!_||S[0].length>_[0].length)){if(_=S,C=N,this.options.backtrack_lexer){if(w=this.test_match(S,T[N]),w!==!1)return w;if(this._backtrack){_=!1;continue}else return!1}else if(!this.options.flex)break}return _?(w=this.test_match(_,T[C]),w!==!1?w:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var w=this.next();return w||this.lex()},"lex"),begin:o(function(w){this.conditionStack.push(w)},"begin"),popState:o(function(){var w=this.conditionStack.length-1;return w>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(w){return w=this.conditionStack.length-1-Math.abs(w||0),w>=0?this.conditionStack[w]:"INITIAL"},"topState"),pushState:o(function(w){this.begin(w)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(w,_,S,C){var T=C;switch(S){case 0:return 10;case 1:return w.getLogger().debug("Found space-block"),31;case 2:return w.getLogger().debug("Found nl-block"),31;case 3:return w.getLogger().debug("Found space-block"),29;case 4:w.getLogger().debug(".",_.yytext);break;case 5:w.getLogger().debug("_",_.yytext);break;case 6:return 5;case 7:return _.yytext=-1,28;case 8:return _.yytext=_.yytext.replace(/columns\s+/,""),w.getLogger().debug("COLUMNS (LEX)",_.yytext),28;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:w.getLogger().debug("LEX: POPPING STR:",_.yytext),this.popState();break;case 14:return w.getLogger().debug("LEX: STR end:",_.yytext),"STR";case 15:return _.yytext=_.yytext.replace(/space\:/,""),w.getLogger().debug("SPACE NUM (LEX)",_.yytext),21;case 16:return _.yytext="1",w.getLogger().debug("COLUMNS (LEX)",_.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),w.getLogger().debug("Lex: ))"),"NODE_DEND";case 41:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 43:return this.popState(),w.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),w.getLogger().debug("Lex: -)"),"NODE_DEND";case 45:return this.popState(),w.getLogger().debug("Lex: (("),"NODE_DEND";case 46:return this.popState(),w.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),w.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),w.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:return this.popState(),w.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),w.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),w.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),w.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),w.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),w.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return w.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return w.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return w.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return w.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 60:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 61:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 62:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 63:return w.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return w.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 65:return w.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 66:return this.pushState("NODE"),36;case 67:return this.pushState("NODE"),36;case 68:return this.pushState("NODE"),36;case 69:return this.pushState("NODE"),36;case 70:return this.pushState("NODE"),36;case 71:return this.pushState("NODE"),36;case 72:return this.pushState("NODE"),36;case 73:return w.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),w.getLogger().debug("LEX ARR START"),38;case 75:return w.getLogger().debug("Lex: NODE_ID",_.yytext),32;case 76:return w.getLogger().debug("Lex: EOF",_.yytext),8;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:w.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:w.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return w.getLogger().debug("LEX: NODE_DESCR:",_.yytext),"NODE_DESCR";case 84:w.getLogger().debug("LEX POPPING"),this.popState();break;case 85:w.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return _.yytext=_.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (right): dir:",_.yytext),"DIR";case 87:return _.yytext=_.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (left):",_.yytext),"DIR";case 88:return _.yytext=_.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (x):",_.yytext),"DIR";case 89:return _.yytext=_.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (y):",_.yytext),"DIR";case 90:return _.yytext=_.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (up):",_.yytext),"DIR";case 91:return _.yytext=_.yytext.replace(/^,\s*/,""),w.getLogger().debug("Lex (down):",_.yytext),"DIR";case 92:return _.yytext="]>",w.getLogger().debug("Lex (ARROW_DIR end):",_.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return w.getLogger().debug("Lex: LINK","#"+_.yytext+"#"),15;case 94:return w.getLogger().debug("Lex: LINK",_.yytext),15;case 95:return w.getLogger().debug("Lex: LINK",_.yytext),15;case 96:return w.getLogger().debug("Lex: LINK",_.yytext),15;case 97:return w.getLogger().debug("Lex: START_LINK",_.yytext),this.pushState("LLABEL"),16;case 98:return w.getLogger().debug("Lex: START_LINK",_.yytext),this.pushState("LLABEL"),16;case 99:return w.getLogger().debug("Lex: START_LINK",_.yytext),this.pushState("LLABEL"),16;case 100:this.pushState("md_string");break;case 101:return w.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),w.getLogger().debug("Lex: LINK","#"+_.yytext+"#"),15;case 103:return this.popState(),w.getLogger().debug("Lex: LINK",_.yytext),15;case 104:return this.popState(),w.getLogger().debug("Lex: LINK",_.yytext),15;case 105:return w.getLogger().debug("Lex: COLON",_.yytext),_.yytext=_.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return k}();b.lexer=v;function x(){this.yy={}}return o(x,"Parser"),x.prototype=b,b.Parser=x,new x}(),qE.parser=qE,R$e=qE});function O$e(e){switch(X.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return X.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function P$e(e){switch(X.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}function B$e(e){switch(e.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}var qo,jE,YE,sj,oj,$$e,lj,F$e,Sx,z$e,G$e,q$e,j$e,cj,UE,jf,Y$e,uj,U$e,H$e,W$e,V$e,X$e,K$e,Z$e,Q$e,J$e,eFe,tFe,rFe,itt=I(()=>{"use strict";sge(),xs(),tr(),Ye(),Pr(),Hi(),qo=new Map,jE=[],YE=new Map,sj="color",oj="fill",$$e="bgFill",lj=",",F$e=we(),Sx=new Map,z$e=o(e=>ot.sanitizeText(e,F$e),"sanitizeText"),G$e=o(function(e,t=""){let r=Sx.get(e);r||(r={id:e,styles:[],textStyles:[]},Sx.set(e,r)),t?.split(lj).forEach(n=>{let i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(sj).exec(n)){let a=i.replace(oj,$$e).replace(sj,oj);r.textStyles.push(a)}r.styles.push(i)})},"addStyleClass"),q$e=o(function(e,t=""){let r=qo.get(e);t!=null&&(r.styles=t.split(lj))},"addStyle2Node"),j$e=o(function(e,t){e.split(",").forEach(function(r){let n=qo.get(r);if(n===void 0){let i=r.trim();n={id:i,type:"na",children:[]},qo.set(i,n)}n.classes||(n.classes=[]),n.classes.push(t)})},"setCssClass"),cj=o((e,t)=>{let r=e.flat(),n=[];for(let i of r){if(i.label&&(i.label=z$e(i.label)),i.type==="classDef"){G$e(i.id,i.css);continue}if(i.type==="applyClass"){j$e(i.id,i?.styleClass??"");continue}if(i.type==="applyStyles"){i?.stylesStr&&q$e(i.id,i?.stylesStr);continue}if(i.type==="column-setting")t.columns=i.columns??-1;else if(i.type==="edge"){let a=(YE.get(i.id)??0)+1;YE.set(i.id,a),i.id=a+"-"+i.id,jE.push(i)}else{i.label||(i.type==="composite"?i.label="":i.label=i.id);let a=qo.get(i.id);if(a===void 0?qo.set(i.id,i):(i.type!=="na"&&(a.type=i.type),i.label!==i.id&&(a.label=i.label)),i.children&&cj(i.children,i),i.type==="space"){let s=i.width??1;for(let l=0;l<s;l++){let u=Mi(i);u.id=u.id+"-"+l,qo.set(u.id,u),n.push(u)}}else a===void 0&&n.push(i)}}t.children=n},"populateBlockDatabase"),UE=[],jf={id:"root",type:"composite",children:[],columns:-1},Y$e=o(()=>{X.debug("Clear called"),Yi(),jf={id:"root",type:"composite",children:[],columns:-1},qo=new Map([["root",jf]]),UE=[],Sx=new Map,jE=[],YE=new Map},"clear"),o(O$e,"typeStr2Type"),o(P$e,"edgeTypeStr2Type"),o(B$e,"edgeStrToEdgeData"),uj=0,U$e=o(()=>(uj++,"id-"+Math.random().toString(36).substr(2,12)+"-"+uj),"generateId"),H$e=o(e=>{jf.children=e,cj(e,jf),UE=jf.children},"setHierarchy"),W$e=o(e=>{let t=qo.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),V$e=o(()=>[...qo.values()],"getBlocksFlat"),X$e=o(()=>UE||[],"getBlocks"),K$e=o(()=>jE,"getEdges"),Z$e=o(e=>qo.get(e),"getBlock"),Q$e=o(e=>{qo.set(e.id,e)},"setBlock"),J$e=o(()=>console,"getLogger"),eFe=o(function(){return Sx},"getClasses"),tFe={getConfig:o(()=>Yn().block,"getConfig"),typeStr2Type:O$e,edgeTypeStr2Type:P$e,edgeStrToEdgeData:B$e,getLogger:J$e,getBlocksFlat:V$e,getBlocks:X$e,getEdges:K$e,setHierarchy:H$e,getBlock:Z$e,setBlock:Q$e,getColumns:W$e,getClasses:eFe,clear:Y$e,generateId:U$e},rFe=tFe}),Ax,nFe,iFe,att=I(()=>{"use strict";Jo(),Ax=o((e,t)=>{let r=m8,n=r(e,"r"),i=r(e,"g"),a=r(e,"b");return th(n,i,a,t)},"fade"),nFe=o(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Ax(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${Ax(e.mainBkg,.5)};
    fill: ${Ax(e.clusterBkg,.5)};
    stroke: ${Ax(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),iFe=nFe}),aFe,sFe,oFe,lFe,cFe,uFe,hFe,dFe,pFe,gFe,fFe,mFe,stt=I(()=>{"use strict";Ye(),aFe=o((e,t,r,n)=>{t.forEach(i=>{fFe[i](e,r,n)})},"insertMarkers"),sFe=o((e,t,r)=>{X.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),oFe=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),lFe=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),cFe=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),uFe=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),hFe=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),dFe=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),pFe=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),gFe=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),fFe={extension:sFe,composition:oFe,aggregation:lFe,dependency:cFe,lollipop:uFe,point:hFe,circle:dFe,cross:pFe,barb:gFe},mFe=aFe});function yFe(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};let r=t%e,n=Math.floor(t/e);return{px:r,py:n}}function HE(e,t,r=0,n=0){X.debug("setBlockSizes abc95 (start)",e.id,e?.size?.x,"block width =",e?.size,"sieblingWidth",r),e?.size?.width||(e.size={width:r,height:n,x:0,y:0});let i=0,a=0;if(e.children?.length>0){for(let g of e.children)HE(g,t);let s=bFe(e);i=s.width,a=s.height,X.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",i,a);for(let g of e.children)g.size&&(X.debug(`abc95 Setting size of children of ${e.id} id=${g.id} ${i} ${a} ${JSON.stringify(g.size)}`),g.size.width=i*(g.widthInColumns??1)+xi*((g.widthInColumns??1)-1),g.size.height=a,g.size.x=0,g.size.y=0,X.debug(`abc95 updating size of ${e.id} children child:${g.id} maxWidth:${i} maxHeight:${a}`));for(let g of e.children)HE(g,t,i,a);let l=e.columns??-1,u=0;for(let g of e.children)u+=g.widthInColumns??1;let h=e.children.length;l>0&&l<u&&(h=l);let d=Math.ceil(u/h),p=h*(i+xi)+xi,f=d*(a+xi)+xi;if(p<r){X.debug(`Detected to small siebling: abc95 ${e.id} sieblingWidth ${r} sieblingHeight ${n} width ${p}`),p=r,f=n;let g=(r-h*xi-xi)/h,m=(n-d*xi-xi)/d;X.debug("Size indata abc88",e.id,"childWidth",g,"maxWidth",i),X.debug("Size indata abc88",e.id,"childHeight",m,"maxHeight",a),X.debug("Size indata abc88 xSize",h,"padding",xi);for(let y of e.children)y.size&&(y.size.width=g,y.size.height=m,y.size.x=0,y.size.y=0)}if(X.debug(`abc95 (finale calc) ${e.id} xSize ${h} ySize ${d} columns ${l}${e.children.length} width=${Math.max(p,e.size?.width||0)}`),p<(e?.size?.width||0)){p=e?.size?.width||0;let g=l>0?Math.min(e.children.length,l):e.children.length;if(g>0){let m=(p-g*xi-xi)/g;X.debug("abc95 (growing to fit) width",e.id,p,e.size?.width,m);for(let y of e.children)y.size&&(y.size.width=m)}}e.size={width:p,height:f,x:0,y:0}}X.debug("setBlockSizes abc94 (done)",e.id,e?.size?.x,e?.size?.width,e?.size?.y,e?.size?.height)}function hj(e,t){X.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`);let r=e.columns??-1;if(X.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){let n=e?.children[0]?.size?.width??0,i=e.children.length*n+(e.children.length-1)*xi;X.debug("widthOfChildren 88",i,"posX");let a=0;X.debug("abc91 block?.size?.x",e.id,e?.size?.x);let s=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-xi,l=0;for(let u of e.children){let h=e;if(!u.size)continue;let{width:d,height:p}=u.size,{px:f,py:g}=yFe(r,a);if(g!=l&&(l=g,s=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-xi,X.debug("New row in layout for block",e.id," and child ",u.id,l)),X.debug(`abc89 layout blocks (child) id: ${u.id} Pos: ${a} (px, py) ${f},${g} (${h?.size?.x},${h?.size?.y}) parent: ${h.id} width: ${d}${xi}`),h.size){let m=d/2;u.size.x=s+xi+m,X.debug(`abc91 layout blocks (calc) px, pyid:${u.id} startingPos=X${s} new startingPosX${u.size.x} ${m} padding=${xi} width=${d} halfWidth=${m} => x:${u.size.x} y:${u.size.y} ${u.widthInColumns} (width * (child?.w || 1)) / 2 ${d*(u?.widthInColumns??1)/2}`),s=u.size.x+m,u.size.y=h.size.y-h.size.height/2+g*(p+xi)+p/2+xi,X.debug(`abc88 layout blocks (calc) px, pyid:${u.id}startingPosX${s}${xi}${m}=>x:${u.size.x}y:${u.size.y}${u.widthInColumns}(width * (child?.w || 1)) / 2${d*(u?.widthInColumns??1)/2}`)}u.children&&hj(u,t),a+=u?.widthInColumns??1,X.debug("abc88 columnsPos",u,a)}}X.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`)}function dj(e,{minX:t,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){let{x:a,y:s,width:l,height:u}=e.size;a-l/2<t&&(t=a-l/2),s-u/2<r&&(r=s-u/2),a+l/2>n&&(n=a+l/2),s+u/2>i&&(i=s+u/2)}if(e.children)for(let a of e.children)({minX:t,minY:r,maxX:n,maxY:i}=dj(a,{minX:t,minY:r,maxX:n,maxY:i}));return{minX:t,minY:r,maxX:n,maxY:i}}function vFe(e){let t=e.getBlock("root");if(!t)return;HE(t,e,0,0),hj(t,e),X.debug("getBlocks",JSON.stringify(t,null,2));let{minX:r,minY:n,maxX:i,maxY:a}=dj(t),s=a-n,l=i-r;return{x:r,y:n,width:l,height:s}}var xi,bFe,ott=I(()=>{"use strict";Ye(),tr(),xi=we()?.block?.padding??8,o(yFe,"calculateBlockPosition"),bFe=o(e=>{let t=0,r=0;for(let n of e.children){let{width:i,height:a,x:s,y:l}=n.size??{width:0,height:0,x:0,y:0};X.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",a,"x:",s,"y:",l,n.type),n.type!=="space"&&(i>t&&(t=i/(e.widthInColumns??1)),a>r&&(r=a))}return{width:t,height:r}},"getMaxChildSize"),o(HE,"setBlockSizes"),o(hj,"layoutBlocks"),o(dj,"findBounds"),o(vFe,"layout")});function pj(e,t){t&&e.attr("style",t)}function xFe(e){let t=nt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,i=e.isNode?"nodeLabel":"edgeLabel",a=r.append("span");return a.html(n),pj(a,e.labelStyle),a.attr("class",i),pj(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}var kFe,po,gj=I(()=>{"use strict";Fr(),Ye(),tr(),Pr(),Dr(),ac(),o(pj,"applyStyle"),o(xFe,"addHtmlLabel"),kFe=o((e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Nn(we().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),X.debug("vertexText"+i);let a={isNode:n,label:uL(ic(i)),labelStyle:t.replace("fill:","color:")};return xFe(a)}else{let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(let l of s){let u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=l.trim(),a.appendChild(u)}return a}},"createLabel"),po=kFe}),wFe,TFe,fj,ltt=I(()=>{"use strict";Ye(),wFe=o((e,t,r,n,i)=>{t.arrowTypeStart&&fj(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&fj(e,"end",t.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),TFe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},fj=o((e,t,r,n,i,a)=>{let s=TFe[r];if(!s){X.warn(`Unknown arrow type: ${r}`);return}let l=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${a}-${s}${l})`)},"addEdgeMarker")});function Lx(e,t){we().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}var WE,Ma,EFe,_Fe,CFe,SFe,mj,AFe,ctt=I(()=>{"use strict";Ye(),gj(),ac(),Fr(),tr(),Dr(),Pr(),dde(),yk(),ltt(),WE={},Ma={},EFe=o((e,t)=>{let r=we(),n=Nn(r.flowchart.htmlLabels),i=t.labelType==="markdown"?Qs(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):po(t.label,t.labelStyle),a=e.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(i);let l=i.getBBox();if(n){let h=i.children[0],d=nt(i);l=h.getBoundingClientRect(),d.attr("width",l.width),d.attr("height",l.height)}s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),WE[t.id]=a,t.width=l.width,t.height=l.height;let u;if(t.startLabelLeft){let h=po(t.startLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Ma[t.id]||(Ma[t.id]={}),Ma[t.id].startLeft=d,Lx(u,t.startLabelLeft)}if(t.startLabelRight){let h=po(t.startLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=d.node().appendChild(h),p.node().appendChild(h);let f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Ma[t.id]||(Ma[t.id]={}),Ma[t.id].startRight=d,Lx(u,t.startLabelRight)}if(t.endLabelLeft){let h=po(t.endLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),d.node().appendChild(h),Ma[t.id]||(Ma[t.id]={}),Ma[t.id].endLeft=d,Lx(u,t.endLabelLeft)}if(t.endLabelRight){let h=po(t.endLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),d.node().appendChild(h),Ma[t.id]||(Ma[t.id]={}),Ma[t.id].endRight=d,Lx(u,t.endLabelRight)}return i},"insertEdgeLabel"),o(Lx,"setTerminalWidth"),_Fe=o((e,t)=>{X.debug("Moving label abc88 ",e.id,e.label,WE[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath,n=we(),{subGraphTitleTotalMargin:i}=J1(n);if(e.label){let a=WE[e.id],s=e.x,l=e.y;if(r){let u=Ar.calcLabelPosition(r);X.debug("Moving label "+e.label+" from (",s,",",l,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,l=u.y)}a.attr("transform",`translate(${s}, ${l+i/2})`)}if(e.startLabelLeft){let a=Ma[e.id].startLeft,s=e.x,l=e.y;if(r){let u=Ar.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.startLabelRight){let a=Ma[e.id].startRight,s=e.x,l=e.y;if(r){let u=Ar.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelLeft){let a=Ma[e.id].endLeft,s=e.x,l=e.y;if(r){let u=Ar.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelRight){let a=Ma[e.id].endRight,s=e.x,l=e.y;if(r){let u=Ar.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}},"positionEdgeLabel"),CFe=o((e,t)=>{let r=e.x,n=e.y,i=Math.abs(t.x-r),a=Math.abs(t.y-n),s=e.width/2,l=e.height/2;return i>=s||a>=l},"outsideNode"),SFe=o((e,t,r)=>{X.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,i=e.y,a=Math.abs(n-r.x),s=e.width/2,l=r.x<t.x?s-a:s+a,u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*s>Math.abs(n-t.x)*u){let p=r.y<t.y?t.y-u-i:i-u-t.y;l=d*p/h;let f={x:r.x<t.x?r.x+l:r.x-d+l,y:r.y<t.y?r.y+h-p:r.y-h+p};return l===0&&(f.x=t.x,f.y=t.y),d===0&&(f.x=t.x),h===0&&(f.y=t.y),X.debug(`abc89 topp/bott calc, Q ${h}, q ${p}, R ${d}, r ${l}`,f),f}else{r.x<t.x?l=t.x-s-n:l=n-s-t.x;let p=h*l/d,f=r.x<t.x?r.x+d-l:r.x-d+l,g=r.y<t.y?r.y+p:r.y-p;return X.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${l}`,{_x:f,_y:g}),l===0&&(f=t.x,g=t.y),d===0&&(f=t.x),h===0&&(g=t.y),{x:f,y:g}}},"intersection"),mj=o((e,t)=>{X.debug("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(a=>{if(!CFe(t,a)&&!i){let s=SFe(t,n,a),l=!1;r.forEach(u=>{l=l||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)||r.push(s),i=!0}else n=a,i||r.push(a)}),r},"cutPathAtIntersect"),AFe=o(function(e,t,r,n,i,a,s){let l=r.points;X.debug("abc88 InsertEdge: edge=",r,"e=",t);let u=!1,h=a.node(t.v);var d=a.node(t.w);d?.intersect&&h?.intersect&&(l=l.slice(1,r.points.length-1),l.unshift(h.intersect(l[0])),l.push(d.intersect(l[l.length-1]))),r.toCluster&&(X.debug("to cluster abc88",n[r.toCluster]),l=mj(r.points,n[r.toCluster].node),u=!0),r.fromCluster&&(X.debug("from cluster abc88",n[r.fromCluster]),l=mj(l.reverse(),n[r.fromCluster].node).reverse(),u=!0);let p=l.filter(w=>!Number.isNaN(w.y)),f=T1;r.curve&&(i==="graph"||i==="flowchart")&&(f=r.curve);let{x:g,y:m}=RN(r),y=bh().x(g).y(m).curve(f),b;switch(r.thickness){case"normal":b="edge-thickness-normal";break;case"thick":b="edge-thickness-thick";break;case"invisible":b="edge-thickness-thick";break;default:b=""}switch(r.pattern){case"solid":b+=" edge-pattern-solid";break;case"dotted":b+=" edge-pattern-dotted";break;case"dashed":b+=" edge-pattern-dashed";break}let v=e.append("path").attr("d",y(p)).attr("id",r.id).attr("class"," "+b+(r.classes?" "+r.classes:"")).attr("style",r.style),x="";(we().flowchart.arrowMarkerAbsolute||we().state.arrowMarkerAbsolute)&&(x=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,x=x.replace(/\(/g,"\\("),x=x.replace(/\)/g,"\\)")),wFe(v,r,x,s,i);let k={};return u&&(k.updatedPath=l),k.originalPath=r.points,k},"insertEdge")}),LFe,NFe,utt=I(()=>{"use strict";LFe=o(e=>{let t=new Set;for(let r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r);break}return t},"expandAndDeduplicateDirections"),NFe=o((e,t,r)=>{let n=LFe(e),i=2,a=t.height+2*r.padding,s=a/i,l=t.width+2*s+r.padding,u=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:s,y:0},{x:l/2,y:2*u},{x:l-s,y:0},{x:l,y:0},{x:l,y:-a/3},{x:l+2*u,y:-a/2},{x:l,y:-2*a/3},{x:l,y:-a},{x:l-s,y:-a},{x:l/2,y:-a-2*u},{x:s,y:-a},{x:0,y:-a},{x:0,y:-2*a/3},{x:-2*u,y:-a/2},{x:0,y:-a/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:s,y:0},{x:l-s,y:0},{x:l,y:-a/2},{x:l-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:s,y:-a},{x:l-s,y:-a},{x:l,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:l,y:-s},{x:l,y:-a+s},{x:0,y:-a}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:l,y:0},{x:0,y:-s},{x:0,y:-a+s},{x:l,y:-a}]:n.has("right")&&n.has("left")?[{x:s,y:0},{x:s,y:-u},{x:l-s,y:-u},{x:l-s,y:0},{x:l,y:-a/2},{x:l-s,y:-a},{x:l-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")&&n.has("down")?[{x:l/2,y:0},{x:0,y:-u},{x:s,y:-u},{x:s,y:-a+u},{x:0,y:-a+u},{x:l/2,y:-a},{x:l,y:-a+u},{x:l-s,y:-a+u},{x:l-s,y:-u},{x:l,y:-u}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:l,y:-s},{x:0,y:-a}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:l,y:0},{x:0,y:-a}]:n.has("left")&&n.has("up")?[{x:l,y:0},{x:0,y:-s},{x:l,y:-a}]:n.has("left")&&n.has("down")?[{x:l,y:0},{x:0,y:0},{x:l,y:-a}]:n.has("right")?[{x:s,y:-u},{x:s,y:-u},{x:l-s,y:-u},{x:l-s,y:0},{x:l,y:-a/2},{x:l-s,y:-a},{x:l-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a+u}]:n.has("left")?[{x:s,y:0},{x:s,y:-u},{x:l-s,y:-u},{x:l-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")?[{x:s,y:-u},{x:s,y:-a+u},{x:0,y:-a+u},{x:l/2,y:-a},{x:l,y:-a+u},{x:l-s,y:-a+u},{x:l-s,y:-u}]:n.has("down")?[{x:l/2,y:0},{x:0,y:-u},{x:s,y:-u},{x:s,y:-a+u},{x:l-s,y:-a+u},{x:l-s,y:-u},{x:l,y:-u}]:[{x:0,y:0}]},"getArrowPoints")});function IFe(e,t){return e.intersect(t)}var MFe,htt=I(()=>{"use strict";o(IFe,"intersectNode"),MFe=IFe});function DFe(e,t,r,n){var i=e.x,a=e.y,s=i-n.x,l=a-n.y,u=Math.sqrt(t*t*l*l+r*r*s*s),h=Math.abs(t*r*s/u);n.x<i&&(h=-h);var d=Math.abs(t*r*l/u);return n.y<a&&(d=-d),{x:i+h,y:a+d}}var yj,RFe=I(()=>{"use strict";o(DFe,"intersectEllipse"),yj=DFe});function OFe(e,t,r){return yj(e,t,t,r)}var PFe,dtt=I(()=>{"use strict";RFe(),o(OFe,"intersectCircle"),PFe=OFe});function BFe(e,t,r,n){var i,a,s,l,u,h,d,p,f,g,m,y,b,v,x;if(i=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,f=i*r.x+s*r.y+u,g=i*n.x+s*n.y+u,!(f!==0&&g!==0&&vj(f,g))&&(a=n.y-r.y,l=r.x-n.x,h=n.x*r.y-r.x*n.y,d=a*e.x+l*e.y+h,p=a*t.x+l*t.y+h,!(d!==0&&p!==0&&vj(d,p))&&(m=i*l-a*s,m!==0)))return y=Math.abs(m/2),b=s*h-l*u,v=b<0?(b-y)/m:(b+y)/m,b=a*u-i*h,x=b<0?(b-y)/m:(b+y)/m,{x:v,y:x}}function vj(e,t){return e*t>0}var $Fe,ptt=I(()=>{"use strict";o(BFe,"intersectLine"),o(vj,"sameSign"),$Fe=BFe});function FFe(e,t,r){var n=e.x,i=e.y,a=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(m){s=Math.min(s,m.x),l=Math.min(l,m.y)}):(s=Math.min(s,t.x),l=Math.min(l,t.y));for(var u=n-e.width/2-s,h=i-e.height/2-l,d=0;d<t.length;d++){var p=t[d],f=t[d<t.length-1?d+1:0],g=$Fe(e,r,{x:u+p.x,y:h+p.y},{x:u+f.x,y:h+f.y});g&&a.push(g)}return a.length?(a.length>1&&a.sort(function(m,y){var b=m.x-r.x,v=m.y-r.y,x=Math.sqrt(b*b+v*v),k=y.x-r.x,w=y.y-r.y,_=Math.sqrt(k*k+w*w);return x<_?-1:x===_?0:1}),a[0]):e}var zFe,gtt=I(()=>{"use strict";ptt(),zFe=FFe,o(FFe,"intersectPolygon")}),GFe,qFe,ftt=I(()=>{"use strict";GFe=o((e,t)=>{var r=e.x,n=e.y,i=t.x-r,a=t.y-n,s=e.width/2,l=e.height/2,u,h;return Math.abs(a)*s>Math.abs(i)*l?(a<0&&(l=-l),u=a===0?0:l*i/a,h=l):(i<0&&(s=-s),u=s,h=i===0?0:s*a/i),{x:r+u,y:n+h}},"intersectRect"),qFe=GFe}),Vn,jFe=I(()=>{"use strict";htt(),dtt(),RFe(),gtt(),ftt(),Vn={node:MFe,circle:PFe,ellipse:yj,polygon:zFe,rect:qFe}});function Bl(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var Zi,hi,YFe=I(()=>{"use strict";gj(),ac(),tr(),Fr(),Pr(),Dr(),Zi=o(async(e,t,r,n)=>{let i=we(),a,s=t.useHtmlLabels||Nn(i.flowchart.htmlLabels);r?a=r:a="node default";let l=e.insert("g").attr("class",a).attr("id",t.domId||t.id),u=l.insert("g").attr("class","label").attr("style",t.labelStyle),h;t.labelText===void 0?h="":h=typeof t.labelText=="string"?t.labelText:t.labelText[0];let d=u.node(),p;t.labelType==="markdown"?p=Qs(u,En(ic(h),i),{useHtmlLabels:s,width:t.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):p=d.appendChild(po(En(ic(h),i),t.labelStyle,!1,n));let f=p.getBBox(),g=t.padding/2;if(Nn(i.flowchart.htmlLabels)){let m=p.children[0],y=nt(p),b=m.getElementsByTagName("img");if(b){let v=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(x=>new Promise(k=>{function w(){if(x.style.display="flex",x.style.flexDirection="column",v){let _=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,S=parseInt(_,10)*5+"px";x.style.minWidth=S,x.style.maxWidth=S}else x.style.width="100%";k(x)}o(w,"setupImage"),setTimeout(()=>{x.complete&&w()}),x.addEventListener("error",w),x.addEventListener("load",w)})))}f=m.getBoundingClientRect(),y.attr("width",f.width),y.attr("height",f.height)}return s?u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):u.attr("transform","translate(0, "+-f.height/2+")"),t.centerLabel&&u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.insert("rect",":first-child"),{shapeSvg:l,bbox:f,halfPadding:g,label:u}},"labelHelper"),hi=o((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),o(Bl,"insertPolygonShape")}),UFe,HFe,mtt=I(()=>{"use strict";YFe(),Ye(),tr(),jFe(),UFe=o(async(e,t)=>{t.useHtmlLabels||we().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:r,bbox:n,halfPadding:i}=await Zi(e,t,"node "+t.classes,!0);X.info("Classes = ",t.classes);let a=r.insert("rect",":first-child");return a.attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),hi(t,a),t.intersect=function(s){return Vn.rect(t,s)},r},"note"),HFe=UFe});function VE(e,t,r,n){let i=[],a=o(l=>{i.push(l,0)},"addBorder"),s=o(l=>{i.push(0,l)},"skipBorder");t.includes("t")?(X.debug("add top border"),a(r)):s(r),t.includes("r")?(X.debug("add right border"),a(n)):s(n),t.includes("b")?(X.debug("add bottom border"),a(r)):s(r),t.includes("l")?(X.debug("add left border"),a(n)):s(n),e.attr("stroke-dasharray",i.join(" "))}var bj,Fs,xj,WFe,VFe,XFe,KFe,ZFe,QFe,JFe,eze,tze,rze,nze,ize,aze,sze,oze,lze,cze,uze,hze,kj,dze,pze,wj,Nx,Tj,gze,ytt=I(()=>{"use strict";Fr(),tr(),Pr(),Ye(),utt(),gj(),jFe(),mtt(),YFe(),bj=o(e=>e?" "+e:"","formatClass"),Fs=o((e,t)=>`${t||"node default"}${bj(e.classes)} ${bj(e.class)}`,"getClassesFromNode"),xj=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=i+a,l=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];X.info("Question main (Circle)");let u=Bl(r,s,s,l);return u.attr("style",t.style),hi(t,u),t.intersect=function(h){return X.warn("Intersect called"),Vn.polygon(t,l,h)},r},"question"),WFe=o((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(a){return Vn.circle(t,14,a)},r},"choice"),VFe=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=4,a=n.height+t.padding,s=a/i,l=n.width+2*s+t.padding,u=[{x:s,y:0},{x:l-s,y:0},{x:l,y:-a/2},{x:l-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],h=Bl(r,l,a,u);return h.attr("style",t.style),hi(t,h),t.intersect=function(d){return Vn.polygon(t,u,d)},r},"hexagon"),XFe=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,void 0,!0),i=2,a=n.height+2*t.padding,s=a/i,l=n.width+2*s+t.padding,u=NFe(t.directions,n,t),h=Bl(r,l,a,u);return h.attr("style",t.style),hi(t,h),t.intersect=function(d){return Vn.polygon(t,u,d)},r},"block_arrow"),KFe=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return Bl(r,i,a,s).attr("style",t.style),t.width=i+a,t.height=a,t.intersect=function(l){return Vn.polygon(t,s,l)},r},"rect_left_inv_arrow"),ZFe=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],l=Bl(r,i,a,s);return l.attr("style",t.style),hi(t,l),t.intersect=function(u){return Vn.polygon(t,s,u)},r},"lean_right"),QFe=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],l=Bl(r,i,a,s);return l.attr("style",t.style),hi(t,l),t.intersect=function(u){return Vn.polygon(t,s,u)},r},"lean_left"),JFe=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],l=Bl(r,i,a,s);return l.attr("style",t.style),hi(t,l),t.intersect=function(u){return Vn.polygon(t,s,u)},r},"trapezoid"),eze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],l=Bl(r,i,a,s);return l.attr("style",t.style),hi(t,l),t.intersect=function(u){return Vn.polygon(t,s,u)},r},"inv_trapezoid"),tze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],l=Bl(r,i,a,s);return l.attr("style",t.style),hi(t,l),t.intersect=function(u){return Vn.polygon(t,s,u)},r},"rect_right_inv_arrow"),rze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=n.width+t.padding,a=i/2,s=a/(2.5+i/50),l=n.height+s+t.padding,u="M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+l+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-l,h=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",t.style).attr("d",u).attr("transform","translate("+-i/2+","+-(l/2+s)+")");return hi(t,h),t.intersect=function(d){let p=Vn.rect(t,d),f=p.x-t.x;if(a!=0&&(Math.abs(f)<t.width/2||Math.abs(f)==t.width/2&&Math.abs(p.y-t.y)>t.height/2-s)){let g=s*s*(1-f*f/(a*a));g!=0&&(g=Math.sqrt(g)),g=s-g,d.y-t.y>0&&(g=-g),p.y+=g}return p},r},"cylinder"),nze=o(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Zi(e,t,"node "+t.classes+" "+t.class,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:n.width+t.padding,l=t.positioned?t.height:n.height+t.padding,u=t.positioned?-s/2:-n.width/2-i,h=t.positioned?-l/2:-n.height/2-i;if(a.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",l),t.props){let d=new Set(Object.keys(t.props));t.props.borders&&(VE(a,t.props.borders,s,l),d.delete("borders")),d.forEach(p=>{X.warn(`Unknown node property ${p}`)})}return hi(t,a),t.intersect=function(d){return Vn.rect(t,d)},r},"rect"),ize=o(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Zi(e,t,"node "+t.classes,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:n.width+t.padding,l=t.positioned?t.height:n.height+t.padding,u=t.positioned?-s/2:-n.width/2-i,h=t.positioned?-l/2:-n.height/2-i;if(a.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",l),t.props){let d=new Set(Object.keys(t.props));t.props.borders&&(VE(a,t.props.borders,s,l),d.delete("borders")),d.forEach(p=>{X.warn(`Unknown node property ${p}`)})}return hi(t,a),t.intersect=function(d){return Vn.rect(t,d)},r},"composite"),aze=o(async(e,t)=>{let{shapeSvg:r}=await Zi(e,t,"label",!0);X.trace("Classes = ",t.class);let n=r.insert("rect",":first-child"),i=0,a=0;if(n.attr("width",i).attr("height",a),r.attr("class","label edgeLabel"),t.props){let s=new Set(Object.keys(t.props));t.props.borders&&(VE(n,t.props.borders,i,a),s.delete("borders")),s.forEach(l=>{X.warn(`Unknown node property ${l}`)})}return hi(t,n),t.intersect=function(s){return Vn.rect(t,s)},r},"labelRect"),o(VE,"applyNodePropertyBorders"),sze=o((e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";let n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),i=n.insert("rect",":first-child"),a=n.insert("line"),s=n.insert("g").attr("class","label"),l=t.labelText.flat?t.labelText.flat():t.labelText,u="";typeof l=="object"?u=l[0]:u=l,X.info("Label text abc79",u,l,typeof l=="object");let h=s.node().appendChild(po(u,t.labelStyle,!0,!0)),d={width:0,height:0};if(Nn(we().flowchart.htmlLabels)){let y=h.children[0],b=nt(h);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height)}X.info("Text 2",l);let p=l.slice(1,l.length),f=h.getBBox(),g=s.node().appendChild(po(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if(Nn(we().flowchart.htmlLabels)){let y=g.children[0],b=nt(g);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height)}let m=t.padding/2;return nt(g).attr("transform","translate( "+(d.width>f.width?0:(f.width-d.width)/2)+", "+(f.height+m+5)+")"),nt(h).attr("transform","translate( "+(d.width<f.width?0:-(f.width-d.width)/2)+", 0)"),d=s.node().getBBox(),s.attr("transform","translate("+-d.width/2+", "+(-d.height/2-m+3)+")"),i.attr("class","outer title-state").attr("x",-d.width/2-m).attr("y",-d.height/2-m).attr("width",d.width+t.padding).attr("height",d.height+t.padding),a.attr("class","divider").attr("x1",-d.width/2-m).attr("x2",d.width/2+m).attr("y1",-d.height/2-m+f.height+m).attr("y2",-d.height/2-m+f.height+m),hi(t,i),t.intersect=function(y){return Vn.rect(t,y)},n},"rectWithTitle"),oze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=n.height+t.padding,a=n.width+i/4+t.padding,s=r.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return hi(t,s),t.intersect=function(l){return Vn.rect(t,l)},r},"stadium"),lze=o(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Zi(e,t,Fs(t,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),X.info("Circle main"),hi(t,a),t.intersect=function(s){return X.info("Circle intersect",t,n.width/2+i,s),Vn.circle(t,n.width/2+i,s)},r},"circle"),cze=o(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await Zi(e,t,Fs(t,void 0),!0),a=5,s=r.insert("g",":first-child"),l=s.insert("circle"),u=s.insert("circle");return s.attr("class",t.class),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i+a).attr("width",n.width+t.padding+a*2).attr("height",n.height+t.padding+a*2),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),X.info("DoubleCircle main"),hi(t,l),t.intersect=function(h){return X.info("DoubleCircle intersect",t,n.width/2+i+a,h),Vn.circle(t,n.width/2+i+a,h)},r},"doublecircle"),uze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await Zi(e,t,Fs(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],l=Bl(r,i,a,s);return l.attr("style",t.style),hi(t,l),t.intersect=function(u){return Vn.polygon(t,s,u)},r},"subroutine"),hze=o((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),hi(t,n),t.intersect=function(i){return Vn.circle(t,7,i)},r},"start"),kj=o((e,t,r)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=70,a=10;r==="LR"&&(i=10,a=70);let s=n.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return hi(t,s),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(l){return Vn.rect(t,l)},n},"forkJoin"),dze=o((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),hi(t,i),t.intersect=function(a){return Vn.circle(t,7,a)},r},"end"),pze=o((e,t)=>{let r=t.padding/2,n=4,i=8,a;t.classes?a="node "+t.classes:a="node default";let s=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=s.insert("rect",":first-child"),u=s.insert("line"),h=s.insert("line"),d=0,p=n,f=s.insert("g").attr("class","label"),g=0,m=t.classData.annotations?.[0],y=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",b=f.node().appendChild(po(y,t.labelStyle,!0,!0)),v=b.getBBox();if(Nn(we().flowchart.htmlLabels)){let T=b.children[0],N=nt(b);v=T.getBoundingClientRect(),N.attr("width",v.width),N.attr("height",v.height)}t.classData.annotations[0]&&(p+=v.height+n,d+=v.width);let x=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(we().flowchart.htmlLabels?x+="&lt;"+t.classData.type+"&gt;":x+="<"+t.classData.type+">");let k=f.node().appendChild(po(x,t.labelStyle,!0,!0));nt(k).attr("class","classTitle");let w=k.getBBox();if(Nn(we().flowchart.htmlLabels)){let T=k.children[0],N=nt(k);w=T.getBoundingClientRect(),N.attr("width",w.width),N.attr("height",w.height)}p+=w.height+n,w.width>d&&(d=w.width);let _=[];t.classData.members.forEach(T=>{let N=T.getDisplayDetails(),D=N.displayText;we().flowchart.htmlLabels&&(D=D.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let M=f.node().appendChild(po(D,N.cssStyle?N.cssStyle:t.labelStyle,!0,!0)),L=M.getBBox();if(Nn(we().flowchart.htmlLabels)){let B=M.children[0],E=nt(M);L=B.getBoundingClientRect(),E.attr("width",L.width),E.attr("height",L.height)}L.width>d&&(d=L.width),p+=L.height+n,_.push(M)}),p+=i;let S=[];if(t.classData.methods.forEach(T=>{let N=T.getDisplayDetails(),D=N.displayText;we().flowchart.htmlLabels&&(D=D.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let M=f.node().appendChild(po(D,N.cssStyle?N.cssStyle:t.labelStyle,!0,!0)),L=M.getBBox();if(Nn(we().flowchart.htmlLabels)){let B=M.children[0],E=nt(M);L=B.getBoundingClientRect(),E.attr("width",L.width),E.attr("height",L.height)}L.width>d&&(d=L.width),p+=L.height+n,S.push(M)}),p+=i,m){let T=(d-v.width)/2;nt(b).attr("transform","translate( "+(-1*d/2+T)+", "+-1*p/2+")"),g=v.height+n}let C=(d-w.width)/2;return nt(k).attr("transform","translate( "+(-1*d/2+C)+", "+(-1*p/2+g)+")"),g+=w.height+n,u.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+i+g).attr("y2",-p/2-r+i+g),g+=i,_.forEach(T=>{nt(T).attr("transform","translate( "+-d/2+", "+(-1*p/2+g+i/2)+")");let N=T?.getBBox();g+=(N?.height??0)+n}),g+=i,h.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+i+g).attr("y2",-p/2-r+i+g),g+=i,S.forEach(T=>{nt(T).attr("transform","translate( "+-d/2+", "+(-1*p/2+g)+")");let N=T?.getBBox();g+=(N?.height??0)+n}),l.attr("style",t.style).attr("class","outer title-state").attr("x",-d/2-r).attr("y",-(p/2)-r).attr("width",d+t.padding).attr("height",p+t.padding),hi(t,l),t.intersect=function(T){return Vn.rect(t,T)},s},"class_box"),wj={rhombus:xj,composite:ize,question:xj,rect:nze,labelRect:aze,rectWithTitle:sze,choice:WFe,circle:lze,doublecircle:cze,stadium:oze,hexagon:VFe,block_arrow:XFe,rect_left_inv_arrow:KFe,lean_right:ZFe,lean_left:QFe,trapezoid:JFe,inv_trapezoid:eze,rect_right_inv_arrow:tze,cylinder:rze,start:hze,end:dze,note:HFe,subroutine:uze,fork:kj,join:kj,class_box:pze},Nx={},Tj=o(async(e,t,r)=>{let n,i;if(t.link){let a;we().securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a),i=await wj[t.shape](n,t,r)}else i=await wj[t.shape](e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),t.class&&i.attr("class","node default "+t.class),Nx[t.id]=n,t.haveCallback&&Nx[t.id].attr("class",Nx[t.id].attr("class")+" clickable"),n},"insertNode"),gze=o(e=>{let t=Nx[e.id];X.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode")});function Ej(e,t,r=!1){let n=e,i="default";(n?.classes?.length||0)>0&&(i=(n?.classes??[]).join(" ")),i=i+" flowchart-label";let a=0,s="",l;switch(n.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",l=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}let u=N9(n?.styles??[]),h=n.label,d=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:u.labelStyle,shape:s,labelText:h,rx:a,ry:a,class:i,style:u.style,id:n.id,directions:n.directions,width:d.width,height:d.height,x:d.x,y:d.y,positioned:r,intersect:void 0,type:n.type,padding:l??Yn()?.block?.padding??0}}async function fze(e,t,r){let n=Ej(t,r,!1);if(n.type==="group")return;let i=Yn(),a=await Tj(e,n,{config:i}),s=a.node().getBBox(),l=r.getBlock(n.id);l.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(l),a.remove()}async function mze(e,t,r){let n=Ej(t,r,!0);if(r.getBlock(n.id).type!=="space"){let i=Yn();await Tj(e,n,{config:i}),t.intersect=n?.intersect,gze(n)}}async function XE(e,t,r,n){for(let i of t)await n(e,i,r),i.children&&await XE(e,i.children,r,n)}async function yze(e,t,r){await XE(e,t,r,fze)}async function vze(e,t,r){await XE(e,t,r,mze)}async function bze(e,t,r,n,i){let a=new Ca({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(let s of t)if(s.start&&s.end){let l=n.getBlock(s.start),u=n.getBlock(s.end);if(l?.size&&u?.size){let h=l.size,d=u.size,p=[{x:h.x,y:h.y},{x:h.x+(d.x-h.x)/2,y:h.y+(d.y-h.y)/2},{x:d.x,y:d.y}];AFe(e,{v:s.start,w:s.end,name:s.id},{...s,arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,i),s.label&&(await EFe(e,{...s,label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),_Fe({...s,x:p[1].x,y:p[1].y},{originalPath:p}))}}}var vtt=I(()=>{"use strict";eo(),xs(),ctt(),ytt(),Dr(),o(Ej,"getNodeFromBlock"),o(fze,"calculateBlockSize"),o(mze,"insertBlockPositioned"),o(XE,"performOperations"),o(yze,"calculateBlockSizes"),o(vze,"insertBlocks"),o(bze,"insertEdges")}),xze,kze,wze,btt=I(()=>{"use strict";Fr(),xs(),stt(),Ye(),wi(),ott(),vtt(),xze=o(function(e,t){return t.db.getClasses()},"getClasses"),kze=o(async function(e,t,r,n){let{securityLevel:i,block:a}=Yn(),s=n.db,l;i==="sandbox"&&(l=nt("#i"+t));let u=nt(i==="sandbox"?l.nodes()[0].contentDocument.body:"body"),h=i==="sandbox"?u.select(`[id="${t}"]`):nt(`[id="${t}"]`);mFe(h,["point","circle","cross"],n.type,t);let d=s.getBlocks(),p=s.getBlocksFlat(),f=s.getEdges(),g=h.insert("g").attr("class","block");await yze(g,d,s);let m=vFe(s);if(await vze(g,d,s),await bze(g,f,p,s,t),m){let y=m,b=Math.max(1,Math.round(.125*(y.width/y.height))),v=y.height+b+10,x=y.width+10,{useMaxWidth:k}=a;ba(h,v,x,!!k),X.debug("Here Bounds",m,y),h.attr("viewBox",`${y.x-5} ${y.y-5} ${y.width+10} ${y.height+10}`)}},"draw"),wze={draw:kze,getClasses:xze}}),Tze={};Nt(Tze,{diagram:()=>Eze});var Eze,xtt=I(()=>{"use strict";ntt(),itt(),att(),btt(),Eze={parser:R$e,db:rFe,renderer:wze,styles:iFe}}),_j,Cj,Ix,_ze,Sj,ms,Wu,Aj,Cze,Sze,KE,Aze,Lze,Nze,Ize,Lj,Ip,Nj=I(()=>{"use strict";_j={L:"left",R:"right",T:"top",B:"bottom"},Cj={L:o(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:o(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:o(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:o(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},Ix={L:o((e,t)=>e-t+2,"L"),R:o((e,t)=>e-2,"R"),T:o((e,t)=>e-t+2,"T"),B:o((e,t)=>e-2,"B")},_ze=o(function(e){return ms(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),Sj=o(function(e){let t=e;return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),ms=o(function(e){let t=e;return t==="L"||t==="R"},"isArchitectureDirectionX"),Wu=o(function(e){let t=e;return t==="T"||t==="B"},"isArchitectureDirectionY"),Aj=o(function(e,t){let r=ms(e)&&Wu(t),n=Wu(e)&&ms(t);return r||n},"isArchitectureDirectionXY"),Cze=o(function(e){let t=e[0],r=e[1],n=ms(t)&&Wu(r),i=Wu(t)&&ms(r);return n||i},"isArchitecturePairXY"),Sze=o(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),KE=o(function(e,t){let r=`${e}${t}`;return Sze(r)?r:void 0},"getArchitectureDirectionPair"),Aze=o(function([e,t],r){let n=r[0],i=r[1];return ms(n)?Wu(i)?[e+(n==="L"?-1:1),t+(i==="T"?1:-1)]:[e+(n==="L"?-1:1),t]:ms(i)?[e+(i==="L"?1:-1),t+(n==="T"?1:-1)]:[e,t+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),Lze=o(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),Nze=o(function(e){return e.type==="service"},"isArchitectureService"),Ize=o(function(e){return e.type==="junction"},"isArchitectureJunction"),Lj=o(e=>e.data(),"edgeData"),Ip=o(e=>e.data(),"nodeData")});function Qi(e){let t=we().architecture;return t?.[e]?t[e]:Ij[e]}var Ij,Rr,Mze,Dze,Rze,Oze,Pze,Bze,$ze,Fze,zze,Gze,qze,jze,Yze,Uze,Mx,ZE=I(()=>{"use strict";Gs(),tr(),TB(),Hi(),Nj(),Ij=Kr.architecture,Rr=new S7(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:Ij,dataStructures:void 0,elements:{}})),Mze=o(()=>{Rr.reset(),Yi()},"clear"),Dze=o(function({id:e,icon:t,in:r,title:n,iconText:i}){if(Rr.records.registeredIds[e]!==void 0)throw new Error(`The service id [${e}] is already in use by another ${Rr.records.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The service [${e}] cannot be placed within itself`);if(Rr.records.registeredIds[r]===void 0)throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if(Rr.records.registeredIds[r]==="node")throw new Error(`The service [${e}]'s parent is not a group`)}Rr.records.registeredIds[e]="node",Rr.records.nodes[e]={id:e,type:"service",icon:t,iconText:i,title:n,edges:[],in:r}},"addService"),Rze=o(()=>Object.values(Rr.records.nodes).filter(Nze),"getServices"),Oze=o(function({id:e,in:t}){Rr.records.registeredIds[e]="node",Rr.records.nodes[e]={id:e,type:"junction",edges:[],in:t}},"addJunction"),Pze=o(()=>Object.values(Rr.records.nodes).filter(Ize),"getJunctions"),Bze=o(()=>Object.values(Rr.records.nodes),"getNodes"),$ze=o(e=>Rr.records.nodes[e],"getNode"),Fze=o(function({id:e,icon:t,in:r,title:n}){if(Rr.records.registeredIds[e]!==void 0)throw new Error(`The group id [${e}] is already in use by another ${Rr.records.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The group [${e}] cannot be placed within itself`);if(Rr.records.registeredIds[r]===void 0)throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if(Rr.records.registeredIds[r]==="node")throw new Error(`The group [${e}]'s parent is not a group`)}Rr.records.registeredIds[e]="group",Rr.records.groups[e]={id:e,icon:t,title:n,in:r}},"addGroup"),zze=o(()=>Object.values(Rr.records.groups),"getGroups"),Gze=o(function({lhsId:e,rhsId:t,lhsDir:r,rhsDir:n,lhsInto:i,rhsInto:a,lhsGroup:s,rhsGroup:l,title:u}){if(!Sj(r))throw new Error(`Invalid direction given for left hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${r}`);if(!Sj(n))throw new Error(`Invalid direction given for right hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${n}`);if(Rr.records.nodes[e]===void 0&&Rr.records.groups[e]===void 0)throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(Rr.records.nodes[t]===void 0&&Rr.records.groups[e]===void 0)throw new Error(`The right-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);let h=Rr.records.nodes[e].in,d=Rr.records.nodes[t].in;if(s&&h&&d&&h==d)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(l&&h&&d&&h==d)throw new Error(`The right-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let p={lhsId:e,lhsDir:r,lhsInto:i,lhsGroup:s,rhsId:t,rhsDir:n,rhsInto:a,rhsGroup:l,title:u};Rr.records.edges.push(p),Rr.records.nodes[e]&&Rr.records.nodes[t]&&(Rr.records.nodes[e].edges.push(Rr.records.edges[Rr.records.edges.length-1]),Rr.records.nodes[t].edges.push(Rr.records.edges[Rr.records.edges.length-1]))},"addEdge"),qze=o(()=>Rr.records.edges,"getEdges"),jze=o(()=>{if(Rr.records.dataStructures===void 0){let e=Object.entries(Rr.records.nodes).reduce((s,[l,u])=>(s[l]=u.edges.reduce((h,d)=>{if(d.lhsId===l){let p=KE(d.lhsDir,d.rhsDir);p&&(h[p]=d.rhsId)}else{let p=KE(d.rhsDir,d.lhsDir);p&&(h[p]=d.lhsId)}return h},{}),s),{}),t=Object.keys(e)[0],r={[t]:1},n=Object.keys(e).reduce((s,l)=>l===t?s:{...s,[l]:1},{}),i=o(s=>{let l={[s]:[0,0]},u=[s];for(;u.length>0;){let h=u.shift();if(h){r[h]=1,delete n[h];let d=e[h],[p,f]=l[h];Object.entries(d).forEach(([g,m])=>{r[m]||(l[m]=Aze([p,f],g),u.push(m))})}}return l},"BFS"),a=[i(t)];for(;Object.keys(n).length>0;)a.push(i(Object.keys(n)[0]));Rr.records.dataStructures={adjList:e,spatialMaps:a}}return Rr.records.dataStructures},"getDataStructures"),Yze=o((e,t)=>{Rr.records.elements[e]=t},"setElementForId"),Uze=o(e=>Rr.records.elements[e],"getElementById"),Mx={clear:Mze,setDiagramTitle:za,getDiagramTitle:na,setAccTitle:Ui,getAccTitle:ea,setAccDescription:ta,getAccDescription:ra,addService:Dze,getServices:Rze,addJunction:Oze,getJunctions:Pze,getNodes:Bze,getNode:$ze,addGroup:Fze,getGroups:zze,addEdge:Gze,getEdges:qze,setElementForId:Yze,getElementById:Uze,getDataStructures:jze},o(Qi,"getConfigField")}),Hze,Wze,ktt=I(()=>{"use strict";Qv(),Ye(),C7(),ZE(),Hze=o((e,t)=>{Jv(e,t),e.groups.map(t.addGroup),e.services.map(r=>t.addService({...r,type:"service"})),e.junctions.map(r=>t.addJunction({...r,type:"junction"})),e.edges.map(t.addEdge)},"populateDb"),Wze={parse:o(async e=>{let t=await Y0("architecture",e);X.debug(t),Hze(t,Mx)},"parse")}}),Vze,Xze,wtt=I(()=>{"use strict";Vze=o(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),Xze=Vze}),Kze=Mt((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n():typeof define=="function"&&define.amd?define([],n):typeof e=="object"?e.layoutBase=n():r.layoutBase=n()},"webpackUniversalModuleDefinition")(e,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return o(i,"__webpack_require__"),i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,l){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:l})},i.n=function(a){var s=a&&a.__esModule?o(function(){return a.default},"getDefault"):o(function(){return a},"getModuleExports");return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=28)}([function(r,n,i){"use strict";function a(){}o(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(8),l=i(9);function u(d,p,f){a.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=d,this.target=p}o(u,"LEdge"),u.prototype=Object.create(a.prototype);for(var h in a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var f=this.getOtherEnd(d),g=p.getGraphManager().getRoot();;){if(f.getOwner()==p)return f;if(f.getOwner()==g)break;f=f.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,i){"use strict";function a(s){this.vGraphObject=s}o(a,"LGraphObject"),r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(10),l=i(13),u=i(0),h=i(16),d=i(5);function p(g,m,y,b){y==null&&b==null&&(b=m),a.call(this,b),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=g,y!=null&&m!=null?this.rect=new l(m.x,m.y,y.width,y.height):this.rect=new l}o(p,"LNode"),p.prototype=Object.create(a.prototype);for(var f in a)p[f]=a[f];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(g){this.rect.width=g},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(g){this.rect.height=g},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(g,m){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(g,m){this.rect.x=g-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(g,m){this.rect.x=g,this.rect.y=m},p.prototype.moveBy=function(g,m){this.rect.x+=g,this.rect.y+=m},p.prototype.getEdgeListToNode=function(g){var m=[],y,b=this;return b.edges.forEach(function(v){if(v.target==g){if(v.source!=b)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(g){var m=[],y,b=this;return b.edges.forEach(function(v){if(!(v.source==b||v.target==b))throw"Incorrect edge source and/or target";(v.target==g||v.source==g)&&m.push(v)}),m},p.prototype.getNeighborsList=function(){var g=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)g.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";g.add(y.source)}}),g},p.prototype.withChildren=function(){var g=new Set,m,y;if(g.add(this),this.child!=null)for(var b=this.child.getNodes(),v=0;v<b.length;v++)m=b[v],y=m.withChildren(),y.forEach(function(x){g.add(x)});return g},p.prototype.getNoOfChildren=function(){var g=0,m;if(this.child==null)g=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],g+=m.getNoOfChildren();return g==0&&(g=1),g},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var g,m,y=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+h.nextDouble()*(b-y)+y;var v=-u.INITIAL_WORLD_BOUNDARY,x=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(x-v)+v,this.rect.x=g,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=g.getRight()-g.getLeft(),y=g.getBottom()-g.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(m+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>m?(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(m+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(y+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>y?(this.rect.y-=(this.labelHeight-y)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(y+this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(g){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var b=new d(m,y),v=g.inverseTransformPoint(b);this.setLocation(v.x,v.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p},function(r,n,i){"use strict";var a=i(0);function s(){}o(s,"FDLayoutConstants");for(var l in a)s[l]=a[l];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){"use strict";function a(s,l){s==null&&l==null?(this.x=0,this.y=0):(this.x=s,this.y=l)}o(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(10),l=i(0),u=i(7),h=i(3),d=i(1),p=i(13),f=i(12),g=i(11);function m(b,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=l.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,v!=null&&v instanceof u?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}o(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var y in a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,v,x){if(v==null&&x==null){var k=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(k)>-1)throw"Node already in graph!";return k.owner=this,this.getNodes().push(k),k}else{var w=b;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(w.source=v,w.target=x,w.isInterGraph=!1,this.getEdges().push(w),v.edges.push(w),x!=v&&x.edges.push(w),w)}},m.prototype.remove=function(b){var v=b;if(b instanceof h){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),k,w=x.length,_=0;_<w;_++)k=x[_],k.isInterGraph?this.graphManager.remove(k):k.source.owner.remove(k);var S=this.nodes.indexOf(v);if(S==-1)throw"Node not in owner node list!";this.nodes.splice(S,1)}else if(b instanceof d){var k=b;if(k==null)throw"Edge is null!";if(!(k.source!=null&&k.target!=null))throw"Source and/or target is null!";if(!(k.source.owner!=null&&k.target.owner!=null&&k.source.owner==this&&k.target.owner==this))throw"Source and/or target owner is invalid!";var C=k.source.edges.indexOf(k),T=k.target.edges.indexOf(k);if(!(C>-1&&T>-1))throw"Source and/or target doesn't know this edge!";k.source.edges.splice(C,1),k.target!=k.source&&k.target.edges.splice(T,1);var S=k.source.owner.getEdges().indexOf(k);if(S==-1)throw"Not in owner's edge list!";k.source.owner.getEdges().splice(S,1)}},m.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,v=s.MAX_VALUE,x,k,w,_=this.getNodes(),S=_.length,C=0;C<S;C++){var T=_[C];x=T.getTop(),k=T.getLeft(),b>x&&(b=x),v>k&&(v=k)}return b==s.MAX_VALUE?null:(_[0].getParent().paddingLeft!=null?w=_[0].getParent().paddingLeft:w=this.margin,this.left=v-w,this.top=b-w,new f(this.left,this.top))},m.prototype.updateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,k=s.MAX_VALUE,w=-s.MAX_VALUE,_,S,C,T,N,D=this.nodes,M=D.length,L=0;L<M;L++){var B=D[L];b&&B.child!=null&&B.updateBounds(),_=B.getLeft(),S=B.getRight(),C=B.getTop(),T=B.getBottom(),v>_&&(v=_),x<S&&(x=S),k>C&&(k=C),w<T&&(w=T)}var E=new p(v,k,x-v,w-k);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),D[0].getParent().paddingLeft!=null?N=D[0].getParent().paddingLeft:N=this.margin,this.left=E.x-N,this.right=E.x+E.width+N,this.top=E.y-N,this.bottom=E.y+E.height+N},m.calculateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,k=s.MAX_VALUE,w=-s.MAX_VALUE,_,S,C,T,N=b.length,D=0;D<N;D++){var M=b[D];_=M.getLeft(),S=M.getRight(),C=M.getTop(),T=M.getBottom(),v>_&&(v=_),x<S&&(x=S),k>C&&(k=C),w<T&&(w=T)}var L=new p(v,k,x-v,w-k);return L},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,v=this.nodes,x=v.length,k=0;k<x;k++){var w=v[k];b+=w.calcEstimatedSize()}return b==0?this.estimatedSize=l.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new g,x=new Set,k=this.nodes[0],w,_,S=k.withChildren();for(S.forEach(function(L){v.push(L),x.add(L)});v.length!==0;){k=v.shift(),w=k.getEdges();for(var C=w.length,T=0;T<C;T++){var N=w[T];if(_=N.getOtherEndInGraph(k,this),_!=null&&!x.has(_)){var D=_.withChildren();D.forEach(function(L){v.push(L),x.add(L)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var M=0;x.forEach(function(L){L.owner==b&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,n,i){"use strict";var a,s=i(1);function l(u){a=i(6),this.layout=u,this.graphs=[],this.edges=[]}o(l,"LGraphManager"),l.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},l.prototype.add=function(u,h,d,p,f){if(d==null&&p==null&&f==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{f=d,p=h,d=u;var g=p.getOwner(),m=f.getOwner();if(!(g!=null&&g.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(g==m)return d.isInterGraph=!1,g.add(d,p,f);if(d.isInterGraph=!0,d.source=p,d.target=f,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},l.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(h.getEdges());for(var p,f=d.length,g=0;g<f;g++)p=d[g],h.remove(p);var m=[];m=m.concat(h.getNodes());var y;f=m.length;for(var g=0;g<f;g++)y=m[g],h.remove(y);h==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(h);this.graphs.splice(b,1),h.parent=null}else if(u instanceof s){if(p=u,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var b=p.source.edges.indexOf(p);if(p.source.edges.splice(b,1),b=p.target.edges.indexOf(p),p.target.edges.splice(b,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var b=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(b,1)}},l.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},l.prototype.getGraphs=function(){return this.graphs},l.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},l.prototype.resetAllNodes=function(){this.allNodes=null},l.prototype.resetAllEdges=function(){this.allEdges=null},l.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},l.prototype.getAllEdges=function(){if(this.allEdges==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<h.length;p++)u=u.concat(h[p].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},l.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},l.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},l.prototype.getRoot=function(){return this.rootGraph},l.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},l.prototype.getLayout=function(){return this.layout},l.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var d=u.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=h.getOwner();do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},l.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,f,g=this.getAllEdges(),m=g.length,y=0;y<m;y++){if(u=g[y],h=u.source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h==d){u.lca=h.getOwner();continue}for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,f=d.getOwner();u.lca==null;){if(f==p){u.lca=f;break}if(f==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=f.getParent(),f=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},l.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var d=u.getOwner();do{if(d==null)break;var p=h.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},l.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var d,p=u.getNodes(),f=p.length,g=0;g<f;g++)d=p[g],d.inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},l.prototype.includesInvalidEdge=function(){for(var u,h=[],d=this.edges.length,p=0;p<d;p++)u=this.edges[p],this.isOneAncestorOfOther(u.source,u.target)&&h.push(u);for(var p=0;p<h.length;p++)this.remove(h[p]);return!1},r.exports=l},function(r,n,i){"use strict";var a=i(12);function s(){}o(s,"IGeometry"),s.calcSeparationAmount=function(l,u,h,d){if(!l.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(l,u,p),h[0]=Math.min(l.getRight(),u.getRight())-Math.max(l.x,u.x),h[1]=Math.min(l.getBottom(),u.getBottom())-Math.max(l.y,u.y),l.getX()<=u.getX()&&l.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-l.getX(),l.getRight()-u.getRight()):u.getX()<=l.getX()&&u.getRight()>=l.getRight()&&(h[0]+=Math.min(l.getX()-u.getX(),u.getRight()-l.getRight())),l.getY()<=u.getY()&&l.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-l.getY(),l.getBottom()-u.getBottom()):u.getY()<=l.getY()&&u.getBottom()>=l.getBottom()&&(h[1]+=Math.min(l.getY()-u.getY(),u.getBottom()-l.getBottom()));var f=Math.abs((u.getCenterY()-l.getCenterY())/(u.getCenterX()-l.getCenterX()));u.getCenterY()===l.getCenterY()&&u.getCenterX()===l.getCenterX()&&(f=1);var g=f*h[0],m=h[1]/f;h[0]<m?m=h[0]:g=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(g/2+d)},s.decideDirectionsForOverlappingNodes=function(l,u,h){l.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,l.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(l,u,h){var d=l.getCenterX(),p=l.getCenterY(),f=u.getCenterX(),g=u.getCenterY();if(l.intersects(u))return h[0]=d,h[1]=p,h[2]=f,h[3]=g,!0;var m=l.getX(),y=l.getY(),b=l.getRight(),v=l.getX(),x=l.getBottom(),k=l.getRight(),w=l.getWidthHalf(),_=l.getHeightHalf(),S=u.getX(),C=u.getY(),T=u.getRight(),N=u.getX(),D=u.getBottom(),M=u.getRight(),L=u.getWidthHalf(),B=u.getHeightHalf(),E=!1,R=!1;if(d===f){if(p>g)return h[0]=d,h[1]=y,h[2]=f,h[3]=D,!1;if(p<g)return h[0]=d,h[1]=x,h[2]=f,h[3]=C,!1}else if(p===g){if(d>f)return h[0]=m,h[1]=p,h[2]=T,h[3]=g,!1;if(d<f)return h[0]=b,h[1]=p,h[2]=S,h[3]=g,!1}else{var O=l.height/l.width,P=u.height/u.width,A=(g-p)/(f-d),$=void 0,F=void 0,G=void 0,q=void 0,W=void 0,re=void 0;if(-O===A?d>f?(h[0]=v,h[1]=x,E=!0):(h[0]=b,h[1]=y,E=!0):O===A&&(d>f?(h[0]=m,h[1]=y,E=!0):(h[0]=k,h[1]=x,E=!0)),-P===A?f>d?(h[2]=N,h[3]=D,R=!0):(h[2]=T,h[3]=C,R=!0):P===A&&(f>d?(h[2]=S,h[3]=C,R=!0):(h[2]=M,h[3]=D,R=!0)),E&&R)return!1;if(d>f?p>g?($=this.getCardinalDirection(O,A,4),F=this.getCardinalDirection(P,A,2)):($=this.getCardinalDirection(-O,A,3),F=this.getCardinalDirection(-P,A,1)):p>g?($=this.getCardinalDirection(-O,A,1),F=this.getCardinalDirection(-P,A,3)):($=this.getCardinalDirection(O,A,2),F=this.getCardinalDirection(P,A,4)),!E)switch($){case 1:q=y,G=d+-_/A,h[0]=G,h[1]=q;break;case 2:G=k,q=p+w*A,h[0]=G,h[1]=q;break;case 3:q=x,G=d+_/A,h[0]=G,h[1]=q;break;case 4:G=v,q=p+-w*A,h[0]=G,h[1]=q;break}if(!R)switch(F){case 1:re=C,W=f+-B/A,h[2]=W,h[3]=re;break;case 2:W=M,re=g+L*A,h[2]=W,h[3]=re;break;case 3:re=D,W=f+B/A,h[2]=W,h[3]=re;break;case 4:W=N,re=g+-L*A,h[2]=W,h[3]=re;break}}return!1},s.getCardinalDirection=function(l,u,h){return l>u?h:1+h%4},s.getIntersection=function(l,u,h,d){if(d==null)return this.getIntersection2(l,u,h);var p=l.x,f=l.y,g=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,k=void 0,w=void 0,_=void 0,S=void 0,C=void 0,T=void 0,N=void 0,D=void 0,M=void 0;return _=m-f,C=p-g,N=g*f-p*m,S=x-b,T=y-v,D=v*b-y*x,M=_*T-S*C,M===0?null:(k=(C*D-T*N)/M,w=(S*N-_*D)/M,new a(k,w))},s.angleOfVector=function(l,u,h,d){var p=void 0;return l!==h?(p=Math.atan((d-u)/(h-l)),h<l?p+=Math.PI:d<u&&(p+=this.TWO_PI)):d<u?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(l,u,h,d){var p=l.x,f=l.y,g=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,k=(g-p)*(x-b)-(v-y)*(m-f);if(k===0)return!1;var w=((x-b)*(v-p)+(y-v)*(x-f))/k,_=((f-m)*(v-p)+(g-p)*(x-f))/k;return 0<w&&w<1&&0<_&&_<1},s.findCircleLineIntersections=function(l,u,h,d,p,f,g){var m=(h-l)*(h-l)+(d-u)*(d-u),y=2*((l-p)*(h-l)+(u-f)*(d-u)),b=(l-p)*(l-p)+(u-f)*(u-f)-g*g,v=y*y-4*m*b;if(v>=0){var x=(-y+Math.sqrt(y*y-4*m*b))/(2*m),k=(-y-Math.sqrt(y*y-4*m*b))/(2*m),w=null;return x>=0&&x<=1?[x]:k>=0&&k<=1?[k]:w}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){"use strict";function a(){}o(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){"use strict";function a(){}o(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){"use strict";var a=function(){function p(f,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return o(p,"defineProperties"),function(f,g,m){return g&&p(f.prototype,g),m&&p(f,m),f}}();function s(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=o(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=o(function(p,f,g,m){return p!==null?p.next=f:m.head=f,g!==null?g.prev=f:m.tail=f,f.prev=p,f.next=g,m.length++,f},"add"),h=o(function(p,f){var g=p.prev,m=p.next;return g!==null?g.next=m:f.head=m,m!==null?m.prev=g:f.tail=g,p.prev=p.next=null,f.length--,p},"_remove"),d=function(){function p(f){var g=this;s(this,p),this.length=0,this.head=null,this.tail=null,f?.forEach(function(m){return g.push(m)})}return o(p,"LinkedList"),a(p,[{key:"size",value:o(function(){return this.length},"size")},{key:"insertBefore",value:o(function(f,g){return u(g.prev,l(f),g,this)},"insertBefore")},{key:"insertAfter",value:o(function(f,g){return u(g,l(f),g.next,this)},"insertAfter")},{key:"insertNodeBefore",value:o(function(f,g){return u(g.prev,f,g,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:o(function(f,g){return u(g,f,g.next,this)},"insertNodeAfter")},{key:"push",value:o(function(f){return u(this.tail,l(f),null,this)},"push")},{key:"unshift",value:o(function(f){return u(null,l(f),this.head,this)},"unshift")},{key:"remove",value:o(function(f){return h(f,this)},"remove")},{key:"pop",value:o(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:o(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:o(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:o(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:o(function(f){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;return m.value}},"get_object_at")},{key:"set_object_at",value:o(function(f,g){if(f<=this.length()){for(var m=1,y=this.head;m<f;)y=y.next,m++;y.value=g}},"set_object_at")}]),p}();r.exports=d},function(r,n,i){"use strict";function a(s,l,u){this.x=null,this.y=null,s==null&&l==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof l=="number"&&u==null?(this.x=s,this.y=l):s.constructor.name=="Point"&&l==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}o(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,l,u){s.constructor.name=="Point"&&l==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof l=="number"&&u==null&&(parseInt(s)==s&&parseInt(l)==l?this.move(s,l):(this.x=Math.floor(s+.5),this.y=Math.floor(l+.5)))},a.prototype.move=function(s,l){this.x=s,this.y=l},a.prototype.translate=function(s,l){this.x+=s,this.y+=l},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var l=s;return this.x==l.x&&this.y==l.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){"use strict";function a(s,l,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&l!=null&&u!=null&&h!=null&&(this.x=s,this.y=l,this.width=u,this.height=h)}o(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function s(){}o(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(l){return s.isPrimitive(l)?l:(l.uniqueID!=null||(l.uniqueID=s.getString(),s.lastID++),l.uniqueID)},s.getString=function(l){return l==null&&(l=s.lastID),"Object#"+l},s.isPrimitive=function(l){var u=typeof l>"u"?"undefined":a(l);return l==null||u!="object"&&u!="function"},r.exports=s},function(r,n,i){"use strict";function a(y){if(Array.isArray(y)){for(var b=0,v=Array(y.length);b<y.length;b++)v[b]=y[b];return v}else return Array.from(y)}o(a,"_toConsumableArray");var s=i(0),l=i(7),u=i(3),h=i(1),d=i(6),p=i(5),f=i(17),g=i(29);function m(y){g.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new l(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}o(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(g.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new l(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y,b=this.graphManager.getAllEdges(),v=0;v<b.length;v++)y=b[v];for(var x,k=this.graphManager.getRoot().getNodes(),v=0;v<k.length;v++)x=k[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var b=y;if(b.getChild()!=null)for(var v=b.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(b.vGraphObject!=null){var k=b.vGraphObject;k.update(b)}}else if(y instanceof h){var w=y;if(w.vGraphObject!=null){var _=w.vGraphObject;_.update(w)}}else if(y instanceof d){var S=y;if(S.vGraphObject!=null){var C=S.vGraphObject;C.update(S)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var b=new f,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(v.x),b.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),k,w=0;w<x.length;w++)k=x[w],k.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,v,x=y.getNodes(),k=0;k<x.length;k++)b=x[k],v=b.getChild(),v==null||v.getNodes().length==0?b.scatter():(this.positionNodesRandomly(v),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,v=this.graphManager.getRoot().getNodes(),x=!0,k=0;k<v.length;k++)v[k].getChild()!=null&&(x=!1);if(!x)return y;var w=new Set,_=[],S=new Map,C=[];for(C=C.concat(v);C.length>0&&b;){for(_.push(C[0]);_.length>0&&b;){var T=_[0];_.splice(0,1),w.add(T);for(var N=T.getEdges(),k=0;k<N.length;k++){var D=N[k].getOtherEnd(T);if(S.get(T)!=D)if(!w.has(D))_.push(D),S.set(D,T);else{b=!1;break}}}if(!b)y=[];else{var M=[].concat(a(w));y.push(M);for(var k=0;k<M.length;k++){var L=M[k],B=C.indexOf(L);B>-1&&C.splice(B,1)}w=new Set,S=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],v=y.source,x=this.graphManager.calcLowestCommonAncestor(y.source,y.target),k=0;k<y.bendpoints.length;k++){var w=this.newNode(null);w.setRect(new Point(0,0),new Dimension(1,1)),x.add(w);var _=this.newEdge(null);this.graphManager.add(_,v,w),b.add(w),v=w}var _=this.newEdge(null);return this.graphManager.add(_,v,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):x.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var v=y[b];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),k=0;k<x.length;k++){var w=x[k],_=new p(w.getCenterX(),w.getCenterY()),S=v.bendpoints.get(k);S.x=_.x,S.y=_.y,w.getOwner().remove(w)}this.graphManager.add(v,v.source,v.target)}}},m.transform=function(y,b,v,x){if(v!=null&&x!=null){var k=b;if(y<=50){var w=b/v;k-=(b-w)/50*(50-y)}else{var _=b*x;k+=(_-b)/50*(y-50)}return k}else{var S,C;return y<=50?(S=9*b/500,C=b/10):(S=9*b/50,C=-8*b),S*y+C}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var v=[],x=new Map,k=!1,w=null;(b.length==1||b.length==2)&&(k=!0,w=b[0]);for(var _=0;_<b.length;_++){var S=b[_],C=S.getNeighborsList().size;x.set(S,S.getNeighborsList().size),C==1&&v.push(S)}var T=[];for(T=T.concat(v);!k;){var N=[];N=N.concat(T),T=[];for(var _=0;_<b.length;_++){var S=b[_],D=b.indexOf(S);D>=0&&b.splice(D,1);var M=S.getNeighborsList();M.forEach(function(E){if(v.indexOf(E)<0){var R=x.get(E),O=R-1;O==1&&T.push(E),x.set(E,O)}})}v=v.concat(T),(b.length==1||b.length==2)&&(k=!0,w=b[0])}return w},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,n,i){"use strict";function a(){}o(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){"use strict";var a=i(5);function s(l,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(l){this.lworldOrgX=l},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(l){this.lworldOrgY=l},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(l){this.lworldExtX=l},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(l){this.lworldExtY=l},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(l){this.ldeviceOrgX=l},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(l){this.ldeviceOrgY=l},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(l){this.ldeviceExtX=l},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(l){this.ldeviceExtY=l},s.prototype.transformX=function(l){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(l-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(l){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(l-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(l){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(l-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(l){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(l-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(l){var u=new a(this.inverseTransformX(l.x),this.inverseTransformY(l.y));return u},r.exports=s},function(r,n,i){"use strict";function a(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}else return Array.from(g)}o(a,"_toConsumableArray");var s=i(15),l=i(4),u=i(0),h=i(8),d=i(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=l.MAX_ITERATIONS}o(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var f in s)p[f]=s[f];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var g,m,y,b,v,x,k,w=this.getGraphManager().getAllEdges(),_=0;_<w.length;_++)g=w[_],m=g.idealLength,g.isInterGraph&&(b=g.getSource(),v=g.getTarget(),x=g.getSourceInLca().getEstimatedSize(),k=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=x+k-2*u.SIMPLE_NODE_SIZE),y=g.getLca().getInclusionTreeDepth(),g.idealLength+=m*l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*y))},p.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>l.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*l.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-l.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>l.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(l.COOLING_ADAPTATION_FACTOR,1-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*(1-l.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var g=this.getAllEdges(),m,y=0;y<g.length;y++)m=g[y],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,v,x,k=this.getAllNodes(),w;if(this.useFRGridVariant)for(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&g&&this.updateGrid(),w=new Set,y=0;y<k.length;y++)v=k[y],this.calculateRepulsionForceOfANode(v,w,g,m),w.add(v);else for(y=0;y<k.length;y++)for(v=k[y],b=y+1;b<k.length;b++)x=k[b],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},p.prototype.calcGravitationalForces=function(){for(var g,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)g=m[y],this.calcGravitationalForce(g)},p.prototype.moveNodes=function(){for(var g=this.getAllNodes(),m,y=0;y<g.length;y++)m=g[y],m.move()},p.prototype.calcSpringForce=function(g,m){var y=g.getSource(),b=g.getTarget(),v,x,k,w;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;v=g.getLength(),v!=0&&(x=g.edgeElasticity*(v-m),k=x*(g.lengthX/v),w=x*(g.lengthY/v),y.springForceX+=k,y.springForceY+=w,b.springForceX-=k,b.springForceY-=w)},p.prototype.calcRepulsionForce=function(g,m){var y=g.getRect(),b=m.getRect(),v=new Array(2),x=new Array(4),k,w,_,S,C,T,N;if(y.intersects(b)){h.calcSeparationAmount(y,b,v,l.DEFAULT_EDGE_LENGTH/2),T=2*v[0],N=2*v[1];var D=g.noOfChildren*m.noOfChildren/(g.noOfChildren+m.noOfChildren);g.repulsionForceX-=D*T,g.repulsionForceY-=D*N,m.repulsionForceX+=D*T,m.repulsionForceY+=D*N}else this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null?(k=b.getCenterX()-y.getCenterX(),w=b.getCenterY()-y.getCenterY()):(h.getIntersection(y,b,x),k=x[2]-x[0],w=x[3]-x[1]),Math.abs(k)<l.MIN_REPULSION_DIST&&(k=d.sign(k)*l.MIN_REPULSION_DIST),Math.abs(w)<l.MIN_REPULSION_DIST&&(w=d.sign(w)*l.MIN_REPULSION_DIST),_=k*k+w*w,S=Math.sqrt(_),C=(g.nodeRepulsion/2+m.nodeRepulsion/2)*g.noOfChildren*m.noOfChildren/_,T=C*k/S,N=C*w/S,g.repulsionForceX-=T,g.repulsionForceY-=N,m.repulsionForceX+=T,m.repulsionForceY+=N},p.prototype.calcGravitationalForce=function(g){var m,y,b,v,x,k,w,_;m=g.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,v=g.getCenterX()-y,x=g.getCenterY()-b,k=Math.abs(v)+g.getWidth()/2,w=Math.abs(x)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(_=m.getEstimatedSize()*this.gravityRangeFactor,(k>_||w>_)&&(g.gravitationForceX=-this.gravityConstant*v,g.gravitationForceY=-this.gravityConstant*x)):(_=m.getEstimatedSize()*this.compoundGravityRangeFactor,(k>_||w>_)&&(g.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},p.prototype.isConverged=function(){var g,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)g=m[y],g.noOfChildren=g.getNoOfChildren()},p.prototype.calcGrid=function(g){var m=0,y=0;m=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var b=new Array(m),v=0;v<m;v++)b[v]=new Array(y);for(var v=0;v<m;v++)for(var x=0;x<y;x++)b[v][x]=new Array;return b},p.prototype.addNodeToGrid=function(g,m,y){var b=0,v=0,x=0,k=0;b=parseInt(Math.floor((g.getRect().x-m)/this.repulsionRange)),v=parseInt(Math.floor((g.getRect().width+g.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((g.getRect().y-y)/this.repulsionRange)),k=parseInt(Math.floor((g.getRect().height+g.getRect().y-y)/this.repulsionRange));for(var w=b;w<=v;w++)for(var _=x;_<=k;_++)this.grid[w][_].push(g),g.setGridCoordinates(b,v,x,k)},p.prototype.updateGrid=function(){var g,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<y.length;g++)m=y[g],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(g,m,y,b){if(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var v=new Set;g.surrounding=new Array;for(var x,k=this.grid,w=g.startX-1;w<g.finishX+2;w++)for(var _=g.startY-1;_<g.finishY+2;_++)if(!(w<0||_<0||w>=k.length||_>=k[0].length)){for(var S=0;S<k[w][_].length;S++)if(x=k[w][_][S],!(g.getOwner()!=x.getOwner()||g==x)&&!m.has(x)&&!v.has(x)){var C=Math.abs(g.getCenterX()-x.getCenterX())-(g.getWidth()/2+x.getWidth()/2),T=Math.abs(g.getCenterY()-x.getCenterY())-(g.getHeight()/2+x.getHeight()/2);C<=this.repulsionRange&&T<=this.repulsionRange&&v.add(x)}}g.surrounding=[].concat(a(v))}for(w=0;w<g.surrounding.length;w++)this.calcRepulsionForce(g,g.surrounding[w])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p},function(r,n,i){"use strict";var a=i(1),s=i(4);function l(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}o(l,"FDLayoutEdge"),l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];r.exports=l},function(r,n,i){"use strict";var a=i(3),s=i(4);function l(h,d,p,f){a.call(this,h,d,p,f),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o(l,"FDLayoutNode"),l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.setGridCoordinates=function(h,d,p,f){this.startX=h,this.finishX=d,this.startY=p,this.finishY=f},r.exports=l},function(r,n,i){"use strict";function a(s,l){this.width=0,this.height=0,s!==null&&l!==null&&(this.height=l,this.width=s)}o(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){"use strict";var a=i(14);function s(){this.map={},this.keys=[]}o(s,"HashMap"),s.prototype.put=function(l,u){var h=a.createID(l);this.contains(h)||(this.map[h]=u,this.keys.push(l))},s.prototype.contains=function(l){var u=a.createID(l);return this.map[l]!=null},s.prototype.get=function(l){var u=a.createID(l);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){"use strict";var a=i(14);function s(){this.set={}}o(s,"HashSet"),s.prototype.add=function(l){var u=a.createID(l);this.contains(u)||(this.set[u]=l)},s.prototype.remove=function(l){delete this.set[a.createID(l)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(l){return this.set[a.createID(l)]==l},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(l){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)l.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(l){for(var u=l.length,h=0;h<u;h++){var d=l[h];this.add(d)}},r.exports=s},function(r,n,i){"use strict";function a(){}o(a,"Matrix"),a.multMat=function(s,l){for(var u=[],h=0;h<s.length;h++){u[h]=[];for(var d=0;d<l[0].length;d++){u[h][d]=0;for(var p=0;p<s[0].length;p++)u[h][d]+=s[h][p]*l[p][d]}}return u},a.transpose=function(s){for(var l=[],u=0;u<s[0].length;u++){l[u]=[];for(var h=0;h<s.length;h++)l[u][h]=s[h][u]}return l},a.multCons=function(s,l){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]*l;return u},a.minusOp=function(s,l){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]-l[h];return u},a.dotProduct=function(s,l){for(var u=0,h=0;h<s.length;h++)u+=s[h]*l[h];return u},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var l=[],u=this.mag(s),h=0;h<s.length;h++)l[h]=s[h]/u;return l},a.multGamma=function(s){for(var l=[],u=0,h=0;h<s.length;h++)u+=s[h];u*=-1/s.length;for(var d=0;d<s.length;d++)l[d]=u+s[d];return l},a.multL=function(s,l,u){for(var h=[],d=[],p=[],f=0;f<l[0].length;f++){for(var g=0,m=0;m<l.length;m++)g+=-.5*l[m][f]*s[m];d[f]=g}for(var y=0;y<u.length;y++){for(var b=0,v=0;v<u.length;v++)b+=u[y][v]*d[v];p[y]=b}for(var x=0;x<l.length;x++){for(var k=0,w=0;w<l[0].length;w++)k+=l[x][w]*p[w];h[x]=k}return h},r.exports=a},function(r,n,i){"use strict";var a=function(){function h(d,p){for(var f=0;f<p.length;f++){var g=p[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return o(h,"defineProperties"),function(d,p,f){return p&&h(d.prototype,p),f&&h(d,f),d}}();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=i(11),u=function(){function h(d,p){s(this,h),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var f=void 0;d instanceof l?f=d.size():f=d.length,this._quicksort(d,0,f-1)}return o(h,"Quicksort"),a(h,[{key:"_quicksort",value:o(function(d,p,f){if(p<f){var g=this._partition(d,p,f);this._quicksort(d,p,g),this._quicksort(d,g+1,f)}},"_quicksort")},{key:"_partition",value:o(function(d,p,f){for(var g=this._get(d,p),m=p,y=f;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}},"_partition")},{key:"_get",value:o(function(d,p){return d instanceof l?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:o(function(d,p,f){d instanceof l?d.set_object_at(p,f):d[p]=f},"_set")},{key:"_swap",value:o(function(d,p,f){var g=this._get(d,p);this._set(d,p,this._get(d,f)),this._set(d,f,g)},"_swap")},{key:"_defaultCompareFunction",value:o(function(d,p){return p>d},"_defaultCompareFunction")}]),h}();r.exports=u},function(r,n,i){"use strict";function a(){}o(a,"SVD"),a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var l=Math.min(this.m,this.n);this.s=function(it){for(var Gt=[];it-- >0;)Gt.push(0);return Gt}(Math.min(this.m+1,this.n)),this.U=function(it){var Gt=o(function Tt(hn){if(hn.length==0)return 0;for(var Ir=[],Gr=0;Gr<hn[0];Gr++)Ir.push(Tt(hn.slice(1)));return Ir},"allocate");return Gt(it)}([this.m,l]),this.V=function(it){var Gt=o(function Tt(hn){if(hn.length==0)return 0;for(var Ir=[],Gr=0;Gr<hn[0];Gr++)Ir.push(Tt(hn.slice(1)));return Ir},"allocate");return Gt(it)}([this.n,this.n]);for(var u=function(it){for(var Gt=[];it-- >0;)Gt.push(0);return Gt}(this.n),h=function(it){for(var Gt=[];it-- >0;)Gt.push(0);return Gt}(this.m),d=!0,p=!0,f=Math.min(this.m-1,this.n),g=Math.max(0,Math.min(this.n-2,this.m)),m=0;m<Math.max(f,g);m++){if(m<f){this.s[m]=0;for(var y=m;y<this.m;y++)this.s[m]=a.hypot(this.s[m],s[y][m]);if(this.s[m]!==0){s[m][m]<0&&(this.s[m]=-this.s[m]);for(var b=m;b<this.m;b++)s[b][m]/=this.s[m];s[m][m]+=1}this.s[m]=-this.s[m]}for(var v=m+1;v<this.n;v++){if(function(it,Gt){return it&&Gt}(m<f,this.s[m]!==0)){for(var x=0,k=m;k<this.m;k++)x+=s[k][m]*s[k][v];x=-x/s[m][m];for(var w=m;w<this.m;w++)s[w][v]+=x*s[w][m]}u[v]=s[m][v]}if(function(it,Gt){return it&&Gt}(d,m<f))for(var _=m;_<this.m;_++)this.U[_][m]=s[_][m];if(m<g){u[m]=0;for(var S=m+1;S<this.n;S++)u[m]=a.hypot(u[m],u[S]);if(u[m]!==0){u[m+1]<0&&(u[m]=-u[m]);for(var C=m+1;C<this.n;C++)u[C]/=u[m];u[m+1]+=1}if(u[m]=-u[m],function(it,Gt){return it&&Gt}(m+1<this.m,u[m]!==0)){for(var T=m+1;T<this.m;T++)h[T]=0;for(var N=m+1;N<this.n;N++)for(var D=m+1;D<this.m;D++)h[D]+=u[N]*s[D][N];for(var M=m+1;M<this.n;M++)for(var L=-u[M]/u[m+1],B=m+1;B<this.m;B++)s[B][M]+=L*h[B]}if(p)for(var E=m+1;E<this.n;E++)this.V[E][m]=u[E]}}var R=Math.min(this.n,this.m+1);if(f<this.n&&(this.s[f]=s[f][f]),this.m<R&&(this.s[R-1]=0),g+1<R&&(u[g]=s[g][R-1]),u[R-1]=0,d){for(var O=f;O<l;O++){for(var P=0;P<this.m;P++)this.U[P][O]=0;this.U[O][O]=1}for(var A=f-1;A>=0;A--)if(this.s[A]!==0){for(var $=A+1;$<l;$++){for(var F=0,G=A;G<this.m;G++)F+=this.U[G][A]*this.U[G][$];F=-F/this.U[A][A];for(var q=A;q<this.m;q++)this.U[q][$]+=F*this.U[q][A]}for(var W=A;W<this.m;W++)this.U[W][A]=-this.U[W][A];this.U[A][A]=1+this.U[A][A];for(var re=0;re<A-1;re++)this.U[re][A]=0}else{for(var oe=0;oe<this.m;oe++)this.U[oe][A]=0;this.U[A][A]=1}}if(p)for(var te=this.n-1;te>=0;te--){if(function(it,Gt){return it&&Gt}(te<g,u[te]!==0))for(var se=te+1;se<l;se++){for(var Y=0,V=te+1;V<this.n;V++)Y+=this.V[V][te]*this.V[V][se];Y=-Y/this.V[te+1][te];for(var U=te+1;U<this.n;U++)this.V[U][se]+=Y*this.V[U][te]}for(var ne=0;ne<this.n;ne++)this.V[ne][te]=0;this.V[te][te]=1}for(var K=R-1,fe=0,Q=Math.pow(2,-52),Te=Math.pow(2,-966);R>0;){var ie=void 0,Me=void 0;for(ie=R-2;ie>=-1&&ie!==-1;ie--)if(Math.abs(u[ie])<=Te+Q*(Math.abs(this.s[ie])+Math.abs(this.s[ie+1]))){u[ie]=0;break}if(ie===R-2)Me=4;else{var Le=void 0;for(Le=R-1;Le>=ie&&Le!==ie;Le--){var Ie=(Le!==R?Math.abs(u[Le]):0)+(Le!==ie+1?Math.abs(u[Le-1]):0);if(Math.abs(this.s[Le])<=Te+Q*Ie){this.s[Le]=0;break}}Le===ie?Me=3:Le===R-1?Me=1:(Me=2,ie=Le)}switch(ie++,Me){case 1:{var He=u[R-2];u[R-2]=0;for(var We=R-2;We>=ie;We--){var et=a.hypot(this.s[We],He),Ze=this.s[We]/et,H=He/et;if(this.s[We]=et,We!==ie&&(He=-H*u[We-1],u[We-1]=Ze*u[We-1]),p)for(var ge=0;ge<this.n;ge++)et=Ze*this.V[ge][We]+H*this.V[ge][R-1],this.V[ge][R-1]=-H*this.V[ge][We]+Ze*this.V[ge][R-1],this.V[ge][We]=et}}break;case 2:{var ce=u[ie-1];u[ie-1]=0;for(var ve=ie;ve<R;ve++){var J=a.hypot(this.s[ve],ce),Pe=this.s[ve]/J,Z=ce/J;if(this.s[ve]=J,ce=-Z*u[ve],u[ve]=Pe*u[ve],d)for(var Fe=0;Fe<this.m;Fe++)J=Pe*this.U[Fe][ve]+Z*this.U[Fe][ie-1],this.U[Fe][ie-1]=-Z*this.U[Fe][ve]+Pe*this.U[Fe][ie-1],this.U[Fe][ve]=J}}break;case 3:{var ae=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[R-1]),Math.abs(this.s[R-2])),Math.abs(u[R-2])),Math.abs(this.s[ie])),Math.abs(u[ie])),pe=this.s[R-1]/ae,_e=this.s[R-2]/ae,Se=u[R-2]/ae,Re=this.s[ie]/ae,ke=u[ie]/ae,Xe=((_e+pe)*(_e-pe)+Se*Se)/2,Oe=pe*Se*(pe*Se),lt=0;(function(it,Gt){return it||Gt})(Xe!==0,Oe!==0)&&(lt=Math.sqrt(Xe*Xe+Oe),Xe<0&&(lt=-lt),lt=Oe/(Xe+lt));for(var Dt=(Re+pe)*(Re-pe)+lt,_t=Re*ke,gt=ie;gt<R-1;gt++){var Pt=a.hypot(Dt,_t),st=Dt/Pt,Qe=_t/Pt;if(gt!==ie&&(u[gt-1]=Pt),Dt=st*this.s[gt]+Qe*u[gt],u[gt]=st*u[gt]-Qe*this.s[gt],_t=Qe*this.s[gt+1],this.s[gt+1]=st*this.s[gt+1],p)for(var Ke=0;Ke<this.n;Ke++)Pt=st*this.V[Ke][gt]+Qe*this.V[Ke][gt+1],this.V[Ke][gt+1]=-Qe*this.V[Ke][gt]+st*this.V[Ke][gt+1],this.V[Ke][gt]=Pt;if(Pt=a.hypot(Dt,_t),st=Dt/Pt,Qe=_t/Pt,this.s[gt]=Pt,Dt=st*u[gt]+Qe*this.s[gt+1],this.s[gt+1]=-Qe*u[gt]+st*this.s[gt+1],_t=Qe*u[gt+1],u[gt+1]=st*u[gt+1],d&&gt<this.m-1)for(var It=0;It<this.m;It++)Pt=st*this.U[It][gt]+Qe*this.U[It][gt+1],this.U[It][gt+1]=-Qe*this.U[It][gt]+st*this.U[It][gt+1],this.U[It][gt]=Pt}u[R-2]=Dt,fe=fe+1}break;case 4:{if(this.s[ie]<=0&&(this.s[ie]=this.s[ie]<0?-this.s[ie]:0,p))for(var tt=0;tt<=K;tt++)this.V[tt][ie]=-this.V[tt][ie];for(;ie<K&&!(this.s[ie]>=this.s[ie+1]);){var Zt=this.s[ie];if(this.s[ie]=this.s[ie+1],this.s[ie+1]=Zt,p&&ie<this.n-1)for(var jt=0;jt<this.n;jt++)Zt=this.V[jt][ie+1],this.V[jt][ie+1]=this.V[jt][ie],this.V[jt][ie]=Zt;if(d&&ie<this.m-1)for(var pt=0;pt<this.m;pt++)Zt=this.U[pt][ie+1],this.U[pt][ie+1]=this.U[pt][ie],this.U[pt][ie]=Zt;ie++}fe=0,R--}break}}var dt={U:this.U,V:this.V,S:this.s};return dt},a.hypot=function(s,l){var u=void 0;return Math.abs(s)>Math.abs(l)?(u=l/s,u=Math.abs(s)*Math.sqrt(1+u*u)):l!=0?(u=s/l,u=Math.abs(l)*Math.sqrt(1+u*u)):u=0,u},r.exports=a},function(r,n,i){"use strict";var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return o(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=f,this.gap_penalty=g,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[b][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:o(function(){return this.score},"getScore")},{key:"getAlignments",value:o(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:o(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var f=1;f<this.jMax;f++){var g=void 0;this.sequence1[p-1]===this.sequence2[f-1]?g=this.grid[p-1][f-1]+this.match_score:g=this.grid[p-1][f-1]+this.mismatch_penalty;var m=this.grid[p-1][f]+this.gap_penalty,y=this.grid[p][f-1]+this.gap_penalty,b=[g,m,y],v=this.arrayAllMaxIndexes(b);this.grid[p][f]=b[v[0]],this.tracebackGrid[p][f]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:o(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:o(function(h,d){for(var p=[],f=-1;(f=h.indexOf(d,f+1))!==-1;)p.push(f);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:o(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u}();r.exports=l},function(r,n,i){"use strict";var a=o(function(){},"layoutBase");a.FDLayout=i(18),a.FDLayoutConstants=i(4),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(5),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(25),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(6),a.LEdge=i(1),a.LGraphManager=i(7),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(27),a.Matrix=i(24),a.SVD=i(26),r.exports=a},function(r,n,i){"use strict";function a(){this.listeners=[]}o(a,"Emitter");var s=a.prototype;s.addListener=function(l,u){this.listeners.push({event:l,callback:u})},s.removeListener=function(l,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===l&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(l,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];l===d.event&&d.callback(u)}},r.exports=a}])})}),Zze=Mt((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(Kze()):typeof define=="function"&&define.amd?define(["layout-base"],n):typeof e=="object"?e.coseBase=n(Kze()):r.coseBase=n(r.layoutBase)},"webpackUniversalModuleDefinition")(e,function(r){return(()=>{"use strict";var n={45:(l,u,h)=>{var d={};d.layoutBase=h(551),d.CoSEConstants=h(806),d.CoSEEdge=h(767),d.CoSEGraph=h(880),d.CoSEGraphManager=h(578),d.CoSELayout=h(765),d.CoSENode=h(991),d.ConstraintHandler=h(902),l.exports=d},806:(l,u,h)=>{var d=h(551).FDLayoutConstants;function p(){}o(p,"CoSEConstants");for(var f in d)p[f]=d[f];p.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,p.DEFAULT_RADIAL_SEPARATION=d.DEFAULT_EDGE_LENGTH,p.DEFAULT_COMPONENT_SEPERATION=60,p.TILE=!0,p.TILING_PADDING_VERTICAL=10,p.TILING_PADDING_HORIZONTAL=10,p.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,p.ENFORCE_CONSTRAINTS=!0,p.APPLY_LAYOUT=!0,p.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,p.TREE_REDUCTION_ON_INCREMENTAL=!0,p.PURE_INCREMENTAL=p.DEFAULT_INCREMENTAL,l.exports=p},767:(l,u,h)=>{var d=h(551).FDLayoutEdge;function p(g,m,y){d.call(this,g,m,y)}o(p,"CoSEEdge"),p.prototype=Object.create(d.prototype);for(var f in d)p[f]=d[f];l.exports=p},880:(l,u,h)=>{var d=h(551).LGraph;function p(g,m,y){d.call(this,g,m,y)}o(p,"CoSEGraph"),p.prototype=Object.create(d.prototype);for(var f in d)p[f]=d[f];l.exports=p},578:(l,u,h)=>{var d=h(551).LGraphManager;function p(g){d.call(this,g)}o(p,"CoSEGraphManager"),p.prototype=Object.create(d.prototype);for(var f in d)p[f]=d[f];l.exports=p},765:(l,u,h)=>{var d=h(551).FDLayout,p=h(578),f=h(880),g=h(991),m=h(767),y=h(806),b=h(902),v=h(551).FDLayoutConstants,x=h(551).LayoutConstants,k=h(551).Point,w=h(551).PointD,_=h(551).DimensionD,S=h(551).Layout,C=h(551).Integer,T=h(551).IGeometry,N=h(551).LGraph,D=h(551).Transform,M=h(551).LinkedList;function L(){d.call(this),this.toBeTiled={},this.constraints={}}o(L,"CoSELayout"),L.prototype=Object.create(d.prototype);for(var B in d)L[B]=d[B];L.prototype.newGraphManager=function(){var E=new p(this);return this.graphManager=E,E},L.prototype.newGraph=function(E){return new f(null,this.graphManager,E)},L.prototype.newNode=function(E){return new g(this.graphManager,E)},L.prototype.newEdge=function(E){return new m(null,null,E)},L.prototype.initParameters=function(){d.prototype.initParameters.call(this,arguments),this.isSubLayout||(y.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=y.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=y.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},L.prototype.initSpringEmbedder=function(){d.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},L.prototype.layout=function(){var E=x.DEFAULT_CREATE_BENDS_AS_NEEDED;return E&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},L.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(y.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),R=this.nodesWithGravity.filter(function(P){return E.has(P)});this.graphManager.setAllNodesToApplyGravitation(R)}}else{var O=this.getFlatForest();if(O.length>0)this.positionNodesRadially(O);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),R=this.nodesWithGravity.filter(function($){return E.has($)});this.graphManager.setAllNodesToApplyGravitation(R),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(b.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),y.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},L.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),R=this.nodesWithGravity.filter(function(A){return E.has(A)});this.graphManager.setAllNodesToApplyGravitation(R),this.graphManager.updateBounds(),this.updateGrid(),y.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),y.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var O=!this.isTreeGrowing&&!this.isGrowthFinished,P=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(O,P),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},L.prototype.getPositionsData=function(){for(var E=this.graphManager.getAllNodes(),R={},O=0;O<E.length;O++){var P=E[O].rect,A=E[O].id;R[A]={id:A,x:P.getCenterX(),y:P.getCenterY(),w:P.width,h:P.height}}return R},L.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var E=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!E;)E=this.tick();this.graphManager.updateBounds()}},L.prototype.moveNodes=function(){for(var E=this.getAllNodes(),R,O=0;O<E.length;O++)R=E[O],R.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var O=0;O<E.length;O++)R=E[O],R.move()},L.prototype.initConstraintVariables=function(){var E=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var R=this.graphManager.getAllNodes(),O=0;O<R.length;O++){var P=R[O];this.idToNodeMap.set(P.id,P)}var A=o(function V(U){for(var ne=U.getChild().getNodes(),K,fe=0,Q=0;Q<ne.length;Q++)K=ne[Q],K.getChild()==null?E.fixedNodeSet.has(K.id)&&(fe+=100):fe+=V(K);return fe},"calculateCompoundWeight");if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(V){E.fixedNodeSet.add(V.nodeId)});for(var R=this.graphManager.getAllNodes(),P,O=0;O<R.length;O++)if(P=R[O],P.getChild()!=null){var $=A(P);$>0&&(P.fixedNodeWeight=$)}}if(this.constraints.relativePlacementConstraint){var F=new Map,G=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(V){E.fixedNodesOnHorizontal.add(V),E.fixedNodesOnVertical.add(V)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var q=this.constraints.alignmentConstraint.vertical,O=0;O<q.length;O++)this.dummyToNodeForVerticalAlignment.set("dummy"+O,[]),q[O].forEach(function(U){F.set(U,"dummy"+O),E.dummyToNodeForVerticalAlignment.get("dummy"+O).push(U),E.fixedNodeSet.has(U)&&E.fixedNodesOnHorizontal.add("dummy"+O)});if(this.constraints.alignmentConstraint.horizontal)for(var W=this.constraints.alignmentConstraint.horizontal,O=0;O<W.length;O++)this.dummyToNodeForHorizontalAlignment.set("dummy"+O,[]),W[O].forEach(function(U){G.set(U,"dummy"+O),E.dummyToNodeForHorizontalAlignment.get("dummy"+O).push(U),E.fixedNodeSet.has(U)&&E.fixedNodesOnVertical.add("dummy"+O)})}if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(V){var U,ne,K;for(K=V.length-1;K>=2*V.length/3;K--)U=Math.floor(Math.random()*(K+1)),ne=V[K],V[K]=V[U],V[U]=ne;return V},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(V){if(V.left){var U=F.has(V.left)?F.get(V.left):V.left,ne=F.has(V.right)?F.get(V.right):V.right;E.nodesInRelativeHorizontal.includes(U)||(E.nodesInRelativeHorizontal.push(U),E.nodeToRelativeConstraintMapHorizontal.set(U,[]),E.dummyToNodeForVerticalAlignment.has(U)?E.nodeToTempPositionMapHorizontal.set(U,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(U)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(U,E.idToNodeMap.get(U).getCenterX())),E.nodesInRelativeHorizontal.includes(ne)||(E.nodesInRelativeHorizontal.push(ne),E.nodeToRelativeConstraintMapHorizontal.set(ne,[]),E.dummyToNodeForVerticalAlignment.has(ne)?E.nodeToTempPositionMapHorizontal.set(ne,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(ne)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(ne,E.idToNodeMap.get(ne).getCenterX())),E.nodeToRelativeConstraintMapHorizontal.get(U).push({right:ne,gap:V.gap}),E.nodeToRelativeConstraintMapHorizontal.get(ne).push({left:U,gap:V.gap})}else{var K=G.has(V.top)?G.get(V.top):V.top,fe=G.has(V.bottom)?G.get(V.bottom):V.bottom;E.nodesInRelativeVertical.includes(K)||(E.nodesInRelativeVertical.push(K),E.nodeToRelativeConstraintMapVertical.set(K,[]),E.dummyToNodeForHorizontalAlignment.has(K)?E.nodeToTempPositionMapVertical.set(K,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(K)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(K,E.idToNodeMap.get(K).getCenterY())),E.nodesInRelativeVertical.includes(fe)||(E.nodesInRelativeVertical.push(fe),E.nodeToRelativeConstraintMapVertical.set(fe,[]),E.dummyToNodeForHorizontalAlignment.has(fe)?E.nodeToTempPositionMapVertical.set(fe,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(fe)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(fe,E.idToNodeMap.get(fe).getCenterY())),E.nodeToRelativeConstraintMapVertical.get(K).push({bottom:fe,gap:V.gap}),E.nodeToRelativeConstraintMapVertical.get(fe).push({top:K,gap:V.gap})}});else{var re=new Map,oe=new Map;this.constraints.relativePlacementConstraint.forEach(function(V){if(V.left){var U=F.has(V.left)?F.get(V.left):V.left,ne=F.has(V.right)?F.get(V.right):V.right;re.has(U)?re.get(U).push(ne):re.set(U,[ne]),re.has(ne)?re.get(ne).push(U):re.set(ne,[U])}else{var K=G.has(V.top)?G.get(V.top):V.top,fe=G.has(V.bottom)?G.get(V.bottom):V.bottom;oe.has(K)?oe.get(K).push(fe):oe.set(K,[fe]),oe.has(fe)?oe.get(fe).push(K):oe.set(fe,[K])}});var te=o(function(V,U){var ne=[],K=[],fe=new M,Q=new Set,Te=0;return V.forEach(function(ie,Me){if(!Q.has(Me)){ne[Te]=[],K[Te]=!1;var Le=Me;for(fe.push(Le),Q.add(Le),ne[Te].push(Le);fe.length!=0;){Le=fe.shift(),U.has(Le)&&(K[Te]=!0);var Ie=V.get(Le);Ie.forEach(function(He){Q.has(He)||(fe.push(He),Q.add(He),ne[Te].push(He))})}Te++}}),{components:ne,isFixed:K}},"constructComponents"),se=te(re,E.fixedNodesOnHorizontal);this.componentsOnHorizontal=se.components,this.fixedComponentsOnHorizontal=se.isFixed;var Y=te(oe,E.fixedNodesOnVertical);this.componentsOnVertical=Y.components,this.fixedComponentsOnVertical=Y.isFixed}}},L.prototype.updateDisplacements=function(){var E=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(Y){var V=E.idToNodeMap.get(Y.nodeId);V.displacementX=0,V.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var R=this.constraints.alignmentConstraint.vertical,O=0;O<R.length;O++){for(var P=0,A=0;A<R[O].length;A++){if(this.fixedNodeSet.has(R[O][A])){P=0;break}P+=this.idToNodeMap.get(R[O][A]).displacementX}for(var $=P/R[O].length,A=0;A<R[O].length;A++)this.idToNodeMap.get(R[O][A]).displacementX=$}if(this.constraints.alignmentConstraint.horizontal)for(var F=this.constraints.alignmentConstraint.horizontal,O=0;O<F.length;O++){for(var G=0,A=0;A<F[O].length;A++){if(this.fixedNodeSet.has(F[O][A])){G=0;break}G+=this.idToNodeMap.get(F[O][A]).displacementY}for(var q=G/F[O].length,A=0;A<F[O].length;A++)this.idToNodeMap.get(F[O][A]).displacementY=q}}if(this.constraints.relativePlacementConstraint)if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(Y){if(!E.fixedNodesOnHorizontal.has(Y)){var V=0;E.dummyToNodeForVerticalAlignment.has(Y)?V=E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(Y)[0]).displacementX:V=E.idToNodeMap.get(Y).displacementX,E.nodeToRelativeConstraintMapHorizontal.get(Y).forEach(function(U){if(U.right){var ne=E.nodeToTempPositionMapHorizontal.get(U.right)-E.nodeToTempPositionMapHorizontal.get(Y)-V;ne<U.gap&&(V-=U.gap-ne)}else{var ne=E.nodeToTempPositionMapHorizontal.get(Y)-E.nodeToTempPositionMapHorizontal.get(U.left)+V;ne<U.gap&&(V+=U.gap-ne)}}),E.nodeToTempPositionMapHorizontal.set(Y,E.nodeToTempPositionMapHorizontal.get(Y)+V),E.dummyToNodeForVerticalAlignment.has(Y)?E.dummyToNodeForVerticalAlignment.get(Y).forEach(function(U){E.idToNodeMap.get(U).displacementX=V}):E.idToNodeMap.get(Y).displacementX=V}}),this.nodesInRelativeVertical.forEach(function(Y){if(!E.fixedNodesOnHorizontal.has(Y)){var V=0;E.dummyToNodeForHorizontalAlignment.has(Y)?V=E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(Y)[0]).displacementY:V=E.idToNodeMap.get(Y).displacementY,E.nodeToRelativeConstraintMapVertical.get(Y).forEach(function(U){if(U.bottom){var ne=E.nodeToTempPositionMapVertical.get(U.bottom)-E.nodeToTempPositionMapVertical.get(Y)-V;ne<U.gap&&(V-=U.gap-ne)}else{var ne=E.nodeToTempPositionMapVertical.get(Y)-E.nodeToTempPositionMapVertical.get(U.top)+V;ne<U.gap&&(V+=U.gap-ne)}}),E.nodeToTempPositionMapVertical.set(Y,E.nodeToTempPositionMapVertical.get(Y)+V),E.dummyToNodeForHorizontalAlignment.has(Y)?E.dummyToNodeForHorizontalAlignment.get(Y).forEach(function(U){E.idToNodeMap.get(U).displacementY=V}):E.idToNodeMap.get(Y).displacementY=V}});else{for(var O=0;O<this.componentsOnHorizontal.length;O++){var W=this.componentsOnHorizontal[O];if(this.fixedComponentsOnHorizontal[O])for(var A=0;A<W.length;A++)this.dummyToNodeForVerticalAlignment.has(W[A])?this.dummyToNodeForVerticalAlignment.get(W[A]).forEach(function(U){E.idToNodeMap.get(U).displacementX=0}):this.idToNodeMap.get(W[A]).displacementX=0;else{for(var re=0,oe=0,A=0;A<W.length;A++)if(this.dummyToNodeForVerticalAlignment.has(W[A])){var te=this.dummyToNodeForVerticalAlignment.get(W[A]);re+=te.length*this.idToNodeMap.get(te[0]).displacementX,oe+=te.length}else re+=this.idToNodeMap.get(W[A]).displacementX,oe++;for(var se=re/oe,A=0;A<W.length;A++)this.dummyToNodeForVerticalAlignment.has(W[A])?this.dummyToNodeForVerticalAlignment.get(W[A]).forEach(function(U){E.idToNodeMap.get(U).displacementX=se}):this.idToNodeMap.get(W[A]).displacementX=se}}for(var O=0;O<this.componentsOnVertical.length;O++){var W=this.componentsOnVertical[O];if(this.fixedComponentsOnVertical[O])for(var A=0;A<W.length;A++)this.dummyToNodeForHorizontalAlignment.has(W[A])?this.dummyToNodeForHorizontalAlignment.get(W[A]).forEach(function(ne){E.idToNodeMap.get(ne).displacementY=0}):this.idToNodeMap.get(W[A]).displacementY=0;else{for(var re=0,oe=0,A=0;A<W.length;A++)if(this.dummyToNodeForHorizontalAlignment.has(W[A])){var te=this.dummyToNodeForHorizontalAlignment.get(W[A]);re+=te.length*this.idToNodeMap.get(te[0]).displacementY,oe+=te.length}else re+=this.idToNodeMap.get(W[A]).displacementY,oe++;for(var se=re/oe,A=0;A<W.length;A++)this.dummyToNodeForHorizontalAlignment.has(W[A])?this.dummyToNodeForHorizontalAlignment.get(W[A]).forEach(function(K){E.idToNodeMap.get(K).displacementY=se}):this.idToNodeMap.get(W[A]).displacementY=se}}}},L.prototype.calculateNodesToApplyGravitationTo=function(){var E=[],R,O=this.graphManager.getGraphs(),P=O.length,A;for(A=0;A<P;A++)R=O[A],R.updateConnected(),R.isConnected||(E=E.concat(R.getNodes()));return E},L.prototype.createBendpoints=function(){var E=[];E=E.concat(this.graphManager.getAllEdges());var R=new Set,O;for(O=0;O<E.length;O++){var P=E[O];if(!R.has(P)){var A=P.getSource(),$=P.getTarget();if(A==$)P.getBendpoints().push(new w),P.getBendpoints().push(new w),this.createDummyNodesForBendpoints(P),R.add(P);else{var F=[];if(F=F.concat(A.getEdgeListToNode($)),F=F.concat($.getEdgeListToNode(A)),!R.has(F[0])){if(F.length>1){var G;for(G=0;G<F.length;G++){var q=F[G];q.getBendpoints().push(new w),this.createDummyNodesForBendpoints(q)}}F.forEach(function(W){R.add(W)})}}}if(R.size==E.length)break}},L.prototype.positionNodesRadially=function(E){for(var R=new k(0,0),O=Math.ceil(Math.sqrt(E.length)),P=0,A=0,$=0,F=new w(0,0),G=0;G<E.length;G++){G%O==0&&($=0,A=P,G!=0&&(A+=y.DEFAULT_COMPONENT_SEPERATION),P=0);var q=E[G],W=S.findCenterOfTree(q);R.x=$,R.y=A,F=L.radialLayout(q,W,R),F.y>P&&(P=Math.floor(F.y)),$=Math.floor(F.x+y.DEFAULT_COMPONENT_SEPERATION)}this.transform(new w(x.WORLD_CENTER_X-F.x/2,x.WORLD_CENTER_Y-F.y/2))},L.radialLayout=function(E,R,O){var P=Math.max(this.maxDiagonalInTree(E),y.DEFAULT_RADIAL_SEPARATION);L.branchRadialLayout(R,null,0,359,0,P);var A=N.calculateBounds(E),$=new D;$.setDeviceOrgX(A.getMinX()),$.setDeviceOrgY(A.getMinY()),$.setWorldOrgX(O.x),$.setWorldOrgY(O.y);for(var F=0;F<E.length;F++){var G=E[F];G.transform($)}var q=new w(A.getMaxX(),A.getMaxY());return $.inverseTransformPoint(q)},L.branchRadialLayout=function(E,R,O,P,A,$){var F=(P-O+1)/2;F<0&&(F+=180);var G=(F+O)%360,q=G*T.TWO_PI/360,W=Math.cos(q),re=A*Math.cos(q),oe=A*Math.sin(q);E.setCenter(re,oe);var te=[];te=te.concat(E.getEdges());var se=te.length;R!=null&&se--;for(var Y=0,V=te.length,U,ne=E.getEdgesBetween(R);ne.length>1;){var K=ne[0];ne.splice(0,1);var fe=te.indexOf(K);fe>=0&&te.splice(fe,1),V--,se--}R!=null?U=(te.indexOf(ne[0])+1)%V:U=0;for(var Q=Math.abs(P-O)/se,Te=U;Y!=se;Te=++Te%V){var ie=te[Te].getOtherEnd(E);if(ie!=R){var Me=(O+Y*Q)%360,Le=(Me+Q)%360;L.branchRadialLayout(ie,E,Me,Le,A+$,$),Y++}}},L.maxDiagonalInTree=function(E){for(var R=C.MIN_VALUE,O=0;O<E.length;O++){var P=E[O],A=P.getDiagonal();A>R&&(R=A)}return R},L.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},L.prototype.groupZeroDegreeMembers=function(){var E=this,R={};this.memberGroups={},this.idToDummyNode={};for(var O=[],P=this.graphManager.getAllNodes(),A=0;A<P.length;A++){var $=P[A],F=$.getParent();this.getNodeDegreeWithChildren($)===0&&(F.id==null||!this.getToBeTiled(F))&&O.push($)}for(var A=0;A<O.length;A++){var $=O[A],G=$.getParent().id;typeof R[G]>"u"&&(R[G]=[]),R[G]=R[G].concat($)}Object.keys(R).forEach(function(q){if(R[q].length>1){var W="DummyCompound_"+q;E.memberGroups[W]=R[q];var re=R[q][0].getParent(),oe=new g(E.graphManager);oe.id=W,oe.paddingLeft=re.paddingLeft||0,oe.paddingRight=re.paddingRight||0,oe.paddingBottom=re.paddingBottom||0,oe.paddingTop=re.paddingTop||0,E.idToDummyNode[W]=oe;var te=E.getGraphManager().add(E.newGraph(),oe),se=re.getChild();se.add(oe);for(var Y=0;Y<R[q].length;Y++){var V=R[q][Y];se.remove(V),te.add(V)}}})},L.prototype.clearCompounds=function(){var E={},R={};this.performDFSOnCompounds();for(var O=0;O<this.compoundOrder.length;O++)R[this.compoundOrder[O].id]=this.compoundOrder[O],E[this.compoundOrder[O].id]=[].concat(this.compoundOrder[O].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[O].getChild()),this.compoundOrder[O].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(E,R)},L.prototype.clearZeroDegreeMembers=function(){var E=this,R=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(O){var P=E.idToDummyNode[O];if(R[O]=E.tileNodes(E.memberGroups[O],P.paddingLeft+P.paddingRight),P.rect.width=R[O].width,P.rect.height=R[O].height,P.setCenter(R[O].centerX,R[O].centerY),P.labelMarginLeft=0,P.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var A=P.rect.width,$=P.rect.height;P.labelWidth&&(P.labelPosHorizontal=="left"?(P.rect.x-=P.labelWidth,P.setWidth(A+P.labelWidth),P.labelMarginLeft=P.labelWidth):P.labelPosHorizontal=="center"&&P.labelWidth>A?(P.rect.x-=(P.labelWidth-A)/2,P.setWidth(P.labelWidth),P.labelMarginLeft=(P.labelWidth-A)/2):P.labelPosHorizontal=="right"&&P.setWidth(A+P.labelWidth)),P.labelHeight&&(P.labelPosVertical=="top"?(P.rect.y-=P.labelHeight,P.setHeight($+P.labelHeight),P.labelMarginTop=P.labelHeight):P.labelPosVertical=="center"&&P.labelHeight>$?(P.rect.y-=(P.labelHeight-$)/2,P.setHeight(P.labelHeight),P.labelMarginTop=(P.labelHeight-$)/2):P.labelPosVertical=="bottom"&&P.setHeight($+P.labelHeight))}})},L.prototype.repopulateCompounds=function(){for(var E=this.compoundOrder.length-1;E>=0;E--){var R=this.compoundOrder[E],O=R.id,P=R.paddingLeft,A=R.paddingTop,$=R.labelMarginLeft,F=R.labelMarginTop;this.adjustLocations(this.tiledMemberPack[O],R.rect.x,R.rect.y,P,A,$,F)}},L.prototype.repopulateZeroDegreeMembers=function(){var E=this,R=this.tiledZeroDegreePack;Object.keys(R).forEach(function(O){var P=E.idToDummyNode[O],A=P.paddingLeft,$=P.paddingTop,F=P.labelMarginLeft,G=P.labelMarginTop;E.adjustLocations(R[O],P.rect.x,P.rect.y,A,$,F,G)})},L.prototype.getToBeTiled=function(E){var R=E.id;if(this.toBeTiled[R]!=null)return this.toBeTiled[R];var O=E.getChild();if(O==null)return this.toBeTiled[R]=!1,!1;for(var P=O.getNodes(),A=0;A<P.length;A++){var $=P[A];if(this.getNodeDegree($)>0)return this.toBeTiled[R]=!1,!1;if($.getChild()==null){this.toBeTiled[$.id]=!1;continue}if(!this.getToBeTiled($))return this.toBeTiled[R]=!1,!1}return this.toBeTiled[R]=!0,!0},L.prototype.getNodeDegree=function(E){for(var R=E.id,O=E.getEdges(),P=0,A=0;A<O.length;A++){var $=O[A];$.getSource().id!==$.getTarget().id&&(P=P+1)}return P},L.prototype.getNodeDegreeWithChildren=function(E){var R=this.getNodeDegree(E);if(E.getChild()==null)return R;for(var O=E.getChild().getNodes(),P=0;P<O.length;P++){var A=O[P];R+=this.getNodeDegreeWithChildren(A)}return R},L.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},L.prototype.fillCompexOrderByDFS=function(E){for(var R=0;R<E.length;R++){var O=E[R];O.getChild()!=null&&this.fillCompexOrderByDFS(O.getChild().getNodes()),this.getToBeTiled(O)&&this.compoundOrder.push(O)}},L.prototype.adjustLocations=function(E,R,O,P,A,$,F){R+=P+$,O+=A+F;for(var G=R,q=0;q<E.rows.length;q++){var W=E.rows[q];R=G;for(var re=0,oe=0;oe<W.length;oe++){var te=W[oe];te.rect.x=R,te.rect.y=O,R+=te.rect.width+E.horizontalPadding,te.rect.height>re&&(re=te.rect.height)}O+=re+E.verticalPadding}},L.prototype.tileCompoundMembers=function(E,R){var O=this;this.tiledMemberPack=[],Object.keys(E).forEach(function(P){var A=R[P];if(O.tiledMemberPack[P]=O.tileNodes(E[P],A.paddingLeft+A.paddingRight),A.rect.width=O.tiledMemberPack[P].width,A.rect.height=O.tiledMemberPack[P].height,A.setCenter(O.tiledMemberPack[P].centerX,O.tiledMemberPack[P].centerY),A.labelMarginLeft=0,A.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var $=A.rect.width,F=A.rect.height;A.labelWidth&&(A.labelPosHorizontal=="left"?(A.rect.x-=A.labelWidth,A.setWidth($+A.labelWidth),A.labelMarginLeft=A.labelWidth):A.labelPosHorizontal=="center"&&A.labelWidth>$?(A.rect.x-=(A.labelWidth-$)/2,A.setWidth(A.labelWidth),A.labelMarginLeft=(A.labelWidth-$)/2):A.labelPosHorizontal=="right"&&A.setWidth($+A.labelWidth)),A.labelHeight&&(A.labelPosVertical=="top"?(A.rect.y-=A.labelHeight,A.setHeight(F+A.labelHeight),A.labelMarginTop=A.labelHeight):A.labelPosVertical=="center"&&A.labelHeight>F?(A.rect.y-=(A.labelHeight-F)/2,A.setHeight(A.labelHeight),A.labelMarginTop=(A.labelHeight-F)/2):A.labelPosVertical=="bottom"&&A.setHeight(F+A.labelHeight))}})},L.prototype.tileNodes=function(E,R){var O=this.tileNodesByFavoringDim(E,R,!0),P=this.tileNodesByFavoringDim(E,R,!1),A=this.getOrgRatio(O),$=this.getOrgRatio(P),F;return $<A?F=P:F=O,F},L.prototype.getOrgRatio=function(E){var R=E.width,O=E.height,P=R/O;return P<1&&(P=1/P),P},L.prototype.calcIdealRowWidth=function(E,R){var O=y.TILING_PADDING_VERTICAL,P=y.TILING_PADDING_HORIZONTAL,A=E.length,$=0,F=0,G=0;E.forEach(function(Y){$+=Y.getWidth(),F+=Y.getHeight(),Y.getWidth()>G&&(G=Y.getWidth())});var q=$/A,W=F/A,re=Math.pow(O-P,2)+4*(q+P)*(W+O)*A,oe=(P-O+Math.sqrt(re))/(2*(q+P)),te;R?(te=Math.ceil(oe),te==oe&&te++):te=Math.floor(oe);var se=te*(q+P)-P;return G>se&&(se=G),se+=P*2,se},L.prototype.tileNodesByFavoringDim=function(E,R,O){var P=y.TILING_PADDING_VERTICAL,A=y.TILING_PADDING_HORIZONTAL,$=y.TILING_COMPARE_BY,F={rows:[],rowWidth:[],rowHeight:[],width:0,height:R,verticalPadding:P,horizontalPadding:A,centerX:0,centerY:0};$&&(F.idealRowWidth=this.calcIdealRowWidth(E,O));var G=o(function(Y){return Y.rect.width*Y.rect.height},"getNodeArea"),q=o(function(Y,V){return G(V)-G(Y)},"areaCompareFcn");E.sort(function(Y,V){var U=q;return F.idealRowWidth?(U=$,U(Y.id,V.id)):U(Y,V)});for(var W=0,re=0,oe=0;oe<E.length;oe++){var te=E[oe];W+=te.getCenterX(),re+=te.getCenterY()}F.centerX=W/E.length,F.centerY=re/E.length;for(var oe=0;oe<E.length;oe++){var te=E[oe];if(F.rows.length==0)this.insertNodeToRow(F,te,0,R);else if(this.canAddHorizontal(F,te.rect.width,te.rect.height)){var se=F.rows.length-1;F.idealRowWidth||(se=this.getShortestRowIndex(F)),this.insertNodeToRow(F,te,se,R)}else this.insertNodeToRow(F,te,F.rows.length,R);this.shiftToLastRow(F)}return F},L.prototype.insertNodeToRow=function(E,R,O,P){var A=P;if(O==E.rows.length){var $=[];E.rows.push($),E.rowWidth.push(A),E.rowHeight.push(0)}var F=E.rowWidth[O]+R.rect.width;E.rows[O].length>0&&(F+=E.horizontalPadding),E.rowWidth[O]=F,E.width<F&&(E.width=F);var G=R.rect.height;O>0&&(G+=E.verticalPadding);var q=0;G>E.rowHeight[O]&&(q=E.rowHeight[O],E.rowHeight[O]=G,q=E.rowHeight[O]-q),E.height+=q,E.rows[O].push(R)},L.prototype.getShortestRowIndex=function(E){for(var R=-1,O=Number.MAX_VALUE,P=0;P<E.rows.length;P++)E.rowWidth[P]<O&&(R=P,O=E.rowWidth[P]);return R},L.prototype.getLongestRowIndex=function(E){for(var R=-1,O=Number.MIN_VALUE,P=0;P<E.rows.length;P++)E.rowWidth[P]>O&&(R=P,O=E.rowWidth[P]);return R},L.prototype.canAddHorizontal=function(E,R,O){if(E.idealRowWidth){var P=E.rows.length-1,A=E.rowWidth[P];return A+R+E.horizontalPadding<=E.idealRowWidth}var $=this.getShortestRowIndex(E);if($<0)return!0;var F=E.rowWidth[$];if(F+E.horizontalPadding+R<=E.width)return!0;var G=0;E.rowHeight[$]<O&&$>0&&(G=O+E.verticalPadding-E.rowHeight[$]);var q;E.width-F>=R+E.horizontalPadding?q=(E.height+G)/(F+R+E.horizontalPadding):q=(E.height+G)/E.width,G=O+E.verticalPadding;var W;return E.width<R?W=(E.height+G)/R:W=(E.height+G)/E.width,W<1&&(W=1/W),q<1&&(q=1/q),q<W},L.prototype.shiftToLastRow=function(E){var R=this.getLongestRowIndex(E),O=E.rowWidth.length-1,P=E.rows[R],A=P[P.length-1],$=A.width+E.horizontalPadding;if(E.width-E.rowWidth[O]>$&&R!=O){P.splice(-1,1),E.rows[O].push(A),E.rowWidth[R]=E.rowWidth[R]-$,E.rowWidth[O]=E.rowWidth[O]+$,E.width=E.rowWidth[instance.getLongestRowIndex(E)];for(var F=Number.MIN_VALUE,G=0;G<P.length;G++)P[G].height>F&&(F=P[G].height);R>0&&(F+=E.verticalPadding);var q=E.rowHeight[R]+E.rowHeight[O];E.rowHeight[R]=F,E.rowHeight[O]<A.height+E.verticalPadding&&(E.rowHeight[O]=A.height+E.verticalPadding);var W=E.rowHeight[R]+E.rowHeight[O];E.height+=W-q,this.shiftToLastRow(E)}},L.prototype.tilingPreLayout=function(){y.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},L.prototype.tilingPostLayout=function(){y.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},L.prototype.reduceTrees=function(){for(var E=[],R=!0,O;R;){var P=this.graphManager.getAllNodes(),A=[];R=!1;for(var $=0;$<P.length;$++)if(O=P[$],O.getEdges().length==1&&!O.getEdges()[0].isInterGraph&&O.getChild()==null){if(y.PURE_INCREMENTAL){var F=O.getEdges()[0].getOtherEnd(O),G=new _(O.getCenterX()-F.getCenterX(),O.getCenterY()-F.getCenterY());A.push([O,O.getEdges()[0],O.getOwner(),G])}else A.push([O,O.getEdges()[0],O.getOwner()]);R=!0}if(R==!0){for(var q=[],W=0;W<A.length;W++)A[W][0].getEdges().length==1&&(q.push(A[W]),A[W][0].getOwner().remove(A[W][0]));E.push(q),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=E},L.prototype.growTree=function(E){for(var R=E.length,O=E[R-1],P,A=0;A<O.length;A++)P=O[A],this.findPlaceforPrunedNode(P),P[2].add(P[0]),P[2].add(P[1],P[1].source,P[1].target);E.splice(E.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},L.prototype.findPlaceforPrunedNode=function(E){var R,O,P=E[0];if(P==E[1].source?O=E[1].target:O=E[1].source,y.PURE_INCREMENTAL)P.setCenter(O.getCenterX()+E[3].getWidth(),O.getCenterY()+E[3].getHeight());else{var A=O.startX,$=O.finishX,F=O.startY,G=O.finishY,q=0,W=0,re=0,oe=0,te=[q,re,W,oe];if(F>0)for(var se=A;se<=$;se++)te[0]+=this.grid[se][F-1].length+this.grid[se][F].length-1;if($<this.grid.length-1)for(var se=F;se<=G;se++)te[1]+=this.grid[$+1][se].length+this.grid[$][se].length-1;if(G<this.grid[0].length-1)for(var se=A;se<=$;se++)te[2]+=this.grid[se][G+1].length+this.grid[se][G].length-1;if(A>0)for(var se=F;se<=G;se++)te[3]+=this.grid[A-1][se].length+this.grid[A][se].length-1;for(var Y=C.MAX_VALUE,V,U,ne=0;ne<te.length;ne++)te[ne]<Y?(Y=te[ne],V=1,U=ne):te[ne]==Y&&V++;if(V==3&&Y==0)te[0]==0&&te[1]==0&&te[2]==0?R=1:te[0]==0&&te[1]==0&&te[3]==0?R=0:te[0]==0&&te[2]==0&&te[3]==0?R=3:te[1]==0&&te[2]==0&&te[3]==0&&(R=2);else if(V==2&&Y==0){var K=Math.floor(Math.random()*2);te[0]==0&&te[1]==0?K==0?R=0:R=1:te[0]==0&&te[2]==0?K==0?R=0:R=2:te[0]==0&&te[3]==0?K==0?R=0:R=3:te[1]==0&&te[2]==0?K==0?R=1:R=2:te[1]==0&&te[3]==0?K==0?R=1:R=3:K==0?R=2:R=3}else if(V==4&&Y==0){var K=Math.floor(Math.random()*4);R=K}else R=U;R==0?P.setCenter(O.getCenterX(),O.getCenterY()-O.getHeight()/2-v.DEFAULT_EDGE_LENGTH-P.getHeight()/2):R==1?P.setCenter(O.getCenterX()+O.getWidth()/2+v.DEFAULT_EDGE_LENGTH+P.getWidth()/2,O.getCenterY()):R==2?P.setCenter(O.getCenterX(),O.getCenterY()+O.getHeight()/2+v.DEFAULT_EDGE_LENGTH+P.getHeight()/2):P.setCenter(O.getCenterX()-O.getWidth()/2-v.DEFAULT_EDGE_LENGTH-P.getWidth()/2,O.getCenterY())}},l.exports=L},991:(l,u,h)=>{var d=h(551).FDLayoutNode,p=h(551).IMath;function f(m,y,b,v){d.call(this,m,y,b,v)}o(f,"CoSENode"),f.prototype=Object.create(d.prototype);for(var g in d)f[g]=d[g];f.prototype.calculateDisplacement=function(){var m=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementX=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementX)),Math.abs(this.displacementY)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementY=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},f.prototype.propogateDisplacementToChildren=function(m,y){for(var b=this.getChild().getNodes(),v,x=0;x<b.length;x++)v=b[x],v.getChild()==null?(v.displacementX+=m,v.displacementY+=y):v.propogateDisplacementToChildren(m,y)},f.prototype.move=function(){var m=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),m.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},f.prototype.setPred1=function(m){this.pred1=m},f.prototype.getPred1=function(){return pred1},f.prototype.getPred2=function(){return pred2},f.prototype.setNext=function(m){this.next=m},f.prototype.getNext=function(){return next},f.prototype.setProcessed=function(m){this.processed=m},f.prototype.isProcessed=function(){return processed},l.exports=f},902:(l,u,h)=>{function d(b){if(Array.isArray(b)){for(var v=0,x=Array(b.length);v<b.length;v++)x[v]=b[v];return x}else return Array.from(b)}o(d,"_toConsumableArray");var p=h(806),f=h(551).LinkedList,g=h(551).Matrix,m=h(551).SVD;function y(){}o(y,"ConstraintHandler"),y.handleConstraints=function(b){var v={};v.fixedNodeConstraint=b.constraints.fixedNodeConstraint,v.alignmentConstraint=b.constraints.alignmentConstraint,v.relativePlacementConstraint=b.constraints.relativePlacementConstraint;for(var x=new Map,k=new Map,w=[],_=[],S=b.getAllNodes(),C=0,T=0;T<S.length;T++){var N=S[T];N.getChild()==null&&(k.set(N.id,C++),w.push(N.getCenterX()),_.push(N.getCenterY()),x.set(N.id,N))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(ae){!ae.gap&&ae.gap!=0&&(ae.left?ae.gap=p.DEFAULT_EDGE_LENGTH+x.get(ae.left).getWidth()/2+x.get(ae.right).getWidth()/2:ae.gap=p.DEFAULT_EDGE_LENGTH+x.get(ae.top).getHeight()/2+x.get(ae.bottom).getHeight()/2)});var D=o(function(ae,pe){return{x:ae.x-pe.x,y:ae.y-pe.y}},"calculatePositionDiff"),M=o(function(ae){var pe=0,_e=0;return ae.forEach(function(Se){pe+=w[k.get(Se)],_e+=_[k.get(Se)]}),{x:pe/ae.size,y:_e/ae.size}},"calculateAvgPosition"),L=o(function(ae,pe,_e,Se,Re){function ke(st,Qe){var Ke=new Set(st),It=!0,tt=!1,Zt=void 0;try{for(var jt=Qe[Symbol.iterator](),pt;!(It=(pt=jt.next()).done);It=!0){var dt=pt.value;Ke.add(dt)}}catch(it){tt=!0,Zt=it}finally{try{!It&&jt.return&&jt.return()}finally{if(tt)throw Zt}}return Ke}o(ke,"setUnion");var Xe=new Map;ae.forEach(function(st,Qe){Xe.set(Qe,0)}),ae.forEach(function(st,Qe){st.forEach(function(Ke){Xe.set(Ke.id,Xe.get(Ke.id)+1)})});var Oe=new Map,lt=new Map,Dt=new f;Xe.forEach(function(st,Qe){st==0?(Dt.push(Qe),_e||(pe=="horizontal"?Oe.set(Qe,k.has(Qe)?w[k.get(Qe)]:Se.get(Qe)):Oe.set(Qe,k.has(Qe)?_[k.get(Qe)]:Se.get(Qe)))):Oe.set(Qe,Number.NEGATIVE_INFINITY),_e&&lt.set(Qe,new Set([Qe]))}),_e&&Re.forEach(function(st){var Qe=[];if(st.forEach(function(tt){_e.has(tt)&&Qe.push(tt)}),Qe.length>0){var Ke=0;Qe.forEach(function(tt){pe=="horizontal"?(Oe.set(tt,k.has(tt)?w[k.get(tt)]:Se.get(tt)),Ke+=Oe.get(tt)):(Oe.set(tt,k.has(tt)?_[k.get(tt)]:Se.get(tt)),Ke+=Oe.get(tt))}),Ke=Ke/Qe.length,st.forEach(function(tt){_e.has(tt)||Oe.set(tt,Ke)})}else{var It=0;st.forEach(function(tt){pe=="horizontal"?It+=k.has(tt)?w[k.get(tt)]:Se.get(tt):It+=k.has(tt)?_[k.get(tt)]:Se.get(tt)}),It=It/st.length,st.forEach(function(tt){Oe.set(tt,It)})}});for(var _t=o(function(){var st=Dt.shift(),Qe=ae.get(st);Qe.forEach(function(Ke){if(Oe.get(Ke.id)<Oe.get(st)+Ke.gap)if(_e&&_e.has(Ke.id)){var It=void 0;if(pe=="horizontal"?It=k.has(Ke.id)?w[k.get(Ke.id)]:Se.get(Ke.id):It=k.has(Ke.id)?_[k.get(Ke.id)]:Se.get(Ke.id),Oe.set(Ke.id,It),It<Oe.get(st)+Ke.gap){var tt=Oe.get(st)+Ke.gap-It;lt.get(st).forEach(function(Zt){Oe.set(Zt,Oe.get(Zt)-tt)})}}else Oe.set(Ke.id,Oe.get(st)+Ke.gap);Xe.set(Ke.id,Xe.get(Ke.id)-1),Xe.get(Ke.id)==0&&Dt.push(Ke.id),_e&&lt.set(Ke.id,ke(lt.get(st),lt.get(Ke.id)))})},"_loop");Dt.length!=0;)_t();if(_e){var gt=new Set;ae.forEach(function(st,Qe){st.length==0&&gt.add(Qe)});var Pt=[];lt.forEach(function(st,Qe){if(gt.has(Qe)){var Ke=!1,It=!0,tt=!1,Zt=void 0;try{for(var jt=st[Symbol.iterator](),pt;!(It=(pt=jt.next()).done);It=!0){var dt=pt.value;_e.has(dt)&&(Ke=!0)}}catch(Tt){tt=!0,Zt=Tt}finally{try{!It&&jt.return&&jt.return()}finally{if(tt)throw Zt}}if(!Ke){var it=!1,Gt=void 0;Pt.forEach(function(Tt,hn){Tt.has([].concat(d(st))[0])&&(it=!0,Gt=hn)}),it?st.forEach(function(Tt){Pt[Gt].add(Tt)}):Pt.push(new Set(st))}}}),Pt.forEach(function(st,Qe){var Ke=Number.POSITIVE_INFINITY,It=Number.POSITIVE_INFINITY,tt=Number.NEGATIVE_INFINITY,Zt=Number.NEGATIVE_INFINITY,jt=!0,pt=!1,dt=void 0;try{for(var it=st[Symbol.iterator](),Gt;!(jt=(Gt=it.next()).done);jt=!0){var Tt=Gt.value,hn=void 0;pe=="horizontal"?hn=k.has(Tt)?w[k.get(Tt)]:Se.get(Tt):hn=k.has(Tt)?_[k.get(Tt)]:Se.get(Tt);var Ir=Oe.get(Tt);hn<Ke&&(Ke=hn),hn>tt&&(tt=hn),Ir<It&&(It=Ir),Ir>Zt&&(Zt=Ir)}}catch(xt){pt=!0,dt=xt}finally{try{!jt&&it.return&&it.return()}finally{if(pt)throw dt}}var Gr=(Ke+tt)/2-(It+Zt)/2,Xn=!0,bn=!1,ei=void 0;try{for(var $n=st[Symbol.iterator](),ti;!(Xn=(ti=$n.next()).done);Xn=!0){var ye=ti.value;Oe.set(ye,Oe.get(ye)+Gr)}}catch(xt){bn=!0,ei=xt}finally{try{!Xn&&$n.return&&$n.return()}finally{if(bn)throw ei}}})}return Oe},"findAppropriatePositionForRelativePlacement"),B=o(function(ae){var pe=0,_e=0,Se=0,Re=0;if(ae.forEach(function(lt){lt.left?w[k.get(lt.left)]-w[k.get(lt.right)]>=0?pe++:_e++:_[k.get(lt.top)]-_[k.get(lt.bottom)]>=0?Se++:Re++}),pe>_e&&Se>Re)for(var ke=0;ke<k.size;ke++)w[ke]=-1*w[ke],_[ke]=-1*_[ke];else if(pe>_e)for(var Xe=0;Xe<k.size;Xe++)w[Xe]=-1*w[Xe];else if(Se>Re)for(var Oe=0;Oe<k.size;Oe++)_[Oe]=-1*_[Oe]},"applyReflectionForRelativePlacement"),E=o(function(ae){var pe=[],_e=new f,Se=new Set,Re=0;return ae.forEach(function(ke,Xe){if(!Se.has(Xe)){pe[Re]=[];var Oe=Xe;for(_e.push(Oe),Se.add(Oe),pe[Re].push(Oe);_e.length!=0;){Oe=_e.shift();var lt=ae.get(Oe);lt.forEach(function(Dt){Se.has(Dt.id)||(_e.push(Dt.id),Se.add(Dt.id),pe[Re].push(Dt.id))})}Re++}}),pe},"findComponents"),R=o(function(ae){var pe=new Map;return ae.forEach(function(_e,Se){pe.set(Se,[])}),ae.forEach(function(_e,Se){_e.forEach(function(Re){pe.get(Se).push(Re),pe.get(Re.id).push({id:Se,gap:Re.gap,direction:Re.direction})})}),pe},"dagToUndirected"),O=o(function(ae){var pe=new Map;return ae.forEach(function(_e,Se){pe.set(Se,[])}),ae.forEach(function(_e,Se){_e.forEach(function(Re){pe.get(Re.id).push({id:Se,gap:Re.gap,direction:Re.direction})})}),pe},"dagToReversed"),P=[],A=[],$=!1,F=!1,G=new Set,q=new Map,W=new Map,re=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(ae){G.add(ae.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(ae){ae.left?(q.has(ae.left)?q.get(ae.left).push({id:ae.right,gap:ae.gap,direction:"horizontal"}):q.set(ae.left,[{id:ae.right,gap:ae.gap,direction:"horizontal"}]),q.has(ae.right)||q.set(ae.right,[])):(q.has(ae.top)?q.get(ae.top).push({id:ae.bottom,gap:ae.gap,direction:"vertical"}):q.set(ae.top,[{id:ae.bottom,gap:ae.gap,direction:"vertical"}]),q.has(ae.bottom)||q.set(ae.bottom,[]))}),W=R(q),re=E(W)),p.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(ae,pe){P[pe]=[ae.position.x,ae.position.y],A[pe]=[w[k.get(ae.nodeId)],_[k.get(ae.nodeId)]]}),$=!0;else if(v.alignmentConstraint)(function(){var ae=0;if(v.alignmentConstraint.vertical){for(var pe=v.alignmentConstraint.vertical,_e=o(function(Oe){var lt=new Set;pe[Oe].forEach(function(gt){lt.add(gt)});var Dt=new Set([].concat(d(lt)).filter(function(gt){return G.has(gt)})),_t=void 0;Dt.size>0?_t=w[k.get(Dt.values().next().value)]:_t=M(lt).x,pe[Oe].forEach(function(gt){P[ae]=[_t,_[k.get(gt)]],A[ae]=[w[k.get(gt)],_[k.get(gt)]],ae++})},"_loop2"),Se=0;Se<pe.length;Se++)_e(Se);$=!0}if(v.alignmentConstraint.horizontal){for(var Re=v.alignmentConstraint.horizontal,ke=o(function(Oe){var lt=new Set;Re[Oe].forEach(function(gt){lt.add(gt)});var Dt=new Set([].concat(d(lt)).filter(function(gt){return G.has(gt)})),_t=void 0;Dt.size>0?_t=w[k.get(Dt.values().next().value)]:_t=M(lt).y,Re[Oe].forEach(function(gt){P[ae]=[w[k.get(gt)],_t],A[ae]=[w[k.get(gt)],_[k.get(gt)]],ae++})},"_loop3"),Xe=0;Xe<Re.length;Xe++)ke(Xe);$=!0}v.relativePlacementConstraint&&(F=!0)})();else if(v.relativePlacementConstraint){for(var oe=0,te=0,se=0;se<re.length;se++)re[se].length>oe&&(oe=re[se].length,te=se);if(oe<W.size/2)B(v.relativePlacementConstraint),$=!1,F=!1;else{var Y=new Map,V=new Map,U=[];re[te].forEach(function(ae){q.get(ae).forEach(function(pe){pe.direction=="horizontal"?(Y.has(ae)?Y.get(ae).push(pe):Y.set(ae,[pe]),Y.has(pe.id)||Y.set(pe.id,[]),U.push({left:ae,right:pe.id})):(V.has(ae)?V.get(ae).push(pe):V.set(ae,[pe]),V.has(pe.id)||V.set(pe.id,[]),U.push({top:ae,bottom:pe.id}))})}),B(U),F=!1;var ne=L(Y,"horizontal"),K=L(V,"vertical");re[te].forEach(function(ae,pe){A[pe]=[w[k.get(ae)],_[k.get(ae)]],P[pe]=[],ne.has(ae)?P[pe][0]=ne.get(ae):P[pe][0]=w[k.get(ae)],K.has(ae)?P[pe][1]=K.get(ae):P[pe][1]=_[k.get(ae)]}),$=!0}}if($){for(var fe=void 0,Q=g.transpose(P),Te=g.transpose(A),ie=0;ie<Q.length;ie++)Q[ie]=g.multGamma(Q[ie]),Te[ie]=g.multGamma(Te[ie]);var Me=g.multMat(Q,g.transpose(Te)),Le=m.svd(Me);fe=g.multMat(Le.V,g.transpose(Le.U));for(var Ie=0;Ie<k.size;Ie++){var He=[w[Ie],_[Ie]],We=[fe[0][0],fe[1][0]],et=[fe[0][1],fe[1][1]];w[Ie]=g.dotProduct(He,We),_[Ie]=g.dotProduct(He,et)}F&&B(v.relativePlacementConstraint)}}if(p.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var Ze={x:0,y:0};v.fixedNodeConstraint.forEach(function(ae,pe){var _e={x:w[k.get(ae.nodeId)],y:_[k.get(ae.nodeId)]},Se=ae.position,Re=D(Se,_e);Ze.x+=Re.x,Ze.y+=Re.y}),Ze.x/=v.fixedNodeConstraint.length,Ze.y/=v.fixedNodeConstraint.length,w.forEach(function(ae,pe){w[pe]+=Ze.x}),_.forEach(function(ae,pe){_[pe]+=Ze.y}),v.fixedNodeConstraint.forEach(function(ae){w[k.get(ae.nodeId)]=ae.position.x,_[k.get(ae.nodeId)]=ae.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var H=v.alignmentConstraint.vertical,ge=o(function(ae){var pe=new Set;H[ae].forEach(function(Re){pe.add(Re)});var _e=new Set([].concat(d(pe)).filter(function(Re){return G.has(Re)})),Se=void 0;_e.size>0?Se=w[k.get(_e.values().next().value)]:Se=M(pe).x,pe.forEach(function(Re){G.has(Re)||(w[k.get(Re)]=Se)})},"_loop4"),ce=0;ce<H.length;ce++)ge(ce);if(v.alignmentConstraint.horizontal)for(var ve=v.alignmentConstraint.horizontal,J=o(function(ae){var pe=new Set;ve[ae].forEach(function(Re){pe.add(Re)});var _e=new Set([].concat(d(pe)).filter(function(Re){return G.has(Re)})),Se=void 0;_e.size>0?Se=_[k.get(_e.values().next().value)]:Se=M(pe).y,pe.forEach(function(Re){G.has(Re)||(_[k.get(Re)]=Se)})},"_loop5"),Pe=0;Pe<ve.length;Pe++)J(Pe)}v.relativePlacementConstraint&&function(){var ae=new Map,pe=new Map,_e=new Map,Se=new Map,Re=new Map,ke=new Map,Xe=new Set,Oe=new Set;if(G.forEach(function(ue){Xe.add(ue),Oe.add(ue)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var lt=v.alignmentConstraint.vertical,Dt=o(function(ue){_e.set("dummy"+ue,[]),lt[ue].forEach(function(Lr){ae.set(Lr,"dummy"+ue),_e.get("dummy"+ue).push(Lr),G.has(Lr)&&Xe.add("dummy"+ue)}),Re.set("dummy"+ue,w[k.get(lt[ue][0])])},"_loop6"),_t=0;_t<lt.length;_t++)Dt(_t);if(v.alignmentConstraint.horizontal)for(var gt=v.alignmentConstraint.horizontal,Pt=o(function(ue){Se.set("dummy"+ue,[]),gt[ue].forEach(function(Lr){pe.set(Lr,"dummy"+ue),Se.get("dummy"+ue).push(Lr),G.has(Lr)&&Oe.add("dummy"+ue)}),ke.set("dummy"+ue,_[k.get(gt[ue][0])])},"_loop7"),st=0;st<gt.length;st++)Pt(st)}var Qe=new Map,Ke=new Map,It=o(function(ue){q.get(ue).forEach(function(Lr){var me=void 0,Kn=void 0;Lr.direction=="horizontal"?(me=ae.get(ue)?ae.get(ue):ue,ae.get(Lr.id)?Kn={id:ae.get(Lr.id),gap:Lr.gap,direction:Lr.direction}:Kn=Lr,Qe.has(me)?Qe.get(me).push(Kn):Qe.set(me,[Kn]),Qe.has(Kn.id)||Qe.set(Kn.id,[])):(me=pe.get(ue)?pe.get(ue):ue,pe.get(Lr.id)?Kn={id:pe.get(Lr.id),gap:Lr.gap,direction:Lr.direction}:Kn=Lr,Ke.has(me)?Ke.get(me).push(Kn):Ke.set(me,[Kn]),Ke.has(Kn.id)||Ke.set(Kn.id,[]))})},"_loop8"),tt=!0,Zt=!1,jt=void 0;try{for(var pt=q.keys()[Symbol.iterator](),dt;!(tt=(dt=pt.next()).done);tt=!0){var it=dt.value;It(it)}}catch(ue){Zt=!0,jt=ue}finally{try{!tt&&pt.return&&pt.return()}finally{if(Zt)throw jt}}var Gt=R(Qe),Tt=R(Ke),hn=E(Gt),Ir=E(Tt),Gr=O(Qe),Xn=O(Ke),bn=[],ei=[];hn.forEach(function(ue,Lr){bn[Lr]=[],ue.forEach(function(me){Gr.get(me).length==0&&bn[Lr].push(me)})}),Ir.forEach(function(ue,Lr){ei[Lr]=[],ue.forEach(function(me){Xn.get(me).length==0&&ei[Lr].push(me)})});var $n=L(Qe,"horizontal",Xe,Re,bn),ti=L(Ke,"vertical",Oe,ke,ei),ye=o(function(ue){_e.get(ue)?_e.get(ue).forEach(function(Lr){w[k.get(Lr)]=$n.get(ue)}):w[k.get(ue)]=$n.get(ue)},"_loop9"),xt=!0,bt=!1,Yr=void 0;try{for(var Vr=$n.keys()[Symbol.iterator](),An;!(xt=(An=Vr.next()).done);xt=!0){var Fn=An.value;ye(Fn)}}catch(ue){bt=!0,Yr=ue}finally{try{!xt&&Vr.return&&Vr.return()}finally{if(bt)throw Yr}}var di=o(function(ue){Se.get(ue)?Se.get(ue).forEach(function(Lr){_[k.get(Lr)]=ti.get(ue)}):_[k.get(ue)]=ti.get(ue)},"_loop10"),Mn=!0,ft=!1,zt=void 0;try{for(var ut=ti.keys()[Symbol.iterator](),dn;!(Mn=(dn=ut.next()).done);Mn=!0){var Fn=dn.value;di(Fn)}}catch(ue){ft=!0,zt=ue}finally{try{!Mn&&ut.return&&ut.return()}finally{if(ft)throw zt}}}()}for(var Z=0;Z<S.length;Z++){var Fe=S[Z];Fe.getChild()==null&&Fe.setCenter(w[k.get(Fe.id)],_[k.get(Fe.id)])}},l.exports=y},551:l=>{l.exports=r}},i={};function a(l){var u=i[l];if(u!==void 0)return u.exports;var h=i[l]={exports:{}};return n[l](h,h.exports,a),h.exports}o(a,"__webpack_require__");var s=a(45);return s})()})}),Ttt=Mt((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(Zze()):typeof define=="function"&&define.amd?define(["cose-base"],n):typeof e=="object"?e.cytoscapeFcose=n(Zze()):r.cytoscapeFcose=n(r.coseBase)},"webpackUniversalModuleDefinition")(e,function(r){return(()=>{"use strict";var n={658:l=>{l.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var h=arguments.length,d=Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return d.forEach(function(f){Object.keys(f).forEach(function(g){return u[g]=f[g]})}),u}},548:(l,u,h)=>{var d=function(){function g(m,y){var b=[],v=!0,x=!1,k=void 0;try{for(var w=m[Symbol.iterator](),_;!(v=(_=w.next()).done)&&(b.push(_.value),!(y&&b.length===y));v=!0);}catch(S){x=!0,k=S}finally{try{!v&&w.return&&w.return()}finally{if(x)throw k}}return b}return o(g,"sliceIterator"),function(m,y){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=h(140).layoutBase.LinkedList,f={};f.getTopMostNodes=function(g){for(var m={},y=0;y<g.length;y++)m[g[y].id()]=!0;var b=g.filter(function(v,x){typeof v=="number"&&(v=x);for(var k=v.parent()[0];k!=null;){if(m[k.id()])return!1;k=k.parent()[0]}return!0});return b},f.connectComponents=function(g,m,y,b){var v=new p,x=new Set,k=[],w=void 0,_=void 0,S=void 0,C=!1,T=1,N=[],D=[],M=o(function(){var L=g.collection();D.push(L);var B=y[0],E=g.collection();E.merge(B).merge(B.descendants().intersection(m)),k.push(B),E.forEach(function(P){v.push(P),x.add(P),L.merge(P)});for(var R=o(function(){B=v.shift();var P=g.collection();B.neighborhood().nodes().forEach(function(G){m.intersection(B.edgesWith(G)).length>0&&P.merge(G)});for(var A=0;A<P.length;A++){var $=P[A];if(w=y.intersection($.union($.ancestors())),w!=null&&!x.has(w[0])){var F=w.union(w.descendants());F.forEach(function(G){v.push(G),x.add(G),L.merge(G),y.has(G)&&k.push(G)})}}},"_loop2");v.length!=0;)R();if(L.forEach(function(P){m.intersection(P.connectedEdges()).forEach(function(A){L.has(A.source())&&L.has(A.target())&&L.merge(A)})}),k.length==y.length&&(C=!0),!C||C&&T>1){_=k[0],S=_.connectedEdges().length,k.forEach(function(P){P.connectedEdges().length<S&&(S=P.connectedEdges().length,_=P)}),N.push(_.id());var O=g.collection();O.merge(k[0]),k.forEach(function(P){O.merge(P)}),k=[],y=y.difference(O),T++}},"_loop");do M();while(!C);return b&&N.length>0&&b.set("dummy"+(b.size+1),N),D},f.relocateComponent=function(g,m,y){if(!y.fixedNodeConstraint){var b=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;if(y.quality=="draft"){var w=!0,_=!1,S=void 0;try{for(var C=m.nodeIndexes[Symbol.iterator](),T;!(w=(T=C.next()).done);w=!0){var N=T.value,D=d(N,2),M=D[0],L=D[1],B=y.cy.getElementById(M);if(B){var E=B.boundingBox(),R=m.xCoords[L]-E.w/2,O=m.xCoords[L]+E.w/2,P=m.yCoords[L]-E.h/2,A=m.yCoords[L]+E.h/2;R<b&&(b=R),O>v&&(v=O),P<x&&(x=P),A>k&&(k=A)}}}catch(W){_=!0,S=W}finally{try{!w&&C.return&&C.return()}finally{if(_)throw S}}var $=g.x-(v+b)/2,F=g.y-(k+x)/2;m.xCoords=m.xCoords.map(function(W){return W+$}),m.yCoords=m.yCoords.map(function(W){return W+F})}else{Object.keys(m).forEach(function(W){var re=m[W],oe=re.getRect().x,te=re.getRect().x+re.getRect().width,se=re.getRect().y,Y=re.getRect().y+re.getRect().height;oe<b&&(b=oe),te>v&&(v=te),se<x&&(x=se),Y>k&&(k=Y)});var G=g.x-(v+b)/2,q=g.y-(k+x)/2;Object.keys(m).forEach(function(W){var re=m[W];re.setCenter(re.getCenterX()+G,re.getCenterY()+q)})}}},f.calcBoundingBox=function(g,m,y,b){for(var v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,k=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,_=void 0,S=void 0,C=void 0,T=void 0,N=g.descendants().not(":parent"),D=N.length,M=0;M<D;M++){var L=N[M];_=m[b.get(L.id())]-L.width()/2,S=m[b.get(L.id())]+L.width()/2,C=y[b.get(L.id())]-L.height()/2,T=y[b.get(L.id())]+L.height()/2,v>_&&(v=_),x<S&&(x=S),k>C&&(k=C),w<T&&(w=T)}var B={};return B.topLeftX=v,B.topLeftY=k,B.width=x-v,B.height=w-k,B},f.calcParentsWithoutChildren=function(g,m){var y=g.collection();return m.nodes(":parent").forEach(function(b){var v=!1;b.children().forEach(function(x){x.css("display")!="none"&&(v=!0)}),v||y.merge(b)}),y},l.exports=f},816:(l,u,h)=>{var d=h(548),p=h(140).CoSELayout,f=h(140).CoSENode,g=h(140).layoutBase.PointD,m=h(140).layoutBase.DimensionD,y=h(140).layoutBase.LayoutConstants,b=h(140).layoutBase.FDLayoutConstants,v=h(140).CoSEConstants,x=o(function(k,w){var _=k.cy,S=k.eles,C=S.nodes(),T=S.edges(),N=void 0,D=void 0,M=void 0,L={};k.randomize&&(N=w.nodeIndexes,D=w.xCoords,M=w.yCoords);var B=o(function(G){return typeof G=="function"},"isFn"),E=o(function(G,q){return B(G)?G(q):G},"optFn"),R=d.calcParentsWithoutChildren(_,S),O=o(function G(q,W,re,oe){for(var te=W.length,se=0;se<te;se++){var Y=W[se],V=null;Y.intersection(R).length==0&&(V=Y.children());var U=void 0,ne=Y.layoutDimensions({nodeDimensionsIncludeLabels:oe.nodeDimensionsIncludeLabels});if(Y.outerWidth()!=null&&Y.outerHeight()!=null)if(oe.randomize)if(!Y.isParent())U=q.add(new f(re.graphManager,new g(D[N.get(Y.id())]-ne.w/2,M[N.get(Y.id())]-ne.h/2),new m(parseFloat(ne.w),parseFloat(ne.h))));else{var K=d.calcBoundingBox(Y,D,M,N);Y.intersection(R).length==0?U=q.add(new f(re.graphManager,new g(K.topLeftX,K.topLeftY),new m(K.width,K.height))):U=q.add(new f(re.graphManager,new g(K.topLeftX,K.topLeftY),new m(parseFloat(ne.w),parseFloat(ne.h))))}else U=q.add(new f(re.graphManager,new g(Y.position("x")-ne.w/2,Y.position("y")-ne.h/2),new m(parseFloat(ne.w),parseFloat(ne.h))));else U=q.add(new f(this.graphManager));if(U.id=Y.data("id"),U.nodeRepulsion=E(oe.nodeRepulsion,Y),U.paddingLeft=parseInt(Y.css("padding")),U.paddingTop=parseInt(Y.css("padding")),U.paddingRight=parseInt(Y.css("padding")),U.paddingBottom=parseInt(Y.css("padding")),oe.nodeDimensionsIncludeLabels&&(U.labelWidth=Y.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,U.labelHeight=Y.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,U.labelPosVertical=Y.css("text-valign"),U.labelPosHorizontal=Y.css("text-halign")),L[Y.data("id")]=U,isNaN(U.rect.x)&&(U.rect.x=0),isNaN(U.rect.y)&&(U.rect.y=0),V!=null&&V.length>0){var fe=void 0;fe=re.getGraphManager().add(re.newGraph(),U),G(fe,V,re,oe)}}},"processChildrenList"),P=o(function(G,q,W){for(var re=0,oe=0,te=0;te<W.length;te++){var se=W[te],Y=L[se.data("source")],V=L[se.data("target")];if(Y&&V&&Y!==V&&Y.getEdgesBetween(V).length==0){var U=q.add(G.newEdge(),Y,V);U.id=se.id(),U.idealLength=E(k.idealEdgeLength,se),U.edgeElasticity=E(k.edgeElasticity,se),re+=U.idealLength,oe++}}k.idealEdgeLength!=null&&(oe>0?v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=re/oe:B(k.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=k.idealEdgeLength,v.MIN_REPULSION_DIST=b.MIN_REPULSION_DIST=b.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=b.DEFAULT_EDGE_LENGTH)},"processEdges"),A=o(function(G,q){q.fixedNodeConstraint&&(G.constraints.fixedNodeConstraint=q.fixedNodeConstraint),q.alignmentConstraint&&(G.constraints.alignmentConstraint=q.alignmentConstraint),q.relativePlacementConstraint&&(G.constraints.relativePlacementConstraint=q.relativePlacementConstraint)},"processConstraints");k.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=k.nestingFactor),k.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=b.DEFAULT_GRAVITY_STRENGTH=k.gravity),k.numIter!=null&&(v.MAX_ITERATIONS=b.MAX_ITERATIONS=k.numIter),k.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=b.DEFAULT_GRAVITY_RANGE_FACTOR=k.gravityRange),k.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.DEFAULT_COMPOUND_GRAVITY_STRENGTH=k.gravityCompound),k.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=k.gravityRangeCompound),k.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.DEFAULT_COOLING_FACTOR_INCREMENTAL=k.initialEnergyOnIncremental),k.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=k.tilingCompareBy),k.quality=="proof"?y.QUALITY=2:y.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=b.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=k.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!k.randomize,v.ANIMATE=b.ANIMATE=y.ANIMATE=k.animate,v.TILE=k.tile,v.TILING_PADDING_VERTICAL=typeof k.tilingPaddingVertical=="function"?k.tilingPaddingVertical.call():k.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof k.tilingPaddingHorizontal=="function"?k.tilingPaddingHorizontal.call():k.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!k.randomize,y.DEFAULT_UNIFORM_LEAF_NODE_SIZES=k.uniformNodeDimensions,k.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),k.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),k.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),k.step=="all"&&(k.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),k.fixedNodeConstraint||k.alignmentConstraint||k.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var $=new p,F=$.newGraphManager();return O(F.addRoot(),d.getTopMostNodes(C),$,k),P($,F,T),A($,k),$.runLayout(),L},"coseLayout");l.exports={coseLayout:x}},212:(l,u,h)=>{var d=function(){function w(_,S){for(var C=0;C<S.length;C++){var T=S[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return o(w,"defineProperties"),function(_,S,C){return S&&w(_.prototype,S),C&&w(_,C),_}}();function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}o(p,"_classCallCheck");var f=h(658),g=h(548),m=h(657),y=m.spectralLayout,b=h(816),v=b.coseLayout,x=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:o(function(w){return 4500},"nodeRepulsion"),idealEdgeLength:o(function(w){return 50},"idealEdgeLength"),edgeElasticity:o(function(w){return .45},"edgeElasticity"),nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:o(function(){},"ready"),stop:o(function(){},"stop")}),k=function(){function w(_){p(this,w),this.options=f({},x,_)}return o(w,"Layout"),d(w,[{key:"run",value:o(function(){var _=this,S=this.options,C=S.cy,T=S.eles,N=[],D=void 0,M=void 0,L=[],B=void 0,E=[];S.fixedNodeConstraint&&(!Array.isArray(S.fixedNodeConstraint)||S.fixedNodeConstraint.length==0)&&(S.fixedNodeConstraint=void 0),S.alignmentConstraint&&(S.alignmentConstraint.vertical&&(!Array.isArray(S.alignmentConstraint.vertical)||S.alignmentConstraint.vertical.length==0)&&(S.alignmentConstraint.vertical=void 0),S.alignmentConstraint.horizontal&&(!Array.isArray(S.alignmentConstraint.horizontal)||S.alignmentConstraint.horizontal.length==0)&&(S.alignmentConstraint.horizontal=void 0)),S.relativePlacementConstraint&&(!Array.isArray(S.relativePlacementConstraint)||S.relativePlacementConstraint.length==0)&&(S.relativePlacementConstraint=void 0);var R=S.fixedNodeConstraint||S.alignmentConstraint||S.relativePlacementConstraint;R&&(S.tile=!1,S.packComponents=!1);var O=void 0,P=!1;if(C.layoutUtilities&&S.packComponents&&(O=C.layoutUtilities("get"),O||(O=C.layoutUtilities()),P=!0),T.nodes().length>0)if(P){var A=g.getTopMostNodes(S.eles.nodes());if(B=g.connectComponents(C,S.eles,A),B.forEach(function(Le){var Ie=Le.boundingBox();E.push({x:Ie.x1+Ie.w/2,y:Ie.y1+Ie.h/2})}),S.randomize&&B.forEach(function(Le){S.eles=Le,N.push(y(S))}),S.quality=="default"||S.quality=="proof"){var $=C.collection();if(S.tile){var F=new Map,G=[],q=[],W=0,re={nodeIndexes:F,xCoords:G,yCoords:q},oe=[];if(B.forEach(function(Le,Ie){Le.edges().length==0&&(Le.nodes().forEach(function(He,We){$.merge(Le.nodes()[We]),He.isParent()||(re.nodeIndexes.set(Le.nodes()[We].id(),W++),re.xCoords.push(Le.nodes()[0].position().x),re.yCoords.push(Le.nodes()[0].position().y))}),oe.push(Ie))}),$.length>1){var te=$.boundingBox();E.push({x:te.x1+te.w/2,y:te.y1+te.h/2}),B.push($),N.push(re);for(var se=oe.length-1;se>=0;se--)B.splice(oe[se],1),N.splice(oe[se],1),E.splice(oe[se],1)}}B.forEach(function(Le,Ie){S.eles=Le,L.push(v(S,N[Ie])),g.relocateComponent(E[Ie],L[Ie],S)})}else B.forEach(function(Le,Ie){g.relocateComponent(E[Ie],N[Ie],S)});var Y=new Set;if(B.length>1){var V=[],U=T.filter(function(Le){return Le.css("display")=="none"});B.forEach(function(Le,Ie){var He=void 0;if(S.quality=="draft"&&(He=N[Ie].nodeIndexes),Le.nodes().not(U).length>0){var We={};We.edges=[],We.nodes=[];var et=void 0;Le.nodes().not(U).forEach(function(Ze){if(S.quality=="draft")if(!Ze.isParent())et=He.get(Ze.id()),We.nodes.push({x:N[Ie].xCoords[et]-Ze.boundingbox().w/2,y:N[Ie].yCoords[et]-Ze.boundingbox().h/2,width:Ze.boundingbox().w,height:Ze.boundingbox().h});else{var H=g.calcBoundingBox(Ze,N[Ie].xCoords,N[Ie].yCoords,He);We.nodes.push({x:H.topLeftX,y:H.topLeftY,width:H.width,height:H.height})}else L[Ie][Ze.id()]&&We.nodes.push({x:L[Ie][Ze.id()].getLeft(),y:L[Ie][Ze.id()].getTop(),width:L[Ie][Ze.id()].getWidth(),height:L[Ie][Ze.id()].getHeight()})}),Le.edges().forEach(function(Ze){var H=Ze.source(),ge=Ze.target();if(H.css("display")!="none"&&ge.css("display")!="none")if(S.quality=="draft"){var ce=He.get(H.id()),ve=He.get(ge.id()),J=[],Pe=[];if(H.isParent()){var Z=g.calcBoundingBox(H,N[Ie].xCoords,N[Ie].yCoords,He);J.push(Z.topLeftX+Z.width/2),J.push(Z.topLeftY+Z.height/2)}else J.push(N[Ie].xCoords[ce]),J.push(N[Ie].yCoords[ce]);if(ge.isParent()){var Fe=g.calcBoundingBox(ge,N[Ie].xCoords,N[Ie].yCoords,He);Pe.push(Fe.topLeftX+Fe.width/2),Pe.push(Fe.topLeftY+Fe.height/2)}else Pe.push(N[Ie].xCoords[ve]),Pe.push(N[Ie].yCoords[ve]);We.edges.push({startX:J[0],startY:J[1],endX:Pe[0],endY:Pe[1]})}else L[Ie][H.id()]&&L[Ie][ge.id()]&&We.edges.push({startX:L[Ie][H.id()].getCenterX(),startY:L[Ie][H.id()].getCenterY(),endX:L[Ie][ge.id()].getCenterX(),endY:L[Ie][ge.id()].getCenterY()})}),We.nodes.length>0&&(V.push(We),Y.add(Ie))}});var ne=O.packComponents(V,S.randomize).shifts;if(S.quality=="draft")N.forEach(function(Le,Ie){var He=Le.xCoords.map(function(et){return et+ne[Ie].dx}),We=Le.yCoords.map(function(et){return et+ne[Ie].dy});Le.xCoords=He,Le.yCoords=We});else{var K=0;Y.forEach(function(Le){Object.keys(L[Le]).forEach(function(Ie){var He=L[Le][Ie];He.setCenter(He.getCenterX()+ne[K].dx,He.getCenterY()+ne[K].dy)}),K++})}}}else{var fe=S.eles.boundingBox();if(E.push({x:fe.x1+fe.w/2,y:fe.y1+fe.h/2}),S.randomize){var Q=y(S);N.push(Q)}S.quality=="default"||S.quality=="proof"?(L.push(v(S,N[0])),g.relocateComponent(E[0],L[0],S)):g.relocateComponent(E[0],N[0],S)}var Te=o(function(Le,Ie){if(S.quality=="default"||S.quality=="proof"){typeof Le=="number"&&(Le=Ie);var He=void 0,We=void 0,et=Le.data("id");return L.forEach(function(H){et in H&&(He={x:H[et].getRect().getCenterX(),y:H[et].getRect().getCenterY()},We=H[et])}),S.nodeDimensionsIncludeLabels&&(We.labelWidth&&(We.labelPosHorizontal=="left"?He.x+=We.labelWidth/2:We.labelPosHorizontal=="right"&&(He.x-=We.labelWidth/2)),We.labelHeight&&(We.labelPosVertical=="top"?He.y+=We.labelHeight/2:We.labelPosVertical=="bottom"&&(He.y-=We.labelHeight/2))),He==null&&(He={x:Le.position("x"),y:Le.position("y")}),{x:He.x,y:He.y}}else{var Ze=void 0;return N.forEach(function(H){var ge=H.nodeIndexes.get(Le.id());ge!=null&&(Ze={x:H.xCoords[ge],y:H.yCoords[ge]})}),Ze==null&&(Ze={x:Le.position("x"),y:Le.position("y")}),{x:Ze.x,y:Ze.y}}},"getPositions");if(S.quality=="default"||S.quality=="proof"||S.randomize){var ie=g.calcParentsWithoutChildren(C,T),Me=T.filter(function(Le){return Le.css("display")=="none"});S.eles=T.not(Me),T.nodes().not(":parent").not(Me).layoutPositions(_,S,Te),ie.length>0&&ie.forEach(function(Le){Le.position(Te(Le))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")},"run")}]),w}();l.exports=k},657:(l,u,h)=>{var d=h(548),p=h(140).layoutBase.Matrix,f=h(140).layoutBase.SVD,g=o(function(m){var y=m.cy,b=m.eles,v=b.nodes(),x=b.nodes(":parent"),k=new Map,w=new Map,_=new Map,S=[],C=[],T=[],N=[],D=[],M=[],L=[],B=[],E=void 0,R=void 0,O=1e8,P=1e-9,A=m.piTol,$=m.samplingType,F=m.nodeSeparation,G=void 0,q=o(function(){for(var ae=0,pe=0,_e=!1;pe<G;){ae=Math.floor(Math.random()*R),_e=!1;for(var Se=0;Se<pe;Se++)if(N[Se]==ae){_e=!0;break}if(!_e)N[pe]=ae,pe++;else continue}},"randomSampleCR"),W=o(function(ae,pe,_e){for(var Se=[],Re=0,ke=0,Xe=0,Oe=void 0,lt=[],Dt=0,_t=1,gt=0;gt<R;gt++)lt[gt]=O;for(Se[ke]=ae,lt[ae]=0;ke>=Re;){Xe=Se[Re++];for(var Pt=S[Xe],st=0;st<Pt.length;st++)Oe=w.get(Pt[st]),lt[Oe]==O&&(lt[Oe]=lt[Xe]+1,Se[++ke]=Oe);M[Xe][pe]=lt[Xe]*F}if(_e){for(var Qe=0;Qe<R;Qe++)M[Qe][pe]<D[Qe]&&(D[Qe]=M[Qe][pe]);for(var Ke=0;Ke<R;Ke++)D[Ke]>Dt&&(Dt=D[Ke],_t=Ke)}return _t},"BFS"),re=o(function(ae){var pe=void 0;if(ae){pe=Math.floor(Math.random()*R),E=pe;for(var _e=0;_e<R;_e++)D[_e]=O;for(var Se=0;Se<G;Se++)N[Se]=pe,pe=W(pe,Se,ae)}else{q();for(var Re=0;Re<G;Re++)W(N[Re],Re,ae,!1)}for(var ke=0;ke<R;ke++)for(var Xe=0;Xe<G;Xe++)M[ke][Xe]*=M[ke][Xe];for(var Oe=0;Oe<G;Oe++)L[Oe]=[];for(var lt=0;lt<G;lt++)for(var Dt=0;Dt<G;Dt++)L[lt][Dt]=M[N[Dt]][lt]},"allBFS"),oe=o(function(){for(var ae=f.svd(L),pe=ae.S,_e=ae.U,Se=ae.V,Re=pe[0]*pe[0]*pe[0],ke=[],Xe=0;Xe<G;Xe++){ke[Xe]=[];for(var Oe=0;Oe<G;Oe++)ke[Xe][Oe]=0,Xe==Oe&&(ke[Xe][Oe]=pe[Xe]/(pe[Xe]*pe[Xe]+Re/(pe[Xe]*pe[Xe])))}B=p.multMat(p.multMat(Se,ke),p.transpose(_e))},"sample"),te=o(function(){for(var ae=void 0,pe=void 0,_e=[],Se=[],Re=[],ke=[],Xe=0;Xe<R;Xe++)_e[Xe]=Math.random(),Se[Xe]=Math.random();_e=p.normalize(_e),Se=p.normalize(Se);for(var Oe=0,lt=P,Dt=P,_t=void 0;;){Oe++;for(var gt=0;gt<R;gt++)Re[gt]=_e[gt];if(_e=p.multGamma(p.multL(p.multGamma(Re),M,B)),ae=p.dotProduct(Re,_e),_e=p.normalize(_e),lt=p.dotProduct(Re,_e),_t=Math.abs(lt/Dt),_t<=1+A&&_t>=1)break;Dt=lt}for(var Pt=0;Pt<R;Pt++)Re[Pt]=_e[Pt];for(Oe=0,Dt=P;;){Oe++;for(var st=0;st<R;st++)ke[st]=Se[st];if(ke=p.minusOp(ke,p.multCons(Re,p.dotProduct(Re,ke))),Se=p.multGamma(p.multL(p.multGamma(ke),M,B)),pe=p.dotProduct(ke,Se),Se=p.normalize(Se),lt=p.dotProduct(ke,Se),_t=Math.abs(lt/Dt),_t<=1+A&&_t>=1)break;Dt=lt}for(var Qe=0;Qe<R;Qe++)ke[Qe]=Se[Qe];C=p.multCons(Re,Math.sqrt(Math.abs(ae))),T=p.multCons(ke,Math.sqrt(Math.abs(pe)))},"powerIteration");d.connectComponents(y,b,d.getTopMostNodes(v),k),x.forEach(function(ae){d.connectComponents(y,b,d.getTopMostNodes(ae.descendants().intersection(b)),k)});for(var se=0,Y=0;Y<v.length;Y++)v[Y].isParent()||w.set(v[Y].id(),se++);var V=!0,U=!1,ne=void 0;try{for(var K=k.keys()[Symbol.iterator](),fe;!(V=(fe=K.next()).done);V=!0){var Q=fe.value;w.set(Q,se++)}}catch(ae){U=!0,ne=ae}finally{try{!V&&K.return&&K.return()}finally{if(U)throw ne}}for(var Te=0;Te<w.size;Te++)S[Te]=[];x.forEach(function(ae){for(var pe=ae.children().intersection(b);pe.nodes(":childless").length==0;)pe=pe.nodes()[0].children().intersection(b);var _e=0,Se=pe.nodes(":childless")[0].connectedEdges().length;pe.nodes(":childless").forEach(function(Re,ke){Re.connectedEdges().length<Se&&(Se=Re.connectedEdges().length,_e=ke)}),_.set(ae.id(),pe.nodes(":childless")[_e].id())}),v.forEach(function(ae){var pe=void 0;ae.isParent()?pe=w.get(_.get(ae.id())):pe=w.get(ae.id()),ae.neighborhood().nodes().forEach(function(_e){b.intersection(ae.edgesWith(_e)).length>0&&(_e.isParent()?S[pe].push(_.get(_e.id())):S[pe].push(_e.id()))})});var ie=o(function(ae){var pe=w.get(ae),_e=void 0;k.get(ae).forEach(function(Se){y.getElementById(Se).isParent()?_e=_.get(Se):_e=Se,S[pe].push(_e),S[w.get(_e)].push(ae)})},"_loop"),Me=!0,Le=!1,Ie=void 0;try{for(var He=k.keys()[Symbol.iterator](),We;!(Me=(We=He.next()).done);Me=!0){var et=We.value;ie(et)}}catch(ae){Le=!0,Ie=ae}finally{try{!Me&&He.return&&He.return()}finally{if(Le)throw Ie}}R=w.size;var Ze=void 0;if(R>2){G=R<m.sampleSize?R:m.sampleSize;for(var H=0;H<R;H++)M[H]=[];for(var ge=0;ge<G;ge++)B[ge]=[];return m.quality=="draft"||m.step=="all"?(re($),oe(),te(),Ze={nodeIndexes:w,xCoords:C,yCoords:T}):(w.forEach(function(ae,pe){C.push(y.getElementById(pe).position("x")),T.push(y.getElementById(pe).position("y"))}),Ze={nodeIndexes:w,xCoords:C,yCoords:T}),Ze}else{var ce=w.keys(),ve=y.getElementById(ce.next().value),J=ve.position(),Pe=ve.outerWidth();if(C.push(J.x),T.push(J.y),R==2){var Z=y.getElementById(ce.next().value),Fe=Z.outerWidth();C.push(J.x+Pe/2+Fe/2+m.idealEdgeLength),T.push(J.y)}return Ze={nodeIndexes:w,xCoords:C,yCoords:T},Ze}},"spectralLayout");l.exports={spectralLayout:g}},579:(l,u,h)=>{var d=h(212),p=o(function(f){f&&f("layout","fcose",d)},"register");typeof cytoscape<"u"&&p(cytoscape),l.exports=p},140:l=>{l.exports=r}},i={};function a(l){var u=i[l];if(u!==void 0)return u.exports;var h=i[l]={exports:{}};return n[l](h,h.exports,a),h.exports}o(a,"__webpack_require__");var s=a(579);return s})()})}),Mp,Yf,Qze=I(()=>{"use strict";Ee(),Mp=o(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),Yf={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Mp('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Mp('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Mp('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Mp('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Mp('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:Jf,blank:{body:Mp("")}}}}),Jze,eGe,tGe,rGe,Ett=I(()=>{"use strict";Ee(),tr(),ac(),ZE(),Qze(),Nj(),Jze=o(async function(e,t){let r=Qi("padding"),n=Qi("iconSize"),i=n/2,a=n/6,s=a/2;await Promise.all(t.edges().map(async l=>{let{source:u,sourceDir:h,sourceArrow:d,sourceGroup:p,target:f,targetDir:g,targetArrow:m,targetGroup:y,label:b}=Lj(l),{x:v,y:x}=l[0].sourceEndpoint(),{x:k,y:w}=l[0].midpoint(),{x:_,y:S}=l[0].targetEndpoint(),C=r+4;if(p&&(ms(h)?v+=h==="L"?-C:C:x+=h==="T"?-C:C+18),y&&(ms(g)?_+=g==="L"?-C:C:S+=g==="T"?-C:C+18),!p&&Mx.getNode(u)?.type==="junction"&&(ms(h)?v+=h==="L"?i:-i:x+=h==="T"?i:-i),!y&&Mx.getNode(f)?.type==="junction"&&(ms(g)?_+=g==="L"?i:-i:S+=g==="T"?i:-i),l[0]._private.rscratch){let T=e.insert("g");if(T.insert("path").attr("d",`M ${v},${x} L ${k},${w} L${_},${S} `).attr("class","edge"),d){let N=ms(h)?Ix[h](v,a):v-s,D=Wu(h)?Ix[h](x,a):x-s;T.insert("polygon").attr("points",Cj[h](a)).attr("transform",`translate(${N},${D})`).attr("class","arrow")}if(m){let N=ms(g)?Ix[g](_,a):_-s,D=Wu(g)?Ix[g](S,a):S-s;T.insert("polygon").attr("points",Cj[g](a)).attr("transform",`translate(${N},${D})`).attr("class","arrow")}if(b){let N=Aj(h,g)?"XY":ms(h)?"X":"Y",D=0;N==="X"?D=Math.abs(v-_):N==="Y"?D=Math.abs(x-S)/1.5:D=Math.abs(v-_)/2;let M=T.append("g");if(await Qs(M,b,{useHtmlLabels:!1,width:D,classes:"architecture-service-label"},we()),M.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),N==="X")M.attr("transform","translate("+k+", "+w+")");else if(N==="Y")M.attr("transform","translate("+k+", "+w+") rotate(-90)");else if(N==="XY"){let L=KE(h,g);if(L&&Cze(L)){let B=M.node().getBoundingClientRect(),[E,R]=Lze(L);M.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*E*R*45})`);let O=M.node().getBoundingClientRect();M.attr("transform",`
                translate(${k}, ${w-B.height/2})
                translate(${E*O.width/2}, ${R*O.height/2})
                rotate(${-1*E*R*45}, 0, ${B.height/2})
              `)}}}}}))},"drawEdges"),eGe=o(async function(e,t){let r=Qi("padding")*.75,n=Qi("fontSize"),i=Qi("iconSize")/2;await Promise.all(t.nodes().map(async a=>{let s=Ip(a);if(s.type==="group"){let{h:l,w:u,x1:h,y1:d}=a.boundingBox();e.append("rect").attr("x",h+i).attr("y",d+i).attr("width",u).attr("height",l).attr("class","node-bkg");let p=e.append("g"),f=h,g=d;if(s.icon){let m=p.append("g");m.html(`<g>${await de(s.icon,{height:r,width:r,fallbackPrefix:Yf.prefix})}</g>`),m.attr("transform","translate("+(f+i+1)+", "+(g+i+1)+")"),f+=r,g+=n/2-1-2}if(s.label){let m=p.append("g");await Qs(m,s.label,{useHtmlLabels:!1,width:u,classes:"architecture-service-label"},we()),m.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),m.attr("transform","translate("+(f+i+4)+", "+(g+i+2)+")")}}}))},"drawGroups"),tGe=o(async function(e,t,r){for(let n of r){let i=t.append("g"),a=Qi("iconSize");if(n.title){let h=i.append("g");await Qs(h,n.title,{useHtmlLabels:!1,width:a*1.5,classes:"architecture-service-label"},we()),h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),h.attr("transform","translate("+a/2+", "+a+")")}let s=i.append("g");if(n.icon)s.html(`<g>${await de(n.icon,{height:a,width:a,fallbackPrefix:Yf.prefix})}</g>`);else if(n.iconText){s.html(`<g>${await de("blank",{height:a,width:a,fallbackPrefix:Yf.prefix})}</g>`);let h=s.append("g").append("foreignObject").attr("width",a).attr("height",a).append("div").attr("class","node-icon-text").attr("style",`height: ${a}px;`).append("div").html(n.iconText),d=parseInt(window.getComputedStyle(h.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;h.attr("style",`-webkit-line-clamp: ${Math.floor((a-2)/d)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${a} v${-a} q0,-5 5,-5 h${a} q5,0 5,5 v${a} H0 Z`);i.attr("class","architecture-service");let{width:l,height:u}=i._groups[0][0].getBBox();n.width=l,n.height=u,e.setElementForId(n.id,i)}return 0},"drawServices"),rGe=o(function(e,t,r){r.forEach(n=>{let i=t.append("g"),a=Qi("iconSize");i.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",a).attr("height",a),i.attr("class","architecture-junction");let{width:s,height:l}=i._groups[0][0].getBBox();i.width=s,i.height=l,e.setElementForId(n.id,i)})},"drawJunctions")});function nGe(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"service",id:r.id,icon:r.icon,label:r.title,parent:r.in,width:Qi("iconSize"),height:Qi("iconSize")},classes:"node-service"})})}function iGe(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"junction",id:r.id,parent:r.in,width:Qi("iconSize"),height:Qi("iconSize")},classes:"node-junction"})})}function aGe(e,t){t.nodes().map(r=>{let n=Ip(r);n.type!=="group"&&(n.x=r.position().x,n.y=r.position().y,e.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")"))})}function sGe(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}function oGe(e,t){e.forEach(r=>{let{lhsId:n,rhsId:i,lhsInto:a,lhsGroup:s,rhsInto:l,lhsDir:u,rhsDir:h,rhsGroup:d,title:p}=r,f=Aj(r.lhsDir,r.rhsDir)?"segments":"straight",g={id:`${n}-${i}`,label:p,source:n,sourceDir:u,sourceArrow:a,sourceGroup:s,sourceEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%",target:i,targetDir:h,targetArrow:l,targetGroup:d,targetEndpoint:h==="L"?"0 50%":h==="R"?"100% 50%":h==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:g,classes:f})})}function lGe(e){let t=e.map(i=>{let a={},s={};return Object.entries(i).forEach(([l,[u,h]])=>{a[h]||(a[h]=[]),s[u]||(s[u]=[]),a[h].push(l),s[u].push(l)}),{horiz:Object.values(a).filter(l=>l.length>1),vert:Object.values(s).filter(l=>l.length>1)}}),[r,n]=t.reduce(([i,a],{horiz:s,vert:l})=>[[...i,...s],[...a,...l]],[[],[]]);return{horizontal:r,vertical:n}}function cGe(e){let t=[],r=o(i=>`${i[0]},${i[1]}`,"posToStr"),n=o(i=>i.split(",").map(a=>parseInt(a)),"strToPos");return e.forEach(i=>{let a=Object.fromEntries(Object.entries(i).map(([h,d])=>[r(d),h])),s=[r([0,0])],l={},u={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;s.length>0;){let h=s.shift();if(h){l[h]=1;let d=a[h];if(d){let p=n(h);Object.entries(u).forEach(([f,g])=>{let m=r([p[0]+g[0],p[1]+g[1]]),y=a[m];y&&!l[m]&&(s.push(m),t.push({[_j[f]]:y,[_j[_ze(f)]]:d,gap:1.5*Qi("iconSize")}))})}}}}),t}function uGe(e,t,r,n,{spatialMaps:i}){return new Promise(a=>{let s=nt("body").append("div").attr("id","cy").attr("style","display:none"),l=Pl({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${Qi("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${Qi("padding")}px`}}]});s.remove(),sGe(r,l),nGe(e,l),iGe(t,l),oGe(n,l);let u=lGe(i),h=cGe(i),d=l.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(p){let[f,g]=p.connectedNodes(),{parent:m}=Ip(f),{parent:y}=Ip(g);return m===y?1.5*Qi("iconSize"):.5*Qi("iconSize")},edgeElasticity(p){let[f,g]=p.connectedNodes(),{parent:m}=Ip(f),{parent:y}=Ip(g);return m===y?.45:.001},alignmentConstraint:u,relativePlacementConstraint:h});d.one("layoutstop",()=>{function p(f,g,m,y){let b,v,{x,y:k}=f,{x:w,y:_}=g;v=(y-k+(x-m)*(k-_)/(x-w))/Math.sqrt(1+Math.pow((k-_)/(x-w),2)),b=Math.sqrt(Math.pow(y-k,2)+Math.pow(m-x,2)-Math.pow(v,2));let S=Math.sqrt(Math.pow(w-x,2)+Math.pow(_-k,2));b=b/S;let C=(w-x)*(y-k)-(_-k)*(m-x);switch(!0){case C>=0:C=1;break;case C<0:C=-1;break}let T=(w-x)*(m-x)+(_-k)*(y-k);switch(!0){case T>=0:T=1;break;case T<0:T=-1;break}return v=Math.abs(v)*C,b=b*T,{distances:v,weights:b}}o(p,"getSegmentWeights"),l.startBatch();for(let f of Object.values(l.edges()))if(f.data?.()){let{x:g,y:m}=f.source().position(),{x:y,y:b}=f.target().position();if(g!==y&&m!==b){let v=f.sourceEndpoint(),x=f.targetEndpoint(),{sourceDir:k}=Lj(f),[w,_]=Wu(k)?[v.x,x.y]:[x.x,v.y],{weights:S,distances:C}=p(v,x,w,_);f.style("segment-distances",C),f.style("segment-weights",S)}}l.endBatch(),d.run()}),d.run(),l.ready(p=>{X.info("Ready",p),a(l)})})}var hGe,dGe,pGe,_tt=I(()=>{"use strict";Ee(),GPe(),hGe=xr(Ttt(),1),Fr(),Ye(),sd(),wi(),ZE(),Qze(),Nj(),Ett(),dr([{name:Yf.prefix,icons:Yf}]),Pl.use(hGe.default),o(nGe,"addServices"),o(iGe,"addJunctions"),o(aGe,"positionNodes"),o(sGe,"addGroups"),o(oGe,"addEdges"),o(lGe,"getAlignments"),o(cGe,"getRelativeConstraints"),o(uGe,"layoutArchitecture"),dGe=o(async(e,t,r,n)=>{let i=n.db,a=i.getServices(),s=i.getJunctions(),l=i.getGroups(),u=i.getEdges(),h=i.getDataStructures(),d=Lu(t),p=d.append("g");p.attr("class","architecture-edges");let f=d.append("g");f.attr("class","architecture-services");let g=d.append("g");g.attr("class","architecture-groups"),await tGe(i,f,a),rGe(i,f,s);let m=await uGe(a,s,l,u,h);await Jze(p,m),await eGe(g,m),aGe(i,m),jd(void 0,d,Qi("padding"),Qi("useMaxWidth"))},"draw"),pGe={draw:dGe}}),gGe={};Nt(gGe,{diagram:()=>fGe});var fGe,Ctt=I(()=>{"use strict";ktt(),ZE(),wtt(),_tt(),fGe={parser:Wze,db:Mx,renderer:pGe,styles:Xze}}),mGe={};Nt(mGe,{default:()=>nit}),Ee(),Ce(),Zo();var yGe="c4",Stt=o(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),Att=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(IWe(),hse));return{id:yGe,diagram:e}},"loader"),Ltt={id:yGe,detector:Stt,loader:Att},Ntt=Ltt,vGe="flowchart",Itt=o((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),Mtt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ZM(),ow));return{id:vGe,diagram:e}},"loader"),Dtt={id:vGe,detector:Itt,loader:Mtt},Rtt=Dtt,bGe="flowchart-v2",Ott=o((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),Ptt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ZM(),ow));return{id:bGe,diagram:e}},"loader"),Btt={id:bGe,detector:Ott,loader:Ptt},$tt=Btt,xGe="er",Ftt=o(e=>/^\s*erDiagram/.test(e),"detector"),ztt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(JZe(),Lxe));return{id:xGe,diagram:e}},"loader"),Gtt={id:xGe,detector:Ftt,loader:ztt},qtt=Gtt,kGe="gitGraph",jtt=o(e=>/^\s*gitGraph/.test(e),"detector"),Ytt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(nJe(),BTe));return{id:kGe,diagram:e}},"loader"),Utt={id:kGe,detector:jtt,loader:Ytt},Htt=Utt,wGe="gantt",Wtt=o(e=>/^\s*gantt/.test(e),"detector"),Vtt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(hJe(),MEe));return{id:wGe,diagram:e}},"loader"),Xtt={id:wGe,detector:Wtt,loader:Vtt},Ktt=Xtt,TGe="info",Ztt=o(e=>/^\s*info/.test(e),"detector"),Qtt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(fJe(),GEe));return{id:TGe,diagram:e}},"loader"),Jtt={id:TGe,detector:Ztt,loader:Qtt},EGe="pie",ert=o(e=>/^\s*pie/.test(e),"detector"),trt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(bJe(),i8e));return{id:EGe,diagram:e}},"loader"),rrt={id:EGe,detector:ert,loader:trt},_Ge="quadrantChart",nrt=o(e=>/^\s*quadrantChart/.test(e),"detector"),irt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(_Je(),A8e));return{id:_Ge,diagram:e}},"loader"),art={id:_Ge,detector:nrt,loader:irt},srt=art,CGe="xychart",ort=o(e=>/^\s*xychart-beta/.test(e),"detector"),lrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>($Je(),s_e));return{id:CGe,diagram:e}},"loader"),crt={id:CGe,detector:ort,loader:lrt},urt=crt,SGe="requirement",hrt=o(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),drt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(YJe(),$_e));return{id:SGe,diagram:e}},"loader"),prt={id:SGe,detector:hrt,loader:drt},grt=prt,AGe="sequence",frt=o(e=>/^\s*sequenceDiagram/.test(e),"detector"),mrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(KJe(),YCe));return{id:AGe,diagram:e}},"loader"),yrt={id:AGe,detector:frt,loader:mrt},vrt=yrt,LGe="class",brt=o((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),xrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(QJe(),CSe));return{id:LGe,diagram:e}},"loader"),krt={id:LGe,detector:brt,loader:xrt},wrt=krt,NGe="classDiagram",Trt=o((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),Ert=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(JJe(),ASe));return{id:NGe,diagram:e}},"loader"),_rt={id:NGe,detector:Trt,loader:Ert},Crt=_rt,IGe="state",Srt=o((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),Art=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(iet(),WAe));return{id:IGe,diagram:e}},"loader"),Lrt={id:IGe,detector:Srt,loader:Art},Nrt=Lrt,MGe="stateDiagram",Irt=o((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),Mrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(aet(),XAe));return{id:MGe,diagram:e}},"loader"),Drt={id:MGe,detector:Irt,loader:Mrt},Rrt=Drt,DGe="journey",Ort=o(e=>/^\s*journey/.test(e),"detector"),Prt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(det(),v9e));return{id:DGe,diagram:e}},"loader"),Brt={id:DGe,detector:Ort,loader:Prt},$rt=Brt;Ye(),sd(),wi();var Frt=o((e,t,r)=>{X.debug(`rendering svg for syntax error
`);let n=Lu(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),ba(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),RGe={draw:Frt},zrt=RGe,Grt={db:{},renderer:RGe,parser:{parse:o(()=>{},"parse")}},qrt=Grt,OGe="flowchart-elk",jrt=o((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),Yrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(ZM(),ow));return{id:OGe,diagram:e}},"loader"),Urt={id:OGe,detector:jrt,loader:Yrt},Hrt=Urt,PGe="timeline",Wrt=o(e=>/^\s*timeline/.test(e),"detector"),Vrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(vet(),G9e));return{id:PGe,diagram:e}},"loader"),Xrt={id:PGe,detector:Wrt,loader:Vrt},Krt=Xrt,BGe="mindmap",Zrt=o(e=>/^\s*mindmap/.test(e),"detector"),Qrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Cet(),uBe));return{id:BGe,diagram:e}},"loader"),Jrt={id:BGe,detector:Zrt,loader:Qrt},ent=Jrt,$Ge="kanban",tnt=o(e=>/^\s*kanban/.test(e),"detector"),rnt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Met(),NBe));return{id:$Ge,diagram:e}},"loader"),nnt={id:$Ge,detector:tnt,loader:rnt},int=nnt,FGe="sankey",ant=o(e=>/^\s*sankey-beta/.test(e),"detector"),snt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Qet(),g$e));return{id:FGe,diagram:e}},"loader"),ont={id:FGe,detector:ant,loader:snt},lnt=ont,zGe="packet",cnt=o(e=>/^\s*packet-beta/.test(e),"detector"),unt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(rtt(),M$e));return{id:zGe,diagram:e}},"loader"),hnt={id:zGe,detector:cnt,loader:unt},GGe="block",dnt=o(e=>/^\s*block-beta/.test(e),"detector"),pnt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(xtt(),Tze));return{id:GGe,diagram:e}},"loader"),gnt={id:GGe,detector:dnt,loader:pnt},fnt=gnt,qGe="architecture",mnt=o(e=>/^\s*architecture/.test(e),"detector"),ynt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Ctt(),gGe));return{id:qGe,diagram:e}},"loader"),vnt={id:qGe,detector:mnt,loader:ynt},bnt=vnt;Zo(),tr();var jGe=!1,QE=o(()=>{jGe||(jGe=!0,Gm("error",qrt,e=>e.toLowerCase().trim()==="error"),Gm("---",{db:{clear:o(()=>{},"clear")},styles:{},renderer:{draw:o(()=>{},"draw")},parser:{parse:o(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:o(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),ji(Ntt,int,Crt,wrt,qtt,Ktt,Jtt,rrt,grt,vrt,Hrt,$tt,Rtt,ent,Krt,Htt,Rrt,Nrt,$rt,srt,lnt,hnt,urt,fnt,bnt))},"addDiagrams");Ye(),Zo(),tr();var xnt=o(async()=>{X.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(rn).map(async([t,{detector:r,loader:n}])=>{if(n)try{U4(t)}catch{try{let{diagram:i,id:a}=await n();Gm(a,i,r)}catch(i){throw X.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete rn[t],i}}}))).filter(t=>t.status==="rejected");if(e.length>0){X.error(`Failed to load ${e.length} external diagrams`);for(let t of e)X.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams");Ye(),Fr();var YGe="comm",UGe="rule",HGe="decl",knt="@import",wnt="@keyframes",Tnt="@layer",WGe=Math.abs,Mj=String.fromCharCode;function Dj(e){return e.trim()}o(Dj,"trim");function Dx(e,t,r){return e.replace(t,r)}o(Dx,"replace");function VGe(e,t,r){return e.indexOf(t,r)}o(VGe,"indexof");function Uf(e,t){return e.charCodeAt(t)|0}o(Uf,"charat");function Dp(e,t,r){return e.slice(t,r)}o(Dp,"substr");function $l(e){return e.length}o($l,"strlen");function XGe(e){return e.length}o(XGe,"sizeof");function Rx(e,t){return t.push(e),e}o(Rx,"append");var JE=1,Hf=1,KGe=0,jo=0,qi=0,Wf="";function e8(e,t,r,n,i,a,s,l){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:JE,column:Hf,length:s,return:"",siblings:l}}o(e8,"node");function ZGe(){return qi}o(ZGe,"char");function QGe(){return qi=jo>0?Uf(Wf,--jo):0,Hf--,qi===10&&(Hf=1,JE--),qi}o(QGe,"prev");function Yo(){return qi=jo<KGe?Uf(Wf,jo++):0,Hf++,qi===10&&(Hf=1,JE++),qi}o(Yo,"next");function Vu(){return Uf(Wf,jo)}o(Vu,"peek");function Ox(){return jo}o(Ox,"caret");function Px(e,t){return Dp(Wf,e,t)}o(Px,"slice");function Vf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}o(Vf,"token");function JGe(e){return JE=Hf=1,KGe=$l(Wf=e),jo=0,[]}o(JGe,"alloc");function eqe(e){return Wf="",e}o(eqe,"dealloc");function t8(e){return Dj(Px(jo-1,r8(e===91?e+2:e===40?e+1:e)))}o(t8,"delimit");function tqe(e){for(;(qi=Vu())&&qi<33;)Yo();return Vf(e)>2||Vf(qi)>3?"":" "}o(tqe,"whitespace");function rqe(e,t){for(;--t&&Yo()&&!(qi<48||qi>102||qi>57&&qi<65||qi>70&&qi<97););return Px(e,Ox()+(t<6&&Vu()==32&&Yo()==32))}o(rqe,"escaping");function r8(e){for(;Yo();)switch(qi){case e:return jo;case 34:case 39:e!==34&&e!==39&&r8(qi);break;case 40:e===41&&r8(e);break;case 92:Yo();break}return jo}o(r8,"delimiter");function nqe(e,t){for(;Yo()&&e+qi!==57&&!(e+qi===84&&Vu()===47););return"/*"+Px(t,jo-1)+"*"+Mj(e===47?e:Yo())}o(nqe,"commenter");function iqe(e){for(;!Vf(Vu());)Yo();return Px(e,jo)}o(iqe,"identifier");function aqe(e){return eqe(Bx("",null,null,null,[""],e=JGe(e),0,[0],e))}o(aqe,"compile");function Bx(e,t,r,n,i,a,s,l,u){for(var h=0,d=0,p=s,f=0,g=0,m=0,y=1,b=1,v=1,x=0,k="",w=i,_=a,S=n,C=k;b;)switch(m=x,x=Yo()){case 40:if(m!=108&&Uf(C,p-1)==58){VGe(C+=Dx(t8(x),"&","&\f"),"&\f",WGe(h?l[h-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:C+=t8(x);break;case 9:case 10:case 13:case 32:C+=tqe(m);break;case 92:C+=rqe(Ox()-1,7);continue;case 47:switch(Vu()){case 42:case 47:Rx(sqe(nqe(Yo(),Ox()),t,r,u),u),(Vf(m||1)==5||Vf(Vu()||1)==5)&&$l(C)&&Dp(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*y:l[h++]=$l(C)*v;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+d:v==-1&&(C=Dx(C,/\f/g,"")),g>0&&($l(C)-p||y===0&&m===47)&&Rx(g>32?Oj(C+";",n,r,p-1,u):Oj(Dx(C," ","")+";",n,r,p-2,u),u);break;case 59:C+=";";default:if(Rx(S=Rj(C,t,r,h,d,i,l,k,w=[],_=[],p,a),a),x===123)if(d===0)Bx(C,t,S,S,w,a,p,l,_);else switch(f===99&&Uf(C,3)===110?100:f){case 100:case 108:case 109:case 115:Bx(e,S,S,n&&Rx(Rj(e,S,S,0,0,i,l,k,i,w=[],p,_),_),i,_,p,l,n?w:_);break;default:Bx(C,S,S,S,[""],_,0,l,_)}}h=d=g=0,y=v=1,k=C="",p=s;break;case 58:p=1+$l(C),g=m;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&QGe()==125)continue}switch(C+=Mj(x),x*y){case 38:v=d>0?1:(C+="\f",-1);break;case 44:l[h++]=($l(C)-1)*v,v=1;break;case 64:Vu()===45&&(C+=t8(Yo())),f=Vu(),d=p=$l(k=C+=iqe(Ox())),x++;break;case 45:m===45&&$l(C)==2&&(y=0)}}return a}o(Bx,"parse");function Rj(e,t,r,n,i,a,s,l,u,h,d,p){for(var f=i-1,g=i===0?a:[""],m=XGe(g),y=0,b=0,v=0;y<n;++y)for(var x=0,k=Dp(e,f+1,f=WGe(b=s[y])),w=e;x<m;++x)(w=Dj(b>0?g[x]+" "+k:Dx(k,/&\f/g,g[x])))&&(u[v++]=w);return e8(e,t,r,i===0?UGe:l,u,h,d,p)}o(Rj,"ruleset");function sqe(e,t,r,n){return e8(e,t,r,YGe,Mj(ZGe()),Dp(e,2,-2),0,n)}o(sqe,"comment");function Oj(e,t,r,n,i){return e8(e,t,r,HGe,Dp(e,0,n),Dp(e,n+1,-1),n,i)}o(Oj,"declaration");function n8(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}o(n8,"serialize");function oqe(e,t,r,n){switch(e.type){case Tnt:if(e.children.length)break;case knt:case HGe:return e.return=e.return||e.value;case YGe:return"";case wnt:return e.return=e.value+"{"+n8(e.children,n)+"}";case UGe:if(!$l(e.value=e.props.join(",")))return""}return $l(r=n8(e.children,n))?e.return=e.value+"{"+r+"}":""}o(oqe,"stringify"),hU(),QI(),OEe();var Ent="graphics-document document";function lqe(e,t){e.attr("role",Ent),t!==""&&e.attr("aria-roledescription",t)}o(lqe,"setA11yDiagramInfo");function cqe(e,t,r,n){if(e.insert!==void 0){if(r){let i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){let i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}o(cqe,"addSVGa11yTitleDescription"),Mc(),xs(),xs(),tr(),Zo(),$r(),Dr();var Pj=class Pqe{constructor(t,r,n,i,a){this.type=t,this.text=r,this.db=n,this.parser=i,this.renderer=a}static{o(this,"Diagram")}static async fromText(t,r={}){let n=Yn(),i=gn(t,n);t=ise(t)+`
`;try{U4(i)}catch{let h=zs(i);if(!h)throw new yr(`Diagram ${i} not found.`);let{id:d,diagram:p}=await h();Gm(d,p)}let{db:a,parser:s,renderer:l,init:u}=U4(i);return s.parser&&(s.parser.yy=a),a.clear?.(),u?.(n),r.title&&a.setDiagramTitle?.(r.title),await s.parse(t),new Pqe(i,t,a,s,l)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}};Pr();var uqe=[],_nt=o(()=>{uqe.forEach(e=>{e()}),uqe=[]},"attachFunctions");Ye();var Cnt=o(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");kt(),vN();function hqe(e){let t=e.match(ze);if(!t)return{text:e,metadata:{}};let r=lk(t[1],{schema:ok})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};let n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}o(hqe,"extractFrontMatter"),Dr();var Snt=o(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Ant=o(e=>{let{text:t,metadata:r}=hqe(e),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:t}},"processFrontmatter"),Lnt=o(e=>{let t=Ar.detectInit(e)??{},r=Ar.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:Vae(e),directive:t}},"processDirectives");function Bj(e){let t=Snt(e),r=Ant(t),n=Lnt(r.text),i=Zc(r.config,n.directive);return e=Cnt(n.text),{code:e,title:r.title,config:i}}o(Bj,"preprocessDiagram"),AW(),b8(),Dr();function dqe(e){let t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}o(dqe,"toBase64");var Nnt=5e4,Int="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Mnt="sandbox",Dnt="loose",Rnt="http://www.w3.org/2000/svg",Ont="http://www.w3.org/1999/xlink",Pnt="http://www.w3.org/1999/xhtml",Bnt="100%",$nt="100%",Fnt="border:0;margin:0;",znt="margin:0",Gnt="allow-top-navigation-by-user-activation allow-popups",qnt='The "iframe" tag is not supported by your browser.',jnt=["foreignobject"],Ynt=["dominant-baseline"];function $j(e){let t=Bj(e);return pm(),jY(t.config??{}),t}o($j,"processAndSetConfigs");async function pqe(e,t){QE();try{let{code:r,config:n}=$j(e);return{diagramType:(await yqe(r)).type,config:n}}catch(r){if(t?.suppressErrors)return!1;throw r}}o(pqe,"parse");var gqe=o((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),Unt=o((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let n=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(i=>{un(i.styles)||n.forEach(a=>{r+=gqe(i.id,a,i.styles)}),un(i.textStyles)||(r+=gqe(i.id,"tspan",(i?.textStyles||[]).map(a=>a.replace("color","fill"))))})}return r},"createCssStyles"),Hnt=o((e,t,r,n)=>{let i=Unt(e,r),a=SW(t,i,e.themeVariables);return n8(aqe(`${n}{${a}}`),oqe)},"createUserStyles"),Wnt=o((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=ic(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),Vnt=o((e="",t)=>{let r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":$nt,n=dqe(`<body style="${znt}">${e}</body>`);return`<iframe style="width:${Bnt};height:${r};${Fnt}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${Gnt}">
  ${qnt}
</iframe>`},"putIntoIFrame"),fqe=o((e,t,r,n,i)=>{let a=e.append("div");a.attr("id",r),n&&a.attr("style",n);let s=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",Rnt);return i&&s.attr("xmlns:xlink",i),s.append("g"),e},"appendDivSvgG");function Fj(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}o(Fj,"sandboxedIframe");var Xnt=o((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),Knt=o(async function(e,t,r){QE();let n=$j(t);t=n.code;let i=Yn();X.debug(i),t.length>(i?.maxTextSize??Nnt)&&(t=Int);let a="#"+e,s="i"+e,l="#"+s,u="d"+e,h="#"+u,d=o(()=>{let L=nt(f?l:h).node();L&&"remove"in L&&L.remove()},"removeTempElements"),p=nt("body"),f=i.securityLevel===Mnt,g=i.securityLevel===Dnt,m=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){let L=Fj(nt(r),s);p=nt(L.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=nt(r);fqe(p,e,u,`font-family: ${m}`,Ont)}else{if(Xnt(document,e,u,s),f){let L=Fj(nt("body"),s);p=nt(L.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=nt("body");fqe(p,e,u)}let y,b;try{y=await Pj.fromText(t,{title:n.title})}catch(L){if(i.suppressErrorRendering)throw d(),L;y=await Pj.fromText("error"),b=L}let v=p.select(h).node(),x=y.type,k=v.firstChild,w=k.firstChild,_=y.renderer.getClasses?.(t,y),S=Hnt(i,x,_,a),C=document.createElement("style");C.innerHTML=S,k.insertBefore(C,w);try{await y.renderer.draw(t,e,q7,y)}catch(L){throw i.suppressErrorRendering?d():zrt.draw(t,e,q7),L}let T=p.select(`${h} svg`),N=y.db.getAccTitle?.(),D=y.db.getAccDescription?.();vqe(x,T,N,D),p.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Pnt);let M=p.select(h).node().innerHTML;if(X.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),M=Wnt(M,f,Nn(i.arrowMarkerAbsolute)),f){let L=p.select(h+" svg").node();M=Vnt(M,L)}else g||(M=Pd.sanitize(M,{ADD_TAGS:jnt,ADD_ATTR:Ynt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(_nt(),b)throw b;return d(),{diagramType:x,svg:M,bindFunctions:y.db.bindFunctions}},"render");function mqe(e={}){let t=pi({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),GY(t),t?.theme&&t.theme in Gl?t.themeVariables=Gl[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Gl.default.getThemeVariables(t.themeVariables));let r=typeof t=="object"?zY(t):w8();vt(r.logLevel),QE()}o(mqe,"initialize");var yqe=o((e,t={})=>{let{code:r}=Bj(e);return Pj.fromText(r,t)},"getDiagramFromText");function vqe(e,t,r,n){lqe(t,e),cqe(t,r,n,t.attr("id"))}o(vqe,"addA11yInfo");var Rp=Object.freeze({render:Knt,parse:pqe,getDiagramFromText:yqe,initialize:mqe,getConfig:Yn,setConfig:T8,getSiteConfig:w8,updateSiteConfig:qY,reset:o(()=>{pm()},"reset"),globalReset:o(()=>{pm(Rd)},"globalReset"),defaultConfig:Rd});vt(Yn().logLevel),pm(Yn()),iw(),Dr();var Znt=o((e,t,r)=>{X.warn(e),I9(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),bqe=o(async function(e={querySelector:".mermaid"}){try{await Qnt(e)}catch(t){if(I9(t)&&X.error(t.str),Xu.parseError&&Xu.parseError(t),!e.suppressErrors)throw X.error("Use the suppressErrors option to suppress these errors"),t}},"run"),Qnt=o(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){let n=Rp.getConfig();X.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");X.debug(`Found ${i.length} diagrams`),n?.startOnLoad!==void 0&&(X.debug("Start On Load: "+n?.startOnLoad),Rp.updateSiteConfig({startOnLoad:n?.startOnLoad}));let a=new Ar.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed),s,l=[];for(let u of Array.from(i)){if(X.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");let h=`mermaid-${a.next()}`;s=u.innerHTML,s=Ae(Ar.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");let d=Ar.detectInit(s);d&&X.debug("Detected early reinit: ",d);try{let{svg:p,bindFunctions:f}=await Tqe(h,s,u);u.innerHTML=p,e&&await e(h),f&&f(u)}catch(p){Znt(p,l,Xu.parseError)}}if(l.length>0)throw l[0]},"runThrowsErrors"),xqe=o(function(e){Rp.initialize(e)},"initialize"),Jnt=o(async function(e,t,r){X.warn("mermaid.init is deprecated. Please use run instead."),e&&xqe(e);let n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await bqe(n)},"init"),eit=o(async(e,{lazyLoad:t=!0}={})=>{QE(),ji(...e),t===!1&&await xnt()},"registerExternalDiagrams"),kqe=o(function(){if(Xu.startOnLoad){let{startOnLoad:e}=Rp.getConfig();e&&Xu.run().catch(t=>X.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",kqe,!1);var tit=o(function(e){Xu.parseError=e},"setParseErrorHandler"),i8=[],zj=!1,wqe=o(async()=>{if(!zj){for(zj=!0;i8.length>0;){let e=i8.shift();if(e)try{await e()}catch(t){X.error("Error executing queue",t)}}zj=!1}},"executeQueue"),rit=o(async(e,t)=>new Promise((r,n)=>{let i=o(()=>new Promise((a,s)=>{Rp.parse(e,t).then(l=>{a(l),r(l)},l=>{X.error("Error parsing",l),Xu.parseError?.(l),s(l),n(l)})}),"performCall");i8.push(i),wqe().catch(n)}),"parse"),Tqe=o((e,t,r)=>new Promise((n,i)=>{let a=o(()=>new Promise((s,l)=>{Rp.render(e,t,r).then(u=>{s(u),n(u)},u=>{X.error("Error parsing",u),Xu.parseError?.(u),l(u),i(u)})}),"performCall");i8.push(a),wqe().catch(i)}),"render"),Xu={startOnLoad:!0,mermaidAPI:Rp,parse:rit,render:Tqe,init:Jnt,run:bqe,registerExternalDiagrams:eit,registerLayoutLoaders:VM,initialize:xqe,parseError:void 0,contentLoaded:kqe,setParseErrorHandler:tit,detectType:gn,registerIconPacks:dr},nit=Xu;return Nr(mGe)})();/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 *//*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.1/LICENSE *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

cytoscape/dist/cytoscape.esm.mjs:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
  Event object based on jQuery events, MIT license
  
  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
*/globalThis.mermaid=globalThis.__esbuild_esm_mermaid.default;/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(St,Sr){typeof exports=="object"&&typeof module=="object"?module.exports=Sr():typeof define=="function"&&define.amd?define([],Sr):typeof exports=="object"?exports.ClipboardJS=Sr():St.ClipboardJS=Sr()})(this,function(){return Sr={686:function(lr,Mt,ht){"use strict";ht.d(Mt,{default:function(){return Ut}});var Mt=ht(279),o=ht.n(Mt),Mt=ht(370),I=ht.n(Mt),Mt=ht(817),Nt=ht.n(Mt);function Hr(Ot){try{return document.execCommand(Ot)}catch{return}}var ri=function(Ot){return Ot=Nt()(Ot),Hr("cut"),Ot};function xr(on,qt){var er,Ur,on=(er=on,Ur=document.documentElement.getAttribute("dir")==="rtl",(on=document.createElement("textarea")).style.fontSize="12pt",on.style.border="0",on.style.padding="0",on.style.margin="0",on.style.position="absolute",on.style[Ur?"right":"left"]="-9999px",Ur=window.pageYOffset||document.documentElement.scrollTop,on.style.top="".concat(Ur,"px"),on.setAttribute("readonly",""),on.value=er,on);return qt.container.appendChild(on),qt=Nt()(on),Hr("copy"),on.remove(),qt}var Nr=function(Ot){var qt=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{container:document.body},er="";return typeof Ot=="string"?er=xr(Ot,qt):Ot instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(Ot?.type)?er=xr(Ot.value,qt):(er=Nt()(Ot),Hr("copy")),er};function Xr(Ot){return(Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(qt){return typeof qt}:function(qt){return qt&&typeof Symbol=="function"&&qt.constructor===Symbol&&qt!==Symbol.prototype?"symbol":typeof qt})(Ot)}var Je=function(){var Ur=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},er=Ur.action,Ot=er===void 0?"copy":er,qt=Ur.container,er=Ur.target,Ur=Ur.text;if(Ot!=="copy"&&Ot!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(er!==void 0){if(!er||Xr(er)!=="object"||er.nodeType!==1)throw new Error('Invalid "target" value, use a valid Element');if(Ot==="copy"&&er.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(Ot==="cut"&&(er.hasAttribute("readonly")||er.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}return Ur?Nr(Ur,{container:qt}):er?Ot==="cut"?ri(er):Nr(er,{container:qt}):void 0};function Ve(Ot){return(Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(qt){return typeof qt}:function(qt){return qt&&typeof Symbol=="function"&&qt.constructor===Symbol&&qt!==Symbol.prototype?"symbol":typeof qt})(Ot)}function X(Ot,qt){for(var er=0;er<qt.length;er++){var Ur=qt[er];Ur.enumerable=Ur.enumerable||!1,Ur.configurable=!0,"value"in Ur&&(Ur.writable=!0),Object.defineProperty(Ot,Ur.key,Ur)}}function vt(Ot,qt){return(vt=Object.setPrototypeOf||function(er,Ur){return er.__proto__=Ur,er})(Ot,qt)}function mt(Ot){var qt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var er,Ur=Ye(Ot);return er=qt?(er=Ye(this).constructor,Reflect.construct(Ur,arguments,er)):Ur.apply(this,arguments),Ur=this,!(er=er)||Ve(er)!=="object"&&typeof er!="function"?function(on){if(on!==void 0)return on;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(Ur):er}}function Ye(Ot){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(qt){return qt.__proto__||Object.getPrototypeOf(qt)})(Ot)}function Mr(Ot,qt){if(Ot="data-clipboard-".concat(Ot),qt.hasAttribute(Ot))return qt.getAttribute(Ot)}var Ut=function(){(function(Br,ln){if(typeof ln!="function"&&ln!==null)throw new TypeError("Super expression must either be null or a function");Br.prototype=Object.create(ln&&ln.prototype,{constructor:{value:Br,writable:!0,configurable:!0}}),ln&&vt(Br,ln)})(on,o());var Ot,qt,er,Ur=mt(on);function on(Br,ln){var Ji;return function(pn){if(!(pn instanceof on))throw new TypeError("Cannot call a class as a function")}(this),(Ji=Ur.call(this)).resolveOptions(ln),Ji.listenClick(Br),Ji}return Ot=on,er=[{key:"copy",value:function(Br){var ln=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{container:document.body};return Nr(Br,ln)}},{key:"cut",value:function(Br){return ri(Br)}},{key:"isSupported",value:function(){var Br=0<arguments.length&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Br=typeof Br=="string"?[Br]:Br,ln=!!document.queryCommandSupported;return Br.forEach(function(Ji){ln=ln&&!!document.queryCommandSupported(Ji)}),ln}}],(qt=[{key:"resolveOptions",value:function(){var Br=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof Br.action=="function"?Br.action:this.defaultAction,this.target=typeof Br.target=="function"?Br.target:this.defaultTarget,this.text=typeof Br.text=="function"?Br.text:this.defaultText,this.container=Ve(Br.container)==="object"?Br.container:document.body}},{key:"listenClick",value:function(Br){var ln=this;this.listener=I()(Br,"click",function(Ji){return ln.onClick(Ji)})}},{key:"onClick",value:function(pn){var ln=pn.delegateTarget||pn.currentTarget,Ji=this.action(ln)||"copy",pn=Je({action:Ji,container:this.container,target:this.target(ln),text:this.text(ln)});this.emit(pn?"success":"error",{action:Ji,text:pn,trigger:ln,clearSelection:function(){ln&&ln.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(Br){return Mr("action",Br)}},{key:"defaultTarget",value:function(Br){if(Br=Mr("target",Br),Br)return document.querySelector(Br)}},{key:"defaultText",value:function(Br){return Mr("text",Br)}},{key:"destroy",value:function(){this.listener.destroy()}}])&&X(Ot.prototype,qt),er&&X(Ot,er),on}()},828:function(lr){var Ue;typeof Element>"u"||Element.prototype.matches||((Ue=Element.prototype).matches=Ue.matchesSelector||Ue.mozMatchesSelector||Ue.msMatchesSelector||Ue.oMatchesSelector||Ue.webkitMatchesSelector),lr.exports=function(ht,o){for(;ht&&ht.nodeType!==9;){if(typeof ht.matches=="function"&&ht.matches(o))return ht;ht=ht.parentNode}}},438:function(lr,Ue,ht){var o=ht(828);function I(Mt,Nt,Hr,ri,xr){var Nr=function(Xr,Je,Ve,X){return function(vt){vt.delegateTarget=o(vt.target,Je),vt.delegateTarget&&X.call(Xr,vt)}}.apply(this,arguments);return Mt.addEventListener(Hr,Nr,xr),{destroy:function(){Mt.removeEventListener(Hr,Nr,xr)}}}lr.exports=function(Mt,Nt,Hr,ri,xr){return typeof Mt.addEventListener=="function"?I.apply(null,arguments):typeof Hr=="function"?I.bind(null,document).apply(null,arguments):(typeof Mt=="string"&&(Mt=document.querySelectorAll(Mt)),Array.prototype.map.call(Mt,function(Nr){return I(Nr,Nt,Hr,ri,xr)}))}},879:function(lr,Ue){Ue.node=function(ht){return ht!==void 0&&ht instanceof HTMLElement&&ht.nodeType===1},Ue.nodeList=function(ht){var o=Object.prototype.toString.call(ht);return ht!==void 0&&(o==="[object NodeList]"||o==="[object HTMLCollection]")&&"length"in ht&&(ht.length===0||Ue.node(ht[0]))},Ue.string=function(ht){return typeof ht=="string"||ht instanceof String},Ue.fn=function(ht){return Object.prototype.toString.call(ht)==="[object Function]"}},370:function(lr,Ue,ht){var o=ht(879),I=ht(438);lr.exports=function(Mt,Nt,Hr){if(!Mt&&!Nt&&!Hr)throw new Error("Missing required arguments");if(!o.string(Nt))throw new TypeError("Second argument must be a String");if(!o.fn(Hr))throw new TypeError("Third argument must be a Function");if(o.node(Mt))return Je=Nt,Ve=Hr,(Xr=Mt).addEventListener(Je,Ve),{destroy:function(){Xr.removeEventListener(Je,Ve)}};if(o.nodeList(Mt))return ri=Mt,xr=Nt,Nr=Hr,Array.prototype.forEach.call(ri,function(X){X.addEventListener(xr,Nr)}),{destroy:function(){Array.prototype.forEach.call(ri,function(X){X.removeEventListener(xr,Nr)})}};if(o.string(Mt))return Mt=Mt,Nt=Nt,Hr=Hr,I(document.body,Mt,Nt,Hr);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var ri,xr,Nr,Xr,Je,Ve}},817:function(lr){lr.exports=function(Ue){var ht,o=Ue.nodeName==="SELECT"?(Ue.focus(),Ue.value):Ue.nodeName==="INPUT"||Ue.nodeName==="TEXTAREA"?((ht=Ue.hasAttribute("readonly"))||Ue.setAttribute("readonly",""),Ue.select(),Ue.setSelectionRange(0,Ue.value.length),ht||Ue.removeAttribute("readonly"),Ue.value):(Ue.hasAttribute("contenteditable")&&Ue.focus(),o=window.getSelection(),(ht=document.createRange()).selectNodeContents(Ue),o.removeAllRanges(),o.addRange(ht),o.toString());return o}},279:function(lr){function Ue(){}Ue.prototype={on:function(ht,o,I){var Mt=this.e||(this.e={});return(Mt[ht]||(Mt[ht]=[])).push({fn:o,ctx:I}),this},once:function(ht,o,I){var Mt=this;function Nt(){Mt.off(ht,Nt),o.apply(I,arguments)}return Nt._=o,this.on(ht,Nt,I)},emit:function(ht){for(var o=[].slice.call(arguments,1),I=((this.e||(this.e={}))[ht]||[]).slice(),Mt=0,Nt=I.length;Mt<Nt;Mt++)I[Mt].fn.apply(I[Mt].ctx,o);return this},off:function(ht,o){var I=this.e||(this.e={}),Mt=I[ht],Nt=[];if(Mt&&o)for(var Hr=0,ri=Mt.length;Hr<ri;Hr++)Mt[Hr].fn!==o&&Mt[Hr].fn._!==o&&Nt.push(Mt[Hr]);return Nt.length?I[ht]=Nt:delete I[ht],this}},lr.exports=Ue,lr.exports.TinyEmitter=Ue}},xn={},St.n=function(lr){var Ue=lr&&lr.__esModule?function(){return lr.default}:function(){return lr};return St.d(Ue,{a:Ue}),Ue},St.d=function(lr,Ue){for(var ht in Ue)St.o(Ue,ht)&&!St.o(lr,ht)&&Object.defineProperty(lr,ht,{enumerable:!0,get:Ue[ht]})},St.o=function(lr,Ue){return Object.prototype.hasOwnProperty.call(lr,Ue)},St(686).default;function St(lr){if(xn[lr])return xn[lr].exports;var Ue=xn[lr]={exports:{}};return Sr[lr](Ue,Ue.exports,St),Ue.exports}var Sr,xn});var _self=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var Prism=function(St){var Sr=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,xn=0,lr={},Ue={manual:St.Prism&&St.Prism.manual,disableWorkerMessageHandler:St.Prism&&St.Prism.disableWorkerMessageHandler,util:{encode:function Je(Ve){return Ve instanceof ht?new ht(Ve.type,Je(Ve.content),Ve.alias):Array.isArray(Ve)?Ve.map(Je):Ve.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Je){return Object.prototype.toString.call(Je).slice(8,-1)},objId:function(Je){return Je.__id||Object.defineProperty(Je,"__id",{value:++xn}),Je.__id},clone:function Je(Ve,X){X=X||{};var vt,mt;switch(Ue.util.type(Ve)){case"Object":if(mt=Ue.util.objId(Ve),X[mt])return X[mt];vt={},X[mt]=vt;for(var Ye in Ve)Ve.hasOwnProperty(Ye)&&(vt[Ye]=Je(Ve[Ye],X));return vt;case"Array":return mt=Ue.util.objId(Ve),X[mt]?X[mt]:(vt=[],X[mt]=vt,Ve.forEach(function(Mr,Ut){vt[Ut]=Je(Mr,X)}),vt);default:return Ve}},getLanguage:function(Je){for(;Je;){var Ve=Sr.exec(Je.className);if(Ve)return Ve[1].toLowerCase();Je=Je.parentElement}return"none"},setLanguage:function(Je,Ve){Je.className=Je.className.replace(RegExp(Sr,"gi"),""),Je.classList.add("language-"+Ve)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(vt){var Je=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(vt.stack)||[])[1];if(Je){var Ve=document.getElementsByTagName("script");for(var X in Ve)if(Ve[X].src==Je)return Ve[X]}return null}},isActive:function(Je,Ve,X){for(var vt="no-"+Ve;Je;){var mt=Je.classList;if(mt.contains(Ve))return!0;if(mt.contains(vt))return!1;Je=Je.parentElement}return!!X}},languages:{plain:lr,plaintext:lr,text:lr,txt:lr,extend:function(Je,Ve){var X=Ue.util.clone(Ue.languages[Je]);for(var vt in Ve)X[vt]=Ve[vt];return X},insertBefore:function(Je,Ve,X,vt){vt=vt||Ue.languages;var mt=vt[Je],Ye={};for(var Mr in mt)if(mt.hasOwnProperty(Mr)){if(Mr==Ve)for(var Ut in X)X.hasOwnProperty(Ut)&&(Ye[Ut]=X[Ut]);X.hasOwnProperty(Mr)||(Ye[Mr]=mt[Mr])}var Ot=vt[Je];return vt[Je]=Ye,Ue.languages.DFS(Ue.languages,function(qt,er){er===Ot&&qt!=Je&&(this[qt]=Ye)}),Ye},DFS:function Je(Ve,X,vt,mt){mt=mt||{};var Ye=Ue.util.objId;for(var Mr in Ve)if(Ve.hasOwnProperty(Mr)){X.call(Ve,Mr,Ve[Mr],vt||Mr);var Ut=Ve[Mr],Ot=Ue.util.type(Ut);Ot==="Object"&&!mt[Ye(Ut)]?(mt[Ye(Ut)]=!0,Je(Ut,X,null,mt)):Ot==="Array"&&!mt[Ye(Ut)]&&(mt[Ye(Ut)]=!0,Je(Ut,X,Mr,mt))}}},plugins:{},highlightAll:function(Je,Ve){Ue.highlightAllUnder(document,Je,Ve)},highlightAllUnder:function(Je,Ve,X){var vt={callback:X,container:Je,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Ue.hooks.run("before-highlightall",vt),vt.elements=Array.prototype.slice.apply(vt.container.querySelectorAll(vt.selector)),Ue.hooks.run("before-all-elements-highlight",vt);for(var mt=0,Ye;Ye=vt.elements[mt++];)Ue.highlightElement(Ye,Ve===!0,vt.callback)},highlightElement:function(Je,Ve,X){var vt=Ue.util.getLanguage(Je),mt=Ue.languages[vt];Ue.util.setLanguage(Je,vt);var Ye=Je.parentElement;Ye&&Ye.nodeName.toLowerCase()==="pre"&&Ue.util.setLanguage(Ye,vt);var Mr=Je.textContent,Ut={element:Je,language:vt,grammar:mt,code:Mr};function Ot(er){Ut.highlightedCode=er,Ue.hooks.run("before-insert",Ut),Ut.element.innerHTML=Ut.highlightedCode,Ue.hooks.run("after-highlight",Ut),Ue.hooks.run("complete",Ut),X&&X.call(Ut.element)}if(Ue.hooks.run("before-sanity-check",Ut),Ye=Ut.element.parentElement,Ye&&Ye.nodeName.toLowerCase()==="pre"&&!Ye.hasAttribute("tabindex")&&Ye.setAttribute("tabindex","0"),!Ut.code){Ue.hooks.run("complete",Ut),X&&X.call(Ut.element);return}if(Ue.hooks.run("before-highlight",Ut),!Ut.grammar){Ot(Ue.util.encode(Ut.code));return}if(Ve&&St.Worker){var qt=new Worker(Ue.filename);qt.onmessage=function(er){Ot(er.data)},qt.postMessage(JSON.stringify({language:Ut.language,code:Ut.code,immediateClose:!0}))}else Ot(Ue.highlight(Ut.code,Ut.grammar,Ut.language))},highlight:function(Je,Ve,X){var vt={code:Je,grammar:Ve,language:X};if(Ue.hooks.run("before-tokenize",vt),!vt.grammar)throw new Error('The language "'+vt.language+'" has no grammar.');return vt.tokens=Ue.tokenize(vt.code,vt.grammar),Ue.hooks.run("after-tokenize",vt),ht.stringify(Ue.util.encode(vt.tokens),vt.language)},tokenize:function(Je,Ve){var X=Ve.rest;if(X){for(var vt in X)Ve[vt]=X[vt];delete Ve.rest}var mt=new Mt;return Nt(mt,mt.head,Je),I(Je,mt,Ve,mt.head,0),ri(mt)},hooks:{all:{},add:function(Je,Ve){var X=Ue.hooks.all;X[Je]=X[Je]||[],X[Je].push(Ve)},run:function(Je,Ve){var X=Ue.hooks.all[Je];if(!(!X||!X.length))for(var vt=0,mt;mt=X[vt++];)mt(Ve)}},Token:ht};St.Prism=Ue;function ht(Je,Ve,X,vt){this.type=Je,this.content=Ve,this.alias=X,this.length=(vt||"").length|0}ht.stringify=function Je(Ve,X){if(typeof Ve=="string")return Ve;if(Array.isArray(Ve)){var vt="";return Ve.forEach(function(Ot){vt+=Je(Ot,X)}),vt}var mt={type:Ve.type,content:Je(Ve.content,X),tag:"span",classes:["token",Ve.type],attributes:{},language:X},Ye=Ve.alias;Ye&&(Array.isArray(Ye)?Array.prototype.push.apply(mt.classes,Ye):mt.classes.push(Ye)),Ue.hooks.run("wrap",mt);var Mr="";for(var Ut in mt.attributes)Mr+=" "+Ut+'="'+(mt.attributes[Ut]||"").replace(/"/g,"&quot;")+'"';return"<"+mt.tag+' class="'+mt.classes.join(" ")+'"'+Mr+">"+mt.content+"</"+mt.tag+">"};function o(Je,Ve,X,vt){Je.lastIndex=Ve;var mt=Je.exec(X);if(mt&&vt&&mt[1]){var Ye=mt[1].length;mt.index+=Ye,mt[0]=mt[0].slice(Ye)}return mt}function I(Je,Ve,X,vt,mt,Ye){for(var Mr in X)if(!(!X.hasOwnProperty(Mr)||!X[Mr])){var Ut=X[Mr];Ut=Array.isArray(Ut)?Ut:[Ut];for(var Ot=0;Ot<Ut.length;++Ot){if(Ye&&Ye.cause==Mr+","+Ot)return;var qt=Ut[Ot],er=qt.inside,Ur=!!qt.lookbehind,on=!!qt.greedy,Br=qt.alias;if(on&&!qt.pattern.global){var ln=qt.pattern.toString().match(/[imsuy]*$/)[0];qt.pattern=RegExp(qt.pattern.source,ln+"g")}for(var Ji=qt.pattern||qt,pn=vt.next,vs=mt;pn!==Ve.tail&&!(Ye&&vs>=Ye.reach);vs+=pn.value.length,pn=pn.next){var Ho=pn.value;if(Ve.length>Je.length)return;if(!(Ho instanceof ht)){var Wo=1,fa;if(on){if(fa=o(Ji,vs,Je,Ur),!fa||fa.index>=Je.length)break;var Fl=fa.index,$p=fa.index+fa[0].length,bs=vs;for(bs+=pn.value.length;Fl>=bs;)pn=pn.next,bs+=pn.value.length;if(bs-=pn.value.length,vs=bs,pn.value instanceof ht)continue;for(var Vo=pn;Vo!==Ve.tail&&(bs<$p||typeof Vo.value=="string");Vo=Vo.next)Wo++,bs+=Vo.value.length;Wo--,Ho=Je.slice(vs,bs),fa.index-=vs}else if(fa=o(Ji,0,Ho,Ur),!fa)continue;var Fl=fa.index,Xo=fa[0],Nd=Ho.slice(0,Fl),Ko=Ho.slice(Fl+Xo.length),fo=vs+Ho.length;Ye&&fo>Ye.reach&&(Ye.reach=fo);var Nc=pn.prev;Nd&&(Nc=Nt(Ve,Nc,Nd),vs+=Nd.length),Hr(Ve,Nc,Wo);var Fp=new ht(Mr,er?Ue.tokenize(Xo,er):Xo,Br,Xo);if(pn=Nt(Ve,Nc,Fp),Ko&&Nt(Ve,pn,Ko),Wo>1){var ma={cause:Mr+","+Ot,reach:fo};I(Je,Ve,X,pn.prev,vs,ma),Ye&&ma.reach>Ye.reach&&(Ye.reach=ma.reach)}}}}}}function Mt(){var Je={value:null,prev:null,next:null},Ve={value:null,prev:Je,next:null};Je.next=Ve,this.head=Je,this.tail=Ve,this.length=0}function Nt(Je,Ve,X){var vt=Ve.next,mt={value:X,prev:Ve,next:vt};return Ve.next=mt,vt.prev=mt,Je.length++,mt}function Hr(Je,Ve,X){for(var vt=Ve.next,mt=0;mt<X&&vt!==Je.tail;mt++)vt=vt.next;Ve.next=vt,vt.prev=Ve,Je.length-=mt}function ri(Je){for(var Ve=[],X=Je.head.next;X!==Je.tail;)Ve.push(X.value),X=X.next;return Ve}if(!St.document)return St.addEventListener&&(Ue.disableWorkerMessageHandler||St.addEventListener("message",function(Je){var Ve=JSON.parse(Je.data),X=Ve.language,vt=Ve.code,mt=Ve.immediateClose;St.postMessage(Ue.highlight(vt,Ue.languages[X],X)),mt&&St.close()},!1)),Ue;var xr=Ue.util.currentScript();xr&&(Ue.filename=xr.src,xr.hasAttribute("data-manual")&&(Ue.manual=!0));function Nr(){Ue.manual||Ue.highlightAll()}if(!Ue.manual){var Xr=document.readyState;Xr==="loading"||Xr==="interactive"&&xr&&xr.defer?document.addEventListener("DOMContentLoaded",Nr):window.requestAnimationFrame?window.requestAnimationFrame(Nr):window.setTimeout(Nr,16)}return Ue}(_self);typeof module<"u"&&module.exports&&(module.exports=Prism),typeof global<"u"&&(global.Prism=Prism),Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(St){St.type==="entity"&&(St.attributes.title=St.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(Sr,xn){var lr={};lr["language-"+xn]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[xn]},lr.cdata=/^<!\[CDATA\[|\]\]>$/i;var Ue={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:lr}};Ue["language-"+xn]={pattern:/[\s\S]+/,inside:Prism.languages[xn]};var ht={};ht[Sr]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Sr}),"i"),lookbehind:!0,greedy:!0,inside:Ue},Prism.languages.insertBefore("markup","cdata",ht)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(St,Sr){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+St+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Sr,"language-"+Sr],inside:Prism.languages[Sr]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(St){var Sr=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;St.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Sr.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Sr.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Sr.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Sr.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Sr,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},St.languages.css.atrule.inside.rest=St.languages.css;var xn=St.languages.markup;xn&&(xn.tag.addInlined("style","css"),xn.tag.addAttribute("style","css"))}(Prism),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,function(){if(typeof Prism>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var St="Loading\u2026",Sr=function(xr,Nr){return"\u2716 Error "+xr+" while fetching file: "+Nr},xn="\u2716 Error: File does not exist or is empty",lr={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},Ue="data-src-status",ht="loading",o="loaded",I="failed",Mt="pre[data-src]:not(["+Ue+'="'+o+'"]):not(['+Ue+'="'+ht+'"])';function Nt(xr,Nr,Xr){var Je=new XMLHttpRequest;Je.open("GET",xr,!0),Je.onreadystatechange=function(){Je.readyState==4&&(Je.status<400&&Je.responseText?Nr(Je.responseText):Je.status>=400?Xr(Sr(Je.status,Je.statusText)):Xr(xn))},Je.send(null)}function Hr(xr){var Nr=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(xr||"");if(Nr){var Xr=Number(Nr[1]),Je=Nr[2],Ve=Nr[3];return Je?Ve?[Xr,Number(Ve)]:[Xr,void 0]:[Xr,Xr]}}Prism.hooks.add("before-highlightall",function(xr){xr.selector+=", "+Mt}),Prism.hooks.add("before-sanity-check",function(xr){var Nr=xr.element;if(Nr.matches(Mt)){xr.code="",Nr.setAttribute(Ue,ht);var Xr=Nr.appendChild(document.createElement("CODE"));Xr.textContent=St;var Je=Nr.getAttribute("data-src"),Ve=xr.language;if(Ve==="none"){var X=(/\.(\w+)$/.exec(Je)||[,"none"])[1];Ve=lr[X]||X}Prism.util.setLanguage(Xr,Ve),Prism.util.setLanguage(Nr,Ve);var vt=Prism.plugins.autoloader;vt&&vt.loadLanguages(Ve),Nt(Je,function(mt){Nr.setAttribute(Ue,o);var Ye=Hr(Nr.getAttribute("data-range"));if(Ye){var Mr=mt.split(/\r\n?|\n/g),Ut=Ye[0],Ot=Ye[1]==null?Mr.length:Ye[1];Ut<0&&(Ut+=Mr.length),Ut=Math.max(0,Math.min(Ut-1,Mr.length)),Ot<0&&(Ot+=Mr.length),Ot=Math.max(0,Math.min(Ot,Mr.length)),mt=Mr.slice(Ut,Ot).join(`
`),Nr.hasAttribute("data-start")||Nr.setAttribute("data-start",String(Ut+1))}Xr.textContent=mt,Prism.highlightElement(Xr)},function(mt){Nr.setAttribute(Ue,I),Xr.textContent=mt})}}),Prism.plugins.fileHighlight={highlight:function(Nr){for(var Xr=(Nr||document).querySelectorAll(Mt),Je=0,Ve;Ve=Xr[Je++];)Prism.highlightElement(Ve)}};var ri=!1;Prism.fileHighlight=function(){ri||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),ri=!0),Prism.plugins.fileHighlight.highlight.apply(this,arguments)}}(),function(St){var Sr="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",xn={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},lr={bash:xn,environment:{pattern:RegExp("\\$"+Sr),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+Sr),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};St.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+Sr),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:lr},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:xn}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:lr},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:lr.entity}}],environment:{pattern:RegExp("\\$?"+Sr),alias:"constant"},variable:lr.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},xn.inside=St.languages.bash;for(var Ue=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],ht=lr.variable[1].inside,o=0;o<Ue.length;o++)ht[Ue[o]]=St.languages.bash[Ue[o]];St.languages.sh=St.languages.bash,St.languages.shell=St.languages.bash}(Prism),function(St){var Sr=/[*&][^\s[\]{},]+/,xn=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,lr="(?:"+xn.source+"(?:[ 	]+"+Sr.source+")?|"+Sr.source+"(?:[ 	]+"+xn.source+")?)",Ue="(?:[^\\s\\x00-\\x08\\x0e-\\x1f!\"#%&'*,\\-:>?@[\\]`{|}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]|[?:-]<PLAIN>)(?:[ 	]*(?:(?![#:])<PLAIN>|:<PLAIN>))*".replace(/<PLAIN>/g,function(){return"[^\\s\\x00-\\x08\\x0e-\\x1f,[\\]{}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]"}),ht=`"(?:[^"\\\\\r
]|\\\\.)*"|'(?:[^'\\\\\r
]|\\\\.)*'`;function o(I,Mt){Mt=(Mt||"").replace(/m/g,"")+"m";var Nt=`([:\\-,[{]\\s*(?:\\s<<prop>>[ 	]+)?)(?:<<value>>)(?=[ 	]*(?:$|,|\\]|\\}|(?:[\r
]\\s*)?#))`.replace(/<<prop>>/g,function(){return lr}).replace(/<<value>>/g,function(){return I});return RegExp(Nt,Mt)}St.languages.yaml={scalar:{pattern:RegExp(`([\\-:]\\s*(?:\\s<<prop>>[ 	]+)?[|>])[ 	]*(?:((?:\r?
|\r)[ 	]+)\\S[^\r
]*(?:\\2[^\r
]+)*)`.replace(/<<prop>>/g,function(){return lr})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(`((?:^|[:\\-,[{\r
?])[ 	]*(?:<<prop>>[ 	]+)?)<<key>>(?=\\s*:\\s)`.replace(/<<prop>>/g,function(){return lr}).replace(/<<key>>/g,function(){return"(?:"+Ue+"|"+ht+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:o("\\d{4}-\\d\\d?-\\d\\d?(?:[tT]|[ 	]+)\\d\\d?:\\d{2}:\\d{2}(?:\\.\\d*)?(?:[ 	]*(?:Z|[-+]\\d\\d?(?::\\d{2})?))?|\\d{4}-\\d{2}-\\d{2}|\\d\\d?:\\d{2}(?::\\d{2}(?:\\.\\d*)?)?"),lookbehind:!0,alias:"number"},boolean:{pattern:o("false|true","i"),lookbehind:!0,alias:"important"},null:{pattern:o("null|~","i"),lookbehind:!0,alias:"important"},string:{pattern:o(ht),lookbehind:!0,greedy:!0},number:{pattern:o("[+-]?(?:0x[\\da-f]+|0o[0-7]+|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?|\\.inf|\\.nan)","i"),lookbehind:!0},tag:xn,important:Sr,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},St.languages.yml=St.languages.yaml}(Prism),Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},Prism.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/};
